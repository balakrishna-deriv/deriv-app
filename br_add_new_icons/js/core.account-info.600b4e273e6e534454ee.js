(self.webpackChunk=self.webpackChunk||[]).push([[2521],{24896:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>B});var n=a(40841),c=a.n(n),r=a(60216),i=a.n(r),o=a(32735),l=a(4390),s=a(77395),_=a(20374),u=a(17502),d=a(13799),m=a(78568),p=a(75672),g=a(37781),y=function(e){var t=e.currency;return e.is_virtual?o.createElement(_.Localize,{i18n_default_text:"Demo"}):t?(0,u.getCurrencyName)(t):o.createElement(_.Localize,{i18n_default_text:"No currency assigned"})},f=function(e){var t,a,n=e.has_error,r=e.market_type,i=e.sub_account_type,l=e.server,d=e.is_dark_mode_on,m=e.platform;return n?o.createElement("div",null,o.createElement(s.Text,{color:"disabled",size:"xs"},o.createElement(_.Localize,{i18n_default_text:"Unavailable"})),(null==l||null===(t=l.server_info)||void 0===t?void 0:t.geolocation)&&("gaming"===r||"synthetic"===r)&&o.createElement(s.Text,{color:"less-prominent",size:"xxs",className:"badge-server badge-server--disabled"},l.server_info.geolocation.region," ",1!==l.server_info.geolocation.sequence?l.server_info.geolocation.sequence:"")):o.createElement("div",null,(0,u.getCFDAccountDisplay)({market_type:r,sub_account_type:i,platform:m}),(null==l||null===(a=l.server_info)||void 0===a?void 0:a.geolocation)&&("gaming"===r||"synthetic"===r)&&o.createElement(s.Text,{color:d?"general":"colored-background",size:"xxs",className:c()("badge-server",{"badge-server-bot":(0,u.isBot)()})},l.server_info.geolocation.region," ",1!==l.server_info.geolocation.sequence?l.server_info.geolocation.sequence:""))};const b=function(e){var t=e.balance,a=e.currency,n=e.currency_icon,r=e.display_type,i=e.has_balance,l=e.has_error,d=e.has_reset_balance,m=e.is_disabled,p=e.is_virtual,g=e.loginid,b=e.market_type,h=e.onClickAccount,v=e.onClickResetVirtualBalance,w=e.selected_loginid,E=e.server,x=e.is_dark_mode_on,A=e.sub_account_type,k=e.platform,D=a?n:"IcCurrencyUnknown";return o.createElement(o.Fragment,null,o.createElement("div",{id:"dt_".concat(g),className:c()("acc-switcher__account",{"acc-switcher__account--selected":g===w,"acc-switcher__account--disabled":m}),onClick:m?void 0:h},o.createElement("span",{className:"acc-switcher__id"},o.createElement(s.Icon,{icon:p?"IcCurrencyVirtual":D,className:"acc-switcher__id-icon",size:24}),o.createElement("span",null,"currency"===r?o.createElement(y,{is_virtual:p,currency:a}):o.createElement(f,{market_type:b,sub_account_type:A,server:E,has_error:l,is_dark_mode_on:x,platform:k}),o.createElement("div",{className:c()("acc-switcher__loginid-text",{"acc-switcher__loginid-text--disabled":l})},g)),d?o.createElement(s.Button,{is_disabled:m,onClick:function(e){e.stopPropagation(),v()},className:"acc-switcher__reset-account-btn",secondary:!0,small:!0},(0,_.localize)("Reset balance")):i&&o.createElement(s.Text,{size:"xs",color:"prominent",styles:{fontWeight:"inherit"},className:"acc-switcher__balance"},a&&o.createElement(s.Money,{currency:(0,u.getCurrencyDisplayCode)(a),amount:(0,u.formatMoney)(a,t,!0),should_format:!1,show_currency:!0})))))};var h=function(e){var t=e.children,a=e.header,n=e.is_visible,c=e.toggleVisibility;return o.createElement(s.ContentExpander,{className:"acc-switcher",title:a,is_expanded:n,onToggle:c,is_title_spaced:!0},t)};h.propTypes={children:i().node,header:i().oneOfType([i().object,i().string]),is_visible:i().bool,toggleVisibility:i().func};const v=h;function w(e){return function(e){if(Array.isArray(e))return E(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return E(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var x=function(e,t){return w(e).sort((function(e,a){var n=t[e.loginid].currency,c=t[a.loginid].currency,r=(0,u.isCryptocurrency)(n),i=(0,u.isCryptocurrency)(c),o=!r,l=!i;return e.is_virtual||a.is_virtual?e.is_virtual?1:-1:r&&i||o&&l?n<c?-1:1:o&&i?-1:1}))},A=function(e){return w(e).sort((function(e,t){var a=k(e),n=k(t);return a&&!n?1:n&&!a||"gaming"===e.market_type||"synthetic"===e.market_type?-1:"financial"===e.sub_account_type?"gaming"===t.market_type||"synthetic"===t.market_type?1:-1:1}))},k=function(e){return"demo"===e.account_type},D=function(e,t,a,n,c){var r=[];return t&&Object.keys(t).forEach((function(t){var i=a.find((function(a){var n="synthetic"===a.market_type?"gaming":a.market_type;return(c===u.CFD_PLATFORMS.DXTRADE||a.sub_account_type===t)&&n===e}));i&&c===u.CFD_PLATFORMS.MT5&&(n.filter((function(t){var a="synthetic"===t.market_type?"gaming":t.market_type;return e===a&&!t.disabled})).length&&"real"===i.account_type&&(i=!1));if(!i){var o=(0,u.getCFDAccountKey)({market_type:e,sub_account_type:t,platform:c});o&&r.push({icon:(0,u.getCFDAccount)({market_type:e,sub_account_type:t,platform:c}),title:(0,u.getCFDAccountDisplay)({market_type:e,sub_account_type:t,platform:c}),type:o})}})),r};function T(e,t,a,n,c,r,i){try{var o=e[r](i),l=o.value}catch(e){return void a(e)}o.done?t(l):Promise.resolve(l).then(n,c)}function C(e){return function(){var t=this,a=arguments;return new Promise((function(n,c){var r=e.apply(t,a);function i(e){T(r,n,c,i,o,"next",e)}function o(e){T(r,n,c,i,o,"throw",e)}i(void 0)}))}}function N(e){return function(e){if(Array.isArray(e))return z(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||S(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var a=[],n=!0,c=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){c=!0,r=e}finally{try{n||null==o.return||o.return()}finally{if(c)throw r}}return a}(e,t)||S(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function S(e,t){if(e){if("string"==typeof e)return z(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);return"Object"===a&&e.constructor&&(a=e.constructor.name),"Map"===a||"Set"===a?Array.from(e):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?z(e,t):void 0}}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var F=function(e){var t,a=M(o.useState(!e.is_virtual||e.should_show_real_accounts_list?0:1),2),n=a[0],r=a[1],i=M(o.useState(!0),2),l=i[0],d=i[1],p=M(o.useState(!0),2),y=p[0],f=p[1],h=M(o.useState(!0),2),w=h[0],E=h[1],T=M(o.useState(!0),2),S=T[0],z=T[1],F=M(o.useState(!0),2),I=F[0],R=F[1],L=M(o.useState(!0),2),O=L[0],j=L[1],P=o.useRef(),B=o.useRef(null);o.useEffect((function(){X()&&z(!1)}),[]),o.useEffect((function(){B.current&&(S||O)&&B.current.scrollIntoView({behavior:"smooth",block:X()?"end":"start",inline:"nearest"})}),[S,O]);var V=function(e){switch(e){case"demo_deriv":return d(!l);case"demo_dmt5":return E(!w);case"demo_dxtrade":return R(!I);case"real_deriv":return f(!y);case"real_dmt5":return z(!S);case"real_dxtrade":return j(!O);default:return!1}},X=function(){var t;return(null==e||null===(t=e.account_list)||void 0===t?void 0:t.length)>4},W=function(){U(),e.is_positions_drawer_on&&e.togglePositionsDrawer(),e.logoutClient().then((function(){e.routeBackInApp(e.history)}))},U=function(){e.toggleAccountsDialog(!1)};(0,s.useOnClickOutside)(P,U,(function(t){return e.is_visible&&!t.target.classList.contains("acc-info")}));var q=function(t){U(),e.history.push("".concat(u.routes.mt5,"#").concat(t))},$=function(t){U(),e.history.push("".concat(u.routes.dxtrade,"#").concat(t))},G=e.is_fully_authenticated&&function(){if(!e.account_settings)return!1;var t=e.account_settings,a=t.citizen,n=t.tax_identification_number,c=t.tax_residence;return!!(a&&n&&c)}(),H=function(){q("real")},K=function(){$("real")},Z=function(){q("demo")},J=function(){$("demo")},Q=function(t,a){var n,c,r,i,o=D("gaming",a===u.CFD_PLATFORMS.MT5?null===(n=e.landing_companies)||void 0===n?void 0:n.mt_gaming_company:null===(c=e.landing_companies)||void 0===c?void 0:c.dxtrade_gaming_company,t,e.trading_servers,a),l=D("financial",a===u.CFD_PLATFORMS.MT5?null===(r=e.landing_companies)||void 0===r?void 0:r.mt_financial_company:null===(i=e.landing_companies)||void 0===i?void 0:i.dxtrade_financial_company,t,e.trading_servers,a);return[].concat(N(o),N(l))},Y=function(){var t=C(regeneratorRuntime.mark((function t(a){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(U(),e.account_loginid!==a){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,e.switchAccount(a);case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ee=function(){var t=C(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:U(),e.resetVirtualBalance();case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),te=0===n,ae=function(){return A(e.mt5_login_list).filter(k)},ne=function(){return A(e.dxtrade_accounts_list).filter(k)},ce=function(){return A(e.mt5_login_list).filter((function(e){return!k(e)}))},re=function(){return A(e.dxtrade_accounts_list).filter((function(e){return!k(e)}))},ie=function(){return e.available_crypto_currencies.length<1&&!e.has_fiat||!e.is_virtual},oe=e.is_eu&&("malta"===e.landing_company_shortcode||"iom"===e.landing_company_shortcode&&0!==e.upgradeable_landing_companies.length),le=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.filter((function(e){return t?k(e):!k(e)})).reduce((function(e,t){return e.balance+=t.balance,e}),{balance:0})},se=function(t){if(e.is_eu){var a=(0,u.getAccountTypeFields)({category:"real",type:t});return e.isAccountOfTypeDisabled(null==a?void 0:a.account_type)}return!e.has_active_real_account},_e=function(t){if(e.is_eu){var a=(0,u.getAccountTypeFields)({category:"real",type:t});return e.isAccountOfTypeDisabled(null==a?void 0:a.account_type)}return!e.has_active_real_account};if(!e.is_logged_in)return!1;var ue,de,me,pe=te?e.is_mt5_allowed&&e.is_dxtrade_allowed?(0,_.localize)("Total assets in your Deriv, DMT5 and Deriv X real accounts."):e.is_mt5_allowed&&!e.is_dxtrade_allowed?(0,_.localize)("Total assets in your Deriv and DMT5 real accounts."):!e.is_mt5_allowed&&e.is_dxtrade_allowed?(0,_.localize)("Total assets in your Deriv and Deriv X real accounts."):(0,_.localize)("Total assets in your Deriv real accounts."):e.is_mt5_allowed&&e.is_dxtrade_allowed?(0,_.localize)("Total assets in your Deriv, DMT5 and Deriv X demo accounts."):e.is_mt5_allowed&&!e.is_dxtrade_allowed?(0,_.localize)("Total assets in your Deriv and DMT5 demo accounts."):!e.is_mt5_allowed&&e.is_dxtrade_allowed?(0,_.localize)("Total assets in your Deriv and Deriv X demo accounts."):(0,_.localize)("Total assets in your Deriv demo accounts."),ge=o.createElement("div",{className:"acc-switcher__list-wrapper"},o.createElement(v,{header:(0,_.localize)("Deriv Accounts"),is_visible:l,toggleVisibility:function(){V("demo_deriv")}},o.createElement("div",{className:"acc-switcher__accounts"},x(e.account_list,e.accounts).filter((function(e){return e.is_virtual})).map((function(t){return o.createElement(b,{is_dark_mode_on:e.is_dark_mode_on,key:t.loginid,balance:e.accounts[t.loginid].balance,currency:e.accounts[t.loginid].currency,currency_icon:"IcCurrency-".concat(t.icon),display_type:"currency",has_balance:"balance"in e.accounts[t.loginid],has_reset_balance:e.accounts[e.account_loginid].is_virtual,is_disabled:t.is_disabled,is_virtual:t.is_virtual,loginid:t.loginid,onClickAccount:t.is_disabled?void 0:function(){return Y(t.loginid)},onClickResetVirtualBalance:ee,selected_loginid:e.account_loginid})})))),e.is_mt5_allowed&&o.createElement(o.Fragment,null,o.createElement("div",{className:"acc-switcher__separator acc-switcher__separator--no-padding"}),o.createElement(v,{header:(0,_.localize)("DMT5 Accounts"),is_visible:w,toggleVisibility:function(){V("demo_dmt5")}},e.is_loading_mt5?o.createElement("div",{className:"acc-switcher__accounts--is-loading"},o.createElement(g._z,{speed:3})):o.createElement(o.Fragment,null,!!ae().length&&o.createElement("div",{className:"acc-switcher__accounts"},ae().map((function(t){return o.createElement(b,{is_dark_mode_on:e.is_dark_mode_on,key:t.login,market_type:t.market_type,sub_account_type:t.sub_account_type,balance:t.balance,currency:t.currency,currency_icon:"IcMt5-".concat((0,u.getCFDAccount)({market_type:t.market_type,sub_account_type:t.sub_account_type,platform:u.CFD_PLATFORMS.MT5})),has_balance:"balance"in t,has_error:t.has_error,loginid:t.display_login,onClickAccount:Z,platform:u.CFD_PLATFORMS.MT5})}))),Q(ae(),u.CFD_PLATFORMS.MT5).map((function(t){return o.createElement("div",{key:t.title,className:"acc-switcher__new-account"},o.createElement(s.Icon,{icon:"IcMt5-".concat(t.icon),size:24}),o.createElement(s.Text,{size:"xs",color:"general",className:"acc-switcher__new-account-text"},t.title),o.createElement(s.Button,{onClick:function(){return e=t.type,sessionStorage.setItem("open_cfd_account_type","demo.".concat(e)),void Z();var e},className:"acc-switcher__new-account-btn",is_disabled:e.mt5_disabled_signup_types.demo,secondary:!0,small:!0},(0,_.localize)("Add")))}))))),e.is_dxtrade_allowed&&o.createElement(v,{header:(0,_.localize)("Deriv X Accounts"),is_visible:I,toggleVisibility:function(){V("demo_dxtrade")}},o.createElement(o.Fragment,null,!!ne().length&&o.createElement("div",{className:"acc-switcher__accounts"},ne().map((function(t){return o.createElement(b,{is_dark_mode_on:e.is_dark_mode_on,key:t.account_id,market_type:t.market_type,balance:t.balance,currency:t.currency,currency_icon:"IcDxtrade-".concat((0,u.getCFDAccount)({market_type:t.market_type,platform:u.CFD_PLATFORMS.DXTRADE})),has_balance:"balance"in t,loginid:t.display_login,onClickAccount:J,platform:u.CFD_PLATFORMS.DXTRADE})}))),Q(ne(),u.CFD_PLATFORMS.DXTRADE).map((function(t){return o.createElement("div",{key:t.title,className:"acc-switcher__new-account"},o.createElement(s.Icon,{icon:"IcDxtrade-".concat(t.icon),size:24}),o.createElement(s.Text,{size:"xs",color:"general",className:"acc-switcher__new-account-text"},t.title),o.createElement(s.Button,{onClick:function(){return e=t.type,sessionStorage.setItem("open_cfd_account_type","demo.".concat(e)),void J();var e},className:"acc-switcher__new-account-btn",secondary:!0,small:!0,is_disabled:e.dxtrade_disabled_signup_types.demo||!!e.dxtrade_accounts_list_error},(0,_.localize)("Add")))}))))),ye=o.createElement("div",{ref:B,className:"acc-switcher__list-wrapper"},o.createElement(o.Fragment,null,o.createElement(v,{header:(0,_.localize)("Deriv Accounts"),is_visible:y,toggleVisibility:function(){V("real_deriv")}},o.createElement("div",{className:"acc-switcher__accounts"},x(e.account_list,e.accounts).filter((function(e){return!e.is_virtual})).map((function(t){return o.createElement(b,{is_dark_mode_on:e.is_dark_mode_on,key:t.loginid,balance:e.accounts[t.loginid].balance,currency:e.accounts[t.loginid].currency,currency_icon:"IcCurrency-".concat(t.icon),display_type:"currency",has_balance:"balance"in e.accounts[t.loginid],is_disabled:t.is_disabled,is_virtual:t.is_virtual,is_eu:e.is_eu,loginid:t.loginid,onClickAccount:t.is_disabled?void 0:function(){return Y(t.loginid)},selected_loginid:e.account_loginid})}))),(e.is_eu||e.is_virtual||!ie()||oe?e.upgradeable_landing_companies:[]).map((function(t,a){return o.createElement("div",{key:a,className:"acc-switcher__new-account"},o.createElement(s.Icon,{icon:"IcDeriv",size:24}),o.createElement(s.Text,{size:"xs",color:"general",className:"acc-switcher__new-account-text"},(0,m.GH)(t,{account_residence:e.client_residence})),o.createElement(s.Button,{id:"dt_core_account-switcher_add-new-account",onClick:function(){e.openRealAccountSignup(t)},className:"acc-switcher__new-account-btn",secondary:!0,small:!0},(0,_.localize)("Add")))})),!(e.is_virtual&&e.can_upgrade_to)&&ie()&&(!e.is_eu||e.is_eu&&e.can_change_fiat_currency)&&o.createElement(s.Button,{className:"acc-switcher__btn",secondary:!0,onClick:e.account_list.filter((function(e){return!e.is_virtual})).some((function(e){return"Real"!==e.title}))?function(){return e.openRealAccountSignup("manage")}:function(){U(),e.toggleSetCurrencyModal()}},e.has_fiat&&0===(null===(t=e.available_crypto_currencies)||void 0===t?void 0:t.length)?(0,_.localize)("Manage account"):(0,_.localize)("Add or manage account")))),e.is_mt5_allowed&&o.createElement(o.Fragment,null,o.createElement("div",{className:"acc-switcher__separator acc-switcher__separator--no-padding"}),o.createElement(v,{header:(0,_.localize)("DMT5 Accounts"),is_visible:S,toggleVisibility:function(){V("real_dmt5")}},e.is_loading_mt5?o.createElement("div",{className:"acc-switcher__accounts--is-loading"},o.createElement(g._z,{speed:3})):o.createElement(o.Fragment,null,!!ce().length&&o.createElement("div",{className:"acc-switcher__accounts"},ce().map((function(t){return o.createElement(b,{is_dark_mode_on:e.is_dark_mode_on,key:t.login,market_type:t.market_type,sub_account_type:t.sub_account_type,balance:t.balance,currency:t.currency,currency_icon:"IcMt5-".concat((0,u.getCFDAccount)({market_type:t.market_type,sub_account_type:t.sub_account_type,platform:u.CFD_PLATFORMS.MT5})),has_balance:"balance"in t,has_error:t.has_error,loginid:t.display_login,onClickAccount:H,server:(a=t,n=a.error?a.error.details.server:a.server,e.mt5_login_list.length>1?e.mt5_login_list.find((function(e){return e.server===n})):null),platform:u.CFD_PLATFORMS.MT5});var a,n}))),Q(ce(),u.CFD_PLATFORMS.MT5).map((function(t){return o.createElement("div",{key:t.title,className:c()("acc-switcher__new-account",{"acc-switcher__new-account--disabled":e.mt5_login_list_error})},o.createElement(s.Icon,{icon:"IcMt5-".concat(t.icon),size:24}),o.createElement(s.Text,{size:"xs",color:"general",className:"acc-switcher__new-account-text"},t.title),o.createElement(s.Button,{onClick:function(){return a=t.type,n="synthetic"===a?e.has_malta_account:e.has_maltainvest_account,void(e.is_eu&&!n?(U(),e.openAccountNeededModal("synthetic"===a?e.standpoint.gaming_company:e.standpoint.financial_company,"synthetic"===a?(0,_.localize)("Deriv Synthetic"):(0,_.localize)("Deriv Financial"),"synthetic"===a?(0,_.localize)("DMT5 Synthetic"):(0,_.localize)("DMT5 Financial"))):(G?sessionStorage.setItem("open_cfd_account_type","real.".concat(a,".set_password")):sessionStorage.setItem("open_cfd_account_type","real.".concat(a)),H()));var a,n},className:"acc-switcher__new-account-btn",secondary:!0,small:!0,is_disabled:e.mt5_disabled_signup_types.real||se(t.type)||"financial_stp"===t.type&&(e.is_pending_authentication||!!e.mt5_login_list_error)},(0,_.localize)("Add")))}))))),e.is_dxtrade_allowed&&o.createElement(o.Fragment,null,o.createElement("div",{className:"acc-switcher__separator acc-switcher__separator--no-padding"}),o.createElement(v,{header:(0,_.localize)("Deriv X Accounts"),is_visible:O,toggleVisibility:function(){V("real_dxtrade")}},e.is_loading_dxtrade?o.createElement("div",{className:"acc-switcher__accounts--is-loading"},o.createElement(g._z,{speed:3})):o.createElement(o.Fragment,null,!!re().length&&o.createElement("div",{className:"acc-switcher__accounts"},re().map((function(t){return o.createElement(b,{is_dark_mode_on:e.is_dark_mode_on,key:t.account_id,market_type:t.market_type,balance:t.balance,currency:t.currency,currency_icon:"IcDxtrade-".concat((0,u.getCFDAccount)({market_type:t.market_type,platform:u.CFD_PLATFORMS.DXTRADE})),has_balance:"balance"in t,has_error:t.has_error,loginid:t.display_login,onClickAccount:K,platform:u.CFD_PLATFORMS.DXTRADE})}))),Q(re(),u.CFD_PLATFORMS.DXTRADE).map((function(t){return o.createElement("div",{key:t.title,className:c()("acc-switcher__new-account",{"acc-switcher__new-account--disabled":e.dxtrade_accounts_list_error})},o.createElement(s.Icon,{icon:"IcDxtrade-".concat(t.icon),size:24}),o.createElement(s.Text,{size:"xs",color:"general",className:"acc-switcher__new-account-text"},t.title),o.createElement(s.Button,{onClick:function(){return e=t.type,sessionStorage.setItem("open_cfd_account_type","real.".concat(e)),void K();var e},className:"acc-switcher__new-account-btn",secondary:!0,small:!0,is_disabled:e.dxtrade_disabled_signup_types.real||_e(t.type)||!!e.dxtrade_accounts_list_error},(0,_.localize)("Add")))}))))));return o.createElement("div",{className:"acc-switcher__list",ref:P},o.createElement(s.Tabs,{active_index:n,className:"acc-switcher__list-tabs",onTabItemClick:function(e){return r(e)},top:!0},o.createElement("div",{label:(0,_.localize)("Real"),id:"real_account_tab"},o.createElement(s.DesktopWrapper,null,o.createElement(s.ThemedScrollbars,{height:"354px"},ye)),o.createElement(s.MobileWrapper,null,o.createElement(s.Div100vhContainer,{className:"acc-switcher__list-container",max_autoheight_offset:"234px"},ye))),o.createElement("div",{label:(0,_.localize)("Demo"),id:"dt_core_account-switcher_demo-tab"},o.createElement(s.DesktopWrapper,null,o.createElement(s.ThemedScrollbars,{height:"354px"},ge)),o.createElement(s.MobileWrapper,null,o.createElement(s.Div100vhContainer,{className:"acc-switcher__list-container",max_autoheight_offset:"234px"},ge)))),o.createElement("div",{className:c()("acc-switcher__separator",{"acc-switcher__separator--auto-margin":e.is_mobile})}),o.createElement("div",{className:"acc-switcher__total"},o.createElement(s.Text,{line_height:"s",size:"xs",weight:"bold",color:"prominent"},o.createElement(_.Localize,{i18n_default_text:"Total assets"})),o.createElement(s.Text,{size:"xs",color:"prominent",className:"acc-switcher__balance"},o.createElement(s.Money,{currency:te?e.obj_total_balance.currency:"USD",amount:(0,u.formatMoney)(te?e.obj_total_balance.currency:"USD",te?(ue=le(e.mt5_login_list,!1),de=le(e.dxtrade_accounts_list,!1),me=e.obj_total_balance.amount_real,me+=e.obj_total_balance.amount_mt5>0?e.obj_total_balance.amount_mt5:ue.balance,me+=e.obj_total_balance.amount_dxtrade>0?e.obj_total_balance.amount_dxtrade:de.balance):function(){var t=e.account_list.find((function(e){return e.is_virtual})).loginid,a=e.accounts[t]?e.accounts[t].balance:0,n=le(e.mt5_login_list),c=le(e.dxtrade_accounts_list),r=a;return Array.isArray(e.mt5_login_list)&&(r+=n.balance),Array.isArray(e.dxtrade_accounts_list)&&(r+=c.balance),r}(),!0),show_currency:!0,should_format:!1}))),o.createElement(s.Text,{color:"less-prominent",line_height:"xs",size:"xxxs",className:"acc-switcher__total-subtitle"},pe),o.createElement("div",{className:"acc-switcher__separator"}),o.createElement("div",{className:"acc-switcher__footer"},e.is_uk&&e.has_any_real_account&&o.createElement(s.Button,{className:"acc-switcher__compare",type:"button",has_effect:!0,onClick:function(){U(),e.toggleAccountTypesModal(!0)},text:(0,_.localize)("Compare"),secondary:!0}),o.createElement("div",{id:"dt_logout_button",className:"acc-switcher__logout",onClick:W},o.createElement(s.Text,{color:"prominent",size:"xs",align:"left",className:"acc-switcher__logout-text"},(0,_.localize)("Log out")),o.createElement(s.Icon,{icon:"IcLogout",className:"acc-switcher__logout-icon drawer__icon",onClick:W}))))};F.propTypes={available_crypto_currencies:i().array,account_list:i().array,account_loginid:i().string,accounts:i().object,can_change_fiat_currency:i().bool,can_upgrade_to:i().string,has_fiat:i().bool,has_any_real_account:i().bool,has_active_real_account:i().bool,is_eu:i().bool,is_fully_authenticated:i().bool,is_loading_mt5:i().bool,is_loading_dxtrade:i().bool,is_logged_in:i().bool,is_mt5_allowed:i().bool,is_pending_authentication:i().bool,is_positions_drawer_on:i().bool,is_uk:i().bool,is_virtual:i().bool,is_visible:i().bool,landing_company_shortcode:i().string,logoutClient:i().func,mt5_disabled_signup_types:i().object,mt5_login_list:i().array,dxtrade_disabled_signup_types:i().object,obj_total_balance:i().object,openRealAccountSignup:i().func,switchAccount:i().func,resetVirtualBalance:i().func,toggleAccountsDialog:i().func,toggleAccountTypesModal:i().func,togglePositionsDrawer:i().func,toggleSetCurrencyModal:i().func,updateMt5LoginList:i().func};var I=(0,d.withRouter)((0,p.$j)((function(e){var t=e.client,a=e.common,n=e.ui;return{available_crypto_currencies:t.available_crypto_currencies,account_loginid:t.loginid,accounts:t.accounts,account_settings:t.account_settings,can_change_fiat_currency:t.can_change_fiat_currency,account_list:t.account_list,can_upgrade_to:t.can_upgrade_to,client_residence:t.residence,is_dark_mode_on:n.is_dark_mode_on,is_eu:t.is_eu,is_fully_authenticated:t.is_fully_authenticated,is_loading_mt5:t.is_populating_mt5_account_list,is_loading_dxtrade:t.is_populating_dxtrade_account_list,is_logged_in:t.is_logged_in,is_dxtrade_allowed:t.is_dxtrade_allowed,is_mt5_allowed:t.is_mt5_allowed,is_pending_authentication:t.is_pending_authentication,is_uk:t.is_uk,is_virtual:t.is_virtual,has_fiat:t.has_fiat,has_any_real_account:t.has_any_real_account,landing_company_shortcode:t.landing_company_shortcode,mt5_disabled_signup_types:t.mt5_disabled_signup_types,mt5_login_list:t.mt5_login_list,mt5_login_list_error:t.mt5_login_list_error,dxtrade_accounts_list:t.dxtrade_accounts_list,dxtrade_accounts_list_error:t.dxtrade_accounts_list_error,dxtrade_disabled_signup_types:t.dxtrade_disabled_signup_types,obj_total_balance:t.obj_total_balance,switchAccount:t.switchAccount,resetVirtualBalance:t.resetVirtualBalance,isAccountOfTypeDisabled:t.isAccountOfTypeDisabled,has_malta_account:t.has_malta_account,has_maltainvest_account:t.has_maltainvest_account,has_active_real_account:t.has_active_real_account,openAccountNeededModal:n.openAccountNeededModal,logoutClient:t.logout,landing_companies:t.landing_companies,upgradeable_landing_companies:t.upgradeable_landing_companies,updateMt5LoginList:t.updateMt5LoginList,routeBackInApp:a.routeBackInApp,standpoint:t.standpoint,is_positions_drawer_on:n.is_positions_drawer_on,openRealAccountSignup:n.openRealAccountSignup,trading_servers:t.trading_servers,toggleAccountsDialog:n.toggleAccountsDialog,toggleAccountTypesModal:n.toggleAccountTypesModal,togglePositionsDrawer:n.togglePositionsDrawer,toggleSetCurrencyModal:n.toggleSetCurrencyModal,should_show_real_accounts_list:n.should_show_real_accounts_list,toggleShouldShowRealAccountsList:n.toggleShouldShowRealAccountsList}}))(F)),R=function(e){var t=e.disableApp,a=e.enableApp,n=e.is_visible,r=e.is_upgrade_enabled,i=e.toggle;return o.createElement(s.Modal,{id:"dt_account_switcher_modal",className:"accounts-switcher",enableApp:a,is_open:n,is_vertical_top:!0,disableApp:t,has_close_icon:!1,toggleModal:i,height:"auto",width:"calc(100vw - 32px)"},o.createElement(s.Div100vhContainer,{className:c()("acc-switcher__wrapper","acc-switcher__wrapper--is-mobile"),max_autoheight_offset:"48px"},o.createElement(I,{is_mobile:!0,is_visible:!0,toggle:i,is_upgrade_enabled:r})))};R.propTypes={children:i().any,onClose:i().func,title:i().string,visible:i().bool,wrapperClassName:i().string};const L=R;var O=function(e){var t=e.is_disabled,a=e.disabled_message,n=e.children;return t&&a?o.createElement(s.Popover,{alignment:"bottom",message:a,zIndex:99999},n):o.createElement(o.Fragment,null,n)},j=function(e){var t=e.is_virtual,a=e.currency;return o.createElement(s.Icon,{icon:"IcCurrency-".concat(t?"virtual":a||"Unknown"),className:"acc-info__id-icon acc-info__id-icon--".concat(t?"virtual":a),size:24})},P=function(e){var t=e.acc_switcher_disabled_message,a=e.balance,n=e.currency,r=e.disableApp,i=e.enableApp,d=e.is_dialog_on,m=e.is_virtual,p=e.toggleDialog,g=e.is_disabled,y=n.toLowerCase();return o.createElement("div",{className:"acc-info__wrapper"},o.createElement("div",{className:"acc-info__separator"}),o.createElement(O,{is_disabled:g,disabled_message:t},o.createElement("div",{id:"dt_core_account-info_acc-info",className:c()("acc-info",{"acc-info--show":d,"acc-info--is-virtual":m,"acc-info--is-disabled":g}),onClick:g?void 0:function(){return p()}},o.createElement("span",{className:"acc-info__id"},o.createElement(s.DesktopWrapper,null,o.createElement(j,{is_virtual:m,currency:y})),o.createElement(s.MobileWrapper,null,(m||n)&&o.createElement(j,{is_virtual:m,currency:y}))),(void 0!==a||!n)&&o.createElement("p",{className:c()("acc-info__balance",{"acc-info__balance--no-currency":!n&&!m})},n?"".concat(a," ").concat((0,u.getCurrencyDisplayCode)(n)):o.createElement(_.Localize,{i18n_default_text:"No currency assigned"})),g?o.createElement(s.Icon,{icon:"IcLock"}):o.createElement(s.Icon,{icon:"IcChevronDownBold",className:"acc-info__select-arrow"}))),o.createElement(s.MobileWrapper,null,o.createElement(L,{is_visible:d,disableApp:r,enableApp:i,toggle:p})),o.createElement(s.DesktopWrapper,null,o.createElement(l.Z,{in:d,timeout:200,classNames:{enter:"acc-switcher__wrapper--enter",enterDone:"acc-switcher__wrapper--enter-done",exit:"acc-switcher__wrapper--exit"},unmountOnExit:!0},o.createElement("div",{className:"acc-switcher__wrapper"},o.createElement(I,{is_visible:d,toggle:p})))))};P.propTypes={acc_switcher_disabled_message:i().string,account_type:i().string,balance:i().string,currency:i().string,is_dialog_on:i().bool,is_disabled:i().bool,is_virtual:i().bool,loginid:i().string,toggleDialog:i().func};const B=P}}]);