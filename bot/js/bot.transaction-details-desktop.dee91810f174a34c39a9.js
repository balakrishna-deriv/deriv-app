"use strict";(self.webpackChunk_deriv_bot_web_ui=self.webpackChunk_deriv_bot_web_ui||[]).push([[197],{6792:(e,t,l)=>{l.r(t),l.d(t,{default:()=>N});var a=l(8156),n=l.n(a),o=l(1336),r=l(2363),i=l(2273),c=l(7882),s=l(8310),u=l.n(s),_=l(4782),d=l(143),m=l(5770),b=l(9383);function v(e){return v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v(e)}function y(e,t,l){return(t=function(e){var t=function(e,t){if("object"!==v(e)||null===e)return e;var l=e[Symbol.toPrimitive];if(void 0!==l){var a=l.call(e,"string");if("object"!==v(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===v(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:l,enumerable:!0,configurable:!0,writable:!0}):e[t]=l,e}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var l=0,a=new Array(t);l<t;l++)a[l]=e[l];return a}var p="transaction-details-modal-desktop",E=function(e){var t,l=e.label,a=e.extra_classes,o=void 0===a?[]:a,r=e.loader,i=void 0!==r&&r;return n().createElement("div",{className:u().apply(void 0,["".concat(p,"__table-cell")].concat((t=o,function(e){if(Array.isArray(e))return f(e)}(t)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(t)||function(e,t){if(e){if("string"==typeof e)return f(e,t);var l=Object.prototype.toString.call(e).slice(8,-1);return"Object"===l&&e.constructor&&(l=e.constructor.name),"Map"===l||"Set"===l?Array.from(e):"Arguments"===l||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(l)?f(e,t):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())))},i?n().createElement(w,null):l)},k=function(e){var t=e.columns;return n().createElement("div",{className:u()("".concat(p,"__table-row"),"".concat(p,"__table-header"))},null==t?void 0:t.map((function(e){return n().createElement(E,{key:e.key,extra_classes:[e.extra_class?"".concat(p,"__table-cell").concat(e.extra_class):""],label:e.label,loader:!1})})))},g=function(e){var t=e.message,l=e.icon;return n().createElement("div",{className:"".concat(p,"__icon-wrapper")},n().createElement(o.Popover,{alignment:"left",message:t,zIndex:"9999"},l))},w=function(){return n().createElement(_.ZP,{className:"transactions__loader-text","data-testid":"transaction_details_table_cell_loader",height:10,width:80,speed:3,backgroundColor:"var(--general-section-2)",foregroundColor:"var(--general-hover)"},n().createElement("rect",{x:"0",y:"0",rx:"0",ry:"0",width:"100",height:"12"}))};function h(e){var t,l,a,r,i=e.result,c=e.result_columns,s=e.transactions,_=e.transaction_columns;return n().createElement("div",{"data-testid":"transaction_details_tables"},n().createElement("div",{className:u()("".concat(p,"__table-container"),"".concat(p,"__table-container__top-table"))},n().createElement(k,{columns:_}),null==s?void 0:s.map((function(e){var t,l,a,r,i,c=e.data;return e.type===b.i.CONTRACT?n().createElement("div",{className:"".concat(p,"__table-row"),key:null==c||null===(t=c.transaction_ids)||void 0===t?void 0:t.buy},n().createElement(E,{label:(null==c?void 0:c.date_start)&&(0,m.convertDateFormat)(null==c?void 0:c.date_start,"YYYY-M-D HH:mm:ss [GMT]","YYYY-MM-DD HH:mm:ss [GMT] ZZ"),extra_classes:["".concat(p,"__table-cell--grow-big")]}),n().createElement(E,{label:null==c||null===(l=c.transaction_ids)||void 0===l?void 0:l.buy,extra_classes:["".concat(p,"__table-cell--grow-mid")]}),n().createElement(E,{label:n().createElement(g,{message:null==c?void 0:c.display_name,icon:n().createElement(o.Icon,{icon:"IcUnderlying".concat(null==c?void 0:c.underlying),size:24})})}),n().createElement(E,{label:n().createElement(g,{message:(0,d.getContractTypeName)(c),icon:n().createElement(o.IconTradeTypes,{type:null==c?void 0:c.contract_type,size:24})})}),n().createElement(E,{label:null==c?void 0:c.entry_tick,loader:!(null!=c&&c.entry_tick)}),n().createElement(E,{label:null==c?void 0:c.exit_tick,loader:!c.exit_tick}),n().createElement(E,{label:Math.abs(null!==(a=null==c?void 0:c.buy_price)&&void 0!==a?a:0).toFixed(2)}),n().createElement(E,{label:n().createElement("div",{className:u()((r={},y(r,"".concat(p,"__profit--win"),(null==c?void 0:c.profit)>0),y(r,"".concat(p,"__profit--loss"),(null==c?void 0:c.profit)<0),r))},Math.abs(null!==(i=null==c?void 0:c.profit)&&void 0!==i?i:0).toFixed(2)),loader:!c.is_completed})):n().createElement("div",{className:"".concat(p,"__table-row"),key:"transaction-row-divider-".concat(c)},n().createElement("div",{className:"".concat(p,"__divider")},n().createElement("div",{className:"transactions__divider-line"})))}))),n().createElement("div",{className:u()("".concat(p,"__table-container"))},n().createElement(k,{columns:c}),n().createElement("div",{className:"".concat(p,"__table-row")},n().createElement(E,{label:null==i?void 0:i.number_of_runs}),n().createElement(E,{label:Math.abs(null!==(t=null==i?void 0:i.total_stake)&&void 0!==t?t:0).toFixed(2)}),n().createElement(E,{label:Math.abs(null!==(l=null==i?void 0:i.total_payout)&&void 0!==l?l:0).toFixed(2)}),n().createElement(E,{label:null==i?void 0:i.won_contracts}),n().createElement(E,{label:null==i?void 0:i.lost_contracts,extra_classes:["".concat(p,"__loss")]}),n().createElement(E,{label:n().createElement("div",{className:u()((null==i?void 0:i.total_profit)&&(a={},y(a,"".concat(p,"__profit--win"),(null==i?void 0:i.total_profit)>0),y(a,"".concat(p,"__profit--loss"),(null==i?void 0:i.total_profit)<0),a)),"data-testid":"transaction_details_table_profit"},Math.abs(null!==(r=null==i?void 0:i.total_profit)&&void 0!==r?r:0).toFixed(2))}))))}var x=[{key:"timestamp",label:(0,i.localize)("Timestamp"),extra_class:"--grow-big"},{key:"reference",label:(0,i.localize)("Reference"),extra_class:"--grow-mid"},{key:"market",label:(0,i.localize)("Market")},{key:"contract_type",label:(0,i.localize)("Trade type")},{key:"entry_tick",label:(0,i.localize)("Entry spot")},{key:"exit_tick",label:(0,i.localize)("Exit spot")},{key:"buy_price",label:(0,i.localize)("Buy price")},{key:"profit",label:(0,i.localize)("Profit/Loss")}],z=[{key:"no_of_runs",label:(0,i.localize)("No. of runs")},{key:"total_stake",label:(0,i.localize)("Total stake")},{key:"total_payout    ",label:(0,i.localize)("Total payout")},{key:"win",label:(0,i.localize)("Win")},{key:"loss",label:(0,i.localize)("Loss")},{key:"total_profit",label:(0,i.localize)("Total profit/loss")}];const N=(0,r.Pi)((function(){var e=(0,c.A7)(),t=e.transactions,l=e.run_panel,a=t.toggleTransactionDetailsModal,r=t.is_transaction_details_modal_open,s=t.elements,u=l.statistics;return n().createElement(o.Dialog,{cancel_button_text:"",className:"transaction-details-modal-desktop",confirm_button_text:"",has_close_icon:!0,is_mobile_full_width:!0,is_visible:r,onClose:function(){a(!1)},portal_element_id:"modal_root",title:(0,i.localize)("Transactions detailed summary")},n().createElement(h,{transaction_columns:x,transactions:s,result_columns:z,result:u}))}))}}]);