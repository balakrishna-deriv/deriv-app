"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk"] = self["webpackChunk"] || []).push([["main~Stores_m"],{

/***/ "./Stores/menu-store.js":
/*!******************************!*\
  !*** ./Stores/menu-store.js ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ MenuStore)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"../../../node_modules/react/index.js\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! mobx */ \"../../../node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _deriv_components__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @deriv/components */ \"../../components/src/index.js\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @deriv/translations */ \"../../translations/src/index.js\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\");\n/* harmony import */ var _base_store__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./base-store */ \"./Stores/base-store.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar _dec, _dec2, _class, _descriptor;\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n\n\n\n\n\n\nvar MenuStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_1__.action.bound, (_class = /*#__PURE__*/function (_BaseStore) {\n  _inherits(MenuStore, _BaseStore);\n\n  var _super = _createSuper(MenuStore);\n\n  function MenuStore() {\n    var _this;\n\n    _classCallCheck(this, MenuStore);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _initializerDefineProperty(_this, \"extensions\", _descriptor, _assertThisInitialized(_this));\n\n    return _this;\n  }\n\n  _createClass(MenuStore, [{\n    key: \"attach\",\n    value: function attach(menu) {\n      if (!(menu instanceof Object)) {\n        throw new TypeError('Menu is not an instance of object.');\n      }\n\n      this.extensions.push(menu);\n    }\n  }, {\n    key: \"update\",\n    value: function update(menu, index) {\n      if (this.extensions[index]) {\n        this.extensions[index] = menu;\n      }\n    }\n  }, {\n    key: \"detach\",\n    value: function detach(menu) {\n      this.extensions = this.extensions.filter(function (extension) {\n        return extension.id !== menu;\n      });\n    }\n  }]);\n\n  return MenuStore;\n}(_base_store__WEBPACK_IMPORTED_MODULE_5__[\"default\"]), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"extensions\", [mobx__WEBPACK_IMPORTED_MODULE_1__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return [{\n      id: 'dt_reports_tab',\n      icon: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_0__.createElement(_deriv_components__WEBPACK_IMPORTED_MODULE_2__.Icon, {\n        icon: \"IcReports\",\n        className: \"header__icon\"\n      }),\n      text: function text() {\n        return (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.localize)('Reports');\n      },\n      link_to: _deriv_shared__WEBPACK_IMPORTED_MODULE_4__.routes.reports,\n      login_only: true\n    }];\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"attach\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"attach\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"detach\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"detach\"), _class.prototype)), _class));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9TdG9yZXMvbWVudS1zdG9yZS5qcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBV0E7QUFFQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFDQTs7OztBQTVCQTs7Ozs7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBTEEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9TdG9yZXMvbWVudS1zdG9yZS5qcz80YWE1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBhY3Rpb24sIG9ic2VydmFibGUgfSBmcm9tICdtb2J4JztcbmltcG9ydCB7IEljb24gfSBmcm9tICdAZGVyaXYvY29tcG9uZW50cyc7XG5pbXBvcnQgeyBsb2NhbGl6ZSB9IGZyb20gJ0BkZXJpdi90cmFuc2xhdGlvbnMnO1xuaW1wb3J0IHsgcm91dGVzIH0gZnJvbSAnQGRlcml2L3NoYXJlZCc7XG5pbXBvcnQgQmFzZVN0b3JlIGZyb20gJy4vYmFzZS1zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lbnVTdG9yZSBleHRlbmRzIEJhc2VTdG9yZSB7XG4gICAgQG9ic2VydmFibGUgZXh0ZW5zaW9ucyA9IFtcbiAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdkdF9yZXBvcnRzX3RhYicsXG4gICAgICAgICAgICBpY29uOiA8SWNvbiBpY29uPSdJY1JlcG9ydHMnIGNsYXNzTmFtZT0naGVhZGVyX19pY29uJyAvPixcbiAgICAgICAgICAgIHRleHQ6ICgpID0+IGxvY2FsaXplKCdSZXBvcnRzJyksXG4gICAgICAgICAgICBsaW5rX3RvOiByb3V0ZXMucmVwb3J0cyxcbiAgICAgICAgICAgIGxvZ2luX29ubHk6IHRydWUsXG4gICAgICAgIH0sXG4gICAgXTtcblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBhdHRhY2gobWVudSkge1xuICAgICAgICBpZiAoIShtZW51IGluc3RhbmNlb2YgT2JqZWN0KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWVudSBpcyBub3QgYW4gaW5zdGFuY2Ugb2Ygb2JqZWN0LicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZXh0ZW5zaW9ucy5wdXNoKG1lbnUpO1xuICAgIH1cblxuICAgIHVwZGF0ZShtZW51LCBpbmRleCkge1xuICAgICAgICBpZiAodGhpcy5leHRlbnNpb25zW2luZGV4XSkge1xuICAgICAgICAgICAgdGhpcy5leHRlbnNpb25zW2luZGV4XSA9IG1lbnU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgZGV0YWNoKG1lbnUpIHtcbiAgICAgICAgdGhpcy5leHRlbnNpb25zID0gdGhpcy5leHRlbnNpb25zLmZpbHRlcihleHRlbnNpb24gPT4gZXh0ZW5zaW9uLmlkICE9PSBtZW51KTtcbiAgICB9XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Stores/menu-store.js\n");

/***/ }),

/***/ "./Stores/notification-store.js":
/*!**************************************!*\
  !*** ./Stores/notification-store.js ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ NotificationStore)\n/* harmony export */ });\n/* harmony import */ var _deriv_components__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/components */ \"../../components/src/index.js\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @deriv/translations */ \"../../translations/src/index.js\");\n/* harmony import */ var App_Components_Routes__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! App/Components/Routes */ \"./App/Components/Routes/index.js\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! mobx */ \"../../../node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! react */ \"../../../node_modules/react/index.js\");\n/* harmony import */ var Services__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! Services */ \"./Services/index.js\");\n/* harmony import */ var _App_Components_Elements_NotificationMessage_constants__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../App/Components/Elements/NotificationMessage/constants */ \"./App/Components/Elements/NotificationMessage/constants.js\");\n/* harmony import */ var _base_store__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./base-store */ \"./Stores/base-store.js\");\n/* harmony import */ var _Helpers_client_notifications__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Helpers/client-notifications */ \"./Stores/Helpers/client-notifications.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7;\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n\n\n\n\n\n\n\n\n\n\nvar NotificationStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_4__.action.bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_4__.action.bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_4__.action.bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_4__.action.bound, _dec5 = mobx__WEBPACK_IMPORTED_MODULE_4__.action.bound, _dec6 = mobx__WEBPACK_IMPORTED_MODULE_4__.action.bound, _dec7 = mobx__WEBPACK_IMPORTED_MODULE_4__.action.bound, _dec8 = mobx__WEBPACK_IMPORTED_MODULE_4__.action.bound, _dec9 = mobx__WEBPACK_IMPORTED_MODULE_4__.action.bound, _dec10 = mobx__WEBPACK_IMPORTED_MODULE_4__.action.bound, _dec11 = mobx__WEBPACK_IMPORTED_MODULE_4__.action.bound, _dec12 = mobx__WEBPACK_IMPORTED_MODULE_4__.action.bound, _dec13 = mobx__WEBPACK_IMPORTED_MODULE_4__.action.bound, _dec14 = mobx__WEBPACK_IMPORTED_MODULE_4__.action.bound, _dec15 = mobx__WEBPACK_IMPORTED_MODULE_4__.action.bound, _dec16 = mobx__WEBPACK_IMPORTED_MODULE_4__.action.bound, _dec17 = mobx__WEBPACK_IMPORTED_MODULE_4__.action.bound, _dec18 = mobx__WEBPACK_IMPORTED_MODULE_4__.action.bound, _dec19 = mobx__WEBPACK_IMPORTED_MODULE_4__.action.bound, (_class = /*#__PURE__*/function (_BaseStore) {\n  _inherits(NotificationStore, _BaseStore);\n\n  var _super = _createSuper(NotificationStore);\n\n  function NotificationStore(root_store) {\n    var _this;\n\n    _classCallCheck(this, NotificationStore);\n\n    _this = _super.call(this, {\n      root_store: root_store\n    });\n\n    _initializerDefineProperty(_this, \"is_notifications_visible\", _descriptor, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"notifications\", _descriptor2, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"notification_messages\", _descriptor3, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"marked_notifications\", _descriptor4, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"push_notifications\", _descriptor5, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"client_notifications\", _descriptor6, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"should_show_popups\", _descriptor7, _assertThisInitialized(_this));\n\n    (0,mobx__WEBPACK_IMPORTED_MODULE_4__.reaction)(function () {\n      return root_store.common.app_routing_history.map(function (i) {\n        return i.pathname;\n      });\n    }, function () {\n      _this.filterNotificationMessages();\n    });\n    (0,mobx__WEBPACK_IMPORTED_MODULE_4__.reaction)(function () {\n      var _root_store$modules, _root_store$modules$c, _root_store$modules$c2, _root_store$common;\n\n      return [root_store.client.account_settings, root_store.client.account_status, root_store.client.landing_companies, (_root_store$modules = root_store.modules) === null || _root_store$modules === void 0 ? void 0 : (_root_store$modules$c = _root_store$modules.cashier) === null || _root_store$modules$c === void 0 ? void 0 : (_root_store$modules$c2 = _root_store$modules$c.general_store) === null || _root_store$modules$c2 === void 0 ? void 0 : _root_store$modules$c2.is_p2p_visible, (_root_store$common = root_store.common) === null || _root_store$common === void 0 ? void 0 : _root_store$common.selected_contract_type, root_store.client.is_eu];\n    }, function () {\n      if (!root_store.client.is_logged_in || Object.keys(root_store.client.account_status).length > 0 && Object.keys(root_store.client.landing_companies).length > 0) {\n        _this.removeNotifications();\n\n        _this.removeAllNotificationMessages();\n\n        _this.setClientNotifications();\n\n        _this.handleClientNotifications();\n      }\n    });\n    return _this;\n  }\n\n  _createClass(NotificationStore, [{\n    key: \"custom_notifications\",\n    get: function get() {\n      var _this$root_store$clie = this.root_store.client,\n          has_malta_account = _this$root_store$clie.has_malta_account,\n          can_have_mlt_account = _this$root_store$clie.can_have_mlt_account,\n          is_uk = _this$root_store$clie.is_uk;\n      var notification_content = {\n        mx_mlt_notification: {\n          header: function header() {\n            if (has_malta_account || can_have_mlt_account) {\n              return (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Your Options account is scheduled to be closed');\n            } else if (is_uk) {\n              return (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Your Gaming account is scheduled to be closed');\n            }\n\n            return (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Your account is scheduled to be closed');\n          },\n          main: function main() {\n            if (has_malta_account || can_have_mlt_account) {\n              return (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Withdraw all funds from your Options account.');\n            } else if (is_uk) {\n              return (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Please withdraw all your funds as soon as possible.');\n            }\n\n            return (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Please proceed to withdraw your funds before 30 November 2021.');\n          }\n        }\n      };\n      return notification_content;\n    }\n  }, {\n    key: \"filtered_notifications\",\n    get: function get() {\n      return this.notifications.filter(function (message) {\n        return !['news', 'promotions'].includes(message.type);\n      });\n    }\n  }, {\n    key: \"addNotificationBar\",\n    value: function addNotificationBar(message) {\n      this.push_notifications.push(message);\n      this.push_notifications = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.unique)(this.push_notifications, 'msg_type');\n    }\n  }, {\n    key: \"addNotificationMessage\",\n    value: function addNotificationMessage(notification) {\n      if (!notification) return;\n\n      if (!this.notification_messages.find(function (item) {\n        return item.key === notification.key;\n      })) {\n        // Remove notification messages if it was already closed by user and exists in LocalStore\n        var active_loginid = _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.LocalStore.get('active_loginid');\n        var messages = _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.LocalStore.getObject('notification_messages');\n\n        if (active_loginid) {\n          // Check if is existing message to remove already closed messages stored in LocalStore\n          var is_existing_message = Array.isArray(messages[active_loginid]) ? messages[active_loginid].includes(notification.key) : false;\n\n          if (is_existing_message) {\n            this.markNotificationMessage({\n              key: notification.key\n            });\n          }\n\n          var sortFn = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isMobile)() ? _App_Components_Elements_NotificationMessage_constants__WEBPACK_IMPORTED_MODULE_7__.sortNotificationsMobile : _App_Components_Elements_NotificationMessage_constants__WEBPACK_IMPORTED_MODULE_7__.sortNotifications;\n          this.notification_messages = [].concat(_toConsumableArray(this.notification_messages), [notification]).sort(sortFn);\n\n          if (!_Helpers_client_notifications__WEBPACK_IMPORTED_MODULE_9__.excluded_notifications.includes(notification.key)) {\n            this.updateNotifications(this.notification_messages);\n          }\n        }\n      }\n    }\n  }, {\n    key: \"addNotificationMessageByKey\",\n    value: function addNotificationMessageByKey(key) {\n      if (key) this.addNotificationMessage(this.client_notifications[key]);\n    }\n  }, {\n    key: \"addVerificationNotifications\",\n    value: function addVerificationNotifications(identity, document) {\n      if (identity.status === 'expired') this.addNotificationMessage(this.client_notifications.poi_expired);\n      if (document.status === 'expired') this.addNotificationMessage(this.client_notifications.poa_expired);\n    }\n  }, {\n    key: \"filterNotificationMessages\",\n    value: function filterNotificationMessages() {\n      var _this2 = this;\n\n      if (_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.LocalStore.get('active_loginid') !== 'null') this.resetVirtualBalanceNotification(_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.LocalStore.get('active_loginid'));\n      this.notifications = this.notification_messages.filter(function (notification) {\n        if (notification.platform === undefined || notification.platform.includes((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getPathname)())) {\n          return true;\n        } else if (!notification.platform.includes((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getPathname)())) {\n          if (notification.is_disposable) {\n            _this2.removeNotificationMessage({\n              key: notification.key,\n              should_show_again: notification.should_show_again\n            });\n\n            _this2.removeNotificationByKey({\n              key: notification.key\n            });\n          }\n        }\n\n        return false;\n      });\n    }\n  }, {\n    key: \"handleClientNotifications\",\n    value: function handleClientNotifications() {\n      var _LocalStore$getObject;\n\n      var _this$root_store$clie2 = this.root_store.client,\n          account_settings = _this$root_store$clie2.account_settings,\n          account_status = _this$root_store$clie2.account_status,\n          accounts = _this$root_store$clie2.accounts,\n          has_iom_account = _this$root_store$clie2.has_iom_account,\n          has_malta_account = _this$root_store$clie2.has_malta_account,\n          is_eu = _this$root_store$clie2.is_eu,\n          is_identity_verification_needed = _this$root_store$clie2.is_identity_verification_needed,\n          is_logged_in = _this$root_store$clie2.is_logged_in,\n          is_tnc_needed = _this$root_store$clie2.is_tnc_needed,\n          isAccountOfType = _this$root_store$clie2.isAccountOfType,\n          landing_company_shortcode = _this$root_store$clie2.landing_company_shortcode,\n          loginid = _this$root_store$clie2.loginid,\n          obj_total_balance = _this$root_store$clie2.obj_total_balance,\n          website_status = _this$root_store$clie2.website_status;\n      var is_p2p_visible = this.root_store.modules.cashier.general_store.is_p2p_visible;\n      var is_10k_withdrawal_limit_reached = this.root_store.modules.cashier.withdraw.is_10k_withdrawal_limit_reached;\n      var _this$root_store$comm = this.root_store.common,\n          current_language = _this$root_store$comm.current_language,\n          selected_contract_type = _this$root_store$comm.selected_contract_type;\n      var malta_account = landing_company_shortcode === 'maltainvest';\n      var virtual_account = landing_company_shortcode === 'virtual';\n      var is_website_up = website_status.site_status === 'up';\n      var has_trustpilot = (_LocalStore$getObject = _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.LocalStore.getObject('notification_messages')[loginid]) === null || _LocalStore$getObject === void 0 ? void 0 : _LocalStore$getObject.includes(this.client_notifications.trustpilot.key);\n      var has_missing_required_field;\n\n      if (is_logged_in) {\n        var _account_status$authe = account_status.authentication,\n            document = _account_status$authe.document,\n            identity = _account_status$authe.identity,\n            needs_verification = _account_status$authe.needs_verification,\n            status = account_status.status,\n            cashier_validation = account_status.cashier_validation;\n        var hidden_close_account_notification = parseInt(localStorage.getItem('hide_close_mx_mlt_account_notification')) === 1;\n\n        var _getStatusValidations = (0,_Helpers_client_notifications__WEBPACK_IMPORTED_MODULE_9__.getStatusValidations)(status || []),\n            cashier_locked = _getStatusValidations.cashier_locked,\n            withdrawal_locked = _getStatusValidations.withdrawal_locked,\n            deposit_locked = _getStatusValidations.deposit_locked,\n            mt5_withdrawal_locked = _getStatusValidations.mt5_withdrawal_locked,\n            document_needs_action = _getStatusValidations.document_needs_action;\n\n        if (obj_total_balance.amount_real > 0) {\n          this.addNotificationMessage(this.client_notifications.two_f_a);\n        }\n\n        if (loginid !== _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.LocalStore.get('active_loginid')) return;\n\n        if ((has_iom_account || has_malta_account) && (!malta_account || !virtual_account) && !hidden_close_account_notification) {\n          this.addNotificationMessage(this.client_notifications.close_mx_mlt_account);\n        }\n\n        var client = accounts[loginid];\n\n        if (client && !client.is_virtual) {\n          if ((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isEmptyObject)(account_status)) return;\n          if (loginid !== _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.LocalStore.get('active_loginid')) return;\n\n          var _ref = cashier_validation ? (0,_Helpers_client_notifications__WEBPACK_IMPORTED_MODULE_9__.getCashierValidations)(cashier_validation) : {},\n              cashier_locked_status = _ref.cashier_locked_status,\n              documents_expired = _ref.documents_expired,\n              FinancialAssessmentRequired = _ref.FinancialAssessmentRequired,\n              is_virtual = _ref.is_virtual,\n              no_residence = _ref.no_residence,\n              no_withdrawal_or_trading_status = _ref.no_withdrawal_or_trading_status,\n              SelfExclusion = _ref.SelfExclusion,\n              system_maintenance = _ref.system_maintenance,\n              unwelcome_status = _ref.unwelcome_status,\n              withdrawal_locked_status = _ref.withdrawal_locked_status,\n              ASK_AUTHENTICATE = _ref.ASK_AUTHENTICATE,\n              ASK_CURRENCY = _ref.ASK_CURRENCY,\n              ASK_FINANCIAL_RISK_APPROVAL = _ref.ASK_FINANCIAL_RISK_APPROVAL,\n              ASK_FIX_DETAILS = _ref.ASK_FIX_DETAILS,\n              ASK_SELF_EXCLUSION_MAX_TURNOVER_SET = _ref.ASK_SELF_EXCLUSION_MAX_TURNOVER_SET,\n              ASK_TIN_INFORMATION = _ref.ASK_TIN_INFORMATION,\n              ASK_UK_FUNDS_PROTECTION = _ref.ASK_UK_FUNDS_PROTECTION;\n\n          this.addVerificationNotifications(identity, document);\n          var needs_poa = is_10k_withdrawal_limit_reached && (needs_verification.includes('document') || (document === null || document === void 0 ? void 0 : document.status) !== 'verified');\n          var needs_poi = is_10k_withdrawal_limit_reached && (identity === null || identity === void 0 ? void 0 : identity.status) !== 'verified';\n          if (needs_poa) this.addNotificationMessage(this.client_notifications.needs_poa);\n          if (needs_poi) this.addNotificationMessage(this.client_notifications.needs_poi);\n\n          if (system_maintenance) {\n            this.setClientNotifications(client);\n            this.addNotificationMessage(this.client_notifications.system_maintenance(withdrawal_locked, deposit_locked));\n          } else if (cashier_locked) {\n            if (is_virtual) {\n              this.addNotificationMessage(this.client_notifications.is_virtual);\n            } else if (no_residence) {\n              this.addNotificationMessage(this.client_notifications.no_residence);\n            } else if (documents_expired) {\n              this.addNotificationMessage(this.client_notifications.documents_expired);\n            } else if (cashier_locked_status) {\n              this.addNotificationMessage(this.client_notifications.cashier_locked);\n            } else if (ASK_CURRENCY) {\n              this.addNotificationMessage(this.client_notifications.currency);\n            } else if (ASK_AUTHENTICATE && is_identity_verification_needed) {\n              this.addNotificationMessage(this.client_notifications.identity);\n            } else if (ASK_AUTHENTICATE) {\n              this.addNotificationMessage(this.client_notifications.authenticate);\n            } else if (isAccountOfType('financial') && ASK_FINANCIAL_RISK_APPROVAL) {\n              this.addNotificationMessage(this.client_notifications.ask_financial_risk_approval);\n            } else if (FinancialAssessmentRequired) {\n              this.addNotificationMessage(this.client_notifications.risk);\n            } else if (isAccountOfType('financial') && ASK_TIN_INFORMATION) {\n              this.addNotificationMessage(this.client_notifications.tax);\n            } else if (ASK_UK_FUNDS_PROTECTION) {\n              this.addNotificationMessage(this.client_notifications.ask_uk_funds_protection);\n            } else if (ASK_SELF_EXCLUSION_MAX_TURNOVER_SET) {\n              this.addNotificationMessage(this.client_notifications.max_turnover_limit_not_set);\n            } else if (ASK_FIX_DETAILS) {\n              this.addNotificationMessage(this.client_notifications.required_fields(withdrawal_locked, deposit_locked));\n            } else {\n              this.addNotificationMessage(this.client_notifications.cashier_locked);\n            }\n          } else {\n            if (withdrawal_locked) {\n              if (ASK_AUTHENTICATE) {\n                this.addNotificationMessage(this.client_notifications.withdrawal_locked_review);\n              } else if (no_withdrawal_or_trading_status) {\n                this.addNotificationMessage(this.client_notifications.no_withdrawal_or_trading);\n              } else if (withdrawal_locked_status) {\n                this.addNotificationMessage(this.client_notifications.withdrawal_locked);\n              } else if (ASK_FIX_DETAILS) {\n                this.addNotificationMessage(this.client_notifications.required_fields(withdrawal_locked, deposit_locked));\n              }\n            }\n\n            if (deposit_locked) {\n              if (SelfExclusion) {\n                this.addNotificationMessage(this.client_notifications.self_exclusion(client.excluded_until));\n              } else if (unwelcome_status) {\n                this.addNotificationMessage(this.client_notifications.unwelcome);\n              }\n            }\n\n            if (is_identity_verification_needed) {\n              this.addNotificationMessage(this.client_notifications.identity);\n            }\n          }\n\n          if (mt5_withdrawal_locked) this.addNotificationMessage(this.client_notifications.mt5_withdrawal_locked);\n          if (document_needs_action) this.addNotificationMessage(this.client_notifications.document_needs_action);\n\n          if (is_p2p_visible) {\n            this.addNotificationMessage(this.client_notifications.dp2p);\n          } else {\n            this.removeNotificationMessageByKey({\n              key: this.client_notifications.dp2p.key\n            });\n          }\n\n          if (is_website_up && !has_trustpilot) {\n            this.addNotificationMessage(this.client_notifications.trustpilot);\n          }\n\n          if (is_tnc_needed) {\n            this.addNotificationMessage(this.client_notifications.tnc);\n          }\n\n          has_missing_required_field = (0,_Helpers_client_notifications__WEBPACK_IMPORTED_MODULE_9__.hasMissingRequiredField)(account_settings, client, isAccountOfType);\n\n          if (has_missing_required_field) {\n            this.addNotificationMessage(this.client_notifications.required_fields(withdrawal_locked, deposit_locked));\n          }\n        }\n      }\n\n      if (!is_eu && (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isMultiplierContract)(selected_contract_type) && current_language === 'EN' && is_logged_in) {\n        this.addNotificationMessage(this.client_notifications.deriv_go);\n      } else {\n        this.removeNotificationMessageByKey({\n          key: this.client_notifications.deriv_go.key\n        });\n      }\n\n      this.setShouldShowPopups(true);\n    }\n  }, {\n    key: \"markNotificationMessage\",\n    value: function markNotificationMessage(_ref2) {\n      var key = _ref2.key;\n      this.marked_notifications.push(key);\n    }\n  }, {\n    key: \"refreshNotifications\",\n    value: function refreshNotifications() {\n      this.removeNotifications(true);\n      this.removeAllNotificationMessages();\n      this.handleClientNotifications();\n    }\n  }, {\n    key: \"removeAllNotificationMessages\",\n    value: function removeAllNotificationMessages(should_close_persistent) {\n      this.notification_messages = should_close_persistent ? [] : _toConsumableArray(this.notification_messages.filter(function (notifs) {\n        return notifs.is_persistent;\n      }));\n    }\n  }, {\n    key: \"removeNotifications\",\n    value: function removeNotifications(should_close_persistent) {\n      this.notifications = should_close_persistent ? [] : _toConsumableArray(this.notifications.filter(function (notifs) {\n        return notifs.is_persistent;\n      }));\n    }\n  }, {\n    key: \"removeNotificationByKey\",\n    value: function removeNotificationByKey(_ref3) {\n      var key = _ref3.key;\n      this.notifications = this.notifications.filter(function (n) {\n        return n.key !== key;\n      });\n    }\n  }, {\n    key: \"removeNotificationMessage\",\n    value: function removeNotificationMessage() {\n      var _ref4 = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n          key = _ref4.key,\n          should_show_again = _ref4.should_show_again;\n\n      if (!key) return;\n      this.notification_messages = this.notification_messages.filter(function (n) {\n        return n.key !== key;\n      }); // Add notification messages to LocalStore when user closes, check for redundancy\n\n      var active_loginid = _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.LocalStore.get('active_loginid');\n\n      if (!_Helpers_client_notifications__WEBPACK_IMPORTED_MODULE_9__.excluded_notifications.includes(key) && active_loginid) {\n        var messages = _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.LocalStore.getObject('notification_messages'); // Check if same message already exists in LocalStore for this account\n\n        if (messages[active_loginid] && messages[active_loginid].includes(key)) {\n          return;\n        }\n\n        var getCurrentMessage = function getCurrentMessage() {\n          if (Array.isArray(messages[active_loginid])) {\n            messages[active_loginid].push(key);\n            return messages[active_loginid];\n          }\n\n          return [key];\n        };\n\n        if (!should_show_again) {\n          // Store message into LocalStore upon closing message\n          messages = _objectSpread(_objectSpread({}, messages), {}, _defineProperty({}, active_loginid, getCurrentMessage()));\n          _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.LocalStore.setObject('notification_messages', messages);\n        }\n      }\n    }\n  }, {\n    key: \"removeNotificationMessageByKey\",\n    value: function removeNotificationMessageByKey(_ref5) {\n      var key = _ref5.key;\n      this.notification_messages = this.notification_messages.filter(function (n) {\n        return n.key !== key;\n      });\n    }\n  }, {\n    key: \"resetVirtualBalanceNotification\",\n    value: function resetVirtualBalanceNotification(loginid) {\n      var _this$root_store$clie3 = this.root_store.client,\n          accounts = _this$root_store$clie3.accounts,\n          is_logged_in = _this$root_store$clie3.is_logged_in;\n      if (!is_logged_in) return;\n      if (!accounts[loginid].is_virtual) return;\n      var min_reset_limit = 1000;\n      var max_reset_limit = 999000;\n      var balance = parseInt(accounts[loginid].balance); // Display notification message to user with virtual account to reset their balance\n      // if the balance is less than equals to 1000 or more than equals to 999000\n\n      if (balance <= min_reset_limit || balance >= max_reset_limit) {\n        var message = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Your demo account balance is low. Reset your balance to continue trading from your demo account.');\n        if (balance >= max_reset_limit) message = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Your demo account balance has reached the maximum limit, and you will not be able to place new trades. Reset your balance to continue trading from your demo account.');\n        this.setClientNotifications({\n          resetVirtualBalance: this.root_store.client.resetVirtualBalance,\n          message: message\n        });\n        this.addNotificationMessage(this.client_notifications.reset_virtual_balance);\n      } else {\n        this.removeNotificationByKey({\n          key: 'reset_virtual_balance'\n        });\n        this.removeNotificationMessage({\n          key: 'reset_virtual_balance',\n          should_show_again: true\n        });\n      }\n    }\n  }, {\n    key: \"setClientNotifications\",\n    value: function setClientNotifications() {\n      var _this3 = this;\n\n      var client = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var mx_mlt_custom_header = this.custom_notifications.mx_mlt_notification.header();\n      var mx_mlt_custom_content = this.custom_notifications.mx_mlt_notification.main();\n      var ui = this.root_store.ui;\n      var notifications = {\n        ask_financial_risk_approval: {\n          key: 'ask_financial_risk_approval',\n          header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Complete your Appropriateness Test'),\n          message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Please click the following link to complete your Appropriateness Test.'),\n          action: {\n            route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.financial_assessment,\n            text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Click here')\n          },\n          type: 'warning'\n        },\n        ask_uk_funds_protection: {\n          key: 'ask_uk_funds_protection',\n          header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Your cashier is locked'),\n          message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('See how we protect your funds to unlock the cashier.'),\n          action: {\n            route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.cashier_deposit,\n            text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Find out more')\n          },\n          type: 'warning'\n        },\n        authenticate: {\n          key: 'authenticate',\n          header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Your account has not been verified'),\n          message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Please submit your proof of identity and proof of address to verify your account in your account settings to access the cashier.'),\n          action: {\n            route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.proof_of_identity,\n            text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Go to my account settings')\n          },\n          type: 'warning'\n        },\n        cashier_locked: {\n          key: 'cashier_locked',\n          header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Your cashier is currently locked'),\n          message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Please contact us via live chat to unlock it.'),\n          action: {\n            onClick: function onClick() {\n              window.LC_API.open_chat_window();\n            },\n            text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Go to live chat')\n          },\n          type: 'warning'\n        },\n        trustpilot: {\n          key: 'trustpilot',\n          header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Enjoy using Deriv?'),\n          header_popup: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('We’d love to hear your thoughts'),\n          message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Drop your review on Trustpilot.'),\n          message_popup: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Drop your review on Trustpilot.'),\n          action: {\n            onClick: function onClick() {\n              window.open('https://www.trustpilot.com/evaluate/deriv.com', '_blank');\n\n              _this3.removeNotificationByKey({\n                key: _this3.client_notifications.trustpilot.key\n              });\n\n              _this3.removeNotificationMessage({\n                key: _this3.client_notifications.trustpilot.key,\n                should_show_again: false\n              });\n            },\n            text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Go to Trustpilot')\n          },\n          img_src: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getUrlBase)('/public/images/common/trustpilot_banner.png'),\n          img_alt: 'Trustpilot',\n          className: 'trustpilot',\n          type: 'trustpilot'\n        },\n        close_mx_mlt_account: {\n          key: 'close_mx_mlt_account',\n          header: mx_mlt_custom_header,\n          message: mx_mlt_custom_content,\n          secondary_btn: {\n            text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Learn more'),\n            onClick: function onClick() {\n              ui.showCloseMxMltAccountPopup(true);\n            }\n          },\n          img_src: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getUrlBase)('/public/images/common/close_account_banner.png'),\n          img_alt: 'close mx mlt account',\n          type: 'close_mx_mlt'\n        },\n        currency: {\n          key: 'currency',\n          header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('You have not selected your account currency'),\n          message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Please set your account currency to enable deposits and withdrawals.'),\n          action: {\n            onClick: function onClick() {\n              ui.openRealAccountSignup('set_currency');\n            },\n            text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Set my account currency')\n          },\n          type: 'danger'\n        },\n        deriv_go: {\n          key: 'deriv_go',\n          message: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5__.createElement(_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.Localize, {\n            i18n_default_text: \"Get a faster mobile trading experience with the <0>Deriv GO</0> app!\",\n            components: [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5__.createElement(_deriv_components__WEBPACK_IMPORTED_MODULE_0__.StaticUrl, {\n              key: 0,\n              className: \"link dark\",\n              href: \"/landing/deriv-go\"\n            })]\n          }),\n          cta_btn: {\n            text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Learn more'),\n            onClick: function onClick() {\n              window.open((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getStaticUrl)('/landing/deriv-go'), '_blank');\n            }\n          },\n          img_src: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getUrlBase)('/public/images/common/derivgo_banner.png'),\n          img_alt: 'deriv_go',\n          type: 'promotions'\n        },\n        documents_expired: {\n          key: 'poi_expired',\n          header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('You submitted expired identification documents'),\n          message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Please submit valid identity documents to unlock the cashier.'),\n          action: {\n            route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.proof_of_identity,\n            text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Submit identity documents')\n          },\n          type: 'danger'\n        },\n        document_needs_action: {\n          key: 'document_needs_action',\n          header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Authentication failed'),\n          message: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5__.createElement(_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.Localize, {\n            i18n_default_text: \"<0>Your Proof of Identity or Proof of Address</0> did not meet our requirements. Please check your email for further instructions.\",\n            components: [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5__.createElement(App_Components_Routes__WEBPACK_IMPORTED_MODULE_3__.BinaryLink, {\n              key: 0,\n              className: \"link\",\n              to: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.proof_of_identity\n            })]\n          }),\n          type: 'warning'\n        },\n        dp2p: {\n          key: 'dp2p',\n          header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Payment problems?'),\n          message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('There’s an app for that'),\n          primary_btn: {\n            text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Learn more'),\n            onClick: function onClick() {\n              window.open((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getStaticUrl)('/p2p'), '_blank');\n            }\n          },\n          img_src: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getUrlBase)('/public/images/common/dp2p_banner.png'),\n          img_alt: 'Deriv P2P',\n          type: 'news'\n        },\n        identity: {\n          key: 'identity',\n          header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Let’s verify your ID'),\n          message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('You need to make a quick identity verification before you can access the Cashier. Please go to your account settings to submit your proof of identity.'),\n          action: {\n            route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.proof_of_identity,\n            text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Go to my account settings')\n          },\n          type: 'warning'\n        },\n        install_pwa: {\n          key: 'install_pwa',\n          action: {\n            onClick: function onClick() {\n              return ui.installWithDeferredPrompt();\n            },\n            text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Install')\n          },\n          header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Install the DTrader web app'),\n          message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Launch DTrader in seconds the next time you want to trade.'),\n          type: 'announce',\n          should_hide_close_btn: false\n        },\n        is_virtual: {\n          key: 'is_virtual',\n          header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('You are on your demo account'),\n          message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Please switch to your real account or create one to access the cashier.'),\n          type: 'warning'\n        },\n        max_turnover_limit_not_set: {\n          key: 'max_turnover_limit_not_set',\n          header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('You’ve not set your 30-day turnover limit'),\n          message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Your access to the cashier has been temporarily disabled as you have not set your 30-day turnover limit. Please go to Self-exclusion and set the limit.'),\n          action: {\n            route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.self_exclusion,\n            text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Go to Self-exclusion')\n          },\n          type: 'danger'\n        },\n        mt5_withdrawal_locked: {\n          key: 'mt5_withdrawal_locked',\n          header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('MT5 withdrawal disabled'),\n          message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('MT5 withdrawals have been disabled on your account. Please check your email for more details.'),\n          type: 'warning'\n        },\n        needs_poa: {\n          action: {\n            route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.proof_of_address,\n            text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Verify address')\n          },\n          key: 'needs_poa',\n          header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Please verify your proof of address'),\n          message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('To continue trading with us, please confirm where you live.'),\n          type: 'danger'\n        },\n        needs_poi: {\n          action: {\n            route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.proof_of_identity,\n            text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Verify identity')\n          },\n          key: 'needs_poi',\n          header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Please verify your proof of identity'),\n          message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('To continue trading with us, please confirm who you are.'),\n          type: 'danger'\n        },\n        needs_poa_virtual: {\n          action: {\n            route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.proof_of_address,\n            text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Verify address')\n          },\n          key: 'needs_poa_virtual',\n          header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Please Verify your address'),\n          message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('We couldn’t verify your personal details with our records, to enable deposit, withdrawals and trading, you need to upload proof of your address.'),\n          type: 'danger'\n        },\n        needs_poi_virtual: {\n          action: {\n            onClick: function () {\n              var _onClick = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n                var switchAccount, first_switchable_real_loginid;\n                return regeneratorRuntime.wrap(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        switchAccount = client.switchAccount, first_switchable_real_loginid = client.first_switchable_real_loginid;\n                        _context.next = 3;\n                        return switchAccount(first_switchable_real_loginid);\n\n                      case 3:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, _callee);\n              }));\n\n              function onClick() {\n                return _onClick.apply(this, arguments);\n              }\n\n              return onClick;\n            }(),\n            text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Verify identity')\n          },\n          key: 'needs_poi_virtual',\n          header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Please Verify your identity'),\n          message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('We couldn’t verify your personal details with our records, to enable deposit, withdrawals and trading, you need to upload proof of your identity.'),\n          type: 'danger'\n        },\n        new_version_available: {\n          action: {\n            onClick: function onClick() {\n              return window.location.reload();\n            },\n            text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Refresh now')\n          },\n          key: 'new_version_available',\n          header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('A new version of Deriv is available'),\n          message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('This page will automatically refresh in 5 minutes to load the latest version.'),\n          type: 'warning',\n          should_hide_close_btn: true,\n          timeout: 300000,\n          timeoutMessage: function timeoutMessage(remaining) {\n            return (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Auto update in {{ remaining }} seconds', {\n              remaining: remaining\n            });\n          }\n        },\n        no_residence: {\n          key: 'no_residence',\n          header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('You have not selected your country of residence'),\n          message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Please set your country of residence in your account settings to access the cashier.'),\n          action: {\n            route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.personal_details,\n            text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Go to my account settings')\n          },\n          type: 'warning'\n        },\n        no_withdrawal_or_trading: {\n          key: 'no_withdrawal_or_trading',\n          header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('You are only allowed to make deposits'),\n          message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Please contact us via live chat to enable withdrawals.'),\n          action: {\n            onClick: function onClick() {\n              window.LC_API.open_chat_window();\n            },\n            text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Go to live chat')\n          },\n          type: 'warning'\n        },\n        password_changed: {\n          key: 'password_changed',\n          header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Password updated.'),\n          message: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5__.createElement(_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.Localize, {\n            i18n_default_text: \"Please log in with your updated password.\"\n          }),\n          type: 'info'\n        },\n        required_fields: function required_fields(withdrawal_locked, deposit_locked) {\n          var message;\n\n          if (withdrawal_locked) {\n            message = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Please go to your account settings and complete your personal details to enable withdrawals.');\n          } else if (deposit_locked) {\n            message = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Please go to your account settings and complete your personal details to enable deposits.');\n          } else {\n            message = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Please go to your account settings and complete your personal details to enable deposits and withdrawals.');\n          }\n\n          return {\n            key: 'required_fields',\n            header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Your personal details are incomplete'),\n            message: message,\n            type: 'danger',\n            action: {\n              route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.personal_details,\n              text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Go to my account settings')\n            }\n          };\n        },\n        reset_virtual_balance: {\n          key: 'reset_virtual_balance',\n          header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Reset your balance'),\n          message: client.message,\n          type: 'info',\n          is_persistent: true,\n          should_show_again: true,\n          platform: [_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.platform_name.DTrader],\n          is_disposable: true,\n          action: {\n            text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Reset balance'),\n            onClick: function () {\n              var _onClick2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2() {\n                return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                  while (1) {\n                    switch (_context2.prev = _context2.next) {\n                      case 0:\n                        _context2.next = 2;\n                        return client.resetVirtualBalance();\n\n                      case 2:\n                      case \"end\":\n                        return _context2.stop();\n                    }\n                  }\n                }, _callee2);\n              }));\n\n              function onClick() {\n                return _onClick2.apply(this, arguments);\n              }\n\n              return onClick;\n            }()\n          }\n        },\n        risk: {\n          key: 'risk',\n          header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Your cashier is locked'),\n          message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Please complete the financial assessment in your account settings to unlock it.'),\n          action: {\n            route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.financial_assessment,\n            text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Go to my account settings')\n          },\n          type: 'warning'\n        },\n        self_exclusion: function self_exclusion(excluded_until) {\n          return {\n            key: 'self_exclusion',\n            header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('You have self-excluded from trading'),\n            message: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5__.createElement(_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.Localize, {\n              i18n_default_text: \"You have chosen to exclude yourself from trading on our website until {{exclusion_end}}. If you are unable to place a trade or deposit after your self-exclusion period, please contact us via live chat.\",\n              values: {\n                exclusion_end: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.formatDate)(excluded_until, 'DD MMM, YYYY'),\n                interpolation: {\n                  escapeValue: false\n                }\n              }\n            }),\n            action: {\n              onClick: function onClick() {\n                window.LC_API.open_chat_window();\n              },\n              text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Go to live chat')\n            },\n            type: 'danger'\n          };\n        },\n        system_maintenance: function system_maintenance(withdrawal_locked, deposit_locked) {\n          var message, header;\n\n          if ((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.isCryptocurrency)(client.currency)) {\n            if (withdrawal_locked) {\n              header = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Unable to process withdrawals in the moment');\n              message = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Withdrawals are temporarily unavailable due to system maintenance. You can make withdrawals when the maintenance is complete.');\n            } else if (deposit_locked) {\n              header = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Unable to process deposit in the moment');\n              message = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Deposits are temporarily unavailable due to system maintenance. You can make deposits when the maintenance is complete.');\n            } else {\n              header = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Scheduled cashier system maintenance');\n              message = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Our cryptocurrency cashier is temporarily down due to system maintenance. You can make cryptocurrency deposits and withdrawals in a few minutes when the maintenance is complete.');\n            }\n          } else {\n            header = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Scheduled cashier system maintenance');\n            message = (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Our cashier is temporarily down due to system maintenance. You can access the cashier in a few minutes when the maintenance is complete.');\n          }\n\n          return {\n            key: 'system_maintenance',\n            header: header,\n            message: message,\n            type: 'warning'\n          };\n        },\n        tax: {\n          key: 'tax',\n          header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('You have not provided your tax identification number'),\n          message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('This information is necessary for legal and regulatory requirements. Please go to your account settings, and fill in your latest tax identification number.'),\n          action: {\n            route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.personal_details,\n            text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Go to my account settings')\n          },\n          type: 'danger'\n        },\n        tnc: {\n          action: {\n            onClick: function () {\n              var _onClick3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3() {\n                return regeneratorRuntime.wrap(function _callee3$(_context3) {\n                  while (1) {\n                    switch (_context3.prev = _context3.next) {\n                      case 0:\n                        _context3.next = 2;\n                        return Services__WEBPACK_IMPORTED_MODULE_6__.WS.tncApproval();\n\n                      case 2:\n                        Services__WEBPACK_IMPORTED_MODULE_6__.WS.getSettings();\n\n                      case 3:\n                      case \"end\":\n                        return _context3.stop();\n                    }\n                  }\n                }, _callee3);\n              }));\n\n              function onClick() {\n                return _onClick3.apply(this, arguments);\n              }\n\n              return onClick;\n            }(),\n            text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('I accept')\n          },\n          key: 'tnc',\n          header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Terms & conditions updated'),\n          message: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5__.createElement(_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.Localize, {\n            i18n_default_text: \"Please accept our <0>updated Terms and Conditions</0> to proceed.\",\n            components: [/*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5__.createElement(_deriv_components__WEBPACK_IMPORTED_MODULE_0__.StaticUrl, {\n              key: 0,\n              className: \"link\",\n              href: \"terms-and-conditions\"\n            })]\n          }),\n          type: 'warning'\n        },\n        two_f_a: {\n          key: 'two_f_a',\n          header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Stronger security for your Deriv account'),\n          message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('With two-factor authentication, you’ll protect your account with both your password and your phone - so only you can access your account, even if someone knows your password.'),\n          action: {\n            route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.two_factor_authentication,\n            text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Secure my account')\n          },\n          type: 'warning'\n        },\n        unwelcome: {\n          key: 'unwelcome',\n          header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Deposits are locked'),\n          message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Please contact us via live chat.'),\n          action: {\n            onClick: function onClick() {\n              window.LC_API.open_chat_window();\n            },\n            text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Go to live chat')\n          },\n          type: 'danger'\n        },\n        withdrawal_locked: {\n          key: 'withdrawal_locked',\n          header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('You are only allowed to make deposits'),\n          message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Please contact us via live chat to enable withdrawals.'),\n          action: {\n            onClick: function onClick() {\n              window.LC_API.open_chat_window();\n            },\n            text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Go to live chat')\n          },\n          type: 'warning'\n        },\n        withdrawal_locked_review: {\n          key: 'withdrawal_locked_review',\n          header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Your withdrawal is locked'),\n          message: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Please submit your Proof of Identity again and complete the financial assessment in account setting to unlock it.'),\n          action: {\n            route: _deriv_shared__WEBPACK_IMPORTED_MODULE_1__.routes.proof_of_identity,\n            text: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('Go to my account settings')\n          },\n          type: 'warning'\n        },\n        you_are_offline: {\n          key: 'you_are_offline',\n          header: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.localize)('You are offline'),\n          message: /*#__PURE__*/react__WEBPACK_IMPORTED_MODULE_5__.createElement(_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.Localize, {\n            i18n_default_text: \"Check your connection.\"\n          }),\n          type: 'danger'\n        }\n      };\n      this.client_notifications = notifications;\n    }\n  }, {\n    key: \"setShouldShowPopups\",\n    value: function setShouldShowPopups(should_show_popups) {\n      this.should_show_popups = should_show_popups;\n    }\n  }, {\n    key: \"toggleNotificationsModal\",\n    value: function toggleNotificationsModal() {\n      this.is_notifications_visible = !this.is_notifications_visible;\n    }\n  }, {\n    key: \"unmarkNotificationMessage\",\n    value: function unmarkNotificationMessage(_ref6) {\n      var key = _ref6.key;\n      this.marked_notifications = this.marked_notifications.filter(function (item) {\n        return key !== item;\n      });\n    }\n  }, {\n    key: \"updateNotifications\",\n    value: function updateNotifications(notifications_array) {\n      this.notifications = notifications_array.filter(function (message) {\n        return !_Helpers_client_notifications__WEBPACK_IMPORTED_MODULE_9__.excluded_notifications.includes(message.key);\n      });\n    }\n  }]);\n\n  return NotificationStore;\n}(_base_store__WEBPACK_IMPORTED_MODULE_8__[\"default\"]), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"is_notifications_visible\", [mobx__WEBPACK_IMPORTED_MODULE_4__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"notifications\", [mobx__WEBPACK_IMPORTED_MODULE_4__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return [];\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"notification_messages\", [mobx__WEBPACK_IMPORTED_MODULE_4__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return [];\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"marked_notifications\", [mobx__WEBPACK_IMPORTED_MODULE_4__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return [];\n  }\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"push_notifications\", [mobx__WEBPACK_IMPORTED_MODULE_4__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return [];\n  }\n}), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"client_notifications\", [mobx__WEBPACK_IMPORTED_MODULE_4__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return {};\n  }\n}), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"should_show_popups\", [mobx__WEBPACK_IMPORTED_MODULE_4__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"custom_notifications\", [mobx__WEBPACK_IMPORTED_MODULE_4__.computed], Object.getOwnPropertyDescriptor(_class.prototype, \"custom_notifications\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"filtered_notifications\", [mobx__WEBPACK_IMPORTED_MODULE_4__.computed], Object.getOwnPropertyDescriptor(_class.prototype, \"filtered_notifications\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"addNotificationBar\", [_dec], Object.getOwnPropertyDescriptor(_class.prototype, \"addNotificationBar\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"addNotificationMessage\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"addNotificationMessage\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"addNotificationMessageByKey\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"addNotificationMessageByKey\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"addVerificationNotifications\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"addVerificationNotifications\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"filterNotificationMessages\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"filterNotificationMessages\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"handleClientNotifications\", [_dec6], Object.getOwnPropertyDescriptor(_class.prototype, \"handleClientNotifications\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"markNotificationMessage\", [_dec7], Object.getOwnPropertyDescriptor(_class.prototype, \"markNotificationMessage\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"refreshNotifications\", [_dec8], Object.getOwnPropertyDescriptor(_class.prototype, \"refreshNotifications\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"removeAllNotificationMessages\", [_dec9], Object.getOwnPropertyDescriptor(_class.prototype, \"removeAllNotificationMessages\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"removeNotifications\", [_dec10], Object.getOwnPropertyDescriptor(_class.prototype, \"removeNotifications\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"removeNotificationByKey\", [_dec11], Object.getOwnPropertyDescriptor(_class.prototype, \"removeNotificationByKey\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"removeNotificationMessage\", [_dec12], Object.getOwnPropertyDescriptor(_class.prototype, \"removeNotificationMessage\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"removeNotificationMessageByKey\", [_dec13], Object.getOwnPropertyDescriptor(_class.prototype, \"removeNotificationMessageByKey\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"resetVirtualBalanceNotification\", [_dec14], Object.getOwnPropertyDescriptor(_class.prototype, \"resetVirtualBalanceNotification\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setClientNotifications\", [_dec15], Object.getOwnPropertyDescriptor(_class.prototype, \"setClientNotifications\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setShouldShowPopups\", [_dec16], Object.getOwnPropertyDescriptor(_class.prototype, \"setShouldShowPopups\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleNotificationsModal\", [_dec17], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleNotificationsModal\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"unmarkNotificationMessage\", [_dec18], Object.getOwnPropertyDescriptor(_class.prototype, \"unmarkNotificationMessage\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"updateNotifications\", [_dec19], Object.getOwnPropertyDescriptor(_class.prototype, \"updateNotifications\"), _class.prototype)), _class));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9TdG9yZXMvbm90aWZpY2F0aW9uLXN0b3JlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFjQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBT0E7Ozs7O0FBU0E7QUFBQTs7QUFBQTs7QUFDQTtBQUFBO0FBQUE7O0FBREE7O0FBQUE7O0FBQUE7O0FBQUE7O0FBQUE7O0FBQUE7O0FBQUE7O0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFFQTtBQUNBOztBQUFBO0FBQUE7QUFTQTtBQUtBOztBQUNBOztBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQTVCQTtBQThCQTs7OztBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQWhCQTtBQURBO0FBb0JBO0FBQ0E7OztBQUVBO0FBRUE7QUFBQTtBQUFBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUVBOztBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBSUE7QUFDQTtBQUFBO0FBQUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFFQTtBQUNBOzs7QUFFQTtBQUVBO0FBRUE7QUFDQTs7O0FBRUE7QUFDQTs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTs7QUFJQTtBQUFBO0FBQUE7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTs7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFnQkE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSUE7O0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFNQTs7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBR0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBS0E7QUFDQTs7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQW9CQTtBQUNBO0FBR0E7QUFFQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTs7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFFQTtBQUVBO0FBQUE7QUFDQTs7O0FBRUE7QUFFQTtBQUVBO0FBQUE7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBOzs7QUFFQTtBQUNBO0FBQUE7QUFBQTs7QUFDQTtBQUNBO0FBQUE7QUFBQTs7QUFFQTs7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTs7O0FBRUE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7O0FBQ0E7QUFDQTtBQUdBO0FBSUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBOztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFSQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQVJBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBVkE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBVkE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0E7QUFBQTtBQUFBOztBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQVRBO0FBV0E7QUFDQTtBQUNBO0FBQ0E7QUFwQkE7QUFzQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFNQTtBQUNBO0FBQ0E7QUFaQTtBQWNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFWQTtBQVlBO0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUZBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBaEJBO0FBa0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQVJBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFGQTtBQUtBO0FBVEE7QUFXQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQVpBO0FBY0E7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBVkE7QUFZQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFUQTtBQVdBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQVZBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFHQTtBQU5BO0FBUUE7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQVVBO0FBQ0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFHQTtBQVZBO0FBWUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBS0E7QUFOQTtBQVFBO0FBQ0E7QUFDQTtBQUdBO0FBZEE7QUFnQkE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRkE7QUFJQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBWEE7QUFhQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFWQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFWQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBSkE7QUFNQTtBQUNBOztBQUNBO0FBQ0E7QUFHQTtBQUNBO0FBR0E7QUFDQTtBQUdBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUxBO0FBVUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUZBO0FBVEE7QUFnQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBUkE7QUFVQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBRkE7QUFGQTtBQVFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBbEJBO0FBb0JBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFWQTtBQVlBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBRUE7O0FBRkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBQUE7QUFBQTtBQUFBOztBQUFBO0FBQUE7QUFJQTtBQUxBO0FBT0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBRkE7QUFLQTtBQWhCQTtBQWtCQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFWQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFWQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBTUE7QUFWQTtBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRkE7QUFJQTtBQVZBO0FBWUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFKQTtBQXRkQTtBQTZkQTtBQUNBOzs7QUFFQTtBQUVBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBOzs7QUFFQTtBQUVBO0FBQUE7QUFBQTtBQUNBOzs7O0FBcjVCQTs7Ozs7QUFDQTs7QUFDQTs7Ozs7QUFBQTs7QUFDQTs7Ozs7QUFBQTs7QUFDQTs7Ozs7QUFBQTs7QUFDQTs7Ozs7QUFBQTs7QUFDQTs7Ozs7QUFBQTs7QUFDQTs7Ozs7QUFBQTs7QUFrQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9TdG9yZXMvbm90aWZpY2F0aW9uLXN0b3JlLmpzP2JhMTgiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgU3RhdGljVXJsIH0gZnJvbSAnQGRlcml2L2NvbXBvbmVudHMnO1xuaW1wb3J0IHtcbiAgICBmb3JtYXREYXRlLFxuICAgIGdldFBhdGhuYW1lLFxuICAgIGdldFN0YXRpY1VybCxcbiAgICBnZXRVcmxCYXNlLFxuICAgIGlzQ3J5cHRvY3VycmVuY3ksXG4gICAgaXNFbXB0eU9iamVjdCxcbiAgICBpc01vYmlsZSxcbiAgICBpc011bHRpcGxpZXJDb250cmFjdCxcbiAgICBMb2NhbFN0b3JlLFxuICAgIHBsYXRmb3JtX25hbWUsXG4gICAgcm91dGVzLFxuICAgIHVuaXF1ZSxcbn0gZnJvbSAnQGRlcml2L3NoYXJlZCc7XG5pbXBvcnQgeyBsb2NhbGl6ZSwgTG9jYWxpemUgfSBmcm9tICdAZGVyaXYvdHJhbnNsYXRpb25zJztcbmltcG9ydCB7IEJpbmFyeUxpbmsgfSBmcm9tICdBcHAvQ29tcG9uZW50cy9Sb3V0ZXMnO1xuaW1wb3J0IHsgYWN0aW9uLCBjb21wdXRlZCwgb2JzZXJ2YWJsZSwgcmVhY3Rpb24gfSBmcm9tICdtb2J4JztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBXUyB9IGZyb20gJ1NlcnZpY2VzJztcbmltcG9ydCB7IHNvcnROb3RpZmljYXRpb25zLCBzb3J0Tm90aWZpY2F0aW9uc01vYmlsZSB9IGZyb20gJy4uL0FwcC9Db21wb25lbnRzL0VsZW1lbnRzL05vdGlmaWNhdGlvbk1lc3NhZ2UvY29uc3RhbnRzJztcbmltcG9ydCBCYXNlU3RvcmUgZnJvbSAnLi9iYXNlLXN0b3JlJztcbmltcG9ydCB7XG4gICAgZXhjbHVkZWRfbm90aWZpY2F0aW9ucyxcbiAgICBnZXRDYXNoaWVyVmFsaWRhdGlvbnMsXG4gICAgZ2V0U3RhdHVzVmFsaWRhdGlvbnMsXG4gICAgaGFzTWlzc2luZ1JlcXVpcmVkRmllbGQsXG59IGZyb20gJy4vSGVscGVycy9jbGllbnQtbm90aWZpY2F0aW9ucyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5vdGlmaWNhdGlvblN0b3JlIGV4dGVuZHMgQmFzZVN0b3JlIHtcbiAgICBAb2JzZXJ2YWJsZSBpc19ub3RpZmljYXRpb25zX3Zpc2libGUgPSBmYWxzZTtcbiAgICBAb2JzZXJ2YWJsZSBub3RpZmljYXRpb25zID0gW107XG4gICAgQG9ic2VydmFibGUgbm90aWZpY2F0aW9uX21lc3NhZ2VzID0gW107XG4gICAgQG9ic2VydmFibGUgbWFya2VkX25vdGlmaWNhdGlvbnMgPSBbXTtcbiAgICBAb2JzZXJ2YWJsZSBwdXNoX25vdGlmaWNhdGlvbnMgPSBbXTtcbiAgICBAb2JzZXJ2YWJsZSBjbGllbnRfbm90aWZpY2F0aW9ucyA9IHt9O1xuICAgIEBvYnNlcnZhYmxlIHNob3VsZF9zaG93X3BvcHVwcyA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3Iocm9vdF9zdG9yZSkge1xuICAgICAgICBzdXBlcih7IHJvb3Rfc3RvcmUgfSk7XG4gICAgICAgIHJlYWN0aW9uKFxuICAgICAgICAgICAgKCkgPT4gcm9vdF9zdG9yZS5jb21tb24uYXBwX3JvdXRpbmdfaGlzdG9yeS5tYXAoaSA9PiBpLnBhdGhuYW1lKSxcbiAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbHRlck5vdGlmaWNhdGlvbk1lc3NhZ2VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgICAgIHJlYWN0aW9uKFxuICAgICAgICAgICAgKCkgPT4gW1xuICAgICAgICAgICAgICAgIHJvb3Rfc3RvcmUuY2xpZW50LmFjY291bnRfc2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgcm9vdF9zdG9yZS5jbGllbnQuYWNjb3VudF9zdGF0dXMsXG4gICAgICAgICAgICAgICAgcm9vdF9zdG9yZS5jbGllbnQubGFuZGluZ19jb21wYW5pZXMsXG4gICAgICAgICAgICAgICAgcm9vdF9zdG9yZS5tb2R1bGVzPy5jYXNoaWVyPy5nZW5lcmFsX3N0b3JlPy5pc19wMnBfdmlzaWJsZSxcbiAgICAgICAgICAgICAgICByb290X3N0b3JlLmNvbW1vbj8uc2VsZWN0ZWRfY29udHJhY3RfdHlwZSxcbiAgICAgICAgICAgICAgICByb290X3N0b3JlLmNsaWVudC5pc19ldSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgICAgICAgICAhcm9vdF9zdG9yZS5jbGllbnQuaXNfbG9nZ2VkX2luIHx8XG4gICAgICAgICAgICAgICAgICAgIChPYmplY3Qua2V5cyhyb290X3N0b3JlLmNsaWVudC5hY2NvdW50X3N0YXR1cykubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmtleXMocm9vdF9zdG9yZS5jbGllbnQubGFuZGluZ19jb21wYW5pZXMpLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlTm90aWZpY2F0aW9ucygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZUFsbE5vdGlmaWNhdGlvbk1lc3NhZ2VzKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2xpZW50Tm90aWZpY2F0aW9ucygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUNsaWVudE5vdGlmaWNhdGlvbnMoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgQGNvbXB1dGVkXG4gICAgZ2V0IGN1c3RvbV9ub3RpZmljYXRpb25zKCkge1xuICAgICAgICBjb25zdCB7IGhhc19tYWx0YV9hY2NvdW50LCBjYW5faGF2ZV9tbHRfYWNjb3VudCwgaXNfdWsgfSA9IHRoaXMucm9vdF9zdG9yZS5jbGllbnQ7XG4gICAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbl9jb250ZW50ID0ge1xuICAgICAgICAgICAgbXhfbWx0X25vdGlmaWNhdGlvbjoge1xuICAgICAgICAgICAgICAgIGhlYWRlcjogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGFzX21hbHRhX2FjY291bnQgfHwgY2FuX2hhdmVfbWx0X2FjY291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZSgnWW91ciBPcHRpb25zIGFjY291bnQgaXMgc2NoZWR1bGVkIHRvIGJlIGNsb3NlZCcpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzX3VrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxpemUoJ1lvdXIgR2FtaW5nIGFjY291bnQgaXMgc2NoZWR1bGVkIHRvIGJlIGNsb3NlZCcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZSgnWW91ciBhY2NvdW50IGlzIHNjaGVkdWxlZCB0byBiZSBjbG9zZWQnKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG1haW46ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhc19tYWx0YV9hY2NvdW50IHx8IGNhbl9oYXZlX21sdF9hY2NvdW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxpemUoJ1dpdGhkcmF3IGFsbCBmdW5kcyBmcm9tIHlvdXIgT3B0aW9ucyBhY2NvdW50LicpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzX3VrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG9jYWxpemUoJ1BsZWFzZSB3aXRoZHJhdyBhbGwgeW91ciBmdW5kcyBhcyBzb29uIGFzIHBvc3NpYmxlLicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsb2NhbGl6ZSgnUGxlYXNlIHByb2NlZWQgdG8gd2l0aGRyYXcgeW91ciBmdW5kcyBiZWZvcmUgMzAgTm92ZW1iZXIgMjAyMS4nKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIG5vdGlmaWNhdGlvbl9jb250ZW50O1xuICAgIH1cblxuICAgIEBjb21wdXRlZFxuICAgIGdldCBmaWx0ZXJlZF9ub3RpZmljYXRpb25zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5ub3RpZmljYXRpb25zLmZpbHRlcihtZXNzYWdlID0+ICFbJ25ld3MnLCAncHJvbW90aW9ucyddLmluY2x1ZGVzKG1lc3NhZ2UudHlwZSkpO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBhZGROb3RpZmljYXRpb25CYXIobWVzc2FnZSkge1xuICAgICAgICB0aGlzLnB1c2hfbm90aWZpY2F0aW9ucy5wdXNoKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLnB1c2hfbm90aWZpY2F0aW9ucyA9IHVuaXF1ZSh0aGlzLnB1c2hfbm90aWZpY2F0aW9ucywgJ21zZ190eXBlJyk7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIGFkZE5vdGlmaWNhdGlvbk1lc3NhZ2Uobm90aWZpY2F0aW9uKSB7XG4gICAgICAgIGlmICghbm90aWZpY2F0aW9uKSByZXR1cm47XG4gICAgICAgIGlmICghdGhpcy5ub3RpZmljYXRpb25fbWVzc2FnZXMuZmluZChpdGVtID0+IGl0ZW0ua2V5ID09PSBub3RpZmljYXRpb24ua2V5KSkge1xuICAgICAgICAgICAgLy8gUmVtb3ZlIG5vdGlmaWNhdGlvbiBtZXNzYWdlcyBpZiBpdCB3YXMgYWxyZWFkeSBjbG9zZWQgYnkgdXNlciBhbmQgZXhpc3RzIGluIExvY2FsU3RvcmVcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZV9sb2dpbmlkID0gTG9jYWxTdG9yZS5nZXQoJ2FjdGl2ZV9sb2dpbmlkJyk7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlcyA9IExvY2FsU3RvcmUuZ2V0T2JqZWN0KCdub3RpZmljYXRpb25fbWVzc2FnZXMnKTtcblxuICAgICAgICAgICAgaWYgKGFjdGl2ZV9sb2dpbmlkKSB7XG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgaXMgZXhpc3RpbmcgbWVzc2FnZSB0byByZW1vdmUgYWxyZWFkeSBjbG9zZWQgbWVzc2FnZXMgc3RvcmVkIGluIExvY2FsU3RvcmVcbiAgICAgICAgICAgICAgICBjb25zdCBpc19leGlzdGluZ19tZXNzYWdlID0gQXJyYXkuaXNBcnJheShtZXNzYWdlc1thY3RpdmVfbG9naW5pZF0pXG4gICAgICAgICAgICAgICAgICAgID8gbWVzc2FnZXNbYWN0aXZlX2xvZ2luaWRdLmluY2x1ZGVzKG5vdGlmaWNhdGlvbi5rZXkpXG4gICAgICAgICAgICAgICAgICAgIDogZmFsc2U7XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNfZXhpc3RpbmdfbWVzc2FnZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1hcmtOb3RpZmljYXRpb25NZXNzYWdlKHsga2V5OiBub3RpZmljYXRpb24ua2V5IH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IHNvcnRGbiA9IGlzTW9iaWxlKCkgPyBzb3J0Tm90aWZpY2F0aW9uc01vYmlsZSA6IHNvcnROb3RpZmljYXRpb25zO1xuICAgICAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9uX21lc3NhZ2VzID0gWy4uLnRoaXMubm90aWZpY2F0aW9uX21lc3NhZ2VzLCBub3RpZmljYXRpb25dLnNvcnQoc29ydEZuKTtcblxuICAgICAgICAgICAgICAgIGlmICghZXhjbHVkZWRfbm90aWZpY2F0aW9ucy5pbmNsdWRlcyhub3RpZmljYXRpb24ua2V5KSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZU5vdGlmaWNhdGlvbnModGhpcy5ub3RpZmljYXRpb25fbWVzc2FnZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBhZGROb3RpZmljYXRpb25NZXNzYWdlQnlLZXkoa2V5KSB7XG4gICAgICAgIGlmIChrZXkpIHRoaXMuYWRkTm90aWZpY2F0aW9uTWVzc2FnZSh0aGlzLmNsaWVudF9ub3RpZmljYXRpb25zW2tleV0pO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBhZGRWZXJpZmljYXRpb25Ob3RpZmljYXRpb25zKGlkZW50aXR5LCBkb2N1bWVudCkge1xuICAgICAgICBpZiAoaWRlbnRpdHkuc3RhdHVzID09PSAnZXhwaXJlZCcpIHRoaXMuYWRkTm90aWZpY2F0aW9uTWVzc2FnZSh0aGlzLmNsaWVudF9ub3RpZmljYXRpb25zLnBvaV9leHBpcmVkKTtcblxuICAgICAgICBpZiAoZG9jdW1lbnQuc3RhdHVzID09PSAnZXhwaXJlZCcpIHRoaXMuYWRkTm90aWZpY2F0aW9uTWVzc2FnZSh0aGlzLmNsaWVudF9ub3RpZmljYXRpb25zLnBvYV9leHBpcmVkKTtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgZmlsdGVyTm90aWZpY2F0aW9uTWVzc2FnZXMoKSB7XG4gICAgICAgIGlmIChMb2NhbFN0b3JlLmdldCgnYWN0aXZlX2xvZ2luaWQnKSAhPT0gJ251bGwnKVxuICAgICAgICAgICAgdGhpcy5yZXNldFZpcnR1YWxCYWxhbmNlTm90aWZpY2F0aW9uKExvY2FsU3RvcmUuZ2V0KCdhY3RpdmVfbG9naW5pZCcpKTtcbiAgICAgICAgdGhpcy5ub3RpZmljYXRpb25zID0gdGhpcy5ub3RpZmljYXRpb25fbWVzc2FnZXMuZmlsdGVyKG5vdGlmaWNhdGlvbiA9PiB7XG4gICAgICAgICAgICBpZiAobm90aWZpY2F0aW9uLnBsYXRmb3JtID09PSB1bmRlZmluZWQgfHwgbm90aWZpY2F0aW9uLnBsYXRmb3JtLmluY2x1ZGVzKGdldFBhdGhuYW1lKCkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFub3RpZmljYXRpb24ucGxhdGZvcm0uaW5jbHVkZXMoZ2V0UGF0aG5hbWUoKSkpIHtcbiAgICAgICAgICAgICAgICBpZiAobm90aWZpY2F0aW9uLmlzX2Rpc3Bvc2FibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZW1vdmVOb3RpZmljYXRpb25NZXNzYWdlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleTogbm90aWZpY2F0aW9uLmtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNob3VsZF9zaG93X2FnYWluOiBub3RpZmljYXRpb24uc2hvdWxkX3Nob3dfYWdhaW4sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZU5vdGlmaWNhdGlvbkJ5S2V5KHsga2V5OiBub3RpZmljYXRpb24ua2V5IH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIGhhbmRsZUNsaWVudE5vdGlmaWNhdGlvbnMoKSB7XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGFjY291bnRfc2V0dGluZ3MsXG4gICAgICAgICAgICBhY2NvdW50X3N0YXR1cyxcbiAgICAgICAgICAgIGFjY291bnRzLFxuICAgICAgICAgICAgaGFzX2lvbV9hY2NvdW50LFxuICAgICAgICAgICAgaGFzX21hbHRhX2FjY291bnQsXG4gICAgICAgICAgICBpc19ldSxcbiAgICAgICAgICAgIGlzX2lkZW50aXR5X3ZlcmlmaWNhdGlvbl9uZWVkZWQsXG4gICAgICAgICAgICBpc19sb2dnZWRfaW4sXG4gICAgICAgICAgICBpc190bmNfbmVlZGVkLFxuICAgICAgICAgICAgaXNBY2NvdW50T2ZUeXBlLFxuICAgICAgICAgICAgbGFuZGluZ19jb21wYW55X3Nob3J0Y29kZSxcbiAgICAgICAgICAgIGxvZ2luaWQsXG4gICAgICAgICAgICBvYmpfdG90YWxfYmFsYW5jZSxcbiAgICAgICAgICAgIHdlYnNpdGVfc3RhdHVzLFxuICAgICAgICB9ID0gdGhpcy5yb290X3N0b3JlLmNsaWVudDtcbiAgICAgICAgY29uc3QgeyBpc19wMnBfdmlzaWJsZSB9ID0gdGhpcy5yb290X3N0b3JlLm1vZHVsZXMuY2FzaGllci5nZW5lcmFsX3N0b3JlO1xuICAgICAgICBjb25zdCB7IGlzXzEwa193aXRoZHJhd2FsX2xpbWl0X3JlYWNoZWQgfSA9IHRoaXMucm9vdF9zdG9yZS5tb2R1bGVzLmNhc2hpZXIud2l0aGRyYXc7XG4gICAgICAgIGNvbnN0IHsgY3VycmVudF9sYW5ndWFnZSwgc2VsZWN0ZWRfY29udHJhY3RfdHlwZSB9ID0gdGhpcy5yb290X3N0b3JlLmNvbW1vbjtcbiAgICAgICAgY29uc3QgbWFsdGFfYWNjb3VudCA9IGxhbmRpbmdfY29tcGFueV9zaG9ydGNvZGUgPT09ICdtYWx0YWludmVzdCc7XG4gICAgICAgIGNvbnN0IHZpcnR1YWxfYWNjb3VudCA9IGxhbmRpbmdfY29tcGFueV9zaG9ydGNvZGUgPT09ICd2aXJ0dWFsJztcbiAgICAgICAgY29uc3QgaXNfd2Vic2l0ZV91cCA9IHdlYnNpdGVfc3RhdHVzLnNpdGVfc3RhdHVzID09PSAndXAnO1xuICAgICAgICBjb25zdCBoYXNfdHJ1c3RwaWxvdCA9IExvY2FsU3RvcmUuZ2V0T2JqZWN0KCdub3RpZmljYXRpb25fbWVzc2FnZXMnKVtsb2dpbmlkXT8uaW5jbHVkZXMoXG4gICAgICAgICAgICB0aGlzLmNsaWVudF9ub3RpZmljYXRpb25zLnRydXN0cGlsb3Qua2V5XG4gICAgICAgICk7XG5cbiAgICAgICAgbGV0IGhhc19taXNzaW5nX3JlcXVpcmVkX2ZpZWxkO1xuXG4gICAgICAgIGlmIChpc19sb2dnZWRfaW4pIHtcbiAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICBhdXRoZW50aWNhdGlvbjogeyBkb2N1bWVudCwgaWRlbnRpdHksIG5lZWRzX3ZlcmlmaWNhdGlvbiB9LFxuICAgICAgICAgICAgICAgIHN0YXR1cyxcbiAgICAgICAgICAgICAgICBjYXNoaWVyX3ZhbGlkYXRpb24sXG4gICAgICAgICAgICB9ID0gYWNjb3VudF9zdGF0dXM7XG5cbiAgICAgICAgICAgIGNvbnN0IGhpZGRlbl9jbG9zZV9hY2NvdW50X25vdGlmaWNhdGlvbiA9XG4gICAgICAgICAgICAgICAgcGFyc2VJbnQobG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2hpZGVfY2xvc2VfbXhfbWx0X2FjY291bnRfbm90aWZpY2F0aW9uJykpID09PSAxO1xuICAgICAgICAgICAgY29uc3QgeyBjYXNoaWVyX2xvY2tlZCwgd2l0aGRyYXdhbF9sb2NrZWQsIGRlcG9zaXRfbG9ja2VkLCBtdDVfd2l0aGRyYXdhbF9sb2NrZWQsIGRvY3VtZW50X25lZWRzX2FjdGlvbiB9ID1cbiAgICAgICAgICAgICAgICBnZXRTdGF0dXNWYWxpZGF0aW9ucyhzdGF0dXMgfHwgW10pO1xuXG4gICAgICAgICAgICBpZiAob2JqX3RvdGFsX2JhbGFuY2UuYW1vdW50X3JlYWwgPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGROb3RpZmljYXRpb25NZXNzYWdlKHRoaXMuY2xpZW50X25vdGlmaWNhdGlvbnMudHdvX2ZfYSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChsb2dpbmlkICE9PSBMb2NhbFN0b3JlLmdldCgnYWN0aXZlX2xvZ2luaWQnKSkgcmV0dXJuO1xuXG4gICAgICAgICAgICBpZiAoXG4gICAgICAgICAgICAgICAgKGhhc19pb21fYWNjb3VudCB8fCBoYXNfbWFsdGFfYWNjb3VudCkgJiZcbiAgICAgICAgICAgICAgICAoIW1hbHRhX2FjY291bnQgfHwgIXZpcnR1YWxfYWNjb3VudCkgJiZcbiAgICAgICAgICAgICAgICAhaGlkZGVuX2Nsb3NlX2FjY291bnRfbm90aWZpY2F0aW9uXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UodGhpcy5jbGllbnRfbm90aWZpY2F0aW9ucy5jbG9zZV9teF9tbHRfYWNjb3VudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjbGllbnQgPSBhY2NvdW50c1tsb2dpbmlkXTtcbiAgICAgICAgICAgIGlmIChjbGllbnQgJiYgIWNsaWVudC5pc192aXJ0dWFsKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzRW1wdHlPYmplY3QoYWNjb3VudF9zdGF0dXMpKSByZXR1cm47XG4gICAgICAgICAgICAgICAgaWYgKGxvZ2luaWQgIT09IExvY2FsU3RvcmUuZ2V0KCdhY3RpdmVfbG9naW5pZCcpKSByZXR1cm47XG5cbiAgICAgICAgICAgICAgICBjb25zdCB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2hpZXJfbG9ja2VkX3N0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnRzX2V4cGlyZWQsXG4gICAgICAgICAgICAgICAgICAgIEZpbmFuY2lhbEFzc2Vzc21lbnRSZXF1aXJlZCxcbiAgICAgICAgICAgICAgICAgICAgaXNfdmlydHVhbCxcbiAgICAgICAgICAgICAgICAgICAgbm9fcmVzaWRlbmNlLFxuICAgICAgICAgICAgICAgICAgICBub193aXRoZHJhd2FsX29yX3RyYWRpbmdfc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICBTZWxmRXhjbHVzaW9uLFxuICAgICAgICAgICAgICAgICAgICBzeXN0ZW1fbWFpbnRlbmFuY2UsXG4gICAgICAgICAgICAgICAgICAgIHVud2VsY29tZV9zdGF0dXMsXG4gICAgICAgICAgICAgICAgICAgIHdpdGhkcmF3YWxfbG9ja2VkX3N0YXR1cyxcbiAgICAgICAgICAgICAgICAgICAgQVNLX0FVVEhFTlRJQ0FURSxcbiAgICAgICAgICAgICAgICAgICAgQVNLX0NVUlJFTkNZLFxuICAgICAgICAgICAgICAgICAgICBBU0tfRklOQU5DSUFMX1JJU0tfQVBQUk9WQUwsXG4gICAgICAgICAgICAgICAgICAgIEFTS19GSVhfREVUQUlMUyxcbiAgICAgICAgICAgICAgICAgICAgQVNLX1NFTEZfRVhDTFVTSU9OX01BWF9UVVJOT1ZFUl9TRVQsXG4gICAgICAgICAgICAgICAgICAgIEFTS19USU5fSU5GT1JNQVRJT04sXG4gICAgICAgICAgICAgICAgICAgIEFTS19VS19GVU5EU19QUk9URUNUSU9OLFxuICAgICAgICAgICAgICAgIH0gPSBjYXNoaWVyX3ZhbGlkYXRpb24gPyBnZXRDYXNoaWVyVmFsaWRhdGlvbnMoY2FzaGllcl92YWxpZGF0aW9uKSA6IHt9O1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRWZXJpZmljYXRpb25Ob3RpZmljYXRpb25zKGlkZW50aXR5LCBkb2N1bWVudCk7XG4gICAgICAgICAgICAgICAgY29uc3QgbmVlZHNfcG9hID1cbiAgICAgICAgICAgICAgICAgICAgaXNfMTBrX3dpdGhkcmF3YWxfbGltaXRfcmVhY2hlZCAmJlxuICAgICAgICAgICAgICAgICAgICAobmVlZHNfdmVyaWZpY2F0aW9uLmluY2x1ZGVzKCdkb2N1bWVudCcpIHx8IGRvY3VtZW50Py5zdGF0dXMgIT09ICd2ZXJpZmllZCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IG5lZWRzX3BvaSA9IGlzXzEwa193aXRoZHJhd2FsX2xpbWl0X3JlYWNoZWQgJiYgaWRlbnRpdHk/LnN0YXR1cyAhPT0gJ3ZlcmlmaWVkJztcblxuICAgICAgICAgICAgICAgIGlmIChuZWVkc19wb2EpIHRoaXMuYWRkTm90aWZpY2F0aW9uTWVzc2FnZSh0aGlzLmNsaWVudF9ub3RpZmljYXRpb25zLm5lZWRzX3BvYSk7XG4gICAgICAgICAgICAgICAgaWYgKG5lZWRzX3BvaSkgdGhpcy5hZGROb3RpZmljYXRpb25NZXNzYWdlKHRoaXMuY2xpZW50X25vdGlmaWNhdGlvbnMubmVlZHNfcG9pKTtcbiAgICAgICAgICAgICAgICBpZiAoc3lzdGVtX21haW50ZW5hbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0Q2xpZW50Tm90aWZpY2F0aW9ucyhjbGllbnQpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UoXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsaWVudF9ub3RpZmljYXRpb25zLnN5c3RlbV9tYWludGVuYW5jZSh3aXRoZHJhd2FsX2xvY2tlZCwgZGVwb3NpdF9sb2NrZWQpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjYXNoaWVyX2xvY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaXNfdmlydHVhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RpZmljYXRpb25NZXNzYWdlKHRoaXMuY2xpZW50X25vdGlmaWNhdGlvbnMuaXNfdmlydHVhbCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobm9fcmVzaWRlbmNlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UodGhpcy5jbGllbnRfbm90aWZpY2F0aW9ucy5ub19yZXNpZGVuY2UpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50c19leHBpcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UodGhpcy5jbGllbnRfbm90aWZpY2F0aW9ucy5kb2N1bWVudHNfZXhwaXJlZCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2FzaGllcl9sb2NrZWRfc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UodGhpcy5jbGllbnRfbm90aWZpY2F0aW9ucy5jYXNoaWVyX2xvY2tlZCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoQVNLX0NVUlJFTkNZKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UodGhpcy5jbGllbnRfbm90aWZpY2F0aW9ucy5jdXJyZW5jeSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoQVNLX0FVVEhFTlRJQ0FURSAmJiBpc19pZGVudGl0eV92ZXJpZmljYXRpb25fbmVlZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UodGhpcy5jbGllbnRfbm90aWZpY2F0aW9ucy5pZGVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoQVNLX0FVVEhFTlRJQ0FURSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RpZmljYXRpb25NZXNzYWdlKHRoaXMuY2xpZW50X25vdGlmaWNhdGlvbnMuYXV0aGVudGljYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChpc0FjY291bnRPZlR5cGUoJ2ZpbmFuY2lhbCcpICYmIEFTS19GSU5BTkNJQUxfUklTS19BUFBST1ZBTCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RpZmljYXRpb25NZXNzYWdlKHRoaXMuY2xpZW50X25vdGlmaWNhdGlvbnMuYXNrX2ZpbmFuY2lhbF9yaXNrX2FwcHJvdmFsKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChGaW5hbmNpYWxBc3Nlc3NtZW50UmVxdWlyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90aWZpY2F0aW9uTWVzc2FnZSh0aGlzLmNsaWVudF9ub3RpZmljYXRpb25zLnJpc2spO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGlzQWNjb3VudE9mVHlwZSgnZmluYW5jaWFsJykgJiYgQVNLX1RJTl9JTkZPUk1BVElPTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RpZmljYXRpb25NZXNzYWdlKHRoaXMuY2xpZW50X25vdGlmaWNhdGlvbnMudGF4KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChBU0tfVUtfRlVORFNfUFJPVEVDVElPTikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RpZmljYXRpb25NZXNzYWdlKHRoaXMuY2xpZW50X25vdGlmaWNhdGlvbnMuYXNrX3VrX2Z1bmRzX3Byb3RlY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKEFTS19TRUxGX0VYQ0xVU0lPTl9NQVhfVFVSTk9WRVJfU0VUKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UodGhpcy5jbGllbnRfbm90aWZpY2F0aW9ucy5tYXhfdHVybm92ZXJfbGltaXRfbm90X3NldCk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoQVNLX0ZJWF9ERVRBSUxTKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGllbnRfbm90aWZpY2F0aW9ucy5yZXF1aXJlZF9maWVsZHMod2l0aGRyYXdhbF9sb2NrZWQsIGRlcG9zaXRfbG9ja2VkKVxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkTm90aWZpY2F0aW9uTWVzc2FnZSh0aGlzLmNsaWVudF9ub3RpZmljYXRpb25zLmNhc2hpZXJfbG9ja2VkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh3aXRoZHJhd2FsX2xvY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEFTS19BVVRIRU5USUNBVEUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UodGhpcy5jbGllbnRfbm90aWZpY2F0aW9ucy53aXRoZHJhd2FsX2xvY2tlZF9yZXZpZXcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChub193aXRoZHJhd2FsX29yX3RyYWRpbmdfc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RpZmljYXRpb25NZXNzYWdlKHRoaXMuY2xpZW50X25vdGlmaWNhdGlvbnMubm9fd2l0aGRyYXdhbF9vcl90cmFkaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAod2l0aGRyYXdhbF9sb2NrZWRfc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RpZmljYXRpb25NZXNzYWdlKHRoaXMuY2xpZW50X25vdGlmaWNhdGlvbnMud2l0aGRyYXdhbF9sb2NrZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChBU0tfRklYX0RFVEFJTFMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50X25vdGlmaWNhdGlvbnMucmVxdWlyZWRfZmllbGRzKHdpdGhkcmF3YWxfbG9ja2VkLCBkZXBvc2l0X2xvY2tlZClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZXBvc2l0X2xvY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFNlbGZFeGNsdXNpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpZW50X25vdGlmaWNhdGlvbnMuc2VsZl9leGNsdXNpb24oY2xpZW50LmV4Y2x1ZGVkX3VudGlsKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHVud2VsY29tZV9zdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UodGhpcy5jbGllbnRfbm90aWZpY2F0aW9ucy51bndlbGNvbWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc19pZGVudGl0eV92ZXJpZmljYXRpb25fbmVlZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UodGhpcy5jbGllbnRfbm90aWZpY2F0aW9ucy5pZGVudGl0eSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG10NV93aXRoZHJhd2FsX2xvY2tlZCkgdGhpcy5hZGROb3RpZmljYXRpb25NZXNzYWdlKHRoaXMuY2xpZW50X25vdGlmaWNhdGlvbnMubXQ1X3dpdGhkcmF3YWxfbG9ja2VkKTtcbiAgICAgICAgICAgICAgICBpZiAoZG9jdW1lbnRfbmVlZHNfYWN0aW9uKSB0aGlzLmFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UodGhpcy5jbGllbnRfbm90aWZpY2F0aW9ucy5kb2N1bWVudF9uZWVkc19hY3Rpb24pO1xuICAgICAgICAgICAgICAgIGlmIChpc19wMnBfdmlzaWJsZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZE5vdGlmaWNhdGlvbk1lc3NhZ2UodGhpcy5jbGllbnRfbm90aWZpY2F0aW9ucy5kcDJwKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZU5vdGlmaWNhdGlvbk1lc3NhZ2VCeUtleSh7IGtleTogdGhpcy5jbGllbnRfbm90aWZpY2F0aW9ucy5kcDJwLmtleSB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNfd2Vic2l0ZV91cCAmJiAhaGFzX3RydXN0cGlsb3QpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RpZmljYXRpb25NZXNzYWdlKHRoaXMuY2xpZW50X25vdGlmaWNhdGlvbnMudHJ1c3RwaWxvdCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGlzX3RuY19uZWVkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RpZmljYXRpb25NZXNzYWdlKHRoaXMuY2xpZW50X25vdGlmaWNhdGlvbnMudG5jKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBoYXNfbWlzc2luZ19yZXF1aXJlZF9maWVsZCA9IGhhc01pc3NpbmdSZXF1aXJlZEZpZWxkKGFjY291bnRfc2V0dGluZ3MsIGNsaWVudCwgaXNBY2NvdW50T2ZUeXBlKTtcbiAgICAgICAgICAgICAgICBpZiAoaGFzX21pc3NpbmdfcmVxdWlyZWRfZmllbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGROb3RpZmljYXRpb25NZXNzYWdlKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGllbnRfbm90aWZpY2F0aW9ucy5yZXF1aXJlZF9maWVsZHMod2l0aGRyYXdhbF9sb2NrZWQsIGRlcG9zaXRfbG9ja2VkKVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaXNfZXUgJiYgaXNNdWx0aXBsaWVyQ29udHJhY3Qoc2VsZWN0ZWRfY29udHJhY3RfdHlwZSkgJiYgY3VycmVudF9sYW5ndWFnZSA9PT0gJ0VOJyAmJiBpc19sb2dnZWRfaW4pIHtcbiAgICAgICAgICAgIHRoaXMuYWRkTm90aWZpY2F0aW9uTWVzc2FnZSh0aGlzLmNsaWVudF9ub3RpZmljYXRpb25zLmRlcml2X2dvKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlTm90aWZpY2F0aW9uTWVzc2FnZUJ5S2V5KHsga2V5OiB0aGlzLmNsaWVudF9ub3RpZmljYXRpb25zLmRlcml2X2dvLmtleSB9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNldFNob3VsZFNob3dQb3B1cHModHJ1ZSk7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIG1hcmtOb3RpZmljYXRpb25NZXNzYWdlKHsga2V5IH0pIHtcbiAgICAgICAgdGhpcy5tYXJrZWRfbm90aWZpY2F0aW9ucy5wdXNoKGtleSk7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIHJlZnJlc2hOb3RpZmljYXRpb25zKCkge1xuICAgICAgICB0aGlzLnJlbW92ZU5vdGlmaWNhdGlvbnModHJ1ZSk7XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTm90aWZpY2F0aW9uTWVzc2FnZXMoKTtcbiAgICAgICAgdGhpcy5oYW5kbGVDbGllbnROb3RpZmljYXRpb25zKCk7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIHJlbW92ZUFsbE5vdGlmaWNhdGlvbk1lc3NhZ2VzKHNob3VsZF9jbG9zZV9wZXJzaXN0ZW50KSB7XG4gICAgICAgIHRoaXMubm90aWZpY2F0aW9uX21lc3NhZ2VzID0gc2hvdWxkX2Nsb3NlX3BlcnNpc3RlbnRcbiAgICAgICAgICAgID8gW11cbiAgICAgICAgICAgIDogWy4uLnRoaXMubm90aWZpY2F0aW9uX21lc3NhZ2VzLmZpbHRlcihub3RpZnMgPT4gbm90aWZzLmlzX3BlcnNpc3RlbnQpXTtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgcmVtb3ZlTm90aWZpY2F0aW9ucyhzaG91bGRfY2xvc2VfcGVyc2lzdGVudCkge1xuICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbnMgPSBzaG91bGRfY2xvc2VfcGVyc2lzdGVudFxuICAgICAgICAgICAgPyBbXVxuICAgICAgICAgICAgOiBbLi4udGhpcy5ub3RpZmljYXRpb25zLmZpbHRlcihub3RpZnMgPT4gbm90aWZzLmlzX3BlcnNpc3RlbnQpXTtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgcmVtb3ZlTm90aWZpY2F0aW9uQnlLZXkoeyBrZXkgfSkge1xuICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbnMgPSB0aGlzLm5vdGlmaWNhdGlvbnMuZmlsdGVyKG4gPT4gbi5rZXkgIT09IGtleSk7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIHJlbW92ZU5vdGlmaWNhdGlvbk1lc3NhZ2UoeyBrZXksIHNob3VsZF9zaG93X2FnYWluIH0gPSB7fSkge1xuICAgICAgICBpZiAoIWtleSkgcmV0dXJuO1xuICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbl9tZXNzYWdlcyA9IHRoaXMubm90aWZpY2F0aW9uX21lc3NhZ2VzLmZpbHRlcihuID0+IG4ua2V5ICE9PSBrZXkpO1xuICAgICAgICAvLyBBZGQgbm90aWZpY2F0aW9uIG1lc3NhZ2VzIHRvIExvY2FsU3RvcmUgd2hlbiB1c2VyIGNsb3NlcywgY2hlY2sgZm9yIHJlZHVuZGFuY3lcbiAgICAgICAgY29uc3QgYWN0aXZlX2xvZ2luaWQgPSBMb2NhbFN0b3JlLmdldCgnYWN0aXZlX2xvZ2luaWQnKTtcbiAgICAgICAgaWYgKCFleGNsdWRlZF9ub3RpZmljYXRpb25zLmluY2x1ZGVzKGtleSkgJiYgYWN0aXZlX2xvZ2luaWQpIHtcbiAgICAgICAgICAgIGxldCBtZXNzYWdlcyA9IExvY2FsU3RvcmUuZ2V0T2JqZWN0KCdub3RpZmljYXRpb25fbWVzc2FnZXMnKTtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHNhbWUgbWVzc2FnZSBhbHJlYWR5IGV4aXN0cyBpbiBMb2NhbFN0b3JlIGZvciB0aGlzIGFjY291bnRcbiAgICAgICAgICAgIGlmIChtZXNzYWdlc1thY3RpdmVfbG9naW5pZF0gJiYgbWVzc2FnZXNbYWN0aXZlX2xvZ2luaWRdLmluY2x1ZGVzKGtleSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBnZXRDdXJyZW50TWVzc2FnZSA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShtZXNzYWdlc1thY3RpdmVfbG9naW5pZF0pKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzW2FjdGl2ZV9sb2dpbmlkXS5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlc1thY3RpdmVfbG9naW5pZF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBba2V5XTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoIXNob3VsZF9zaG93X2FnYWluKSB7XG4gICAgICAgICAgICAgICAgLy8gU3RvcmUgbWVzc2FnZSBpbnRvIExvY2FsU3RvcmUgdXBvbiBjbG9zaW5nIG1lc3NhZ2VcbiAgICAgICAgICAgICAgICBtZXNzYWdlcyA9IHsgLi4ubWVzc2FnZXMsIFthY3RpdmVfbG9naW5pZF06IGdldEN1cnJlbnRNZXNzYWdlKCkgfTtcbiAgICAgICAgICAgICAgICBMb2NhbFN0b3JlLnNldE9iamVjdCgnbm90aWZpY2F0aW9uX21lc3NhZ2VzJywgbWVzc2FnZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIHJlbW92ZU5vdGlmaWNhdGlvbk1lc3NhZ2VCeUtleSh7IGtleSB9KSB7XG4gICAgICAgIHRoaXMubm90aWZpY2F0aW9uX21lc3NhZ2VzID0gdGhpcy5ub3RpZmljYXRpb25fbWVzc2FnZXMuZmlsdGVyKG4gPT4gbi5rZXkgIT09IGtleSk7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIHJlc2V0VmlydHVhbEJhbGFuY2VOb3RpZmljYXRpb24obG9naW5pZCkge1xuICAgICAgICBjb25zdCB7IGFjY291bnRzLCBpc19sb2dnZWRfaW4gfSA9IHRoaXMucm9vdF9zdG9yZS5jbGllbnQ7XG4gICAgICAgIGlmICghaXNfbG9nZ2VkX2luKSByZXR1cm47XG4gICAgICAgIGlmICghYWNjb3VudHNbbG9naW5pZF0uaXNfdmlydHVhbCkgcmV0dXJuO1xuICAgICAgICBjb25zdCBtaW5fcmVzZXRfbGltaXQgPSAxMDAwO1xuICAgICAgICBjb25zdCBtYXhfcmVzZXRfbGltaXQgPSA5OTkwMDA7XG4gICAgICAgIGNvbnN0IGJhbGFuY2UgPSBwYXJzZUludChhY2NvdW50c1tsb2dpbmlkXS5iYWxhbmNlKTtcblxuICAgICAgICAvLyBEaXNwbGF5IG5vdGlmaWNhdGlvbiBtZXNzYWdlIHRvIHVzZXIgd2l0aCB2aXJ0dWFsIGFjY291bnQgdG8gcmVzZXQgdGhlaXIgYmFsYW5jZVxuICAgICAgICAvLyBpZiB0aGUgYmFsYW5jZSBpcyBsZXNzIHRoYW4gZXF1YWxzIHRvIDEwMDAgb3IgbW9yZSB0aGFuIGVxdWFscyB0byA5OTkwMDBcbiAgICAgICAgaWYgKGJhbGFuY2UgPD0gbWluX3Jlc2V0X2xpbWl0IHx8IGJhbGFuY2UgPj0gbWF4X3Jlc2V0X2xpbWl0KSB7XG4gICAgICAgICAgICBsZXQgbWVzc2FnZSA9IGxvY2FsaXplKFxuICAgICAgICAgICAgICAgICdZb3VyIGRlbW8gYWNjb3VudCBiYWxhbmNlIGlzIGxvdy4gUmVzZXQgeW91ciBiYWxhbmNlIHRvIGNvbnRpbnVlIHRyYWRpbmcgZnJvbSB5b3VyIGRlbW8gYWNjb3VudC4nXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKGJhbGFuY2UgPj0gbWF4X3Jlc2V0X2xpbWl0KVxuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBsb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgJ1lvdXIgZGVtbyBhY2NvdW50IGJhbGFuY2UgaGFzIHJlYWNoZWQgdGhlIG1heGltdW0gbGltaXQsIGFuZCB5b3Ugd2lsbCBub3QgYmUgYWJsZSB0byBwbGFjZSBuZXcgdHJhZGVzLiBSZXNldCB5b3VyIGJhbGFuY2UgdG8gY29udGludWUgdHJhZGluZyBmcm9tIHlvdXIgZGVtbyBhY2NvdW50LidcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgdGhpcy5zZXRDbGllbnROb3RpZmljYXRpb25zKHsgcmVzZXRWaXJ0dWFsQmFsYW5jZTogdGhpcy5yb290X3N0b3JlLmNsaWVudC5yZXNldFZpcnR1YWxCYWxhbmNlLCBtZXNzYWdlIH0pO1xuICAgICAgICAgICAgdGhpcy5hZGROb3RpZmljYXRpb25NZXNzYWdlKHRoaXMuY2xpZW50X25vdGlmaWNhdGlvbnMucmVzZXRfdmlydHVhbF9iYWxhbmNlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVtb3ZlTm90aWZpY2F0aW9uQnlLZXkoeyBrZXk6ICdyZXNldF92aXJ0dWFsX2JhbGFuY2UnIH0pO1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVOb3RpZmljYXRpb25NZXNzYWdlKHsga2V5OiAncmVzZXRfdmlydHVhbF9iYWxhbmNlJywgc2hvdWxkX3Nob3dfYWdhaW46IHRydWUgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgc2V0Q2xpZW50Tm90aWZpY2F0aW9ucyhjbGllbnQgPSB7fSkge1xuICAgICAgICBjb25zdCBteF9tbHRfY3VzdG9tX2hlYWRlciA9IHRoaXMuY3VzdG9tX25vdGlmaWNhdGlvbnMubXhfbWx0X25vdGlmaWNhdGlvbi5oZWFkZXIoKTtcbiAgICAgICAgY29uc3QgbXhfbWx0X2N1c3RvbV9jb250ZW50ID0gdGhpcy5jdXN0b21fbm90aWZpY2F0aW9ucy5teF9tbHRfbm90aWZpY2F0aW9uLm1haW4oKTtcbiAgICAgICAgY29uc3QgeyB1aSB9ID0gdGhpcy5yb290X3N0b3JlO1xuXG4gICAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbnMgPSB7XG4gICAgICAgICAgICBhc2tfZmluYW5jaWFsX3Jpc2tfYXBwcm92YWw6IHtcbiAgICAgICAgICAgICAgICBrZXk6ICdhc2tfZmluYW5jaWFsX3Jpc2tfYXBwcm92YWwnLFxuICAgICAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ0NvbXBsZXRlIHlvdXIgQXBwcm9wcmlhdGVuZXNzIFRlc3QnKSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZSgnUGxlYXNlIGNsaWNrIHRoZSBmb2xsb3dpbmcgbGluayB0byBjb21wbGV0ZSB5b3VyIEFwcHJvcHJpYXRlbmVzcyBUZXN0LicpLFxuICAgICAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICByb3V0ZTogcm91dGVzLmZpbmFuY2lhbF9hc3Nlc3NtZW50LFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBsb2NhbGl6ZSgnQ2xpY2sgaGVyZScpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGFza191a19mdW5kc19wcm90ZWN0aW9uOiB7XG4gICAgICAgICAgICAgICAga2V5OiAnYXNrX3VrX2Z1bmRzX3Byb3RlY3Rpb24nLFxuICAgICAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ1lvdXIgY2FzaGllciBpcyBsb2NrZWQnKSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZSgnU2VlIGhvdyB3ZSBwcm90ZWN0IHlvdXIgZnVuZHMgdG8gdW5sb2NrIHRoZSBjYXNoaWVyLicpLFxuICAgICAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICByb3V0ZTogcm91dGVzLmNhc2hpZXJfZGVwb3NpdCxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogbG9jYWxpemUoJ0ZpbmQgb3V0IG1vcmUnKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhdXRoZW50aWNhdGU6IHtcbiAgICAgICAgICAgICAgICBrZXk6ICdhdXRoZW50aWNhdGUnLFxuICAgICAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ1lvdXIgYWNjb3VudCBoYXMgbm90IGJlZW4gdmVyaWZpZWQnKSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgJ1BsZWFzZSBzdWJtaXQgeW91ciBwcm9vZiBvZiBpZGVudGl0eSBhbmQgcHJvb2Ygb2YgYWRkcmVzcyB0byB2ZXJpZnkgeW91ciBhY2NvdW50IGluIHlvdXIgYWNjb3VudCBzZXR0aW5ncyB0byBhY2Nlc3MgdGhlIGNhc2hpZXIuJ1xuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHJvdXRlOiByb3V0ZXMucHJvb2Zfb2ZfaWRlbnRpdHksXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IGxvY2FsaXplKCdHbyB0byBteSBhY2NvdW50IHNldHRpbmdzJyksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgY2FzaGllcl9sb2NrZWQ6IHtcbiAgICAgICAgICAgICAgICBrZXk6ICdjYXNoaWVyX2xvY2tlZCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyOiBsb2NhbGl6ZSgnWW91ciBjYXNoaWVyIGlzIGN1cnJlbnRseSBsb2NrZWQnKSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZSgnUGxlYXNlIGNvbnRhY3QgdXMgdmlhIGxpdmUgY2hhdCB0byB1bmxvY2sgaXQuJyksXG4gICAgICAgICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5MQ19BUEkub3Blbl9jaGF0X3dpbmRvdygpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBsb2NhbGl6ZSgnR28gdG8gbGl2ZSBjaGF0JyksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHJ1c3RwaWxvdDoge1xuICAgICAgICAgICAgICAgIGtleTogJ3RydXN0cGlsb3QnLFxuICAgICAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ0Vuam95IHVzaW5nIERlcml2PycpLFxuICAgICAgICAgICAgICAgIGhlYWRlcl9wb3B1cDogbG9jYWxpemUoJ1dl4oCZZCBsb3ZlIHRvIGhlYXIgeW91ciB0aG91Z2h0cycpLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKCdEcm9wIHlvdXIgcmV2aWV3IG9uIFRydXN0cGlsb3QuJyksXG4gICAgICAgICAgICAgICAgbWVzc2FnZV9wb3B1cDogbG9jYWxpemUoJ0Ryb3AgeW91ciByZXZpZXcgb24gVHJ1c3RwaWxvdC4nKSxcbiAgICAgICAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93Lm9wZW4oJ2h0dHBzOi8vd3d3LnRydXN0cGlsb3QuY29tL2V2YWx1YXRlL2Rlcml2LmNvbScsICdfYmxhbmsnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVtb3ZlTm90aWZpY2F0aW9uQnlLZXkoeyBrZXk6IHRoaXMuY2xpZW50X25vdGlmaWNhdGlvbnMudHJ1c3RwaWxvdC5rZXkgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbW92ZU5vdGlmaWNhdGlvbk1lc3NhZ2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleTogdGhpcy5jbGllbnRfbm90aWZpY2F0aW9ucy50cnVzdHBpbG90LmtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaG91bGRfc2hvd19hZ2FpbjogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogbG9jYWxpemUoJ0dvIHRvIFRydXN0cGlsb3QnKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGltZ19zcmM6IGdldFVybEJhc2UoJy9wdWJsaWMvaW1hZ2VzL2NvbW1vbi90cnVzdHBpbG90X2Jhbm5lci5wbmcnKSxcbiAgICAgICAgICAgICAgICBpbWdfYWx0OiAnVHJ1c3RwaWxvdCcsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAndHJ1c3RwaWxvdCcsXG4gICAgICAgICAgICAgICAgdHlwZTogJ3RydXN0cGlsb3QnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsb3NlX214X21sdF9hY2NvdW50OiB7XG4gICAgICAgICAgICAgICAga2V5OiAnY2xvc2VfbXhfbWx0X2FjY291bnQnLFxuICAgICAgICAgICAgICAgIGhlYWRlcjogbXhfbWx0X2N1c3RvbV9oZWFkZXIsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogbXhfbWx0X2N1c3RvbV9jb250ZW50LFxuICAgICAgICAgICAgICAgIHNlY29uZGFyeV9idG46IHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogbG9jYWxpemUoJ0xlYXJuIG1vcmUnKSxcbiAgICAgICAgICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdWkuc2hvd0Nsb3NlTXhNbHRBY2NvdW50UG9wdXAodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbWdfc3JjOiBnZXRVcmxCYXNlKCcvcHVibGljL2ltYWdlcy9jb21tb24vY2xvc2VfYWNjb3VudF9iYW5uZXIucG5nJyksXG4gICAgICAgICAgICAgICAgaW1nX2FsdDogJ2Nsb3NlIG14IG1sdCBhY2NvdW50JyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnY2xvc2VfbXhfbWx0JyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjdXJyZW5jeToge1xuICAgICAgICAgICAgICAgIGtleTogJ2N1cnJlbmN5JyxcbiAgICAgICAgICAgICAgICBoZWFkZXI6IGxvY2FsaXplKCdZb3UgaGF2ZSBub3Qgc2VsZWN0ZWQgeW91ciBhY2NvdW50IGN1cnJlbmN5JyksXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogbG9jYWxpemUoJ1BsZWFzZSBzZXQgeW91ciBhY2NvdW50IGN1cnJlbmN5IHRvIGVuYWJsZSBkZXBvc2l0cyBhbmQgd2l0aGRyYXdhbHMuJyksXG4gICAgICAgICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVpLm9wZW5SZWFsQWNjb3VudFNpZ251cCgnc2V0X2N1cnJlbmN5Jyk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IGxvY2FsaXplKCdTZXQgbXkgYWNjb3VudCBjdXJyZW5jeScpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHlwZTogJ2RhbmdlcicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZGVyaXZfZ286IHtcbiAgICAgICAgICAgICAgICBrZXk6ICdkZXJpdl9nbycsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogKFxuICAgICAgICAgICAgICAgICAgICA8TG9jYWxpemVcbiAgICAgICAgICAgICAgICAgICAgICAgIGkxOG5fZGVmYXVsdF90ZXh0PSdHZXQgYSBmYXN0ZXIgbW9iaWxlIHRyYWRpbmcgZXhwZXJpZW5jZSB3aXRoIHRoZSA8MD5EZXJpdiBHTzwvMD4gYXBwISdcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBvbmVudHM9e1s8U3RhdGljVXJsIGtleT17MH0gY2xhc3NOYW1lPSdsaW5rIGRhcmsnIGhyZWY9Jy9sYW5kaW5nL2Rlcml2LWdvJyAvPl19XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBjdGFfYnRuOiB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IGxvY2FsaXplKCdMZWFybiBtb3JlJyksXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKGdldFN0YXRpY1VybCgnL2xhbmRpbmcvZGVyaXYtZ28nKSwgJ19ibGFuaycpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgaW1nX3NyYzogZ2V0VXJsQmFzZSgnL3B1YmxpYy9pbWFnZXMvY29tbW9uL2Rlcml2Z29fYmFubmVyLnBuZycpLFxuICAgICAgICAgICAgICAgIGltZ19hbHQ6ICdkZXJpdl9nbycsXG4gICAgICAgICAgICAgICAgdHlwZTogJ3Byb21vdGlvbnMnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGRvY3VtZW50c19leHBpcmVkOiB7XG4gICAgICAgICAgICAgICAga2V5OiAncG9pX2V4cGlyZWQnLFxuICAgICAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ1lvdSBzdWJtaXR0ZWQgZXhwaXJlZCBpZGVudGlmaWNhdGlvbiBkb2N1bWVudHMnKSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZSgnUGxlYXNlIHN1Ym1pdCB2YWxpZCBpZGVudGl0eSBkb2N1bWVudHMgdG8gdW5sb2NrIHRoZSBjYXNoaWVyLicpLFxuICAgICAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICByb3V0ZTogcm91dGVzLnByb29mX29mX2lkZW50aXR5LFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBsb2NhbGl6ZSgnU3VibWl0IGlkZW50aXR5IGRvY3VtZW50cycpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHlwZTogJ2RhbmdlcicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZG9jdW1lbnRfbmVlZHNfYWN0aW9uOiB7XG4gICAgICAgICAgICAgICAga2V5OiAnZG9jdW1lbnRfbmVlZHNfYWN0aW9uJyxcbiAgICAgICAgICAgICAgICBoZWFkZXI6IGxvY2FsaXplKCdBdXRoZW50aWNhdGlvbiBmYWlsZWQnKSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAoXG4gICAgICAgICAgICAgICAgICAgIDxMb2NhbGl6ZVxuICAgICAgICAgICAgICAgICAgICAgICAgaTE4bl9kZWZhdWx0X3RleHQ9JzwwPllvdXIgUHJvb2Ygb2YgSWRlbnRpdHkgb3IgUHJvb2Ygb2YgQWRkcmVzczwvMD4gZGlkIG5vdCBtZWV0IG91ciByZXF1aXJlbWVudHMuIFBsZWFzZSBjaGVjayB5b3VyIGVtYWlsIGZvciBmdXJ0aGVyIGluc3RydWN0aW9ucy4nXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnRzPXtbPEJpbmFyeUxpbmsga2V5PXswfSBjbGFzc05hbWU9J2xpbmsnIHRvPXtyb3V0ZXMucHJvb2Zfb2ZfaWRlbnRpdHl9IC8+XX1cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkcDJwOiB7XG4gICAgICAgICAgICAgICAga2V5OiAnZHAycCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyOiBsb2NhbGl6ZSgnUGF5bWVudCBwcm9ibGVtcz8nKSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZSgnVGhlcmXigJlzIGFuIGFwcCBmb3IgdGhhdCcpLFxuICAgICAgICAgICAgICAgIHByaW1hcnlfYnRuOiB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IGxvY2FsaXplKCdMZWFybiBtb3JlJyksXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vcGVuKGdldFN0YXRpY1VybCgnL3AycCcpLCAnX2JsYW5rJyk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBpbWdfc3JjOiBnZXRVcmxCYXNlKCcvcHVibGljL2ltYWdlcy9jb21tb24vZHAycF9iYW5uZXIucG5nJyksXG4gICAgICAgICAgICAgICAgaW1nX2FsdDogJ0Rlcml2IFAyUCcsXG4gICAgICAgICAgICAgICAgdHlwZTogJ25ld3MnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlkZW50aXR5OiB7XG4gICAgICAgICAgICAgICAga2V5OiAnaWRlbnRpdHknLFxuICAgICAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ0xldOKAmXMgdmVyaWZ5IHlvdXIgSUQnKSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgJ1lvdSBuZWVkIHRvIG1ha2UgYSBxdWljayBpZGVudGl0eSB2ZXJpZmljYXRpb24gYmVmb3JlIHlvdSBjYW4gYWNjZXNzIHRoZSBDYXNoaWVyLiBQbGVhc2UgZ28gdG8geW91ciBhY2NvdW50IHNldHRpbmdzIHRvIHN1Ym1pdCB5b3VyIHByb29mIG9mIGlkZW50aXR5LidcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICByb3V0ZTogcm91dGVzLnByb29mX29mX2lkZW50aXR5LFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBsb2NhbGl6ZSgnR28gdG8gbXkgYWNjb3VudCBzZXR0aW5ncycpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGluc3RhbGxfcHdhOiB7XG4gICAgICAgICAgICAgICAga2V5OiAnaW5zdGFsbF9wd2EnLFxuICAgICAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB1aS5pbnN0YWxsV2l0aERlZmVycmVkUHJvbXB0KCksXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IGxvY2FsaXplKCdJbnN0YWxsJyksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBoZWFkZXI6IGxvY2FsaXplKCdJbnN0YWxsIHRoZSBEVHJhZGVyIHdlYiBhcHAnKSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZSgnTGF1bmNoIERUcmFkZXIgaW4gc2Vjb25kcyB0aGUgbmV4dCB0aW1lIHlvdSB3YW50IHRvIHRyYWRlLicpLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdhbm5vdW5jZScsXG4gICAgICAgICAgICAgICAgc2hvdWxkX2hpZGVfY2xvc2VfYnRuOiBmYWxzZSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc192aXJ0dWFsOiB7XG4gICAgICAgICAgICAgICAga2V5OiAnaXNfdmlydHVhbCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyOiBsb2NhbGl6ZSgnWW91IGFyZSBvbiB5b3VyIGRlbW8gYWNjb3VudCcpLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKCdQbGVhc2Ugc3dpdGNoIHRvIHlvdXIgcmVhbCBhY2NvdW50IG9yIGNyZWF0ZSBvbmUgdG8gYWNjZXNzIHRoZSBjYXNoaWVyLicpLFxuICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtYXhfdHVybm92ZXJfbGltaXRfbm90X3NldDoge1xuICAgICAgICAgICAgICAgIGtleTogJ21heF90dXJub3Zlcl9saW1pdF9ub3Rfc2V0JyxcbiAgICAgICAgICAgICAgICBoZWFkZXI6IGxvY2FsaXplKCdZb3XigJl2ZSBub3Qgc2V0IHlvdXIgMzAtZGF5IHR1cm5vdmVyIGxpbWl0JyksXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogbG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICdZb3VyIGFjY2VzcyB0byB0aGUgY2FzaGllciBoYXMgYmVlbiB0ZW1wb3JhcmlseSBkaXNhYmxlZCBhcyB5b3UgaGF2ZSBub3Qgc2V0IHlvdXIgMzAtZGF5IHR1cm5vdmVyIGxpbWl0LiBQbGVhc2UgZ28gdG8gU2VsZi1leGNsdXNpb24gYW5kIHNldCB0aGUgbGltaXQuJ1xuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHJvdXRlOiByb3V0ZXMuc2VsZl9leGNsdXNpb24sXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IGxvY2FsaXplKCdHbyB0byBTZWxmLWV4Y2x1c2lvbicpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHlwZTogJ2RhbmdlcicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbXQ1X3dpdGhkcmF3YWxfbG9ja2VkOiB7XG4gICAgICAgICAgICAgICAga2V5OiAnbXQ1X3dpdGhkcmF3YWxfbG9ja2VkJyxcbiAgICAgICAgICAgICAgICBoZWFkZXI6IGxvY2FsaXplKCdNVDUgd2l0aGRyYXdhbCBkaXNhYmxlZCcpLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAnTVQ1IHdpdGhkcmF3YWxzIGhhdmUgYmVlbiBkaXNhYmxlZCBvbiB5b3VyIGFjY291bnQuIFBsZWFzZSBjaGVjayB5b3VyIGVtYWlsIGZvciBtb3JlIGRldGFpbHMuJ1xuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5lZWRzX3BvYToge1xuICAgICAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICByb3V0ZTogcm91dGVzLnByb29mX29mX2FkZHJlc3MsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IGxvY2FsaXplKCdWZXJpZnkgYWRkcmVzcycpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAga2V5OiAnbmVlZHNfcG9hJyxcbiAgICAgICAgICAgICAgICBoZWFkZXI6IGxvY2FsaXplKCdQbGVhc2UgdmVyaWZ5IHlvdXIgcHJvb2Ygb2YgYWRkcmVzcycpLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKCdUbyBjb250aW51ZSB0cmFkaW5nIHdpdGggdXMsIHBsZWFzZSBjb25maXJtIHdoZXJlIHlvdSBsaXZlLicpLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdkYW5nZXInLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5lZWRzX3BvaToge1xuICAgICAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICByb3V0ZTogcm91dGVzLnByb29mX29mX2lkZW50aXR5LFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBsb2NhbGl6ZSgnVmVyaWZ5IGlkZW50aXR5JyksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBrZXk6ICduZWVkc19wb2knLFxuICAgICAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ1BsZWFzZSB2ZXJpZnkgeW91ciBwcm9vZiBvZiBpZGVudGl0eScpLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKCdUbyBjb250aW51ZSB0cmFkaW5nIHdpdGggdXMsIHBsZWFzZSBjb25maXJtIHdobyB5b3UgYXJlLicpLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdkYW5nZXInLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5lZWRzX3BvYV92aXJ0dWFsOiB7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHJvdXRlOiByb3V0ZXMucHJvb2Zfb2ZfYWRkcmVzcyxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogbG9jYWxpemUoJ1ZlcmlmeSBhZGRyZXNzJyksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBrZXk6ICduZWVkc19wb2FfdmlydHVhbCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyOiBsb2NhbGl6ZSgnUGxlYXNlIFZlcmlmeSB5b3VyIGFkZHJlc3MnKSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgJ1dlIGNvdWxkbuKAmXQgdmVyaWZ5IHlvdXIgcGVyc29uYWwgZGV0YWlscyB3aXRoIG91ciByZWNvcmRzLCB0byBlbmFibGUgZGVwb3NpdCwgd2l0aGRyYXdhbHMgYW5kIHRyYWRpbmcsIHlvdSBuZWVkIHRvIHVwbG9hZCBwcm9vZiBvZiB5b3VyIGFkZHJlc3MuJ1xuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgdHlwZTogJ2RhbmdlcicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbmVlZHNfcG9pX3ZpcnR1YWw6IHtcbiAgICAgICAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgICAgICAgICAgb25DbGljazogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBzd2l0Y2hBY2NvdW50LCBmaXJzdF9zd2l0Y2hhYmxlX3JlYWxfbG9naW5pZCB9ID0gY2xpZW50O1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBzd2l0Y2hBY2NvdW50KGZpcnN0X3N3aXRjaGFibGVfcmVhbF9sb2dpbmlkKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogbG9jYWxpemUoJ1ZlcmlmeSBpZGVudGl0eScpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAga2V5OiAnbmVlZHNfcG9pX3ZpcnR1YWwnLFxuICAgICAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ1BsZWFzZSBWZXJpZnkgeW91ciBpZGVudGl0eScpLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAnV2UgY291bGRu4oCZdCB2ZXJpZnkgeW91ciBwZXJzb25hbCBkZXRhaWxzIHdpdGggb3VyIHJlY29yZHMsIHRvIGVuYWJsZSBkZXBvc2l0LCB3aXRoZHJhd2FscyBhbmQgdHJhZGluZywgeW91IG5lZWQgdG8gdXBsb2FkIHByb29mIG9mIHlvdXIgaWRlbnRpdHkuJ1xuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgdHlwZTogJ2RhbmdlcicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgbmV3X3ZlcnNpb25fYXZhaWxhYmxlOiB7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKSxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogbG9jYWxpemUoJ1JlZnJlc2ggbm93JyksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBrZXk6ICduZXdfdmVyc2lvbl9hdmFpbGFibGUnLFxuICAgICAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ0EgbmV3IHZlcnNpb24gb2YgRGVyaXYgaXMgYXZhaWxhYmxlJyksXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogbG9jYWxpemUoJ1RoaXMgcGFnZSB3aWxsIGF1dG9tYXRpY2FsbHkgcmVmcmVzaCBpbiA1IG1pbnV0ZXMgdG8gbG9hZCB0aGUgbGF0ZXN0IHZlcnNpb24uJyksXG4gICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLFxuICAgICAgICAgICAgICAgIHNob3VsZF9oaWRlX2Nsb3NlX2J0bjogdHJ1ZSxcbiAgICAgICAgICAgICAgICB0aW1lb3V0OiAzMDAwMDAsXG4gICAgICAgICAgICAgICAgdGltZW91dE1lc3NhZ2U6IHJlbWFpbmluZyA9PiBsb2NhbGl6ZSgnQXV0byB1cGRhdGUgaW4ge3sgcmVtYWluaW5nIH19IHNlY29uZHMnLCB7IHJlbWFpbmluZyB9KSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBub19yZXNpZGVuY2U6IHtcbiAgICAgICAgICAgICAgICBrZXk6ICdub19yZXNpZGVuY2UnLFxuICAgICAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ1lvdSBoYXZlIG5vdCBzZWxlY3RlZCB5b3VyIGNvdW50cnkgb2YgcmVzaWRlbmNlJyksXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogbG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICdQbGVhc2Ugc2V0IHlvdXIgY291bnRyeSBvZiByZXNpZGVuY2UgaW4geW91ciBhY2NvdW50IHNldHRpbmdzIHRvIGFjY2VzcyB0aGUgY2FzaGllci4nXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgICAgICAgICAgcm91dGU6IHJvdXRlcy5wZXJzb25hbF9kZXRhaWxzLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBsb2NhbGl6ZSgnR28gdG8gbXkgYWNjb3VudCBzZXR0aW5ncycpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG5vX3dpdGhkcmF3YWxfb3JfdHJhZGluZzoge1xuICAgICAgICAgICAgICAgIGtleTogJ25vX3dpdGhkcmF3YWxfb3JfdHJhZGluZycsXG4gICAgICAgICAgICAgICAgaGVhZGVyOiBsb2NhbGl6ZSgnWW91IGFyZSBvbmx5IGFsbG93ZWQgdG8gbWFrZSBkZXBvc2l0cycpLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKCdQbGVhc2UgY29udGFjdCB1cyB2aWEgbGl2ZSBjaGF0IHRvIGVuYWJsZSB3aXRoZHJhd2Fscy4nKSxcbiAgICAgICAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgICAgICAgICAgb25DbGljazogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LkxDX0FQSS5vcGVuX2NoYXRfd2luZG93KCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IGxvY2FsaXplKCdHbyB0byBsaXZlIGNoYXQnKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBwYXNzd29yZF9jaGFuZ2VkOiB7XG4gICAgICAgICAgICAgICAga2V5OiAncGFzc3dvcmRfY2hhbmdlZCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyOiBsb2NhbGl6ZSgnUGFzc3dvcmQgdXBkYXRlZC4nKSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiA8TG9jYWxpemUgaTE4bl9kZWZhdWx0X3RleHQ9J1BsZWFzZSBsb2cgaW4gd2l0aCB5b3VyIHVwZGF0ZWQgcGFzc3dvcmQuJyAvPixcbiAgICAgICAgICAgICAgICB0eXBlOiAnaW5mbycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcmVxdWlyZWRfZmllbGRzOiAod2l0aGRyYXdhbF9sb2NrZWQsIGRlcG9zaXRfbG9ja2VkKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IG1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgaWYgKHdpdGhkcmF3YWxfbG9ja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBsb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICdQbGVhc2UgZ28gdG8geW91ciBhY2NvdW50IHNldHRpbmdzIGFuZCBjb21wbGV0ZSB5b3VyIHBlcnNvbmFsIGRldGFpbHMgdG8gZW5hYmxlIHdpdGhkcmF3YWxzLidcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGRlcG9zaXRfbG9ja2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBsb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICdQbGVhc2UgZ28gdG8geW91ciBhY2NvdW50IHNldHRpbmdzIGFuZCBjb21wbGV0ZSB5b3VyIHBlcnNvbmFsIGRldGFpbHMgdG8gZW5hYmxlIGRlcG9zaXRzLidcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gbG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICAgICAnUGxlYXNlIGdvIHRvIHlvdXIgYWNjb3VudCBzZXR0aW5ncyBhbmQgY29tcGxldGUgeW91ciBwZXJzb25hbCBkZXRhaWxzIHRvIGVuYWJsZSBkZXBvc2l0cyBhbmQgd2l0aGRyYXdhbHMuJ1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdyZXF1aXJlZF9maWVsZHMnLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXI6IGxvY2FsaXplKCdZb3VyIHBlcnNvbmFsIGRldGFpbHMgYXJlIGluY29tcGxldGUnKSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RhbmdlcicsXG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgcm91dGU6IHJvdXRlcy5wZXJzb25hbF9kZXRhaWxzLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogbG9jYWxpemUoJ0dvIHRvIG15IGFjY291bnQgc2V0dGluZ3MnKSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJlc2V0X3ZpcnR1YWxfYmFsYW5jZToge1xuICAgICAgICAgICAgICAgIGtleTogJ3Jlc2V0X3ZpcnR1YWxfYmFsYW5jZScsXG4gICAgICAgICAgICAgICAgaGVhZGVyOiBsb2NhbGl6ZSgnUmVzZXQgeW91ciBiYWxhbmNlJyksXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogY2xpZW50Lm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2luZm8nLFxuICAgICAgICAgICAgICAgIGlzX3BlcnNpc3RlbnQ6IHRydWUsXG4gICAgICAgICAgICAgICAgc2hvdWxkX3Nob3dfYWdhaW46IHRydWUsXG4gICAgICAgICAgICAgICAgcGxhdGZvcm06IFtwbGF0Zm9ybV9uYW1lLkRUcmFkZXJdLFxuICAgICAgICAgICAgICAgIGlzX2Rpc3Bvc2FibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IGxvY2FsaXplKCdSZXNldCBiYWxhbmNlJyksXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGNsaWVudC5yZXNldFZpcnR1YWxCYWxhbmNlKCk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByaXNrOiB7XG4gICAgICAgICAgICAgICAga2V5OiAncmlzaycsXG4gICAgICAgICAgICAgICAgaGVhZGVyOiBsb2NhbGl6ZSgnWW91ciBjYXNoaWVyIGlzIGxvY2tlZCcpLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKCdQbGVhc2UgY29tcGxldGUgdGhlIGZpbmFuY2lhbCBhc3Nlc3NtZW50IGluIHlvdXIgYWNjb3VudCBzZXR0aW5ncyB0byB1bmxvY2sgaXQuJyksXG4gICAgICAgICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHJvdXRlOiByb3V0ZXMuZmluYW5jaWFsX2Fzc2Vzc21lbnQsXG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IGxvY2FsaXplKCdHbyB0byBteSBhY2NvdW50IHNldHRpbmdzJyksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2VsZl9leGNsdXNpb246IGV4Y2x1ZGVkX3VudGlsID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdzZWxmX2V4Y2x1c2lvbicsXG4gICAgICAgICAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ1lvdSBoYXZlIHNlbGYtZXhjbHVkZWQgZnJvbSB0cmFkaW5nJyksXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxMb2NhbGl6ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkxOG5fZGVmYXVsdF90ZXh0PSdZb3UgaGF2ZSBjaG9zZW4gdG8gZXhjbHVkZSB5b3Vyc2VsZiBmcm9tIHRyYWRpbmcgb24gb3VyIHdlYnNpdGUgdW50aWwge3tleGNsdXNpb25fZW5kfX0uIElmIHlvdSBhcmUgdW5hYmxlIHRvIHBsYWNlIGEgdHJhZGUgb3IgZGVwb3NpdCBhZnRlciB5b3VyIHNlbGYtZXhjbHVzaW9uIHBlcmlvZCwgcGxlYXNlIGNvbnRhY3QgdXMgdmlhIGxpdmUgY2hhdC4nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWVzPXt7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4Y2x1c2lvbl9lbmQ6IGZvcm1hdERhdGUoZXhjbHVkZWRfdW50aWwsICdERCBNTU0sIFlZWVknKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50ZXJwb2xhdGlvbjogeyBlc2NhcGVWYWx1ZTogZmFsc2UgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LkxDX0FQSS5vcGVuX2NoYXRfd2luZG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dDogbG9jYWxpemUoJ0dvIHRvIGxpdmUgY2hhdCcpLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGFuZ2VyJyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN5c3RlbV9tYWludGVuYW5jZTogKHdpdGhkcmF3YWxfbG9ja2VkLCBkZXBvc2l0X2xvY2tlZCkgPT4ge1xuICAgICAgICAgICAgICAgIGxldCBtZXNzYWdlLCBoZWFkZXI7XG4gICAgICAgICAgICAgICAgaWYgKGlzQ3J5cHRvY3VycmVuY3koY2xpZW50LmN1cnJlbmN5KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAod2l0aGRyYXdhbF9sb2NrZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlYWRlciA9IGxvY2FsaXplKCdVbmFibGUgdG8gcHJvY2VzcyB3aXRoZHJhd2FscyBpbiB0aGUgbW9tZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gbG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1dpdGhkcmF3YWxzIGFyZSB0ZW1wb3JhcmlseSB1bmF2YWlsYWJsZSBkdWUgdG8gc3lzdGVtIG1haW50ZW5hbmNlLiBZb3UgY2FuIG1ha2Ugd2l0aGRyYXdhbHMgd2hlbiB0aGUgbWFpbnRlbmFuY2UgaXMgY29tcGxldGUuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChkZXBvc2l0X2xvY2tlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyID0gbG9jYWxpemUoJ1VuYWJsZSB0byBwcm9jZXNzIGRlcG9zaXQgaW4gdGhlIG1vbWVudCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZSA9IGxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdEZXBvc2l0cyBhcmUgdGVtcG9yYXJpbHkgdW5hdmFpbGFibGUgZHVlIHRvIHN5c3RlbSBtYWludGVuYW5jZS4gWW91IGNhbiBtYWtlIGRlcG9zaXRzIHdoZW4gdGhlIG1haW50ZW5hbmNlIGlzIGNvbXBsZXRlLidcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXIgPSBsb2NhbGl6ZSgnU2NoZWR1bGVkIGNhc2hpZXIgc3lzdGVtIG1haW50ZW5hbmNlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gbG9jYWxpemUoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ091ciBjcnlwdG9jdXJyZW5jeSBjYXNoaWVyIGlzIHRlbXBvcmFyaWx5IGRvd24gZHVlIHRvIHN5c3RlbSBtYWludGVuYW5jZS4gWW91IGNhbiBtYWtlIGNyeXB0b2N1cnJlbmN5IGRlcG9zaXRzIGFuZCB3aXRoZHJhd2FscyBpbiBhIGZldyBtaW51dGVzIHdoZW4gdGhlIG1haW50ZW5hbmNlIGlzIGNvbXBsZXRlLidcbiAgICAgICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBoZWFkZXIgPSBsb2NhbGl6ZSgnU2NoZWR1bGVkIGNhc2hpZXIgc3lzdGVtIG1haW50ZW5hbmNlJyk7XG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBsb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICdPdXIgY2FzaGllciBpcyB0ZW1wb3JhcmlseSBkb3duIGR1ZSB0byBzeXN0ZW0gbWFpbnRlbmFuY2UuIFlvdSBjYW4gYWNjZXNzIHRoZSBjYXNoaWVyIGluIGEgZmV3IG1pbnV0ZXMgd2hlbiB0aGUgbWFpbnRlbmFuY2UgaXMgY29tcGxldGUuJ1xuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBrZXk6ICdzeXN0ZW1fbWFpbnRlbmFuY2UnLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXIsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJyxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRheDoge1xuICAgICAgICAgICAgICAgIGtleTogJ3RheCcsXG4gICAgICAgICAgICAgICAgaGVhZGVyOiBsb2NhbGl6ZSgnWW91IGhhdmUgbm90IHByb3ZpZGVkIHlvdXIgdGF4IGlkZW50aWZpY2F0aW9uIG51bWJlcicpLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAnVGhpcyBpbmZvcm1hdGlvbiBpcyBuZWNlc3NhcnkgZm9yIGxlZ2FsIGFuZCByZWd1bGF0b3J5IHJlcXVpcmVtZW50cy4gUGxlYXNlIGdvIHRvIHlvdXIgYWNjb3VudCBzZXR0aW5ncywgYW5kIGZpbGwgaW4geW91ciBsYXRlc3QgdGF4IGlkZW50aWZpY2F0aW9uIG51bWJlci4nXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgICAgICAgICAgcm91dGU6IHJvdXRlcy5wZXJzb25hbF9kZXRhaWxzLFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBsb2NhbGl6ZSgnR28gdG8gbXkgYWNjb3VudCBzZXR0aW5ncycpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHlwZTogJ2RhbmdlcicsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdG5jOiB7XG4gICAgICAgICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IFdTLnRuY0FwcHJvdmFsKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBXUy5nZXRTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBsb2NhbGl6ZSgnSSBhY2NlcHQnKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGtleTogJ3RuYycsXG4gICAgICAgICAgICAgICAgaGVhZGVyOiBsb2NhbGl6ZSgnVGVybXMgJiBjb25kaXRpb25zIHVwZGF0ZWQnKSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiAoXG4gICAgICAgICAgICAgICAgICAgIDxMb2NhbGl6ZVxuICAgICAgICAgICAgICAgICAgICAgICAgaTE4bl9kZWZhdWx0X3RleHQ9J1BsZWFzZSBhY2NlcHQgb3VyIDwwPnVwZGF0ZWQgVGVybXMgYW5kIENvbmRpdGlvbnM8LzA+IHRvIHByb2NlZWQuJ1xuICAgICAgICAgICAgICAgICAgICAgICAgY29tcG9uZW50cz17WzxTdGF0aWNVcmwga2V5PXswfSBjbGFzc05hbWU9J2xpbmsnIGhyZWY9J3Rlcm1zLWFuZC1jb25kaXRpb25zJyAvPl19XG4gICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdHdvX2ZfYToge1xuICAgICAgICAgICAgICAgIGtleTogJ3R3b19mX2EnLFxuICAgICAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ1N0cm9uZ2VyIHNlY3VyaXR5IGZvciB5b3VyIERlcml2IGFjY291bnQnKSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiBsb2NhbGl6ZShcbiAgICAgICAgICAgICAgICAgICAgJ1dpdGggdHdvLWZhY3RvciBhdXRoZW50aWNhdGlvbiwgeW914oCZbGwgcHJvdGVjdCB5b3VyIGFjY291bnQgd2l0aCBib3RoIHlvdXIgcGFzc3dvcmQgYW5kIHlvdXIgcGhvbmUgLSBzbyBvbmx5IHlvdSBjYW4gYWNjZXNzIHlvdXIgYWNjb3VudCwgZXZlbiBpZiBzb21lb25lIGtub3dzIHlvdXIgcGFzc3dvcmQuJ1xuICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIHJvdXRlOiByb3V0ZXMudHdvX2ZhY3Rvcl9hdXRoZW50aWNhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogbG9jYWxpemUoJ1NlY3VyZSBteSBhY2NvdW50JyksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnd2FybmluZycsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdW53ZWxjb21lOiB7XG4gICAgICAgICAgICAgICAga2V5OiAndW53ZWxjb21lJyxcbiAgICAgICAgICAgICAgICBoZWFkZXI6IGxvY2FsaXplKCdEZXBvc2l0cyBhcmUgbG9ja2VkJyksXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogbG9jYWxpemUoJ1BsZWFzZSBjb250YWN0IHVzIHZpYSBsaXZlIGNoYXQuJyksXG4gICAgICAgICAgICAgICAgYWN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5MQ19BUEkub3Blbl9jaGF0X3dpbmRvdygpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB0ZXh0OiBsb2NhbGl6ZSgnR28gdG8gbGl2ZSBjaGF0JyksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0eXBlOiAnZGFuZ2VyJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB3aXRoZHJhd2FsX2xvY2tlZDoge1xuICAgICAgICAgICAgICAgIGtleTogJ3dpdGhkcmF3YWxfbG9ja2VkJyxcbiAgICAgICAgICAgICAgICBoZWFkZXI6IGxvY2FsaXplKCdZb3UgYXJlIG9ubHkgYWxsb3dlZCB0byBtYWtlIGRlcG9zaXRzJyksXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogbG9jYWxpemUoJ1BsZWFzZSBjb250YWN0IHVzIHZpYSBsaXZlIGNoYXQgdG8gZW5hYmxlIHdpdGhkcmF3YWxzLicpLFxuICAgICAgICAgICAgICAgIGFjdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuTENfQVBJLm9wZW5fY2hhdF93aW5kb3coKTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogbG9jYWxpemUoJ0dvIHRvIGxpdmUgY2hhdCcpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgdHlwZTogJ3dhcm5pbmcnLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHdpdGhkcmF3YWxfbG9ja2VkX3Jldmlldzoge1xuICAgICAgICAgICAgICAgIGtleTogJ3dpdGhkcmF3YWxfbG9ja2VkX3JldmlldycsXG4gICAgICAgICAgICAgICAgaGVhZGVyOiBsb2NhbGl6ZSgnWW91ciB3aXRoZHJhd2FsIGlzIGxvY2tlZCcpLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGxvY2FsaXplKFxuICAgICAgICAgICAgICAgICAgICAnUGxlYXNlIHN1Ym1pdCB5b3VyIFByb29mIG9mIElkZW50aXR5IGFnYWluIGFuZCBjb21wbGV0ZSB0aGUgZmluYW5jaWFsIGFzc2Vzc21lbnQgaW4gYWNjb3VudCBzZXR0aW5nIHRvIHVubG9jayBpdC4nXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBhY3Rpb246IHtcbiAgICAgICAgICAgICAgICAgICAgcm91dGU6IHJvdXRlcy5wcm9vZl9vZl9pZGVudGl0eSxcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogbG9jYWxpemUoJ0dvIHRvIG15IGFjY291bnQgc2V0dGluZ3MnKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHR5cGU6ICd3YXJuaW5nJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB5b3VfYXJlX29mZmxpbmU6IHtcbiAgICAgICAgICAgICAgICBrZXk6ICd5b3VfYXJlX29mZmxpbmUnLFxuICAgICAgICAgICAgICAgIGhlYWRlcjogbG9jYWxpemUoJ1lvdSBhcmUgb2ZmbGluZScpLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IDxMb2NhbGl6ZSBpMThuX2RlZmF1bHRfdGV4dD0nQ2hlY2sgeW91ciBjb25uZWN0aW9uLicgLz4sXG4gICAgICAgICAgICAgICAgdHlwZTogJ2RhbmdlcicsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICB0aGlzLmNsaWVudF9ub3RpZmljYXRpb25zID0gbm90aWZpY2F0aW9ucztcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgc2V0U2hvdWxkU2hvd1BvcHVwcyhzaG91bGRfc2hvd19wb3B1cHMpIHtcbiAgICAgICAgdGhpcy5zaG91bGRfc2hvd19wb3B1cHMgPSBzaG91bGRfc2hvd19wb3B1cHM7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIHRvZ2dsZU5vdGlmaWNhdGlvbnNNb2RhbCgpIHtcbiAgICAgICAgdGhpcy5pc19ub3RpZmljYXRpb25zX3Zpc2libGUgPSAhdGhpcy5pc19ub3RpZmljYXRpb25zX3Zpc2libGU7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIHVubWFya05vdGlmaWNhdGlvbk1lc3NhZ2UoeyBrZXkgfSkge1xuICAgICAgICB0aGlzLm1hcmtlZF9ub3RpZmljYXRpb25zID0gdGhpcy5tYXJrZWRfbm90aWZpY2F0aW9ucy5maWx0ZXIoaXRlbSA9PiBrZXkgIT09IGl0ZW0pO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICB1cGRhdGVOb3RpZmljYXRpb25zKG5vdGlmaWNhdGlvbnNfYXJyYXkpIHtcbiAgICAgICAgdGhpcy5ub3RpZmljYXRpb25zID0gbm90aWZpY2F0aW9uc19hcnJheS5maWx0ZXIobWVzc2FnZSA9PiAhZXhjbHVkZWRfbm90aWZpY2F0aW9ucy5pbmNsdWRlcyhtZXNzYWdlLmtleSkpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./Stores/notification-store.js\n");

/***/ }),

/***/ "./Stores/pushwoosh-store.js":
/*!***********************************!*\
  !*** ./Stores/pushwoosh-store.js ***!
  \***********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ PushwooshStore)\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"../../../node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var web_push_notifications__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! web-push-notifications */ \"../../../node_modules/web-push-notifications/lib/index.js\");\n/* harmony import */ var web_push_notifications__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(web_push_notifications__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @deriv/translations */ \"../../translations/src/index.js\");\n/* harmony import */ var _base_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./base-store */ \"./Stores/base-store.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar _dec, _dec2, _class, _descriptor, _descriptor2;\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n\n\n\n\n\nvar PushwooshStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, (_class = /*#__PURE__*/function (_BaseStore) {\n  _inherits(PushwooshStore, _BaseStore);\n\n  var _super = _createSuper(PushwooshStore);\n\n  // only available on staging & production (bot and deriv)\n  function PushwooshStore(root_store) {\n    var _this;\n\n    _classCallCheck(this, PushwooshStore);\n\n    _this = _super.call(this, {\n      root_store: root_store\n    });\n    _this.is_applicable = /^(16929|19111|24091|16303)$/.test((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.getAppId)());\n    _this.has_initialized = false;\n    _this.push_woosh = new web_push_notifications__WEBPACK_IMPORTED_MODULE_1__.Pushwoosh();\n\n    _initializerDefineProperty(_this, \"init\", _descriptor, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"sendTags\", _descriptor2, _assertThisInitialized(_this));\n\n    return _this;\n  }\n  /**\n   * Pushes initialize event to pushwoosh\n   */\n\n\n  return _createClass(PushwooshStore);\n}(_base_store__WEBPACK_IMPORTED_MODULE_4__[\"default\"]), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"init\", [_dec], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _this2 = this;\n\n    return /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n      return regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              if (!(!_this2.is_applicable && _this2.has_initialized)) {\n                _context.next = 2;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 2:\n              _context.next = 4;\n              return (0,mobx__WEBPACK_IMPORTED_MODULE_0__.when)(function () {\n                return _this2.root_store.common.is_network_online;\n              });\n\n            case 4:\n              _this2.push_woosh.push(['init', {\n                logLevel: 'error',\n                // or info or debug\n                applicationCode: 'DD293-35A19',\n                safariWebsitePushID: 'web.com.deriv',\n                defaultNotificationTitle: 'Deriv.com',\n                defaultNotificationImage: (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_2__.urlForCurrentDomain)('https://deriv.com/favicons/favicon-192x192.png'),\n                serviceWorkerUrl: '/service-worker.js'\n              }]);\n\n              _this2.has_initialized = true;\n\n              _this2.push_woosh.push(['onReady', function (api) {\n                try {\n                  _this2.push_woosh.isSubscribed().then(function (is_subscribed) {\n                    if (!is_subscribed) {\n                      _this2.push_woosh.subscribe();\n                    }\n                  }); // eslint-disable-next-line no-empty\n\n                } catch (_unused) {}\n\n                _this2.sendTags(api);\n              }]);\n\n            case 7:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"sendTags\", [_dec2], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _this3 = this;\n\n    return function (api) {\n      api.getTags().then(function (result) {\n        if (!result.result['Login ID'] || !result.result['Site Language'] || !result.result.Residence) {\n          return api.setTags({\n            'Login ID': _this3.root_store.client.loginid,\n            'Site Language': (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_3__.getLanguage)().toLowerCase(),\n            Residence: _this3.root_store.client.residence\n          });\n        }\n\n        return null;\n      })[\"catch\"](function (e) {\n        // eslint-disable-next-line no-console\n        console.error(e);\n        return null;\n      });\n    };\n  }\n})), _class));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9TdG9yZXMvcHVzaHdvb3NoLXN0b3JlLmpzLmpzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOzs7OztBQUNBO0FBS0E7QUFBQTs7QUFBQTs7QUFDQTtBQUFBO0FBQUE7QUFEQTtBQUFBO0FBQUE7O0FBQUE7O0FBQUE7O0FBQUE7QUFFQTtBQUVBO0FBQ0E7QUFDQTs7OztBQVpBOzs7Ozs7O0FBY0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOztBQUFBOztBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQUE7O0FBRkE7QUFJQTtBQUdBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTkE7O0FBU0E7O0FBRUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTs7QUE5QkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7Ozs7OztBQXNDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7O0FBQ0E7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9TdG9yZXMvcHVzaHdvb3NoLXN0b3JlLmpzP2QyNWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgYWN0aW9uLCB3aGVuIH0gZnJvbSAnbW9ieCc7XG5pbXBvcnQgeyBQdXNod29vc2ggfSBmcm9tICd3ZWItcHVzaC1ub3RpZmljYXRpb25zJztcbmltcG9ydCB7IGdldEFwcElkLCB1cmxGb3JDdXJyZW50RG9tYWluIH0gZnJvbSAnQGRlcml2L3NoYXJlZCc7XG5pbXBvcnQgeyBnZXRMYW5ndWFnZSB9IGZyb20gJ0BkZXJpdi90cmFuc2xhdGlvbnMnO1xuaW1wb3J0IEJhc2VTdG9yZSBmcm9tICcuL2Jhc2Utc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQdXNod29vc2hTdG9yZSBleHRlbmRzIEJhc2VTdG9yZSB7XG4gICAgLy8gb25seSBhdmFpbGFibGUgb24gc3RhZ2luZyAmIHByb2R1Y3Rpb24gKGJvdCBhbmQgZGVyaXYpXG4gICAgaXNfYXBwbGljYWJsZSA9IC9eKDE2OTI5fDE5MTExfDI0MDkxfDE2MzAzKSQvLnRlc3QoZ2V0QXBwSWQoKSk7XG4gICAgaGFzX2luaXRpYWxpemVkID0gZmFsc2U7XG4gICAgcHVzaF93b29zaCA9IG5ldyBQdXNod29vc2goKTtcblxuICAgIGNvbnN0cnVjdG9yKHJvb3Rfc3RvcmUpIHtcbiAgICAgICAgc3VwZXIoeyByb290X3N0b3JlIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFB1c2hlcyBpbml0aWFsaXplIGV2ZW50IHRvIHB1c2h3b29zaFxuICAgICAqL1xuICAgIEBhY3Rpb24uYm91bmRcbiAgICBpbml0ID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoIXRoaXMuaXNfYXBwbGljYWJsZSAmJiB0aGlzLmhhc19pbml0aWFsaXplZCkgcmV0dXJuO1xuICAgICAgICBhd2FpdCB3aGVuKCgpID0+IHRoaXMucm9vdF9zdG9yZS5jb21tb24uaXNfbmV0d29ya19vbmxpbmUpO1xuXG4gICAgICAgIHRoaXMucHVzaF93b29zaC5wdXNoKFtcbiAgICAgICAgICAgICdpbml0JyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsb2dMZXZlbDogJ2Vycm9yJywgLy8gb3IgaW5mbyBvciBkZWJ1Z1xuICAgICAgICAgICAgICAgIGFwcGxpY2F0aW9uQ29kZTogJ0REMjkzLTM1QTE5JyxcbiAgICAgICAgICAgICAgICBzYWZhcmlXZWJzaXRlUHVzaElEOiAnd2ViLmNvbS5kZXJpdicsXG4gICAgICAgICAgICAgICAgZGVmYXVsdE5vdGlmaWNhdGlvblRpdGxlOiAnRGVyaXYuY29tJyxcbiAgICAgICAgICAgICAgICBkZWZhdWx0Tm90aWZpY2F0aW9uSW1hZ2U6IHVybEZvckN1cnJlbnREb21haW4oJ2h0dHBzOi8vZGVyaXYuY29tL2Zhdmljb25zL2Zhdmljb24tMTkyeDE5Mi5wbmcnKSxcbiAgICAgICAgICAgICAgICBzZXJ2aWNlV29ya2VyVXJsOiAnL3NlcnZpY2Utd29ya2VyLmpzJyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0pO1xuICAgICAgICB0aGlzLmhhc19pbml0aWFsaXplZCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5wdXNoX3dvb3NoLnB1c2goW1xuICAgICAgICAgICAgJ29uUmVhZHknLFxuICAgICAgICAgICAgYXBpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnB1c2hfd29vc2guaXNTdWJzY3JpYmVkKCkudGhlbihpc19zdWJzY3JpYmVkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXNfc3Vic2NyaWJlZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHVzaF93b29zaC5zdWJzY3JpYmUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lbXB0eVxuICAgICAgICAgICAgICAgIH0gY2F0Y2gge31cblxuICAgICAgICAgICAgICAgIHRoaXMuc2VuZFRhZ3MoYXBpKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGFncyBjb250YWluaW5nIGNsaWVudCB0byBwdXNod29vc2hcbiAgICAgKi9cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgc2VuZFRhZ3MgPSBhcGkgPT4ge1xuICAgICAgICBhcGkuZ2V0VGFncygpXG4gICAgICAgICAgICAudGhlbihyZXN1bHQgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghcmVzdWx0LnJlc3VsdFsnTG9naW4gSUQnXSB8fCAhcmVzdWx0LnJlc3VsdFsnU2l0ZSBMYW5ndWFnZSddIHx8ICFyZXN1bHQucmVzdWx0LlJlc2lkZW5jZSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBpLnNldFRhZ3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgJ0xvZ2luIElEJzogdGhpcy5yb290X3N0b3JlLmNsaWVudC5sb2dpbmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ1NpdGUgTGFuZ3VhZ2UnOiBnZXRMYW5ndWFnZSgpLnRvTG93ZXJDYXNlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICBSZXNpZGVuY2U6IHRoaXMucm9vdF9zdG9yZS5jbGllbnQucmVzaWRlbmNlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmNhdGNoKGUgPT4ge1xuICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1jb25zb2xlXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH0pO1xuICAgIH07XG59XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./Stores/pushwoosh-store.js\n");

/***/ }),

/***/ "./Stores/rudderstack-store.js":
/*!*************************************!*\
  !*** ./Stores/rudderstack-store.js ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ RudderStackStore)\n/* harmony export */ });\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mobx */ \"../../../node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\");\n/* harmony import */ var _deriv_translations__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @deriv/translations */ \"../../translations/src/index.js\");\n/* harmony import */ var _common_base_socket_base__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! _common/base/socket_base */ \"./_common/base/socket_base.js\");\n/* harmony import */ var _common_base_socket_base__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_common_base_socket_base__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var _base_store__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./base-store */ \"./Stores/base-store.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar _dec, _dec2, _dec3, _dec4, _class, _descriptor;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n\n\n\n\n\nvar RudderStackStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_0__.action.bound, (_class = /*#__PURE__*/function (_BaseStore) {\n  _inherits(RudderStackStore, _BaseStore);\n\n  var _super = _createSuper(RudderStackStore);\n\n  // only available on production (bot and deriv)\n  function RudderStackStore(root_store) {\n    var _this;\n\n    _classCallCheck(this, RudderStackStore);\n\n    _this = _super.call(this, {\n      root_store: root_store\n    });\n    _this.is_applicable = /^(16929|19111|24091)$/.test((0,_deriv_shared__WEBPACK_IMPORTED_MODULE_1__.getAppId)());\n    _this.has_identified = false;\n    _this.current_page = '';\n\n    _initializerDefineProperty(_this, \"identifyEvent\", _descriptor, _assertThisInitialized(_this));\n\n    return _this;\n  }\n\n  _createClass(RudderStackStore, [{\n    key: \"pageView\",\n    value:\n    /**\n     * Pushes page view track event to rudderstack\n     */\n    function pageView() {\n      var current_page = window.location.hostname + window.location.pathname;\n\n      if (this.is_applicable && this.root_store.client.is_logged_in && this.has_identified && current_page !== this.current_page) {\n        window.rudderanalytics.page('Deriv App', current_page);\n        this.current_page = current_page;\n      }\n    }\n    /**\n     * Pushes reset event to rudderstack\n     */\n\n  }, {\n    key: \"reset\",\n    value: function reset() {\n      if (this.is_applicable) {\n        window.rudderanalytics.reset();\n        this.has_identified = false;\n      }\n    }\n    /**\n     * Pushes track event to rudderstack\n     */\n\n  }, {\n    key: \"track\",\n    value: function track(event_name, options) {\n      if (this.is_applicable && this.has_identified) {\n        window.rudderanalytics.track(event_name, options);\n      }\n    }\n  }]);\n\n  return RudderStackStore;\n}(_base_store__WEBPACK_IMPORTED_MODULE_4__[\"default\"]), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"identifyEvent\", [_dec], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _this2 = this;\n\n    return /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(data) {\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", new Promise(function (resolve) {\n                  if (_this2.is_applicable && !_this2.has_identified) {\n                    _common_base_socket_base__WEBPACK_IMPORTED_MODULE_3___default().wait('authorize').then(function () {\n                      var user_id = _this2.root_store.client.user_id;\n\n                      if (user_id) {\n                        window.rudderanalytics.identify(user_id, _objectSpread({\n                          language: (0,_deriv_translations__WEBPACK_IMPORTED_MODULE_2__.getLanguage)().toLowerCase()\n                        }, data));\n                        _this2.has_identified = true;\n\n                        _this2.pageView();\n\n                        resolve();\n                      }\n\n                      resolve();\n                    });\n                  } else {\n                    resolve();\n                  }\n                }));\n\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"pageView\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"pageView\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"reset\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"reset\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"track\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"track\"), _class.prototype)), _class));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9TdG9yZXMvcnVkZGVyc3RhY2stc3RvcmUuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7Ozs7O0FBQ0E7QUFLQTtBQUFBOztBQUFBOztBQUNBO0FBQUE7QUFBQTtBQURBO0FBQUE7QUFBQTs7QUFBQTs7QUFBQTtBQUVBOzs7OztBQXlCQTtBQUNBO0FBQ0E7QUFDQTtBQUVBOztBQUVBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7Ozs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7Ozs7QUFDQTtBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBdEVBOzs7Ozs7OztBQVdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTs7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUlBOztBQUNBOztBQUVBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQXBCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL1N0b3Jlcy9ydWRkZXJzdGFjay1zdG9yZS5qcz80Nzg1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGFjdGlvbiB9IGZyb20gJ21vYngnO1xuaW1wb3J0IHsgZ2V0QXBwSWQgfSBmcm9tICdAZGVyaXYvc2hhcmVkJztcbmltcG9ydCB7IGdldExhbmd1YWdlIH0gZnJvbSAnQGRlcml2L3RyYW5zbGF0aW9ucyc7XG5pbXBvcnQgQmluYXJ5U29ja2V0IGZyb20gJ19jb21tb24vYmFzZS9zb2NrZXRfYmFzZSc7XG5pbXBvcnQgQmFzZVN0b3JlIGZyb20gJy4vYmFzZS1zdG9yZSc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJ1ZGRlclN0YWNrU3RvcmUgZXh0ZW5kcyBCYXNlU3RvcmUge1xuICAgIC8vIG9ubHkgYXZhaWxhYmxlIG9uIHByb2R1Y3Rpb24gKGJvdCBhbmQgZGVyaXYpXG4gICAgaXNfYXBwbGljYWJsZSA9IC9eKDE2OTI5fDE5MTExfDI0MDkxKSQvLnRlc3QoZ2V0QXBwSWQoKSk7XG4gICAgaGFzX2lkZW50aWZpZWQgPSBmYWxzZTtcbiAgICBjdXJyZW50X3BhZ2UgPSAnJztcblxuICAgIGNvbnN0cnVjdG9yKHJvb3Rfc3RvcmUpIHtcbiAgICAgICAgc3VwZXIoeyByb290X3N0b3JlIH0pO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBpZGVudGlmeUV2ZW50ID0gYXN5bmMgZGF0YSA9PlxuICAgICAgICBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzX2FwcGxpY2FibGUgJiYgIXRoaXMuaGFzX2lkZW50aWZpZWQpIHtcbiAgICAgICAgICAgICAgICBCaW5hcnlTb2NrZXQud2FpdCgnYXV0aG9yaXplJykudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHVzZXJfaWQgPSB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LnVzZXJfaWQ7XG4gICAgICAgICAgICAgICAgICAgIGlmICh1c2VyX2lkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cucnVkZGVyYW5hbHl0aWNzLmlkZW50aWZ5KHVzZXJfaWQsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsYW5ndWFnZTogZ2V0TGFuZ3VhZ2UoKS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzX2lkZW50aWZpZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wYWdlVmlldygpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUHVzaGVzIHBhZ2UgdmlldyB0cmFjayBldmVudCB0byBydWRkZXJzdGFja1xuICAgICAqL1xuICAgIEBhY3Rpb24uYm91bmRcbiAgICBwYWdlVmlldygpIHtcbiAgICAgICAgY29uc3QgY3VycmVudF9wYWdlID0gd2luZG93LmxvY2F0aW9uLmhvc3RuYW1lICsgd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIHRoaXMuaXNfYXBwbGljYWJsZSAmJlxuICAgICAgICAgICAgdGhpcy5yb290X3N0b3JlLmNsaWVudC5pc19sb2dnZWRfaW4gJiZcbiAgICAgICAgICAgIHRoaXMuaGFzX2lkZW50aWZpZWQgJiZcbiAgICAgICAgICAgIGN1cnJlbnRfcGFnZSAhPT0gdGhpcy5jdXJyZW50X3BhZ2VcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB3aW5kb3cucnVkZGVyYW5hbHl0aWNzLnBhZ2UoJ0Rlcml2IEFwcCcsIGN1cnJlbnRfcGFnZSk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRfcGFnZSA9IGN1cnJlbnRfcGFnZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFB1c2hlcyByZXNldCBldmVudCB0byBydWRkZXJzdGFja1xuICAgICAqL1xuICAgIEBhY3Rpb24uYm91bmRcbiAgICByZXNldCgpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNfYXBwbGljYWJsZSkge1xuICAgICAgICAgICAgd2luZG93LnJ1ZGRlcmFuYWx5dGljcy5yZXNldCgpO1xuICAgICAgICAgICAgdGhpcy5oYXNfaWRlbnRpZmllZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHVzaGVzIHRyYWNrIGV2ZW50IHRvIHJ1ZGRlcnN0YWNrXG4gICAgICovXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIHRyYWNrKGV2ZW50X25hbWUsIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNfYXBwbGljYWJsZSAmJiB0aGlzLmhhc19pZGVudGlmaWVkKSB7XG4gICAgICAgICAgICB3aW5kb3cucnVkZGVyYW5hbHl0aWNzLnRyYWNrKGV2ZW50X25hbWUsIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Stores/rudderstack-store.js\n");

/***/ }),

/***/ "./Stores/ui-store.js":
/*!****************************!*\
  !*** ./Stores/ui-store.js ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ UIStore)\n/* harmony export */ });\n/* harmony import */ var _deriv_shared__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @deriv/shared */ \"../../shared/src/index.js\");\n/* harmony import */ var Constants_ui__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! Constants/ui */ \"./Constants/ui.js\");\n/* harmony import */ var mobx__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! mobx */ \"../../../node_modules/mobx/lib/mobx.module.js\");\n/* harmony import */ var _base_store__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./base-store */ \"./Stores/base-store.js\");\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nvar _dec, _dec2, _dec3, _dec4, _dec5, _dec6, _dec7, _dec8, _dec9, _dec10, _dec11, _dec12, _dec13, _dec14, _dec15, _dec16, _dec17, _dec18, _dec19, _dec20, _dec21, _dec22, _dec23, _dec24, _dec25, _dec26, _dec27, _dec28, _dec29, _dec30, _dec31, _dec32, _dec33, _dec34, _dec35, _dec36, _dec37, _dec38, _dec39, _dec40, _dec41, _dec42, _dec43, _dec44, _dec45, _dec46, _dec47, _dec48, _dec49, _dec50, _dec51, _dec52, _dec53, _dec54, _dec55, _dec56, _dec57, _dec58, _dec59, _dec60, _dec61, _dec62, _dec63, _dec64, _dec65, _dec66, _dec67, _class, _descriptor, _descriptor2, _descriptor3, _descriptor4, _descriptor5, _descriptor6, _descriptor7, _descriptor8, _descriptor9, _descriptor10, _descriptor11, _descriptor12, _descriptor13, _descriptor14, _descriptor15, _descriptor16, _descriptor17, _descriptor18, _descriptor19, _descriptor20, _descriptor21, _descriptor22, _descriptor23, _descriptor24, _descriptor25, _descriptor26, _descriptor27, _descriptor28, _descriptor29, _descriptor30, _descriptor31, _descriptor32, _descriptor33, _descriptor34, _descriptor35, _descriptor36, _descriptor37, _descriptor38, _descriptor39, _descriptor40, _descriptor41, _descriptor42, _descriptor43, _descriptor44, _descriptor45, _descriptor46, _descriptor47, _descriptor48, _descriptor49, _descriptor50, _descriptor51, _descriptor52, _descriptor53, _descriptor54, _descriptor55, _descriptor56, _descriptor57, _descriptor58, _descriptor59, _descriptor60, _descriptor61, _descriptor62, _descriptor63, _descriptor64, _descriptor65, _descriptor66, _descriptor67;\n\nfunction asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { Promise.resolve(value).then(_next, _throw); } }\n\nfunction _asyncToGenerator(fn) { return function () { var self = this, args = arguments; return new Promise(function (resolve, reject) { var gen = fn.apply(self, args); function _next(value) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value); } function _throw(err) { asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err); } _next(undefined); }); }; }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _initializerDefineProperty(target, property, descriptor, context) { if (!descriptor) return; Object.defineProperty(target, property, { enumerable: descriptor.enumerable, configurable: descriptor.configurable, writable: descriptor.writable, value: descriptor.initializer ? descriptor.initializer.call(context) : void 0 }); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _applyDecoratedDescriptor(target, property, decorators, descriptor, context) { var desc = {}; Object.keys(descriptor).forEach(function (key) { desc[key] = descriptor[key]; }); desc.enumerable = !!desc.enumerable; desc.configurable = !!desc.configurable; if ('value' in desc || desc.initializer) { desc.writable = true; } desc = decorators.slice().reverse().reduce(function (desc, decorator) { return decorator(target, property, desc) || desc; }, desc); if (context && desc.initializer !== void 0) { desc.value = desc.initializer ? desc.initializer.call(context) : void 0; desc.initializer = undefined; } if (desc.initializer === void 0) { Object.defineProperty(target, property, desc); desc = null; } return desc; }\n\nfunction _initializerWarningHelper(descriptor, context) { throw new Error('Decorating class property failed. Please ensure that ' + 'proposal-class-properties is enabled and runs after the decorators transform.'); }\n\n\n\n\n\nvar store_name = 'ui_store';\nvar UIStore = (_dec = mobx__WEBPACK_IMPORTED_MODULE_2__.observable.shallow, _dec2 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec3 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec4 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec5 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec6 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec7 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec8 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec9 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec10 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec11 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec12 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec13 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec14 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec15 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec16 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec17 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec18 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec19 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec20 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec21 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec22 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec23 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec24 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec25 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec26 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec27 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec28 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec29 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec30 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec31 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec32 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec33 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec34 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec35 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec36 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec37 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec38 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec39 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec40 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec41 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec42 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec43 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec44 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec45 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec46 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec47 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec48 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec49 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec50 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec51 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec52 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec53 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec54 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec55 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec56 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec57 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec58 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec59 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec60 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec61 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec62 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec63 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec64 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec65 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec66 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, _dec67 = mobx__WEBPACK_IMPORTED_MODULE_2__.action.bound, (_class = /*#__PURE__*/function (_BaseStore) {\n  _inherits(UIStore, _BaseStore);\n\n  var _super = _createSuper(UIStore);\n\n  // TODO: [cleanup ui-store]\n  // Take profit, Stop loss & Deal cancellation checkbox\n  // Extensions\n  // Purchase Controls\n  // @observable is_purchase_confirm_on    = false;\n  // @observable is_purchase_lock_on       = false;\n  // SmartCharts Controls\n  // TODO: enable asset information\n  // @observable is_chart_asset_info_visible = true;\n  // PWA event and config\n  // purchase button states\n  // app states for modal\n  // real account signup\n  // Welcome modal\n  // Remove MX gaming account modal\n  // set currency modal\n  // position states\n  // Mt5 topup\n  // MT5 create real STP from demo, show only real accounts from switcher\n  // Real account signup\n  // UI Focus retention\n  // Mobile\n  // MT5 account needed modal\n  // onboarding\n  // add crypto accounts\n  function UIStore(root_store) {\n    var _this;\n\n    _classCallCheck(this, UIStore);\n\n    var local_storage_properties = ['advanced_duration_unit', 'is_advanced_duration', 'advanced_expiry_type', 'simple_duration_unit', 'duration_t', 'duration_s', 'duration_m', 'duration_h', 'duration_d', 'is_account_settings_visible', 'is_chart_asset_info_visible', 'is_chart_countdown_visible', 'is_chart_layout_default', 'is_dark_mode_on', 'is_positions_drawer_on', 'is_reports_visible', // 'is_purchase_confirm_on',\n    // 'is_purchase_lock_on',\n    'should_show_cancellation_warning'];\n    _this = _super.call(this, {\n      root_store: root_store,\n      local_storage_properties: local_storage_properties,\n      store_name: store_name\n    });\n\n    _initializerDefineProperty(_this, \"is_account_settings_visible\", _descriptor, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_positions_drawer_on\", _descriptor2, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_reports_visible\", _descriptor3, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"reports_route_tab_index\", _descriptor4, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_cashier_visible\", _descriptor5, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_history_tab_active\", _descriptor6, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"should_show_cancellation_warning\", _descriptor7, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"footer_extensions\", _descriptor8, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"header_extension\", _descriptor9, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"settings_extension\", _descriptor10, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"notification_messages_ui\", _descriptor11, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_dark_mode_on\", _descriptor12, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_settings_modal_on\", _descriptor13, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_accounts_switcher_on\", _descriptor14, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"account_switcher_disabled_message\", _descriptor15, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"has_only_forward_starting_contracts\", _descriptor16, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_services_error_visible\", _descriptor17, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_unsupported_contract_modal_visible\", _descriptor18, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_account_signup_modal_visible\", _descriptor19, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_set_residence_modal_visible\", _descriptor20, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_reset_password_modal_visible\", _descriptor21, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_reset_trading_password_modal_visible\", _descriptor22, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_chart_countdown_visible\", _descriptor23, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_chart_layout_default\", _descriptor24, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"pwa_prompt_event\", _descriptor25, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"screen_width\", _descriptor26, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"screen_height\", _descriptor27, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_onscreen_keyboard_active\", _descriptor28, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_advanced_duration\", _descriptor29, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"advanced_duration_unit\", _descriptor30, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"advanced_expiry_type\", _descriptor31, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"simple_duration_unit\", _descriptor32, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"duration_t\", _descriptor33, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"duration_s\", _descriptor34, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"duration_m\", _descriptor35, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"duration_h\", _descriptor36, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"duration_d\", _descriptor37, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"purchase_states\", _descriptor38, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_app_disabled\", _descriptor39, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_route_modal_on\", _descriptor40, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_real_acc_signup_on\", _descriptor41, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"real_account_signup_target\", _descriptor42, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"deposit_real_account_signup_target\", _descriptor43, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"has_real_account_signup_ended\", _descriptor44, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_welcome_modal_visible\", _descriptor45, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_close_mx_mlt_account_modal_visible\", _descriptor46, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_set_currency_modal_visible\", _descriptor47, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"show_positions_toggle\", _descriptor48, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"modal_index\", _descriptor49, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_top_up_virtual_open\", _descriptor50, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_top_up_virtual_in_progress\", _descriptor51, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_top_up_virtual_success\", _descriptor52, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"should_show_real_accounts_list\", _descriptor53, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"real_account_signup\", _descriptor54, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"current_focus\", _descriptor55, _assertThisInitialized(_this));\n\n    _this.mobile_toast_timeout = 3500;\n\n    _initializerDefineProperty(_this, \"toasts\", _descriptor56, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_cfd_page\", _descriptor57, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_nativepicker_visible\", _descriptor58, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_landscape\", _descriptor59, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"prompt_when\", _descriptor60, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"promptFn\", _descriptor61, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"is_account_needed_modal_on\", _descriptor62, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"account_needed_modal_props\", _descriptor63, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"manage_real_account_tab_index\", _descriptor64, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"should_show_multipliers_onboarding\", _descriptor65, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"choose_crypto_currency_target\", _descriptor66, _assertThisInitialized(_this));\n\n    _initializerDefineProperty(_this, \"should_show_cancel\", _descriptor67, _assertThisInitialized(_this));\n\n    _this.getDurationFromUnit = function (unit) {\n      return _this[\"duration_\".concat(unit)];\n    };\n\n    _this.changeTheme = function () {\n      // TODO: [disable-dark-bot] Delete this condition when Bot is ready\n      var new_app_routing_history = _this.root_store.common.app_routing_history.slice();\n\n      var platform = (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.getPlatformInformation)(new_app_routing_history).header;\n\n      if (platform === _deriv_shared__WEBPACK_IMPORTED_MODULE_0__.platform_name.DBot) {\n        document.body.classList.remove('theme--dark');\n        document.body.classList.add('theme--light');\n        return;\n      }\n\n      if (_this.is_dark_mode_on) {\n        document.body.classList.remove('theme--light');\n        document.body.classList.add('theme--dark');\n      } else {\n        document.body.classList.remove('theme--dark');\n        document.body.classList.add('theme--light');\n      }\n    };\n\n    window.addEventListener('resize', _this.handleResize);\n    (0,mobx__WEBPACK_IMPORTED_MODULE_2__.autorun)(function () {\n      _this.changeTheme();\n    });\n    return _this;\n  }\n\n  _createClass(UIStore, [{\n    key: \"init\",\n    value: function init(notification_messages) {\n      this.notification_messages_ui = notification_messages;\n    }\n  }, {\n    key: \"populateFooterExtensions\",\n    value: function populateFooterExtensions(footer_extensions) {\n      this.footer_extensions = footer_extensions;\n    }\n  }, {\n    key: \"populateHeaderExtensions\",\n    value: function populateHeaderExtensions(component) {\n      this.header_extension = component;\n    }\n  }, {\n    key: \"populateSettingsExtensions\",\n    value: function populateSettingsExtensions(menu_items) {\n      this.settings_extension = menu_items;\n    }\n  }, {\n    key: \"onChangeUiStore\",\n    value: function onChangeUiStore(_ref) {\n      var name = _ref.name,\n          value = _ref.value;\n\n      if (!(name in this)) {\n        throw new Error(\"Invalid Argument: \".concat(name));\n      }\n\n      this[name] = value;\n    }\n  }, {\n    key: \"handleResize\",\n    value: function handleResize() {\n      this.screen_width = window.innerWidth;\n      this.screen_height = window.innerHeight;\n    }\n  }, {\n    key: \"setPromptHandler\",\n    value: function setPromptHandler(condition) {\n      var cb = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : function () {};\n      this.prompt_when = condition;\n      this.promptFn = cb;\n    }\n  }, {\n    key: \"showCloseMxMltAccountPopup\",\n    value: function showCloseMxMltAccountPopup(is_open) {\n      this.is_close_mx_mlt_account_modal_visible = is_open;\n    }\n  }, {\n    key: \"is_mobile\",\n    get: function get() {\n      return this.screen_width <= Constants_ui__WEBPACK_IMPORTED_MODULE_1__.MAX_MOBILE_WIDTH;\n    }\n  }, {\n    key: \"is_tablet\",\n    get: function get() {\n      return this.screen_width <= Constants_ui__WEBPACK_IMPORTED_MODULE_1__.MAX_TABLET_WIDTH;\n    }\n  }, {\n    key: \"is_account_switcher_disabled\",\n    get: function get() {\n      return !!this.account_switcher_disabled_message;\n    }\n  }, {\n    key: \"setRouteModal\",\n    value: function setRouteModal() {\n      this.is_route_modal_on = true;\n    }\n  }, {\n    key: \"disableRouteModal\",\n    value: function disableRouteModal() {\n      this.is_route_modal_on = false;\n    }\n  }, {\n    key: \"disableApp\",\n    value: function disableApp() {\n      this.is_app_disabled = true;\n    }\n  }, {\n    key: \"enableApp\",\n    value: function enableApp() {\n      this.is_app_disabled = false;\n    }\n  }, {\n    key: \"toggleAccountsDialog\",\n    value: function toggleAccountsDialog() {\n      var status = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !this.is_accounts_switcher_on;\n      this.is_accounts_switcher_on = status;\n    }\n  }, {\n    key: \"setAccountSwitcherDisabledMessage\",\n    value: function setAccountSwitcherDisabledMessage(message) {\n      if (message) {\n        this.is_accounts_switcher_on = false;\n        this.account_switcher_disabled_message = message;\n      } else {\n        this.account_switcher_disabled_message = '';\n      }\n    }\n  }, {\n    key: \"setPurchaseState\",\n    value: function setPurchaseState(index) {\n      this.purchase_states[index] = true; // TODO: Find better solution in the future for hack below\n      // Force the animation to start quicker by manually assigning class to compensate for mobx getter lag\n      // Because mobx has a delay before it can receive the updated prop used to assign the animation class\n\n      var el_purchase_buttons = document.getElementsByClassName('btn-purchase');\n\n      if (el_purchase_buttons[index]) {\n        el_purchase_buttons[index].classList.add('btn-purchase--swoosh');\n      } // UI/UX wants button to remain green until transition is finished and only then disable buttons\n\n\n      setTimeout(function () {\n        [].forEach.bind(el_purchase_buttons, function (el) {\n          el.classList.add('btn-purchase--disabled');\n        })();\n      }, 250);\n    }\n  }, {\n    key: \"resetPurchaseStates\",\n    value: function resetPurchaseStates() {\n      this.purchase_states = [false, false];\n    }\n  }, {\n    key: \"setChartLayout\",\n    value: function setChartLayout(is_default) {\n      this.is_chart_layout_default = is_default;\n    } // TODO: enable asset information\n    // @action.bound\n    // setChartAssetInfo(is_visible) {\n    //     this.is_chart_asset_info_visible = is_visible;\n    // }\n\n  }, {\n    key: \"setChartCountdown\",\n    value: function setChartCountdown(is_visible) {\n      this.is_chart_countdown_visible = is_visible;\n    } // @action.bound\n    // togglePurchaseLock() {\n    //     this.is_purchase_lock_on = !this.is_purchase_lock_on;\n    // }\n    // @action.bound\n    // setPurchaseLock(is_locked) {\n    //     this.is_purchase_lock_on = is_locked;\n    // }\n    // @action.bound\n    // togglePurchaseConfirmation() {\n    //     this.is_purchase_confirm_on = !this.is_purchase_confirm_on;\n    // }\n\n  }, {\n    key: \"setDarkMode\",\n    value: function setDarkMode(is_dark_mode_on) {\n      if (this.is_dark_mode_on !== is_dark_mode_on) {\n        this.is_dark_mode_on = is_dark_mode_on; // This GTM call is here instead of the GTM store due to frequency of use\n\n        this.root_store.gtm.pushDataLayer({\n          event: 'switch theme'\n        });\n      }\n\n      return this.is_dark_mode_on;\n    }\n  }, {\n    key: \"toggleSetCurrencyModal\",\n    value: function toggleSetCurrencyModal() {\n      this.is_set_currency_modal_visible = !this.is_set_currency_modal_visible;\n    }\n  }, {\n    key: \"toggleCashier\",\n    value: function toggleCashier() {\n      this.is_cashier_visible = !this.is_cashier_visible;\n    }\n  }, {\n    key: \"setModalIndex\",\n    value: function setModalIndex() {\n      var index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      this.modal_index = index;\n    }\n  }, {\n    key: \"toggleSettingsModal\",\n    value: function toggleSettingsModal() {\n      this.is_settings_modal_on = !this.is_settings_modal_on;\n    }\n  }, {\n    key: \"openPositionsDrawer\",\n    value: function openPositionsDrawer() {\n      // show and hide Positions Drawer\n      this.is_positions_drawer_on = true;\n    }\n  }, {\n    key: \"openRealAccountSignup\",\n    value: function openRealAccountSignup() {\n      var _this$root_store$clie;\n\n      var target = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : (_this$root_store$clie = this.root_store.client.upgradeable_landing_companies) === null || _this$root_store$clie === void 0 ? void 0 : _this$root_store$clie[0];\n      this.is_real_acc_signup_on = true;\n      this.real_account_signup_target = target;\n      this.is_accounts_switcher_on = false;\n    }\n  }, {\n    key: \"setShouldShowCancel\",\n    value: function setShouldShowCancel(value) {\n      this.should_show_cancel = value;\n    }\n  }, {\n    key: \"resetRealAccountSignupTarget\",\n    value: function resetRealAccountSignupTarget() {\n      this.deposit_real_account_signup_target = this.real_account_signup_target;\n      this.real_account_signup_target = '';\n    }\n  }, {\n    key: \"setManageRealAccountActiveTabIndex\",\n    value: function setManageRealAccountActiveTabIndex(index) {\n      this.manage_real_account_tab_index = index;\n    }\n  }, {\n    key: \"closeRealAccountSignup\",\n    value: function closeRealAccountSignup() {\n      var _this2 = this;\n\n      this.is_real_acc_signup_on = false;\n      this.resetRealAccountSignupTarget();\n      setTimeout(function () {\n        _this2.resetRealAccountSignupParams();\n\n        _this2.setRealAccountSignupEnd(true);\n      }, 300);\n    }\n  }, {\n    key: \"openAccountNeededModal\",\n    value: function openAccountNeededModal(target, target_label, target_dmt5_label) {\n      this.is_account_needed_modal_on = true;\n      this.account_needed_modal_props = {\n        target: target,\n        target_label: target_label,\n        target_dmt5_label: target_dmt5_label\n      };\n    }\n  }, {\n    key: \"closeAccountNeededModal\",\n    value: function closeAccountNeededModal() {\n      this.is_account_needed_modal_on = false;\n      this.account_needed_modal_props = {\n        target: '',\n        target_label: '',\n        target_dmt5_label: ''\n      };\n    }\n  }, {\n    key: \"togglePositionsDrawer\",\n    value: function togglePositionsDrawer() {\n      // toggle Positions Drawer\n      this.is_positions_drawer_on = !this.is_positions_drawer_on;\n    }\n  }, {\n    key: \"toggleAccountSettings\",\n    value: function toggleAccountSettings(is_visible) {\n      this.is_account_settings_visible = is_visible;\n    }\n  }, {\n    key: \"toggleReports\",\n    value: function toggleReports(is_visible) {\n      this.is_reports_visible = is_visible;\n    }\n  }, {\n    key: \"toggleServicesErrorModal\",\n    value: function toggleServicesErrorModal(is_visible) {\n      this.is_services_error_visible = is_visible;\n    }\n  }, {\n    key: \"removePWAPromptEvent\",\n    value: function removePWAPromptEvent() {\n      this.pwa_prompt_event = null;\n    }\n  }, {\n    key: \"setPWAPromptEvent\",\n    value: function setPWAPromptEvent(e) {\n      this.pwa_prompt_event = e;\n    }\n  }, {\n    key: \"setHasOnlyForwardingContracts\",\n    value: function setHasOnlyForwardingContracts(has_only_forward_starting_contracts) {\n      this.has_only_forward_starting_contracts = has_only_forward_starting_contracts;\n    }\n  }, {\n    key: \"toggleUnsupportedContractModal\",\n    value: function toggleUnsupportedContractModal() {\n      var state_change = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !this.is_unsupported_contract_modal_visible;\n      this.is_unsupported_contract_modal_visible = state_change;\n    }\n  }, {\n    key: \"toggleAccountSignupModal\",\n    value: function toggleAccountSignupModal() {\n      var state_change = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !this.is_account_signup_modal_visible;\n      this.is_account_signup_modal_visible = state_change;\n    }\n  }, {\n    key: \"toggleSetResidenceModal\",\n    value: function toggleSetResidenceModal() {\n      var state_change = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !this.is_set_residence_modal_visible;\n      this.is_set_residence_modal_visible = state_change;\n    }\n  }, {\n    key: \"toggleCancellationWarning\",\n    value: function toggleCancellationWarning() {\n      var state_change = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !this.should_show_cancellation_warning;\n      this.should_show_cancellation_warning = state_change;\n    }\n  }, {\n    key: \"toggleHistoryTab\",\n    value: function toggleHistoryTab() {\n      var state_change = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !this.is_history_tab_active;\n      this.is_history_tab_active = state_change;\n    }\n  }, {\n    key: \"setTopUpInProgress\",\n    value: function setTopUpInProgress(bool) {\n      this.is_top_up_virtual_in_progress = bool;\n    }\n  }, {\n    key: \"closeTopUpModal\",\n    value: function closeTopUpModal() {\n      this.is_top_up_virtual_open = false;\n    }\n  }, {\n    key: \"openTopUpModal\",\n    value: function openTopUpModal() {\n      this.is_top_up_virtual_open = true;\n    }\n  }, {\n    key: \"closeSuccessTopUpModal\",\n    value: function closeSuccessTopUpModal() {\n      this.is_top_up_virtual_success = false;\n    }\n  }, {\n    key: \"toggleResetPasswordModal\",\n    value: function toggleResetPasswordModal() {\n      var state_change = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : !this.is_reset_password_modal_visible;\n      this.is_reset_password_modal_visible = state_change;\n    }\n  }, {\n    key: \"setResetTradingPasswordModalOpen\",\n    value: function setResetTradingPasswordModalOpen(is_reset_trading_password_modal_visible) {\n      this.is_reset_trading_password_modal_visible = is_reset_trading_password_modal_visible;\n    }\n  }, {\n    key: \"setRealAccountSignupParams\",\n    value: function setRealAccountSignupParams(params) {\n      this.real_account_signup = _objectSpread(_objectSpread({}, this.real_account_signup), params);\n    }\n  }, {\n    key: \"setRealAccountSignupEnd\",\n    value: function setRealAccountSignupEnd(has_ended) {\n      this.has_real_account_signup_ended = has_ended;\n    }\n  }, {\n    key: \"resetRealAccountSignupParams\",\n    value: function resetRealAccountSignupParams() {\n      this.real_account_signup = {\n        active_modal_index: -1,\n        previous_currency: '',\n        current_currency: '',\n        success_message: '',\n        error_message: ''\n      };\n    }\n  }, {\n    key: \"onOrientationChange\",\n    value: function onOrientationChange(_ref2) {\n      var is_landscape_orientation = _ref2.is_landscape_orientation;\n      this.is_landscape = is_landscape_orientation;\n    }\n  }, {\n    key: \"toggleOnScreenKeyboard\",\n    value: function toggleOnScreenKeyboard() {\n      this.is_onscreen_keyboard_active = this.current_focus !== null && this.is_mobile && (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.isTouchDevice)();\n    }\n  }, {\n    key: \"setCurrentFocus\",\n    value: function setCurrentFocus(value) {\n      this.current_focus = value;\n      this.toggleOnScreenKeyboard();\n    }\n  }, {\n    key: \"addToast\",\n    value: function addToast(toast_config) {\n      var _toast_config$key, _toast_config$timeout;\n\n      toast_config.key = (_toast_config$key = toast_config.key) !== null && _toast_config$key !== void 0 ? _toast_config$key : toast_config.content;\n      var toast_index = this.toasts.findIndex(function (t) {\n        return t.key === toast_config.key;\n      });\n\n      if (toast_index > -1) {\n        this.toasts.splice(toast_index, 1);\n      }\n\n      toast_config.timeout = (_toast_config$timeout = toast_config.timeout) !== null && _toast_config$timeout !== void 0 ? _toast_config$timeout : this.mobile_toast_timeout;\n\n      if (toast_config.is_bottom) {\n        this.toasts.push(toast_config);\n      } else {\n        this.toasts.unshift(toast_config);\n      }\n    }\n  }, {\n    key: \"removeToast\",\n    value: function removeToast(key) {\n      var index = this.toasts.findIndex(function (t) {\n        return t.key === key;\n      });\n\n      if (index > -1) {\n        this.toasts.splice(index, 1);\n      }\n    }\n  }, {\n    key: \"setIsNativepickerVisible\",\n    value: function setIsNativepickerVisible(is_nativepicker_visible) {\n      this.is_nativepicker_visible = is_nativepicker_visible;\n    }\n  }, {\n    key: \"setReportsTabIndex\",\n    value: function setReportsTabIndex() {\n      var tab_index = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      this.reports_route_tab_index = tab_index;\n    }\n  }, {\n    key: \"toggleWelcomeModal\",\n    value: function toggleWelcomeModal(_ref3) {\n      var _ref3$is_visible = _ref3.is_visible,\n          is_visible = _ref3$is_visible === void 0 ? !this.is_welcome_modal_visible : _ref3$is_visible,\n          _ref3$should_persist = _ref3.should_persist,\n          should_persist = _ref3$should_persist === void 0 ? false : _ref3$should_persist;\n      if (_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.LocalStore.get('has_viewed_welcome_screen') && !should_persist) return;\n      this.is_welcome_modal_visible = is_visible;\n\n      if (!is_visible) {\n        _deriv_shared__WEBPACK_IMPORTED_MODULE_0__.LocalStore.set('has_viewed_welcome_screen', true);\n      }\n    }\n  }, {\n    key: \"notifyAppInstall\",\n    value: function notifyAppInstall(prompt) {\n      var _this3 = this;\n\n      this.deferred_prompt = prompt;\n      setTimeout(function () {\n        _this3.root_store.notifications.addNotificationMessageByKey('install_pwa');\n      }, 10000);\n    }\n  }, {\n    key: \"installWithDeferredPrompt\",\n    value: function () {\n      var _installWithDeferredPrompt = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee() {\n        var choice, notification_key;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                this.deferred_prompt.prompt();\n                _context.next = 3;\n                return this.deferred_prompt.userChoice;\n\n              case 3:\n                choice = _context.sent;\n\n                if (choice.outcome === 'accepted') {\n                  notification_key = 'install_pwa';\n                  this.root_store.notifications.removeNotificationMessage({\n                    key: notification_key,\n                    should_show_again: false\n                  });\n                  this.root_store.notifications.removeNotificationByKey({\n                    key: notification_key\n                  });\n                }\n\n              case 5:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function installWithDeferredPrompt() {\n        return _installWithDeferredPrompt.apply(this, arguments);\n      }\n\n      return installWithDeferredPrompt;\n    }()\n  }, {\n    key: \"toggleShouldShowRealAccountsList\",\n    value: function toggleShouldShowRealAccountsList(value) {\n      this.should_show_real_accounts_list = value;\n    }\n  }, {\n    key: \"toggleShouldShowMultipliersOnboarding\",\n    value: function toggleShouldShowMultipliersOnboarding(value) {\n      this.should_show_multipliers_onboarding = value;\n    }\n  }, {\n    key: \"shouldNavigateAfterChooseCrypto\",\n    value: function shouldNavigateAfterChooseCrypto(next_location) {\n      this.choose_crypto_currency_target = next_location;\n    }\n  }, {\n    key: \"continueRouteAfterChooseCrypto\",\n    value: function continueRouteAfterChooseCrypto() {\n      this.root_store.common.routeTo(this.choose_crypto_currency_target);\n\n      if (this.choose_crypto_currency_target === _deriv_shared__WEBPACK_IMPORTED_MODULE_0__.routes.cashier_deposit) {\n        this.root_store.modules.cashier.general_store.setIsDeposit(true);\n      }\n    }\n  }]);\n\n  return UIStore;\n}(_base_store__WEBPACK_IMPORTED_MODULE_3__[\"default\"]), (_descriptor = _applyDecoratedDescriptor(_class.prototype, \"is_account_settings_visible\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor2 = _applyDecoratedDescriptor(_class.prototype, \"is_positions_drawer_on\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor3 = _applyDecoratedDescriptor(_class.prototype, \"is_reports_visible\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor4 = _applyDecoratedDescriptor(_class.prototype, \"reports_route_tab_index\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 0;\n  }\n}), _descriptor5 = _applyDecoratedDescriptor(_class.prototype, \"is_cashier_visible\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor6 = _applyDecoratedDescriptor(_class.prototype, \"is_history_tab_active\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor7 = _applyDecoratedDescriptor(_class.prototype, \"should_show_cancellation_warning\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return true;\n  }\n}), _descriptor8 = _applyDecoratedDescriptor(_class.prototype, \"footer_extensions\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return [];\n  }\n}), _descriptor9 = _applyDecoratedDescriptor(_class.prototype, \"header_extension\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return undefined;\n  }\n}), _descriptor10 = _applyDecoratedDescriptor(_class.prototype, \"settings_extension\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return undefined;\n  }\n}), _descriptor11 = _applyDecoratedDescriptor(_class.prototype, \"notification_messages_ui\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return undefined;\n  }\n}), _descriptor12 = _applyDecoratedDescriptor(_class.prototype, \"is_dark_mode_on\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    var _window, _window$matchMedia;\n\n    return ((_window = window) === null || _window === void 0 ? void 0 : (_window$matchMedia = _window.matchMedia) === null || _window$matchMedia === void 0 ? void 0 : _window$matchMedia.call(_window, '(prefers-color-scheme: dark)').matches) && (0,_deriv_shared__WEBPACK_IMPORTED_MODULE_0__.isMobile)();\n  }\n}), _descriptor13 = _applyDecoratedDescriptor(_class.prototype, \"is_settings_modal_on\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor14 = _applyDecoratedDescriptor(_class.prototype, \"is_accounts_switcher_on\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor15 = _applyDecoratedDescriptor(_class.prototype, \"account_switcher_disabled_message\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return '';\n  }\n}), _descriptor16 = _applyDecoratedDescriptor(_class.prototype, \"has_only_forward_starting_contracts\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor17 = _applyDecoratedDescriptor(_class.prototype, \"is_services_error_visible\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor18 = _applyDecoratedDescriptor(_class.prototype, \"is_unsupported_contract_modal_visible\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor19 = _applyDecoratedDescriptor(_class.prototype, \"is_account_signup_modal_visible\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor20 = _applyDecoratedDescriptor(_class.prototype, \"is_set_residence_modal_visible\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor21 = _applyDecoratedDescriptor(_class.prototype, \"is_reset_password_modal_visible\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor22 = _applyDecoratedDescriptor(_class.prototype, \"is_reset_trading_password_modal_visible\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor23 = _applyDecoratedDescriptor(_class.prototype, \"is_chart_countdown_visible\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor24 = _applyDecoratedDescriptor(_class.prototype, \"is_chart_layout_default\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return true;\n  }\n}), _descriptor25 = _applyDecoratedDescriptor(_class.prototype, \"pwa_prompt_event\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor26 = _applyDecoratedDescriptor(_class.prototype, \"screen_width\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return window.innerWidth;\n  }\n}), _descriptor27 = _applyDecoratedDescriptor(_class.prototype, \"screen_height\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return window.innerHeight;\n  }\n}), _descriptor28 = _applyDecoratedDescriptor(_class.prototype, \"is_onscreen_keyboard_active\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor29 = _applyDecoratedDescriptor(_class.prototype, \"is_advanced_duration\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor30 = _applyDecoratedDescriptor(_class.prototype, \"advanced_duration_unit\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 't';\n  }\n}), _descriptor31 = _applyDecoratedDescriptor(_class.prototype, \"advanced_expiry_type\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 'duration';\n  }\n}), _descriptor32 = _applyDecoratedDescriptor(_class.prototype, \"simple_duration_unit\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 't';\n  }\n}), _descriptor33 = _applyDecoratedDescriptor(_class.prototype, \"duration_t\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 5;\n  }\n}), _descriptor34 = _applyDecoratedDescriptor(_class.prototype, \"duration_s\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 15;\n  }\n}), _descriptor35 = _applyDecoratedDescriptor(_class.prototype, \"duration_m\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 3;\n  }\n}), _descriptor36 = _applyDecoratedDescriptor(_class.prototype, \"duration_h\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 1;\n  }\n}), _descriptor37 = _applyDecoratedDescriptor(_class.prototype, \"duration_d\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 1;\n  }\n}), _descriptor38 = _applyDecoratedDescriptor(_class.prototype, \"purchase_states\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return [false, false];\n  }\n}), _descriptor39 = _applyDecoratedDescriptor(_class.prototype, \"is_app_disabled\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor40 = _applyDecoratedDescriptor(_class.prototype, \"is_route_modal_on\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor41 = _applyDecoratedDescriptor(_class.prototype, \"is_real_acc_signup_on\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor42 = _applyDecoratedDescriptor(_class.prototype, \"real_account_signup_target\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return undefined;\n  }\n}), _descriptor43 = _applyDecoratedDescriptor(_class.prototype, \"deposit_real_account_signup_target\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return undefined;\n  }\n}), _descriptor44 = _applyDecoratedDescriptor(_class.prototype, \"has_real_account_signup_ended\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor45 = _applyDecoratedDescriptor(_class.prototype, \"is_welcome_modal_visible\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor46 = _applyDecoratedDescriptor(_class.prototype, \"is_close_mx_mlt_account_modal_visible\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor47 = _applyDecoratedDescriptor(_class.prototype, \"is_set_currency_modal_visible\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor48 = _applyDecoratedDescriptor(_class.prototype, \"show_positions_toggle\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return true;\n  }\n}), _descriptor49 = _applyDecoratedDescriptor(_class.prototype, \"modal_index\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 0;\n  }\n}), _descriptor50 = _applyDecoratedDescriptor(_class.prototype, \"is_top_up_virtual_open\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor51 = _applyDecoratedDescriptor(_class.prototype, \"is_top_up_virtual_in_progress\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor52 = _applyDecoratedDescriptor(_class.prototype, \"is_top_up_virtual_success\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor53 = _applyDecoratedDescriptor(_class.prototype, \"should_show_real_accounts_list\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor54 = _applyDecoratedDescriptor(_class.prototype, \"real_account_signup\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return {\n      active_modal_index: -1,\n      previous_currency: '',\n      current_currency: '',\n      success_message: '',\n      error_message: ''\n    };\n  }\n}), _descriptor55 = _applyDecoratedDescriptor(_class.prototype, \"current_focus\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor56 = _applyDecoratedDescriptor(_class.prototype, \"toasts\", [_dec], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return [];\n  }\n}), _descriptor57 = _applyDecoratedDescriptor(_class.prototype, \"is_cfd_page\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor58 = _applyDecoratedDescriptor(_class.prototype, \"is_nativepicker_visible\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor59 = _applyDecoratedDescriptor(_class.prototype, \"is_landscape\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor60 = _applyDecoratedDescriptor(_class.prototype, \"prompt_when\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor61 = _applyDecoratedDescriptor(_class.prototype, \"promptFn\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return function () {};\n  }\n}), _descriptor62 = _applyDecoratedDescriptor(_class.prototype, \"is_account_needed_modal_on\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor63 = _applyDecoratedDescriptor(_class.prototype, \"account_needed_modal_props\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return {\n      target: '',\n      target_label: '',\n      target_dmt5_label: ''\n    };\n  }\n}), _descriptor64 = _applyDecoratedDescriptor(_class.prototype, \"manage_real_account_tab_index\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return 0;\n  }\n}), _descriptor65 = _applyDecoratedDescriptor(_class.prototype, \"should_show_multipliers_onboarding\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _descriptor66 = _applyDecoratedDescriptor(_class.prototype, \"choose_crypto_currency_target\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return null;\n  }\n}), _descriptor67 = _applyDecoratedDescriptor(_class.prototype, \"should_show_cancel\", [mobx__WEBPACK_IMPORTED_MODULE_2__.observable], {\n  configurable: true,\n  enumerable: true,\n  writable: true,\n  initializer: function initializer() {\n    return false;\n  }\n}), _applyDecoratedDescriptor(_class.prototype, \"init\", [_dec2], Object.getOwnPropertyDescriptor(_class.prototype, \"init\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"populateFooterExtensions\", [_dec3], Object.getOwnPropertyDescriptor(_class.prototype, \"populateFooterExtensions\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"populateHeaderExtensions\", [_dec4], Object.getOwnPropertyDescriptor(_class.prototype, \"populateHeaderExtensions\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"populateSettingsExtensions\", [_dec5], Object.getOwnPropertyDescriptor(_class.prototype, \"populateSettingsExtensions\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onChangeUiStore\", [_dec6], Object.getOwnPropertyDescriptor(_class.prototype, \"onChangeUiStore\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"handleResize\", [_dec7], Object.getOwnPropertyDescriptor(_class.prototype, \"handleResize\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setPromptHandler\", [_dec8], Object.getOwnPropertyDescriptor(_class.prototype, \"setPromptHandler\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"showCloseMxMltAccountPopup\", [_dec9], Object.getOwnPropertyDescriptor(_class.prototype, \"showCloseMxMltAccountPopup\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"is_mobile\", [mobx__WEBPACK_IMPORTED_MODULE_2__.computed], Object.getOwnPropertyDescriptor(_class.prototype, \"is_mobile\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"is_tablet\", [mobx__WEBPACK_IMPORTED_MODULE_2__.computed], Object.getOwnPropertyDescriptor(_class.prototype, \"is_tablet\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"is_account_switcher_disabled\", [mobx__WEBPACK_IMPORTED_MODULE_2__.computed], Object.getOwnPropertyDescriptor(_class.prototype, \"is_account_switcher_disabled\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setRouteModal\", [_dec10], Object.getOwnPropertyDescriptor(_class.prototype, \"setRouteModal\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"disableRouteModal\", [_dec11], Object.getOwnPropertyDescriptor(_class.prototype, \"disableRouteModal\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"disableApp\", [_dec12], Object.getOwnPropertyDescriptor(_class.prototype, \"disableApp\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"enableApp\", [_dec13], Object.getOwnPropertyDescriptor(_class.prototype, \"enableApp\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleAccountsDialog\", [_dec14], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleAccountsDialog\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setAccountSwitcherDisabledMessage\", [_dec15], Object.getOwnPropertyDescriptor(_class.prototype, \"setAccountSwitcherDisabledMessage\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setPurchaseState\", [_dec16], Object.getOwnPropertyDescriptor(_class.prototype, \"setPurchaseState\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"resetPurchaseStates\", [_dec17], Object.getOwnPropertyDescriptor(_class.prototype, \"resetPurchaseStates\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setChartLayout\", [_dec18], Object.getOwnPropertyDescriptor(_class.prototype, \"setChartLayout\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setChartCountdown\", [_dec19], Object.getOwnPropertyDescriptor(_class.prototype, \"setChartCountdown\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setDarkMode\", [_dec20], Object.getOwnPropertyDescriptor(_class.prototype, \"setDarkMode\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleSetCurrencyModal\", [_dec21], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleSetCurrencyModal\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleCashier\", [_dec22], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleCashier\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setModalIndex\", [_dec23], Object.getOwnPropertyDescriptor(_class.prototype, \"setModalIndex\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleSettingsModal\", [_dec24], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleSettingsModal\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"openPositionsDrawer\", [_dec25], Object.getOwnPropertyDescriptor(_class.prototype, \"openPositionsDrawer\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"openRealAccountSignup\", [_dec26], Object.getOwnPropertyDescriptor(_class.prototype, \"openRealAccountSignup\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setShouldShowCancel\", [_dec27], Object.getOwnPropertyDescriptor(_class.prototype, \"setShouldShowCancel\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"resetRealAccountSignupTarget\", [_dec28], Object.getOwnPropertyDescriptor(_class.prototype, \"resetRealAccountSignupTarget\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setManageRealAccountActiveTabIndex\", [_dec29], Object.getOwnPropertyDescriptor(_class.prototype, \"setManageRealAccountActiveTabIndex\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"closeRealAccountSignup\", [_dec30], Object.getOwnPropertyDescriptor(_class.prototype, \"closeRealAccountSignup\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"openAccountNeededModal\", [_dec31], Object.getOwnPropertyDescriptor(_class.prototype, \"openAccountNeededModal\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"closeAccountNeededModal\", [_dec32], Object.getOwnPropertyDescriptor(_class.prototype, \"closeAccountNeededModal\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"togglePositionsDrawer\", [_dec33], Object.getOwnPropertyDescriptor(_class.prototype, \"togglePositionsDrawer\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleAccountSettings\", [_dec34], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleAccountSettings\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleReports\", [_dec35], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleReports\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleServicesErrorModal\", [_dec36], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleServicesErrorModal\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"removePWAPromptEvent\", [_dec37], Object.getOwnPropertyDescriptor(_class.prototype, \"removePWAPromptEvent\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setPWAPromptEvent\", [_dec38], Object.getOwnPropertyDescriptor(_class.prototype, \"setPWAPromptEvent\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setHasOnlyForwardingContracts\", [_dec39], Object.getOwnPropertyDescriptor(_class.prototype, \"setHasOnlyForwardingContracts\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleUnsupportedContractModal\", [_dec40], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleUnsupportedContractModal\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleAccountSignupModal\", [_dec41], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleAccountSignupModal\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleSetResidenceModal\", [_dec42], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleSetResidenceModal\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleCancellationWarning\", [_dec43], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleCancellationWarning\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleHistoryTab\", [_dec44], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleHistoryTab\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setTopUpInProgress\", [_dec45], Object.getOwnPropertyDescriptor(_class.prototype, \"setTopUpInProgress\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"closeTopUpModal\", [_dec46], Object.getOwnPropertyDescriptor(_class.prototype, \"closeTopUpModal\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"openTopUpModal\", [_dec47], Object.getOwnPropertyDescriptor(_class.prototype, \"openTopUpModal\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"closeSuccessTopUpModal\", [_dec48], Object.getOwnPropertyDescriptor(_class.prototype, \"closeSuccessTopUpModal\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleResetPasswordModal\", [_dec49], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleResetPasswordModal\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setResetTradingPasswordModalOpen\", [_dec50], Object.getOwnPropertyDescriptor(_class.prototype, \"setResetTradingPasswordModalOpen\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setRealAccountSignupParams\", [_dec51], Object.getOwnPropertyDescriptor(_class.prototype, \"setRealAccountSignupParams\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setRealAccountSignupEnd\", [_dec52], Object.getOwnPropertyDescriptor(_class.prototype, \"setRealAccountSignupEnd\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"resetRealAccountSignupParams\", [_dec53], Object.getOwnPropertyDescriptor(_class.prototype, \"resetRealAccountSignupParams\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"onOrientationChange\", [_dec54], Object.getOwnPropertyDescriptor(_class.prototype, \"onOrientationChange\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleOnScreenKeyboard\", [_dec55], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleOnScreenKeyboard\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setCurrentFocus\", [_dec56], Object.getOwnPropertyDescriptor(_class.prototype, \"setCurrentFocus\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"addToast\", [_dec57], Object.getOwnPropertyDescriptor(_class.prototype, \"addToast\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"removeToast\", [_dec58], Object.getOwnPropertyDescriptor(_class.prototype, \"removeToast\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setIsNativepickerVisible\", [_dec59], Object.getOwnPropertyDescriptor(_class.prototype, \"setIsNativepickerVisible\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"setReportsTabIndex\", [_dec60], Object.getOwnPropertyDescriptor(_class.prototype, \"setReportsTabIndex\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleWelcomeModal\", [_dec61], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleWelcomeModal\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"notifyAppInstall\", [_dec62], Object.getOwnPropertyDescriptor(_class.prototype, \"notifyAppInstall\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"installWithDeferredPrompt\", [_dec63], Object.getOwnPropertyDescriptor(_class.prototype, \"installWithDeferredPrompt\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleShouldShowRealAccountsList\", [_dec64], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleShouldShowRealAccountsList\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"toggleShouldShowMultipliersOnboarding\", [_dec65], Object.getOwnPropertyDescriptor(_class.prototype, \"toggleShouldShowMultipliersOnboarding\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"shouldNavigateAfterChooseCrypto\", [_dec66], Object.getOwnPropertyDescriptor(_class.prototype, \"shouldNavigateAfterChooseCrypto\"), _class.prototype), _applyDecoratedDescriptor(_class.prototype, \"continueRouteAfterChooseCrypto\", [_dec67], Object.getOwnPropertyDescriptor(_class.prototype, \"continueRouteAfterChooseCrypto\"), _class.prototype)), _class));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9TdG9yZXMvdWktc3RvcmUuanMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUVBOzs7OztBQU9BO0FBQ0E7QUFHQTtBQWFBO0FBQ0E7QUFPQTtBQUVBO0FBQ0E7QUFDQTtBQUlBO0FBaUJBO0FBR0E7QUFJQTtBQU1BO0FBR0E7QUFHQTtBQUdBO0FBS0E7QUFLQTtBQUdBO0FBU0E7QUFHQTtBQVdBO0FBVUE7QUFJQTtBQUtBO0FBQUE7O0FBQUE7O0FBQ0E7QUFrQkE7QUFDQTtBQUdBO0FBQUE7QUFBQTtBQUFBO0FBQUE7O0FBdkJBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBOztBQUFBO0FBRkE7QUFBQTs7QUFFQTtBQStCQTtBQUNBOztBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUF0QkE7QUFDQTtBQUNBO0FBQ0E7QUE1QkE7QUE2QkE7Ozs7QUFvQkE7QUFFQTtBQUNBOzs7QUFFQTtBQUVBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTs7O0FBRUE7QUFFQTtBQUNBOzs7QUFFQTtBQUNBO0FBQUE7O0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUVBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTs7O0FBRUE7QUFFQTtBQUNBOzs7QUFFQTtBQUVBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTs7O0FBRUE7QUFFQTtBQUNBOzs7QUFFQTtBQUVBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBRUE7QUFHQTtBQUNBOztBQUNBOztBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUVBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTtBQUdBO0FBQ0E7QUFDQTtBQUNBOzs7O0FBRUE7QUFFQTtBQUNBO0FBR0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUVBO0FBRUE7QUFDQTs7QUFFQTtBQUFBO0FBQUE7QUFDQTs7QUFFQTtBQUNBOzs7QUFFQTtBQUVBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTs7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFFQTtBQUNBOzs7QUFFQTtBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFFQTtBQUNBOzs7QUFFQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTs7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTs7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTs7O0FBRUE7QUFFQTtBQUNBOzs7QUFFQTtBQUVBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTs7O0FBRUE7QUFFQTtBQUNBOzs7QUFFQTtBQUVBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFFQTtBQUNBOzs7QUFFQTtBQUVBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTs7O0FBRUE7QUFFQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFFQTtBQUNBOzs7QUFFQTtBQUVBO0FBSUE7OztBQUVBO0FBRUE7QUFDQTs7O0FBRUE7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTtBQU9BOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFFQTtBQUNBOzs7QUFFQTtBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTs7QUFDQTtBQUNBO0FBQUE7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUVBO0FBQUE7QUFBQTs7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFFQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7OztBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBRkE7QUFBQTs7QUFBQTtBQUdBOztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQUE7QUFBQTtBQUNBOztBQVhBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7O0FBY0E7QUFFQTtBQUNBOzs7QUFFQTtBQUVBO0FBQ0E7OztBQUVBO0FBRUE7QUFDQTs7O0FBRUE7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7OztBQWxvQkE7Ozs7O0FBQ0E7O0FBQ0E7Ozs7O0FBQUE7O0FBQ0E7Ozs7O0FBQUE7O0FBQ0E7Ozs7O0FBQUE7O0FBQ0E7Ozs7O0FBQUE7O0FBQ0E7Ozs7O0FBQUE7O0FBR0E7Ozs7O0FBQUE7O0FBR0E7Ozs7O0FBQUE7O0FBQ0E7Ozs7O0FBQUE7O0FBQ0E7Ozs7O0FBQUE7O0FBQ0E7Ozs7O0FBQUE7O0FBRUE7Ozs7Ozs7QUFBQTs7QUFDQTs7Ozs7QUFBQTs7QUFDQTs7Ozs7QUFBQTs7QUFDQTs7Ozs7QUFBQTs7QUFFQTs7Ozs7QUFBQTs7QUFJQTs7Ozs7QUFBQTs7QUFDQTs7Ozs7QUFBQTs7QUFDQTs7Ozs7QUFBQTs7QUFDQTs7Ozs7QUFBQTs7QUFDQTs7Ozs7QUFBQTs7QUFDQTs7Ozs7QUFBQTs7QUFNQTs7Ozs7QUFBQTs7QUFDQTs7Ozs7QUFBQTs7QUFHQTs7Ozs7QUFBQTs7QUFFQTs7Ozs7QUFBQTs7QUFDQTs7Ozs7QUFBQTs7QUFDQTs7Ozs7QUFBQTs7QUFFQTs7Ozs7QUFBQTs7QUFDQTs7Ozs7QUFBQTs7QUFDQTs7Ozs7QUFBQTs7QUFDQTs7Ozs7QUFBQTs7QUFDQTs7Ozs7QUFBQTs7QUFDQTs7Ozs7QUFBQTs7QUFDQTs7Ozs7QUFBQTs7QUFDQTs7Ozs7QUFBQTs7QUFDQTs7Ozs7QUFBQTs7QUFHQTs7Ozs7QUFBQTs7QUFHQTs7Ozs7QUFBQTs7QUFDQTs7Ozs7QUFBQTs7QUFHQTs7Ozs7QUFBQTs7QUFDQTs7Ozs7QUFBQTs7QUFDQTs7Ozs7QUFBQTs7QUFDQTs7Ozs7QUFBQTs7QUFHQTs7Ozs7QUFBQTs7QUFHQTs7Ozs7QUFBQTs7QUFHQTs7Ozs7QUFBQTs7QUFHQTs7Ozs7QUFBQTs7QUFFQTs7Ozs7QUFBQTs7QUFHQTs7Ozs7QUFBQTs7QUFDQTs7Ozs7QUFBQTs7QUFDQTs7Ozs7QUFBQTs7QUFHQTs7Ozs7QUFBQTs7QUFHQTs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFMQTs7QUFTQTs7Ozs7QUFBQTs7Ozs7OztBQUlBOztBQUVBOzs7OztBQUFBOztBQUNBOzs7OztBQUFBOztBQUNBOzs7OztBQUFBOztBQUVBOzs7OztBQUFBOztBQUNBOzs7OztBQUFBOztBQUdBOzs7OztBQUFBOztBQUNBOzs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7O0FBTUE7Ozs7O0FBQUE7O0FBR0E7Ozs7O0FBQUE7O0FBQ0E7Ozs7O0FBQUE7O0FBR0E7Ozs7O0FBQUE7O0FBa0dBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vU3RvcmVzL3VpLXN0b3JlLmpzPzdiYWEiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0UGxhdGZvcm1JbmZvcm1hdGlvbiwgaXNNb2JpbGUsIGlzVG91Y2hEZXZpY2UsIExvY2FsU3RvcmUsIHBsYXRmb3JtX25hbWUsIHJvdXRlcyB9IGZyb20gJ0BkZXJpdi9zaGFyZWQnO1xuaW1wb3J0IHsgTUFYX01PQklMRV9XSURUSCwgTUFYX1RBQkxFVF9XSURUSCB9IGZyb20gJ0NvbnN0YW50cy91aSc7XG5pbXBvcnQgeyBhY3Rpb24sIGF1dG9ydW4sIGNvbXB1dGVkLCBvYnNlcnZhYmxlIH0gZnJvbSAnbW9ieCc7XG5pbXBvcnQgQmFzZVN0b3JlIGZyb20gJy4vYmFzZS1zdG9yZSc7XG5cbmNvbnN0IHN0b3JlX25hbWUgPSAndWlfc3RvcmUnO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVSVN0b3JlIGV4dGVuZHMgQmFzZVN0b3JlIHtcbiAgICBAb2JzZXJ2YWJsZSBpc19hY2NvdW50X3NldHRpbmdzX3Zpc2libGUgPSBmYWxzZTtcbiAgICBAb2JzZXJ2YWJsZSBpc19wb3NpdGlvbnNfZHJhd2VyX29uID0gZmFsc2U7XG4gICAgQG9ic2VydmFibGUgaXNfcmVwb3J0c192aXNpYmxlID0gZmFsc2U7XG4gICAgQG9ic2VydmFibGUgcmVwb3J0c19yb3V0ZV90YWJfaW5kZXggPSAwO1xuICAgIEBvYnNlcnZhYmxlIGlzX2Nhc2hpZXJfdmlzaWJsZSA9IGZhbHNlO1xuICAgIEBvYnNlcnZhYmxlIGlzX2hpc3RvcnlfdGFiX2FjdGl2ZSA9IGZhbHNlO1xuICAgIC8vIFRPRE86IFtjbGVhbnVwIHVpLXN0b3JlXVxuICAgIC8vIFRha2UgcHJvZml0LCBTdG9wIGxvc3MgJiBEZWFsIGNhbmNlbGxhdGlvbiBjaGVja2JveFxuICAgIEBvYnNlcnZhYmxlIHNob3VsZF9zaG93X2NhbmNlbGxhdGlvbl93YXJuaW5nID0gdHJ1ZTtcblxuICAgIC8vIEV4dGVuc2lvbnNcbiAgICBAb2JzZXJ2YWJsZSBmb290ZXJfZXh0ZW5zaW9ucyA9IFtdO1xuICAgIEBvYnNlcnZhYmxlIGhlYWRlcl9leHRlbnNpb24gPSB1bmRlZmluZWQ7XG4gICAgQG9ic2VydmFibGUgc2V0dGluZ3NfZXh0ZW5zaW9uID0gdW5kZWZpbmVkO1xuICAgIEBvYnNlcnZhYmxlIG5vdGlmaWNhdGlvbl9tZXNzYWdlc191aSA9IHVuZGVmaW5lZDtcblxuICAgIEBvYnNlcnZhYmxlIGlzX2RhcmtfbW9kZV9vbiA9IHdpbmRvdz8ubWF0Y2hNZWRpYT8uKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspJykubWF0Y2hlcyAmJiBpc01vYmlsZSgpO1xuICAgIEBvYnNlcnZhYmxlIGlzX3NldHRpbmdzX21vZGFsX29uID0gZmFsc2U7XG4gICAgQG9ic2VydmFibGUgaXNfYWNjb3VudHNfc3dpdGNoZXJfb24gPSBmYWxzZTtcbiAgICBAb2JzZXJ2YWJsZSBhY2NvdW50X3N3aXRjaGVyX2Rpc2FibGVkX21lc3NhZ2UgPSAnJztcblxuICAgIEBvYnNlcnZhYmxlIGhhc19vbmx5X2ZvcndhcmRfc3RhcnRpbmdfY29udHJhY3RzID0gZmFsc2U7XG5cbiAgICAvLyBQdXJjaGFzZSBDb250cm9sc1xuICAgIC8vIEBvYnNlcnZhYmxlIGlzX3B1cmNoYXNlX2NvbmZpcm1fb24gICAgPSBmYWxzZTtcbiAgICBAb2JzZXJ2YWJsZSBpc19zZXJ2aWNlc19lcnJvcl92aXNpYmxlID0gZmFsc2U7XG4gICAgQG9ic2VydmFibGUgaXNfdW5zdXBwb3J0ZWRfY29udHJhY3RfbW9kYWxfdmlzaWJsZSA9IGZhbHNlO1xuICAgIEBvYnNlcnZhYmxlIGlzX2FjY291bnRfc2lnbnVwX21vZGFsX3Zpc2libGUgPSBmYWxzZTtcbiAgICBAb2JzZXJ2YWJsZSBpc19zZXRfcmVzaWRlbmNlX21vZGFsX3Zpc2libGUgPSBmYWxzZTtcbiAgICBAb2JzZXJ2YWJsZSBpc19yZXNldF9wYXNzd29yZF9tb2RhbF92aXNpYmxlID0gZmFsc2U7XG4gICAgQG9ic2VydmFibGUgaXNfcmVzZXRfdHJhZGluZ19wYXNzd29yZF9tb2RhbF92aXNpYmxlID0gZmFsc2U7XG4gICAgLy8gQG9ic2VydmFibGUgaXNfcHVyY2hhc2VfbG9ja19vbiAgICAgICA9IGZhbHNlO1xuXG4gICAgLy8gU21hcnRDaGFydHMgQ29udHJvbHNcbiAgICAvLyBUT0RPOiBlbmFibGUgYXNzZXQgaW5mb3JtYXRpb25cbiAgICAvLyBAb2JzZXJ2YWJsZSBpc19jaGFydF9hc3NldF9pbmZvX3Zpc2libGUgPSB0cnVlO1xuICAgIEBvYnNlcnZhYmxlIGlzX2NoYXJ0X2NvdW50ZG93bl92aXNpYmxlID0gZmFsc2U7XG4gICAgQG9ic2VydmFibGUgaXNfY2hhcnRfbGF5b3V0X2RlZmF1bHQgPSB0cnVlO1xuXG4gICAgLy8gUFdBIGV2ZW50IGFuZCBjb25maWdcbiAgICBAb2JzZXJ2YWJsZSBwd2FfcHJvbXB0X2V2ZW50ID0gbnVsbDtcblxuICAgIEBvYnNlcnZhYmxlIHNjcmVlbl93aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgIEBvYnNlcnZhYmxlIHNjcmVlbl9oZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgQG9ic2VydmFibGUgaXNfb25zY3JlZW5fa2V5Ym9hcmRfYWN0aXZlID0gZmFsc2U7XG5cbiAgICBAb2JzZXJ2YWJsZSBpc19hZHZhbmNlZF9kdXJhdGlvbiA9IGZhbHNlO1xuICAgIEBvYnNlcnZhYmxlIGFkdmFuY2VkX2R1cmF0aW9uX3VuaXQgPSAndCc7XG4gICAgQG9ic2VydmFibGUgYWR2YW5jZWRfZXhwaXJ5X3R5cGUgPSAnZHVyYXRpb24nO1xuICAgIEBvYnNlcnZhYmxlIHNpbXBsZV9kdXJhdGlvbl91bml0ID0gJ3QnO1xuICAgIEBvYnNlcnZhYmxlIGR1cmF0aW9uX3QgPSA1O1xuICAgIEBvYnNlcnZhYmxlIGR1cmF0aW9uX3MgPSAxNTtcbiAgICBAb2JzZXJ2YWJsZSBkdXJhdGlvbl9tID0gMztcbiAgICBAb2JzZXJ2YWJsZSBkdXJhdGlvbl9oID0gMTtcbiAgICBAb2JzZXJ2YWJsZSBkdXJhdGlvbl9kID0gMTtcblxuICAgIC8vIHB1cmNoYXNlIGJ1dHRvbiBzdGF0ZXNcbiAgICBAb2JzZXJ2YWJsZSBwdXJjaGFzZV9zdGF0ZXMgPSBbZmFsc2UsIGZhbHNlXTtcblxuICAgIC8vIGFwcCBzdGF0ZXMgZm9yIG1vZGFsXG4gICAgQG9ic2VydmFibGUgaXNfYXBwX2Rpc2FibGVkID0gZmFsc2U7XG4gICAgQG9ic2VydmFibGUgaXNfcm91dGVfbW9kYWxfb24gPSBmYWxzZTtcblxuICAgIC8vIHJlYWwgYWNjb3VudCBzaWdudXBcbiAgICBAb2JzZXJ2YWJsZSBpc19yZWFsX2FjY19zaWdudXBfb24gPSBmYWxzZTtcbiAgICBAb2JzZXJ2YWJsZSByZWFsX2FjY291bnRfc2lnbnVwX3RhcmdldCA9IHVuZGVmaW5lZDtcbiAgICBAb2JzZXJ2YWJsZSBkZXBvc2l0X3JlYWxfYWNjb3VudF9zaWdudXBfdGFyZ2V0ID0gdW5kZWZpbmVkO1xuICAgIEBvYnNlcnZhYmxlIGhhc19yZWFsX2FjY291bnRfc2lnbnVwX2VuZGVkID0gZmFsc2U7XG5cbiAgICAvLyBXZWxjb21lIG1vZGFsXG4gICAgQG9ic2VydmFibGUgaXNfd2VsY29tZV9tb2RhbF92aXNpYmxlID0gZmFsc2U7XG5cbiAgICAvLyBSZW1vdmUgTVggZ2FtaW5nIGFjY291bnQgbW9kYWxcbiAgICBAb2JzZXJ2YWJsZSBpc19jbG9zZV9teF9tbHRfYWNjb3VudF9tb2RhbF92aXNpYmxlID0gZmFsc2U7XG5cbiAgICAvLyBzZXQgY3VycmVuY3kgbW9kYWxcbiAgICBAb2JzZXJ2YWJsZSBpc19zZXRfY3VycmVuY3lfbW9kYWxfdmlzaWJsZSA9IGZhbHNlO1xuXG4gICAgLy8gcG9zaXRpb24gc3RhdGVzXG4gICAgQG9ic2VydmFibGUgc2hvd19wb3NpdGlvbnNfdG9nZ2xlID0gdHJ1ZTtcblxuICAgIEBvYnNlcnZhYmxlIG1vZGFsX2luZGV4ID0gMDtcblxuICAgIC8vIE10NSB0b3B1cFxuICAgIEBvYnNlcnZhYmxlIGlzX3RvcF91cF92aXJ0dWFsX29wZW4gPSBmYWxzZTtcbiAgICBAb2JzZXJ2YWJsZSBpc190b3BfdXBfdmlydHVhbF9pbl9wcm9ncmVzcyA9IGZhbHNlO1xuICAgIEBvYnNlcnZhYmxlIGlzX3RvcF91cF92aXJ0dWFsX3N1Y2Nlc3MgPSBmYWxzZTtcblxuICAgIC8vIE1UNSBjcmVhdGUgcmVhbCBTVFAgZnJvbSBkZW1vLCBzaG93IG9ubHkgcmVhbCBhY2NvdW50cyBmcm9tIHN3aXRjaGVyXG4gICAgQG9ic2VydmFibGUgc2hvdWxkX3Nob3dfcmVhbF9hY2NvdW50c19saXN0ID0gZmFsc2U7XG5cbiAgICAvLyBSZWFsIGFjY291bnQgc2lnbnVwXG4gICAgQG9ic2VydmFibGUgcmVhbF9hY2NvdW50X3NpZ251cCA9IHtcbiAgICAgICAgYWN0aXZlX21vZGFsX2luZGV4OiAtMSxcbiAgICAgICAgcHJldmlvdXNfY3VycmVuY3k6ICcnLFxuICAgICAgICBjdXJyZW50X2N1cnJlbmN5OiAnJyxcbiAgICAgICAgc3VjY2Vzc19tZXNzYWdlOiAnJyxcbiAgICAgICAgZXJyb3JfbWVzc2FnZTogJycsXG4gICAgfTtcblxuICAgIC8vIFVJIEZvY3VzIHJldGVudGlvblxuICAgIEBvYnNlcnZhYmxlIGN1cnJlbnRfZm9jdXMgPSBudWxsO1xuXG4gICAgLy8gTW9iaWxlXG4gICAgbW9iaWxlX3RvYXN0X3RpbWVvdXQgPSAzNTAwO1xuICAgIEBvYnNlcnZhYmxlLnNoYWxsb3cgdG9hc3RzID0gW107XG5cbiAgICBAb2JzZXJ2YWJsZSBpc19jZmRfcGFnZSA9IGZhbHNlO1xuICAgIEBvYnNlcnZhYmxlIGlzX25hdGl2ZXBpY2tlcl92aXNpYmxlID0gZmFsc2U7XG4gICAgQG9ic2VydmFibGUgaXNfbGFuZHNjYXBlID0gZmFsc2U7XG5cbiAgICBAb2JzZXJ2YWJsZSBwcm9tcHRfd2hlbiA9IGZhbHNlO1xuICAgIEBvYnNlcnZhYmxlIHByb21wdEZuID0gKCkgPT4ge307XG5cbiAgICAvLyBNVDUgYWNjb3VudCBuZWVkZWQgbW9kYWxcbiAgICBAb2JzZXJ2YWJsZSBpc19hY2NvdW50X25lZWRlZF9tb2RhbF9vbiA9IGZhbHNlO1xuICAgIEBvYnNlcnZhYmxlIGFjY291bnRfbmVlZGVkX21vZGFsX3Byb3BzID0ge1xuICAgICAgICB0YXJnZXQ6ICcnLFxuICAgICAgICB0YXJnZXRfbGFiZWw6ICcnLFxuICAgICAgICB0YXJnZXRfZG10NV9sYWJlbDogJycsXG4gICAgfTtcblxuICAgIEBvYnNlcnZhYmxlIG1hbmFnZV9yZWFsX2FjY291bnRfdGFiX2luZGV4ID0gMDtcblxuICAgIC8vIG9uYm9hcmRpbmdcbiAgICBAb2JzZXJ2YWJsZSBzaG91bGRfc2hvd19tdWx0aXBsaWVyc19vbmJvYXJkaW5nID0gZmFsc2U7XG4gICAgQG9ic2VydmFibGUgY2hvb3NlX2NyeXB0b19jdXJyZW5jeV90YXJnZXQgPSBudWxsO1xuXG4gICAgLy8gYWRkIGNyeXB0byBhY2NvdW50c1xuICAgIEBvYnNlcnZhYmxlIHNob3VsZF9zaG93X2NhbmNlbCA9IGZhbHNlO1xuXG4gICAgZ2V0RHVyYXRpb25Gcm9tVW5pdCA9IHVuaXQgPT4gdGhpc1tgZHVyYXRpb25fJHt1bml0fWBdO1xuXG4gICAgY29uc3RydWN0b3Iocm9vdF9zdG9yZSkge1xuICAgICAgICBjb25zdCBsb2NhbF9zdG9yYWdlX3Byb3BlcnRpZXMgPSBbXG4gICAgICAgICAgICAnYWR2YW5jZWRfZHVyYXRpb25fdW5pdCcsXG4gICAgICAgICAgICAnaXNfYWR2YW5jZWRfZHVyYXRpb24nLFxuICAgICAgICAgICAgJ2FkdmFuY2VkX2V4cGlyeV90eXBlJyxcbiAgICAgICAgICAgICdzaW1wbGVfZHVyYXRpb25fdW5pdCcsXG4gICAgICAgICAgICAnZHVyYXRpb25fdCcsXG4gICAgICAgICAgICAnZHVyYXRpb25fcycsXG4gICAgICAgICAgICAnZHVyYXRpb25fbScsXG4gICAgICAgICAgICAnZHVyYXRpb25faCcsXG4gICAgICAgICAgICAnZHVyYXRpb25fZCcsXG4gICAgICAgICAgICAnaXNfYWNjb3VudF9zZXR0aW5nc192aXNpYmxlJyxcbiAgICAgICAgICAgICdpc19jaGFydF9hc3NldF9pbmZvX3Zpc2libGUnLFxuICAgICAgICAgICAgJ2lzX2NoYXJ0X2NvdW50ZG93bl92aXNpYmxlJyxcbiAgICAgICAgICAgICdpc19jaGFydF9sYXlvdXRfZGVmYXVsdCcsXG4gICAgICAgICAgICAnaXNfZGFya19tb2RlX29uJyxcbiAgICAgICAgICAgICdpc19wb3NpdGlvbnNfZHJhd2VyX29uJyxcbiAgICAgICAgICAgICdpc19yZXBvcnRzX3Zpc2libGUnLFxuICAgICAgICAgICAgLy8gJ2lzX3B1cmNoYXNlX2NvbmZpcm1fb24nLFxuICAgICAgICAgICAgLy8gJ2lzX3B1cmNoYXNlX2xvY2tfb24nLFxuICAgICAgICAgICAgJ3Nob3VsZF9zaG93X2NhbmNlbGxhdGlvbl93YXJuaW5nJyxcbiAgICAgICAgXTtcblxuICAgICAgICBzdXBlcih7IHJvb3Rfc3RvcmUsIGxvY2FsX3N0b3JhZ2VfcHJvcGVydGllcywgc3RvcmVfbmFtZSB9KTtcblxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5oYW5kbGVSZXNpemUpO1xuICAgICAgICBhdXRvcnVuKCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY2hhbmdlVGhlbWUoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNoYW5nZVRoZW1lID0gKCkgPT4ge1xuICAgICAgICAvLyBUT0RPOiBbZGlzYWJsZS1kYXJrLWJvdF0gRGVsZXRlIHRoaXMgY29uZGl0aW9uIHdoZW4gQm90IGlzIHJlYWR5XG4gICAgICAgIGNvbnN0IG5ld19hcHBfcm91dGluZ19oaXN0b3J5ID0gdGhpcy5yb290X3N0b3JlLmNvbW1vbi5hcHBfcm91dGluZ19oaXN0b3J5LnNsaWNlKCk7XG4gICAgICAgIGNvbnN0IHBsYXRmb3JtID0gZ2V0UGxhdGZvcm1JbmZvcm1hdGlvbihuZXdfYXBwX3JvdXRpbmdfaGlzdG9yeSkuaGVhZGVyO1xuICAgICAgICBpZiAocGxhdGZvcm0gPT09IHBsYXRmb3JtX25hbWUuREJvdCkge1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCd0aGVtZS0tZGFyaycpO1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCd0aGVtZS0tbGlnaHQnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmlzX2RhcmtfbW9kZV9vbikge1xuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKCd0aGVtZS0tbGlnaHQnKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgndGhlbWUtLWRhcmsnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LnJlbW92ZSgndGhlbWUtLWRhcmsnKTtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgndGhlbWUtLWxpZ2h0Jyk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIGluaXQobm90aWZpY2F0aW9uX21lc3NhZ2VzKSB7XG4gICAgICAgIHRoaXMubm90aWZpY2F0aW9uX21lc3NhZ2VzX3VpID0gbm90aWZpY2F0aW9uX21lc3NhZ2VzO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBwb3B1bGF0ZUZvb3RlckV4dGVuc2lvbnMoZm9vdGVyX2V4dGVuc2lvbnMpIHtcbiAgICAgICAgdGhpcy5mb290ZXJfZXh0ZW5zaW9ucyA9IGZvb3Rlcl9leHRlbnNpb25zO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBwb3B1bGF0ZUhlYWRlckV4dGVuc2lvbnMoY29tcG9uZW50KSB7XG4gICAgICAgIHRoaXMuaGVhZGVyX2V4dGVuc2lvbiA9IGNvbXBvbmVudDtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgcG9wdWxhdGVTZXR0aW5nc0V4dGVuc2lvbnMobWVudV9pdGVtcykge1xuICAgICAgICB0aGlzLnNldHRpbmdzX2V4dGVuc2lvbiA9IG1lbnVfaXRlbXM7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIG9uQ2hhbmdlVWlTdG9yZSh7IG5hbWUsIHZhbHVlIH0pIHtcbiAgICAgICAgaWYgKCEobmFtZSBpbiB0aGlzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIEFyZ3VtZW50OiAke25hbWV9YCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpc1tuYW1lXSA9IHZhbHVlO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBoYW5kbGVSZXNpemUoKSB7XG4gICAgICAgIHRoaXMuc2NyZWVuX3dpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XG4gICAgICAgIHRoaXMuc2NyZWVuX2hlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgc2V0UHJvbXB0SGFuZGxlcihjb25kaXRpb24sIGNiID0gKCkgPT4ge30pIHtcbiAgICAgICAgdGhpcy5wcm9tcHRfd2hlbiA9IGNvbmRpdGlvbjtcbiAgICAgICAgdGhpcy5wcm9tcHRGbiA9IGNiO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBzaG93Q2xvc2VNeE1sdEFjY291bnRQb3B1cChpc19vcGVuKSB7XG4gICAgICAgIHRoaXMuaXNfY2xvc2VfbXhfbWx0X2FjY291bnRfbW9kYWxfdmlzaWJsZSA9IGlzX29wZW47XG4gICAgfVxuXG4gICAgQGNvbXB1dGVkXG4gICAgZ2V0IGlzX21vYmlsZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyZWVuX3dpZHRoIDw9IE1BWF9NT0JJTEVfV0lEVEg7XG4gICAgfVxuXG4gICAgQGNvbXB1dGVkXG4gICAgZ2V0IGlzX3RhYmxldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2NyZWVuX3dpZHRoIDw9IE1BWF9UQUJMRVRfV0lEVEg7XG4gICAgfVxuXG4gICAgQGNvbXB1dGVkXG4gICAgZ2V0IGlzX2FjY291bnRfc3dpdGNoZXJfZGlzYWJsZWQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuYWNjb3VudF9zd2l0Y2hlcl9kaXNhYmxlZF9tZXNzYWdlO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBzZXRSb3V0ZU1vZGFsKCkge1xuICAgICAgICB0aGlzLmlzX3JvdXRlX21vZGFsX29uID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgZGlzYWJsZVJvdXRlTW9kYWwoKSB7XG4gICAgICAgIHRoaXMuaXNfcm91dGVfbW9kYWxfb24gPSBmYWxzZTtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgZGlzYWJsZUFwcCgpIHtcbiAgICAgICAgdGhpcy5pc19hcHBfZGlzYWJsZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBlbmFibGVBcHAoKSB7XG4gICAgICAgIHRoaXMuaXNfYXBwX2Rpc2FibGVkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIHRvZ2dsZUFjY291bnRzRGlhbG9nKHN0YXR1cyA9ICF0aGlzLmlzX2FjY291bnRzX3N3aXRjaGVyX29uKSB7XG4gICAgICAgIHRoaXMuaXNfYWNjb3VudHNfc3dpdGNoZXJfb24gPSBzdGF0dXM7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIHNldEFjY291bnRTd2l0Y2hlckRpc2FibGVkTWVzc2FnZShtZXNzYWdlKSB7XG4gICAgICAgIGlmIChtZXNzYWdlKSB7XG4gICAgICAgICAgICB0aGlzLmlzX2FjY291bnRzX3N3aXRjaGVyX29uID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmFjY291bnRfc3dpdGNoZXJfZGlzYWJsZWRfbWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmFjY291bnRfc3dpdGNoZXJfZGlzYWJsZWRfbWVzc2FnZSA9ICcnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIHNldFB1cmNoYXNlU3RhdGUoaW5kZXgpIHtcbiAgICAgICAgdGhpcy5wdXJjaGFzZV9zdGF0ZXNbaW5kZXhdID0gdHJ1ZTtcblxuICAgICAgICAvLyBUT0RPOiBGaW5kIGJldHRlciBzb2x1dGlvbiBpbiB0aGUgZnV0dXJlIGZvciBoYWNrIGJlbG93XG4gICAgICAgIC8vIEZvcmNlIHRoZSBhbmltYXRpb24gdG8gc3RhcnQgcXVpY2tlciBieSBtYW51YWxseSBhc3NpZ25pbmcgY2xhc3MgdG8gY29tcGVuc2F0ZSBmb3IgbW9ieCBnZXR0ZXIgbGFnXG4gICAgICAgIC8vIEJlY2F1c2UgbW9ieCBoYXMgYSBkZWxheSBiZWZvcmUgaXQgY2FuIHJlY2VpdmUgdGhlIHVwZGF0ZWQgcHJvcCB1c2VkIHRvIGFzc2lnbiB0aGUgYW5pbWF0aW9uIGNsYXNzXG4gICAgICAgIGNvbnN0IGVsX3B1cmNoYXNlX2J1dHRvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdidG4tcHVyY2hhc2UnKTtcbiAgICAgICAgaWYgKGVsX3B1cmNoYXNlX2J1dHRvbnNbaW5kZXhdKSB7XG4gICAgICAgICAgICBlbF9wdXJjaGFzZV9idXR0b25zW2luZGV4XS5jbGFzc0xpc3QuYWRkKCdidG4tcHVyY2hhc2UtLXN3b29zaCcpO1xuICAgICAgICB9XG4gICAgICAgIC8vIFVJL1VYIHdhbnRzIGJ1dHRvbiB0byByZW1haW4gZ3JlZW4gdW50aWwgdHJhbnNpdGlvbiBpcyBmaW5pc2hlZCBhbmQgb25seSB0aGVuIGRpc2FibGUgYnV0dG9uc1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIFtdLmZvckVhY2guYmluZChlbF9wdXJjaGFzZV9idXR0b25zLCBlbCA9PiB7XG4gICAgICAgICAgICAgICAgZWwuY2xhc3NMaXN0LmFkZCgnYnRuLXB1cmNoYXNlLS1kaXNhYmxlZCcpO1xuICAgICAgICAgICAgfSkoKTtcbiAgICAgICAgfSwgMjUwKTtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgcmVzZXRQdXJjaGFzZVN0YXRlcygpIHtcbiAgICAgICAgdGhpcy5wdXJjaGFzZV9zdGF0ZXMgPSBbZmFsc2UsIGZhbHNlXTtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgc2V0Q2hhcnRMYXlvdXQoaXNfZGVmYXVsdCkge1xuICAgICAgICB0aGlzLmlzX2NoYXJ0X2xheW91dF9kZWZhdWx0ID0gaXNfZGVmYXVsdDtcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBlbmFibGUgYXNzZXQgaW5mb3JtYXRpb25cbiAgICAvLyBAYWN0aW9uLmJvdW5kXG4gICAgLy8gc2V0Q2hhcnRBc3NldEluZm8oaXNfdmlzaWJsZSkge1xuICAgIC8vICAgICB0aGlzLmlzX2NoYXJ0X2Fzc2V0X2luZm9fdmlzaWJsZSA9IGlzX3Zpc2libGU7XG4gICAgLy8gfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIHNldENoYXJ0Q291bnRkb3duKGlzX3Zpc2libGUpIHtcbiAgICAgICAgdGhpcy5pc19jaGFydF9jb3VudGRvd25fdmlzaWJsZSA9IGlzX3Zpc2libGU7XG4gICAgfVxuXG4gICAgLy8gQGFjdGlvbi5ib3VuZFxuICAgIC8vIHRvZ2dsZVB1cmNoYXNlTG9jaygpIHtcbiAgICAvLyAgICAgdGhpcy5pc19wdXJjaGFzZV9sb2NrX29uID0gIXRoaXMuaXNfcHVyY2hhc2VfbG9ja19vbjtcbiAgICAvLyB9XG5cbiAgICAvLyBAYWN0aW9uLmJvdW5kXG4gICAgLy8gc2V0UHVyY2hhc2VMb2NrKGlzX2xvY2tlZCkge1xuICAgIC8vICAgICB0aGlzLmlzX3B1cmNoYXNlX2xvY2tfb24gPSBpc19sb2NrZWQ7XG4gICAgLy8gfVxuXG4gICAgLy8gQGFjdGlvbi5ib3VuZFxuICAgIC8vIHRvZ2dsZVB1cmNoYXNlQ29uZmlybWF0aW9uKCkge1xuICAgIC8vICAgICB0aGlzLmlzX3B1cmNoYXNlX2NvbmZpcm1fb24gPSAhdGhpcy5pc19wdXJjaGFzZV9jb25maXJtX29uO1xuICAgIC8vIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBzZXREYXJrTW9kZShpc19kYXJrX21vZGVfb24pIHtcbiAgICAgICAgaWYgKHRoaXMuaXNfZGFya19tb2RlX29uICE9PSBpc19kYXJrX21vZGVfb24pIHtcbiAgICAgICAgICAgIHRoaXMuaXNfZGFya19tb2RlX29uID0gaXNfZGFya19tb2RlX29uO1xuICAgICAgICAgICAgLy8gVGhpcyBHVE0gY2FsbCBpcyBoZXJlIGluc3RlYWQgb2YgdGhlIEdUTSBzdG9yZSBkdWUgdG8gZnJlcXVlbmN5IG9mIHVzZVxuICAgICAgICAgICAgdGhpcy5yb290X3N0b3JlLmd0bS5wdXNoRGF0YUxheWVyKHsgZXZlbnQ6ICdzd2l0Y2ggdGhlbWUnIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuaXNfZGFya19tb2RlX29uO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICB0b2dnbGVTZXRDdXJyZW5jeU1vZGFsKCkge1xuICAgICAgICB0aGlzLmlzX3NldF9jdXJyZW5jeV9tb2RhbF92aXNpYmxlID0gIXRoaXMuaXNfc2V0X2N1cnJlbmN5X21vZGFsX3Zpc2libGU7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIHRvZ2dsZUNhc2hpZXIoKSB7XG4gICAgICAgIHRoaXMuaXNfY2FzaGllcl92aXNpYmxlID0gIXRoaXMuaXNfY2FzaGllcl92aXNpYmxlO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBzZXRNb2RhbEluZGV4KGluZGV4ID0gMCkge1xuICAgICAgICB0aGlzLm1vZGFsX2luZGV4ID0gaW5kZXg7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIHRvZ2dsZVNldHRpbmdzTW9kYWwoKSB7XG4gICAgICAgIHRoaXMuaXNfc2V0dGluZ3NfbW9kYWxfb24gPSAhdGhpcy5pc19zZXR0aW5nc19tb2RhbF9vbjtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgb3BlblBvc2l0aW9uc0RyYXdlcigpIHtcbiAgICAgICAgLy8gc2hvdyBhbmQgaGlkZSBQb3NpdGlvbnMgRHJhd2VyXG4gICAgICAgIHRoaXMuaXNfcG9zaXRpb25zX2RyYXdlcl9vbiA9IHRydWU7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIG9wZW5SZWFsQWNjb3VudFNpZ251cCh0YXJnZXQgPSB0aGlzLnJvb3Rfc3RvcmUuY2xpZW50LnVwZ3JhZGVhYmxlX2xhbmRpbmdfY29tcGFuaWVzPy5bMF0pIHtcbiAgICAgICAgdGhpcy5pc19yZWFsX2FjY19zaWdudXBfb24gPSB0cnVlO1xuICAgICAgICB0aGlzLnJlYWxfYWNjb3VudF9zaWdudXBfdGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLmlzX2FjY291bnRzX3N3aXRjaGVyX29uID0gZmFsc2U7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIHNldFNob3VsZFNob3dDYW5jZWwodmFsdWUpIHtcbiAgICAgICAgdGhpcy5zaG91bGRfc2hvd19jYW5jZWwgPSB2YWx1ZTtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgcmVzZXRSZWFsQWNjb3VudFNpZ251cFRhcmdldCgpIHtcbiAgICAgICAgdGhpcy5kZXBvc2l0X3JlYWxfYWNjb3VudF9zaWdudXBfdGFyZ2V0ID0gdGhpcy5yZWFsX2FjY291bnRfc2lnbnVwX3RhcmdldDtcbiAgICAgICAgdGhpcy5yZWFsX2FjY291bnRfc2lnbnVwX3RhcmdldCA9ICcnO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBzZXRNYW5hZ2VSZWFsQWNjb3VudEFjdGl2ZVRhYkluZGV4KGluZGV4KSB7XG4gICAgICAgIHRoaXMubWFuYWdlX3JlYWxfYWNjb3VudF90YWJfaW5kZXggPSBpbmRleDtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgY2xvc2VSZWFsQWNjb3VudFNpZ251cCgpIHtcbiAgICAgICAgdGhpcy5pc19yZWFsX2FjY19zaWdudXBfb24gPSBmYWxzZTtcbiAgICAgICAgdGhpcy5yZXNldFJlYWxBY2NvdW50U2lnbnVwVGFyZ2V0KCk7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZXNldFJlYWxBY2NvdW50U2lnbnVwUGFyYW1zKCk7XG4gICAgICAgICAgICB0aGlzLnNldFJlYWxBY2NvdW50U2lnbnVwRW5kKHRydWUpO1xuICAgICAgICB9LCAzMDApO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBvcGVuQWNjb3VudE5lZWRlZE1vZGFsKHRhcmdldCwgdGFyZ2V0X2xhYmVsLCB0YXJnZXRfZG10NV9sYWJlbCkge1xuICAgICAgICB0aGlzLmlzX2FjY291bnRfbmVlZGVkX21vZGFsX29uID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5hY2NvdW50X25lZWRlZF9tb2RhbF9wcm9wcyA9IHtcbiAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgIHRhcmdldF9sYWJlbCxcbiAgICAgICAgICAgIHRhcmdldF9kbXQ1X2xhYmVsLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBjbG9zZUFjY291bnROZWVkZWRNb2RhbCgpIHtcbiAgICAgICAgdGhpcy5pc19hY2NvdW50X25lZWRlZF9tb2RhbF9vbiA9IGZhbHNlO1xuICAgICAgICB0aGlzLmFjY291bnRfbmVlZGVkX21vZGFsX3Byb3BzID0ge1xuICAgICAgICAgICAgdGFyZ2V0OiAnJyxcbiAgICAgICAgICAgIHRhcmdldF9sYWJlbDogJycsXG4gICAgICAgICAgICB0YXJnZXRfZG10NV9sYWJlbDogJycsXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIHRvZ2dsZVBvc2l0aW9uc0RyYXdlcigpIHtcbiAgICAgICAgLy8gdG9nZ2xlIFBvc2l0aW9ucyBEcmF3ZXJcbiAgICAgICAgdGhpcy5pc19wb3NpdGlvbnNfZHJhd2VyX29uID0gIXRoaXMuaXNfcG9zaXRpb25zX2RyYXdlcl9vbjtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgdG9nZ2xlQWNjb3VudFNldHRpbmdzKGlzX3Zpc2libGUpIHtcbiAgICAgICAgdGhpcy5pc19hY2NvdW50X3NldHRpbmdzX3Zpc2libGUgPSBpc192aXNpYmxlO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICB0b2dnbGVSZXBvcnRzKGlzX3Zpc2libGUpIHtcbiAgICAgICAgdGhpcy5pc19yZXBvcnRzX3Zpc2libGUgPSBpc192aXNpYmxlO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICB0b2dnbGVTZXJ2aWNlc0Vycm9yTW9kYWwoaXNfdmlzaWJsZSkge1xuICAgICAgICB0aGlzLmlzX3NlcnZpY2VzX2Vycm9yX3Zpc2libGUgPSBpc192aXNpYmxlO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICByZW1vdmVQV0FQcm9tcHRFdmVudCgpIHtcbiAgICAgICAgdGhpcy5wd2FfcHJvbXB0X2V2ZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgc2V0UFdBUHJvbXB0RXZlbnQoZSkge1xuICAgICAgICB0aGlzLnB3YV9wcm9tcHRfZXZlbnQgPSBlO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBzZXRIYXNPbmx5Rm9yd2FyZGluZ0NvbnRyYWN0cyhoYXNfb25seV9mb3J3YXJkX3N0YXJ0aW5nX2NvbnRyYWN0cykge1xuICAgICAgICB0aGlzLmhhc19vbmx5X2ZvcndhcmRfc3RhcnRpbmdfY29udHJhY3RzID0gaGFzX29ubHlfZm9yd2FyZF9zdGFydGluZ19jb250cmFjdHM7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIHRvZ2dsZVVuc3VwcG9ydGVkQ29udHJhY3RNb2RhbChzdGF0ZV9jaGFuZ2UgPSAhdGhpcy5pc191bnN1cHBvcnRlZF9jb250cmFjdF9tb2RhbF92aXNpYmxlKSB7XG4gICAgICAgIHRoaXMuaXNfdW5zdXBwb3J0ZWRfY29udHJhY3RfbW9kYWxfdmlzaWJsZSA9IHN0YXRlX2NoYW5nZTtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgdG9nZ2xlQWNjb3VudFNpZ251cE1vZGFsKHN0YXRlX2NoYW5nZSA9ICF0aGlzLmlzX2FjY291bnRfc2lnbnVwX21vZGFsX3Zpc2libGUpIHtcbiAgICAgICAgdGhpcy5pc19hY2NvdW50X3NpZ251cF9tb2RhbF92aXNpYmxlID0gc3RhdGVfY2hhbmdlO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICB0b2dnbGVTZXRSZXNpZGVuY2VNb2RhbChzdGF0ZV9jaGFuZ2UgPSAhdGhpcy5pc19zZXRfcmVzaWRlbmNlX21vZGFsX3Zpc2libGUpIHtcbiAgICAgICAgdGhpcy5pc19zZXRfcmVzaWRlbmNlX21vZGFsX3Zpc2libGUgPSBzdGF0ZV9jaGFuZ2U7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIHRvZ2dsZUNhbmNlbGxhdGlvbldhcm5pbmcoc3RhdGVfY2hhbmdlID0gIXRoaXMuc2hvdWxkX3Nob3dfY2FuY2VsbGF0aW9uX3dhcm5pbmcpIHtcbiAgICAgICAgdGhpcy5zaG91bGRfc2hvd19jYW5jZWxsYXRpb25fd2FybmluZyA9IHN0YXRlX2NoYW5nZTtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgdG9nZ2xlSGlzdG9yeVRhYihzdGF0ZV9jaGFuZ2UgPSAhdGhpcy5pc19oaXN0b3J5X3RhYl9hY3RpdmUpIHtcbiAgICAgICAgdGhpcy5pc19oaXN0b3J5X3RhYl9hY3RpdmUgPSBzdGF0ZV9jaGFuZ2U7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIHNldFRvcFVwSW5Qcm9ncmVzcyhib29sKSB7XG4gICAgICAgIHRoaXMuaXNfdG9wX3VwX3ZpcnR1YWxfaW5fcHJvZ3Jlc3MgPSBib29sO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBjbG9zZVRvcFVwTW9kYWwoKSB7XG4gICAgICAgIHRoaXMuaXNfdG9wX3VwX3ZpcnR1YWxfb3BlbiA9IGZhbHNlO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBvcGVuVG9wVXBNb2RhbCgpIHtcbiAgICAgICAgdGhpcy5pc190b3BfdXBfdmlydHVhbF9vcGVuID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgY2xvc2VTdWNjZXNzVG9wVXBNb2RhbCgpIHtcbiAgICAgICAgdGhpcy5pc190b3BfdXBfdmlydHVhbF9zdWNjZXNzID0gZmFsc2U7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIHRvZ2dsZVJlc2V0UGFzc3dvcmRNb2RhbChzdGF0ZV9jaGFuZ2UgPSAhdGhpcy5pc19yZXNldF9wYXNzd29yZF9tb2RhbF92aXNpYmxlKSB7XG4gICAgICAgIHRoaXMuaXNfcmVzZXRfcGFzc3dvcmRfbW9kYWxfdmlzaWJsZSA9IHN0YXRlX2NoYW5nZTtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgc2V0UmVzZXRUcmFkaW5nUGFzc3dvcmRNb2RhbE9wZW4oaXNfcmVzZXRfdHJhZGluZ19wYXNzd29yZF9tb2RhbF92aXNpYmxlKSB7XG4gICAgICAgIHRoaXMuaXNfcmVzZXRfdHJhZGluZ19wYXNzd29yZF9tb2RhbF92aXNpYmxlID0gaXNfcmVzZXRfdHJhZGluZ19wYXNzd29yZF9tb2RhbF92aXNpYmxlO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBzZXRSZWFsQWNjb3VudFNpZ251cFBhcmFtcyhwYXJhbXMpIHtcbiAgICAgICAgdGhpcy5yZWFsX2FjY291bnRfc2lnbnVwID0ge1xuICAgICAgICAgICAgLi4udGhpcy5yZWFsX2FjY291bnRfc2lnbnVwLFxuICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBzZXRSZWFsQWNjb3VudFNpZ251cEVuZChoYXNfZW5kZWQpIHtcbiAgICAgICAgdGhpcy5oYXNfcmVhbF9hY2NvdW50X3NpZ251cF9lbmRlZCA9IGhhc19lbmRlZDtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgcmVzZXRSZWFsQWNjb3VudFNpZ251cFBhcmFtcygpIHtcbiAgICAgICAgdGhpcy5yZWFsX2FjY291bnRfc2lnbnVwID0ge1xuICAgICAgICAgICAgYWN0aXZlX21vZGFsX2luZGV4OiAtMSxcbiAgICAgICAgICAgIHByZXZpb3VzX2N1cnJlbmN5OiAnJyxcbiAgICAgICAgICAgIGN1cnJlbnRfY3VycmVuY3k6ICcnLFxuICAgICAgICAgICAgc3VjY2Vzc19tZXNzYWdlOiAnJyxcbiAgICAgICAgICAgIGVycm9yX21lc3NhZ2U6ICcnLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBvbk9yaWVudGF0aW9uQ2hhbmdlKHsgaXNfbGFuZHNjYXBlX29yaWVudGF0aW9uIH0pIHtcbiAgICAgICAgdGhpcy5pc19sYW5kc2NhcGUgPSBpc19sYW5kc2NhcGVfb3JpZW50YXRpb247XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIHRvZ2dsZU9uU2NyZWVuS2V5Ym9hcmQoKSB7XG4gICAgICAgIHRoaXMuaXNfb25zY3JlZW5fa2V5Ym9hcmRfYWN0aXZlID0gdGhpcy5jdXJyZW50X2ZvY3VzICE9PSBudWxsICYmIHRoaXMuaXNfbW9iaWxlICYmIGlzVG91Y2hEZXZpY2UoKTtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgc2V0Q3VycmVudEZvY3VzKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuY3VycmVudF9mb2N1cyA9IHZhbHVlO1xuICAgICAgICB0aGlzLnRvZ2dsZU9uU2NyZWVuS2V5Ym9hcmQoKTtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgYWRkVG9hc3QodG9hc3RfY29uZmlnKSB7XG4gICAgICAgIHRvYXN0X2NvbmZpZy5rZXkgPSB0b2FzdF9jb25maWcua2V5ID8/IHRvYXN0X2NvbmZpZy5jb250ZW50O1xuICAgICAgICBjb25zdCB0b2FzdF9pbmRleCA9IHRoaXMudG9hc3RzLmZpbmRJbmRleCh0ID0+IHQua2V5ID09PSB0b2FzdF9jb25maWcua2V5KTtcbiAgICAgICAgaWYgKHRvYXN0X2luZGV4ID4gLTEpIHtcbiAgICAgICAgICAgIHRoaXMudG9hc3RzLnNwbGljZSh0b2FzdF9pbmRleCwgMSk7XG4gICAgICAgIH1cblxuICAgICAgICB0b2FzdF9jb25maWcudGltZW91dCA9IHRvYXN0X2NvbmZpZy50aW1lb3V0ID8/IHRoaXMubW9iaWxlX3RvYXN0X3RpbWVvdXQ7XG4gICAgICAgIGlmICh0b2FzdF9jb25maWcuaXNfYm90dG9tKSB7XG4gICAgICAgICAgICB0aGlzLnRvYXN0cy5wdXNoKHRvYXN0X2NvbmZpZyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnRvYXN0cy51bnNoaWZ0KHRvYXN0X2NvbmZpZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgcmVtb3ZlVG9hc3Qoa2V5KSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy50b2FzdHMuZmluZEluZGV4KHQgPT4gdC5rZXkgPT09IGtleSk7XG4gICAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgICAgICB0aGlzLnRvYXN0cy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIHNldElzTmF0aXZlcGlja2VyVmlzaWJsZShpc19uYXRpdmVwaWNrZXJfdmlzaWJsZSkge1xuICAgICAgICB0aGlzLmlzX25hdGl2ZXBpY2tlcl92aXNpYmxlID0gaXNfbmF0aXZlcGlja2VyX3Zpc2libGU7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIHNldFJlcG9ydHNUYWJJbmRleCh0YWJfaW5kZXggPSAwKSB7XG4gICAgICAgIHRoaXMucmVwb3J0c19yb3V0ZV90YWJfaW5kZXggPSB0YWJfaW5kZXg7XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIHRvZ2dsZVdlbGNvbWVNb2RhbCh7IGlzX3Zpc2libGUgPSAhdGhpcy5pc193ZWxjb21lX21vZGFsX3Zpc2libGUsIHNob3VsZF9wZXJzaXN0ID0gZmFsc2UgfSkge1xuICAgICAgICBpZiAoTG9jYWxTdG9yZS5nZXQoJ2hhc192aWV3ZWRfd2VsY29tZV9zY3JlZW4nKSAmJiAhc2hvdWxkX3BlcnNpc3QpIHJldHVybjtcbiAgICAgICAgdGhpcy5pc193ZWxjb21lX21vZGFsX3Zpc2libGUgPSBpc192aXNpYmxlO1xuXG4gICAgICAgIGlmICghaXNfdmlzaWJsZSkge1xuICAgICAgICAgICAgTG9jYWxTdG9yZS5zZXQoJ2hhc192aWV3ZWRfd2VsY29tZV9zY3JlZW4nLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBub3RpZnlBcHBJbnN0YWxsKHByb21wdCkge1xuICAgICAgICB0aGlzLmRlZmVycmVkX3Byb21wdCA9IHByb21wdDtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJvb3Rfc3RvcmUubm90aWZpY2F0aW9ucy5hZGROb3RpZmljYXRpb25NZXNzYWdlQnlLZXkoJ2luc3RhbGxfcHdhJyk7XG4gICAgICAgIH0sIDEwMDAwKTtcbiAgICB9XG5cbiAgICBAYWN0aW9uLmJvdW5kXG4gICAgYXN5bmMgaW5zdGFsbFdpdGhEZWZlcnJlZFByb21wdCgpIHtcbiAgICAgICAgdGhpcy5kZWZlcnJlZF9wcm9tcHQucHJvbXB0KCk7XG4gICAgICAgIGNvbnN0IGNob2ljZSA9IGF3YWl0IHRoaXMuZGVmZXJyZWRfcHJvbXB0LnVzZXJDaG9pY2U7XG4gICAgICAgIGlmIChjaG9pY2Uub3V0Y29tZSA9PT0gJ2FjY2VwdGVkJykge1xuICAgICAgICAgICAgY29uc3Qgbm90aWZpY2F0aW9uX2tleSA9ICdpbnN0YWxsX3B3YSc7XG4gICAgICAgICAgICB0aGlzLnJvb3Rfc3RvcmUubm90aWZpY2F0aW9ucy5yZW1vdmVOb3RpZmljYXRpb25NZXNzYWdlKHtcbiAgICAgICAgICAgICAgICBrZXk6IG5vdGlmaWNhdGlvbl9rZXksXG4gICAgICAgICAgICAgICAgc2hvdWxkX3Nob3dfYWdhaW46IGZhbHNlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnJvb3Rfc3RvcmUubm90aWZpY2F0aW9ucy5yZW1vdmVOb3RpZmljYXRpb25CeUtleSh7IGtleTogbm90aWZpY2F0aW9uX2tleSB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICB0b2dnbGVTaG91bGRTaG93UmVhbEFjY291bnRzTGlzdCh2YWx1ZSkge1xuICAgICAgICB0aGlzLnNob3VsZF9zaG93X3JlYWxfYWNjb3VudHNfbGlzdCA9IHZhbHVlO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICB0b2dnbGVTaG91bGRTaG93TXVsdGlwbGllcnNPbmJvYXJkaW5nKHZhbHVlKSB7XG4gICAgICAgIHRoaXMuc2hvdWxkX3Nob3dfbXVsdGlwbGllcnNfb25ib2FyZGluZyA9IHZhbHVlO1xuICAgIH1cblxuICAgIEBhY3Rpb24uYm91bmRcbiAgICBzaG91bGROYXZpZ2F0ZUFmdGVyQ2hvb3NlQ3J5cHRvKG5leHRfbG9jYXRpb24pIHtcbiAgICAgICAgdGhpcy5jaG9vc2VfY3J5cHRvX2N1cnJlbmN5X3RhcmdldCA9IG5leHRfbG9jYXRpb247XG4gICAgfVxuXG4gICAgQGFjdGlvbi5ib3VuZFxuICAgIGNvbnRpbnVlUm91dGVBZnRlckNob29zZUNyeXB0bygpIHtcbiAgICAgICAgdGhpcy5yb290X3N0b3JlLmNvbW1vbi5yb3V0ZVRvKHRoaXMuY2hvb3NlX2NyeXB0b19jdXJyZW5jeV90YXJnZXQpO1xuXG4gICAgICAgIGlmICh0aGlzLmNob29zZV9jcnlwdG9fY3VycmVuY3lfdGFyZ2V0ID09PSByb3V0ZXMuY2FzaGllcl9kZXBvc2l0KSB7XG4gICAgICAgICAgICB0aGlzLnJvb3Rfc3RvcmUubW9kdWxlcy5jYXNoaWVyLmdlbmVyYWxfc3RvcmUuc2V0SXNEZXBvc2l0KHRydWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./Stores/ui-store.js\n");

/***/ })

}]);