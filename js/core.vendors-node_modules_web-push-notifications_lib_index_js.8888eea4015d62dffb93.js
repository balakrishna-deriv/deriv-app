/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk"] = self["webpackChunk"] || []).push([["vendors-node_modules_web-push-notifications_lib_index_js"],{

/***/ "../../../node_modules/web-push-notifications/lib/index.js":
/*!*****************************************************************!*\
  !*** ../../../node_modules/web-push-notifications/lib/index.js ***!
  \*****************************************************************/
/***/ (function(module) {

eval("!function(root,factory){if(true)module.exports=factory();else { var i, a; }}(this,function(){return function(modules){var installedModules={};function __nested_webpack_require_318__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__nested_webpack_require_318__),module.l=!0,module.exports}return __nested_webpack_require_318__.m=modules,__nested_webpack_require_318__.c=installedModules,__nested_webpack_require_318__.d=function(exports,name,getter){__nested_webpack_require_318__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__nested_webpack_require_318__.r=function(exports){Object.defineProperty(exports,\"__esModule\",{value:!0})},__nested_webpack_require_318__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __nested_webpack_require_318__.d(getter,\"a\",getter),getter},__nested_webpack_require_318__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__nested_webpack_require_318__.p=\"\",__nested_webpack_require_318__(__nested_webpack_require_318__.s=78)}([function(module,exports,__nested_webpack_require_1351__){\"use strict\";var support=__nested_webpack_require_1351__(7),base64=__nested_webpack_require_1351__(57),nodejsUtils=__nested_webpack_require_1351__(29),setImmediate=__nested_webpack_require_1351__(100),external=__nested_webpack_require_1351__(24);function identity(input){return input}function stringToArrayLike(str,array){for(var i=0;i<str.length;++i)array[i]=255&str.charCodeAt(i);return array}exports.newBlob=function(part,type){exports.checkSupport(\"blob\");try{return new Blob([part],{type:type})}catch(e){try{var builder=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return builder.append(part),builder.getBlob(type)}catch(e){throw new Error(\"Bug : can't construct the Blob.\")}}};var arrayToStringHelper={stringifyByChunk:function(array,type,chunk){var result=[],k=0,len=array.length;if(len<=chunk)return String.fromCharCode.apply(null,array);for(;k<len;)\"array\"===type||\"nodebuffer\"===type?result.push(String.fromCharCode.apply(null,array.slice(k,Math.min(k+chunk,len)))):result.push(String.fromCharCode.apply(null,array.subarray(k,Math.min(k+chunk,len)))),k+=chunk;return result.join(\"\")},stringifyByChar:function(array){for(var resultStr=\"\",i=0;i<array.length;i++)resultStr+=String.fromCharCode(array[i]);return resultStr},applyCanBeUsed:{uint8array:function(){try{return support.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return support.nodebuffer&&1===String.fromCharCode.apply(null,nodejsUtils.allocBuffer(1)).length}catch(e){return!1}}()}};function arrayLikeToString(array){var chunk=65536,type=exports.getTypeOf(array),canUseApply=!0;if(\"uint8array\"===type?canUseApply=arrayToStringHelper.applyCanBeUsed.uint8array:\"nodebuffer\"===type&&(canUseApply=arrayToStringHelper.applyCanBeUsed.nodebuffer),canUseApply)for(;chunk>1;)try{return arrayToStringHelper.stringifyByChunk(array,type,chunk)}catch(e){chunk=Math.floor(chunk/2)}return arrayToStringHelper.stringifyByChar(array)}function arrayLikeToArrayLike(arrayFrom,arrayTo){for(var i=0;i<arrayFrom.length;i++)arrayTo[i]=arrayFrom[i];return arrayTo}exports.applyFromCharCode=arrayLikeToString;var transform={};transform.string={string:identity,array:function(input){return stringToArrayLike(input,new Array(input.length))},arraybuffer:function(input){return transform.string.uint8array(input).buffer},uint8array:function(input){return stringToArrayLike(input,new Uint8Array(input.length))},nodebuffer:function(input){return stringToArrayLike(input,nodejsUtils.allocBuffer(input.length))}},transform.array={string:arrayLikeToString,array:identity,arraybuffer:function(input){return new Uint8Array(input).buffer},uint8array:function(input){return new Uint8Array(input)},nodebuffer:function(input){return nodejsUtils.newBufferFrom(input)}},transform.arraybuffer={string:function(input){return arrayLikeToString(new Uint8Array(input))},array:function(input){return arrayLikeToArrayLike(new Uint8Array(input),new Array(input.byteLength))},arraybuffer:identity,uint8array:function(input){return new Uint8Array(input)},nodebuffer:function(input){return nodejsUtils.newBufferFrom(new Uint8Array(input))}},transform.uint8array={string:arrayLikeToString,array:function(input){return arrayLikeToArrayLike(input,new Array(input.length))},arraybuffer:function(input){return input.buffer},uint8array:identity,nodebuffer:function(input){return nodejsUtils.newBufferFrom(input)}},transform.nodebuffer={string:arrayLikeToString,array:function(input){return arrayLikeToArrayLike(input,new Array(input.length))},arraybuffer:function(input){return transform.nodebuffer.uint8array(input).buffer},uint8array:function(input){return arrayLikeToArrayLike(input,new Uint8Array(input.length))},nodebuffer:identity},exports.transformTo=function(outputType,input){if(input||(input=\"\"),!outputType)return input;exports.checkSupport(outputType);var inputType=exports.getTypeOf(input);return transform[inputType][outputType](input)},exports.getTypeOf=function(input){return\"string\"==typeof input?\"string\":\"[object Array]\"===Object.prototype.toString.call(input)?\"array\":support.nodebuffer&&nodejsUtils.isBuffer(input)?\"nodebuffer\":support.uint8array&&input instanceof Uint8Array?\"uint8array\":support.arraybuffer&&input instanceof ArrayBuffer?\"arraybuffer\":void 0},exports.checkSupport=function(type){if(!support[type.toLowerCase()])throw new Error(type+\" is not supported by this platform\")},exports.MAX_VALUE_16BITS=65535,exports.MAX_VALUE_32BITS=-1,exports.pretty=function(str){var code,i,res=\"\";for(i=0;i<(str||\"\").length;i++)res+=\"\\\\x\"+((code=str.charCodeAt(i))<16?\"0\":\"\")+code.toString(16).toUpperCase();return res},exports.delay=function(callback,args,self){setImmediate(function(){callback.apply(self||null,args||[])})},exports.inherits=function(ctor,superCtor){var Obj=function(){};Obj.prototype=superCtor.prototype,ctor.prototype=new Obj},exports.extend=function(){var i,attr,result={};for(i=0;i<arguments.length;i++)for(attr in arguments[i])arguments[i].hasOwnProperty(attr)&&void 0===result[attr]&&(result[attr]=arguments[i][attr]);return result},exports.prepareContent=function(name,inputData,isBinary,isOptimizedBinaryString,isBase64){return external.Promise.resolve(inputData).then(function(data){return support.blob&&(data instanceof Blob||-1!==[\"[object File]\",\"[object Blob]\"].indexOf(Object.prototype.toString.call(data)))&&\"undefined\"!=typeof FileReader?new external.Promise(function(resolve,reject){var reader=new FileReader;reader.onload=function(e){resolve(e.target.result)},reader.onerror=function(e){reject(e.target.error)},reader.readAsArrayBuffer(data)}):data}).then(function(data){var dataType=exports.getTypeOf(data);return dataType?(\"arraybuffer\"===dataType?data=exports.transformTo(\"uint8array\",data):\"string\"===dataType&&(isBase64?data=base64.decode(data):isBinary&&!0!==isOptimizedBinaryString&&(data=function(str){return stringToArrayLike(str,support.uint8array?new Uint8Array(str.length):new Array(str.length))}(data))),data):external.Promise.reject(new Error(\"Can't read the data of '\"+name+\"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?\"))})}},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.SUBSCRIPTION_PROMPT_WIDGET_DEFAULT_CONFIG=exports.SUBSCRIPTION_WIDGET_USE_CASE_TOPIC_BASED=exports.SUBSCRIPTION_WIDGET_USE_CASE_DEFAULT=exports.SUBSCRIPTION_WIDGET_USE_CASE_NOT_SET=exports.SUBSCRIPTION_SEGMENT_EVENT=exports.PAGE_VISITED_URL=exports.MANUAL_UNSUBSCRIBE=exports.EVENT_PW_SITE_OPENED=exports.EVENT_GDPR_DELETE=exports.EVENT_GDPR_CONSENT=exports.EVENT_CLICK_SUBSCRIBE_BUTTON=exports.EVENT_SHOW_SUBSCRIBE_BUTTON=exports.EVENT_ON_HIDE_SUBSCRIPTION_WIDGET=exports.EVENT_ON_SHOW_SUBSCRIPTION_WIDGET=exports.EVENT_ON_HIDE_NOTIFICATION_PERMISSION_DIALOG=exports.EVENT_ON_SHOW_NOTIFICATION_PERMISSION_DIALOG=exports.EVENT_ON_UPDATE_INBOX_MESSAGES=exports.EVENT_ON_PUT_NEW_MESSAGE_TO_INBOX_STORE=exports.EVENT_ON_CHANGE_COMMUNICATION_ENABLED=exports.EVENT_ON_NOTIFICATION_CLOSE=exports.EVENT_ON_NOTIFICATION_CLICK=exports.EVENT_ON_PUSH_DELIVERY=exports.EVENT_ON_SW_INIT_ERROR=exports.EVENT_ON_PERMISSION_GRANTED=exports.EVENT_ON_PERMISSION_DENIED=exports.EVENT_ON_PERMISSION_PROMPT=exports.EVENT_ON_REGISTER=exports.EVENT_ON_UNSUBSCRIBE=exports.EVENT_ON_SUBSCRIBE=exports.EVENT_ON_READY=exports.EVENT_ON_LOAD=exports.PERMISSION_PROMPT=exports.PERMISSION_GRANTED=exports.PERMISSION_DENIED=exports.DEVICE_REGISTRATION_STATUS_UNREGISTERED=exports.DEVICE_REGISTRATION_STATUS_REGISTERED=exports.MANUAL_SET_LOGGER_LEVEL=exports.KEY_SAFARI_PREVIOUS_PERMISSION=exports.KEY_DEVICE_REGISTRATION_STATUS=exports.KEY_CLICK_SUBSCRIBE_WIDGET=exports.KEY_SHOW_SUBSCRIBE_WIDGET=exports.DEFAULT_NOTIFICATION_IMAGE=exports.DEFAULT_NOTIFICATION_TITLE=exports.WAKE_UP_SERVICE_WORKER_INTERVAL=exports.MAX_NOTIFICATION_DURATION=exports.MIN_NOTIFICATION_DURATION=exports.DEFAULT_NOTIFICATION_DURATION=exports.PERIOD_GOAL_EVENT=exports.PERIOD_SEND_APP_OPEN=exports.FACEBOOK_HWID_KEY=exports.FACEBOOK_APP_ID=exports.DEFAULT_API_URL=exports.DEFAULT_SERVICE_WORKER_URL=void 0,exports.DEFAULT_SERVICE_WORKER_URL=\"/pushwoosh-service-worker.js\",exports.DEFAULT_API_URL=\"https://cp.pushwoosh.com/json/1.3/\",exports.FACEBOOK_APP_ID=\"436711767081797\",exports.FACEBOOK_HWID_KEY=\"FACEBOOK_HWID_KEY\",exports.PERIOD_SEND_APP_OPEN=36e5,exports.PERIOD_GOAL_EVENT=864e5,exports.DEFAULT_NOTIFICATION_DURATION=10,exports.MIN_NOTIFICATION_DURATION=10,exports.MAX_NOTIFICATION_DURATION=55,exports.WAKE_UP_SERVICE_WORKER_INTERVAL=20,exports.DEFAULT_NOTIFICATION_TITLE=\"Pushwoosh notification\",exports.DEFAULT_NOTIFICATION_IMAGE=\"https://cp.pushwoosh.com/img/logo-medium.png\",exports.KEY_SHOW_SUBSCRIBE_WIDGET=\"WIDGET_SHOWED\",exports.KEY_CLICK_SUBSCRIBE_WIDGET=\"WIDGET_CLICKED\",exports.KEY_DEVICE_REGISTRATION_STATUS=\"deviceRegistrationStatus\",exports.KEY_SAFARI_PREVIOUS_PERMISSION=\"safariPreviousPermission\",exports.MANUAL_SET_LOGGER_LEVEL=\"PW_SET_LOGGER_LEVEL\",exports.DEVICE_REGISTRATION_STATUS_REGISTERED=\"registered\",exports.DEVICE_REGISTRATION_STATUS_UNREGISTERED=\"unregistered\",exports.PERMISSION_DENIED=\"denied\",exports.PERMISSION_GRANTED=\"granted\",exports.PERMISSION_PROMPT=\"default\",exports.EVENT_ON_LOAD=\"onLoad\",exports.EVENT_ON_READY=\"onReady\",exports.EVENT_ON_SUBSCRIBE=\"onSubscribe\",exports.EVENT_ON_UNSUBSCRIBE=\"onUnsubscribe\",exports.EVENT_ON_REGISTER=\"onRegister\",exports.EVENT_ON_PERMISSION_PROMPT=\"onPermissionPrompt\",exports.EVENT_ON_PERMISSION_DENIED=\"onPermissionDenied\",exports.EVENT_ON_PERMISSION_GRANTED=\"onPermissionGranted\",exports.EVENT_ON_SW_INIT_ERROR=\"onSWInitError\",exports.EVENT_ON_PUSH_DELIVERY=\"onPushDelivery\",exports.EVENT_ON_NOTIFICATION_CLICK=\"onNotificationClick\",exports.EVENT_ON_NOTIFICATION_CLOSE=\"onNotificationClose\",exports.EVENT_ON_CHANGE_COMMUNICATION_ENABLED=\"onChangeCommunicationEnabled\",exports.EVENT_ON_PUT_NEW_MESSAGE_TO_INBOX_STORE=\"onPutNewMessageToInboxStore\",exports.EVENT_ON_UPDATE_INBOX_MESSAGES=\"onUpdateInboxMessages\",exports.EVENT_ON_SHOW_NOTIFICATION_PERMISSION_DIALOG=\"onShowNotificationPermissionDialog\",exports.EVENT_ON_HIDE_NOTIFICATION_PERMISSION_DIALOG=\"onHideNotificationPermissionDialog\",exports.EVENT_ON_SHOW_SUBSCRIPTION_WIDGET=\"onShowSubscriptionWidget\",exports.EVENT_ON_HIDE_SUBSCRIPTION_WIDGET=\"onHideSubscriptionWidget\",exports.EVENT_SHOW_SUBSCRIBE_BUTTON=\"showSubscribeButton\",exports.EVENT_CLICK_SUBSCRIBE_BUTTON=\"clickSubscribeButton\",exports.EVENT_GDPR_CONSENT=\"GDPRConsent\",exports.EVENT_GDPR_DELETE=\"GDPRDelete\",exports.EVENT_PW_SITE_OPENED=\"PW_SiteOpened\",exports.MANUAL_UNSUBSCRIBE=\"MANUAL_UNSUBSCRIBE\",exports.PAGE_VISITED_URL=\"PAGE_VISITED_URL\",exports.SUBSCRIPTION_SEGMENT_EVENT=\"Subscription Segments\",exports.SUBSCRIPTION_WIDGET_USE_CASE_NOT_SET=\"not-set\",exports.SUBSCRIPTION_WIDGET_USE_CASE_DEFAULT=\"default\",exports.SUBSCRIPTION_WIDGET_USE_CASE_TOPIC_BASED=\"topic-based\",exports.SUBSCRIPTION_PROMPT_WIDGET_DEFAULT_CONFIG={headerText:\"Subscribe to our news\",headerTextColor:\"#000000\",subheaderText:\"Don't miss out on the latest news and updates!\",subheaderTextColor:\"#000000\",buttonAcceptText:\"Agree\",buttonAcceptTextColor:\"#1A72E8\",buttonAcceptRound:\"4px\",buttonAcceptBackgroundColor:\"#FFFFFF\",buttonAcceptBorderColor:\"#E3E4E8\",buttonCancelText:\"Deny\",buttonCancelTextColor:\"#1A72E8\",buttonCancelRound:\"4px\",buttonCancelBackgroundColor:\"#FFFFFF\",buttonCancelBorderColor:\"#E3E4E8\",cappingCount:3,cappingDelay:144e5,backgroundColor:\"#FFFFFF\"}},function(module,exports,__webpack_require__){\"use strict\";function GenericWorker(name){this.name=name||\"default\",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}GenericWorker.prototype={push:function(chunk){this.emit(\"data\",chunk)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit(\"end\"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit(\"error\",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit(\"error\",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(name,listener){return this._listeners[name].push(listener),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(name,arg){if(this._listeners[name])for(var i=0;i<this._listeners[name].length;i++)this._listeners[name][i].call(this,arg)},pipe:function(next){return next.registerPrevious(this)},registerPrevious:function(previous){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.streamInfo=previous.streamInfo,this.mergeStreamInfo(),this.previous=previous;var self=this;return previous.on(\"data\",function(chunk){self.processChunk(chunk)}),previous.on(\"end\",function(){self.end()}),previous.on(\"error\",function(e){self.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var withError=!1;return this.generatedError&&(this.error(this.generatedError),withError=!0),this.previous&&this.previous.resume(),!withError},flush:function(){},processChunk:function(chunk){this.push(chunk)},withStreamInfo:function(key,value){return this.extraStreamInfo[key]=value,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var key in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(key)&&(this.streamInfo[key]=this.extraStreamInfo[key])},lock:function(){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var me=\"Worker \"+this.name;return this.previous?this.previous+\" -> \"+me:me}},module.exports=GenericWorker},function(module,exports,__nested_webpack_require_15192__){\"use strict\";var __spreadArrays=this&&this.__spreadArrays||function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r};Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Logger=exports.logAndRejectError=exports.logAndThrowError=void 0;var storage_1=__nested_webpack_require_15192__(5),levels={error:1,info:2,debug:3},limitLevel=3;__nested_webpack_require_15192__(10).patchConsole();var Logger={setLevel:function(level){levels[level]||(level=\"error\"),limitLevel=levels[level]},write:function(type,message,additional){return\"error\"===type?this.error(message):this.info(message),storage_1.log.add(type,message,additional)}};exports.Logger=Logger,Object.keys(levels).forEach(function(levelName){var levelNumber=levels[levelName];Logger[levelName]=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];levelNumber<=limitLevel&&(console.groupCollapsed(levelName),console.info.apply(console,__spreadArrays([\"\"],args)),console.trace(\"trace\"),console.groupEnd())}}),exports.logAndThrowError=function(error){var logText=new Error(error);throw Logger.write(\"error\",logText,\"logAndThrowError\"),logText},exports.logAndRejectError=function(error,reject){var logText=new Error(error);Logger.write(\"error\",logText,\"logAndRejectError\"),reject(logText)}},function(module,exports,__nested_webpack_require_16613__){\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Data=void 0;var storage_1=__nested_webpack_require_16613__(5),CONSTANTS=__nested_webpack_require_16613__(1),Data=function(){function Data(store){void 0===store&&(store=storage_1.keyValue),this.store=store}return Data.prototype.clearAll=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.applicationCode\",void 0)];case 1:return _a.sent(),[4,this.store.set(\"params.hwid\",void 0)];case 2:return _a.sent(),[4,this.store.set(\"params.deviceType\",void 0)];case 3:return _a.sent(),[4,this.store.set(\"params.deviceModel\",void 0)];case 4:return _a.sent(),[4,this.store.set(\"params.language\",void 0)];case 5:return _a.sent(),[4,this.store.set(\"params.apiEntrypoint\",void 0)];case 6:return _a.sent(),[4,this.store.set(\"params.tokens\",void 0)];case 7:return _a.sent(),[4,this.store.set(\"params.applicationServerKey\",void 0)];case 8:return _a.sent(),[4,this.store.set(\"params.senderId\",void 0)];case 9:return _a.sent(),[4,this.store.set(\"params.webSitePushId\",void 0)];case 10:return _a.sent(),[4,this.store.set(\"params.defaultNotificationImage\",void 0)];case 11:return _a.sent(),[4,this.store.set(\"params.defaultNotificationTitle\",void 0)];case 12:return _a.sent(),[4,this.store.set(\"params.userId\",void 0)];case 13:return _a.sent(),[4,this.store.set(\"params.userIdWasChanged\",void 0)];case 14:return _a.sent(),[4,this.store.set(\"params.isLastPermissionStatus\",void 0)];case 15:return _a.sent(),[4,this.store.set(\"params.isManualUnsubscribed\",void 0)];case 16:return _a.sent(),[4,this.store.set(\"params.isCommunicationDisabled\",void 0)];case 17:return _a.sent(),[4,this.store.set(\"params.isDropAllData\",void 0)];case 18:return _a.sent(),[4,this.store.set(\"params.sdkVersion\",void 0)];case 19:return _a.sent(),[4,this.store.set(\"params.serviceWorkerVersion\",void 0)];case 20:return _a.sent(),[4,this.store.set(\"params.serviceWorkerUrl\",void 0)];case 21:return _a.sent(),[4,this.store.set(\"params.serviceWorkerScope\",void 0)];case 22:return _a.sent(),[4,this.store.set(\"params.lastOpenMessage\",void 0)];case 23:return _a.sent(),[4,this.store.set(\"params.lastOpenApplicationTime\",void 0)];case 24:return _a.sent(),[4,this.store.set(\"params.features\",void 0)];case 25:return _a.sent(),[4,this.store.set(\"params.init\",void 0)];case 26:return _a.sent(),[4,this.store.set(\"API_PARAMS\",void 0)];case 27:return _a.sent(),[4,this.store.set(\"SENDER_ID\",void 0)];case 28:return _a.sent(),[4,this.store.set(\"COMMUNICATION_ENABLED\",void 0)];case 29:return _a.sent(),[4,this.store.set(\"DEVICE_DATA_REMOVED\",void 0)];case 30:return _a.sent(),[4,this.store.set(\"LAST_OPEN_MESSAGE\",void 0)];case 31:return _a.sent(),[4,this.store.set(\"DELAYED_EVENT\",void 0)];case 32:return _a.sent(),[2]}})})},Data.prototype.setApplicationCode=function(application){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.applicationCode\",application)];case 1:return _a.sent(),[2]}})})},Data.prototype.getApplicationCode=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.applicationCode\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setHwid=function(hwid){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.hwid\",hwid)];case 1:return _a.sent(),[2]}})})},Data.prototype.getHwid=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.hwid\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setDeviceType=function(type){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.deviceType\",type)];case 1:return _a.sent(),[2]}})})},Data.prototype.getDeviceType=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.deviceType\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setDeviceModel=function(model){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.deviceModel\",model)];case 1:return _a.sent(),[2]}})})},Data.prototype.getDeviceModel=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.deviceModel\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setLanguage=function(language){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.language\",language)];case 1:return _a.sent(),[2]}})})},Data.prototype.getLanguage=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.language\",\"en\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setApiEntrypoint=function(url){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.apiEntrypoint\",url)];case 1:return _a.sent(),[2]}})})},Data.prototype.getApiEntrypoint=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.apiEntrypoint\",CONSTANTS.DEFAULT_API_URL)];case 1:return[2,_a.sent()]}})})},Data.prototype.setTokens=function(tokens){return __awaiter(this,void 0,void 0,function(){var hwid;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getHwid()];case 1:return hwid=_a.sent(),[4,this.store.set(\"API_PARAMS\",__assign({hwid:hwid},tokens))];case 2:return _a.sent(),[4,this.store.set(\"params.tokens\",tokens)];case 3:return _a.sent(),[2]}})})},Data.prototype.getTokens=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"API_PARAMS\")];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.tokens\")];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:oldValue]}})})},Data.prototype.setApplicationServerKey=function(key){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.applicationServerKey\",key)];case 1:return _a.sent(),[2]}})})},Data.prototype.getApplicationServerKey=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.applicationServerKey\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setSenderId=function(senderId){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"GCM_SENDER_ID\",senderId)];case 1:return _a.sent(),[4,this.store.set(\"params.senderId\",senderId)];case 2:return _a.sent(),[2]}})})},Data.prototype.getSenderId=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"GCM_SENDER_ID\")];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.senderId\")];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:oldValue]}})})},Data.prototype.setWebSitePushId=function(senderId){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.webSitePushId\",senderId)];case 1:return _a.sent(),[2]}})})},Data.prototype.getWebSitePushId=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.webSitePushId\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setDefaultNotificationImage=function(url){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.defaultNotificationImage\",url)];case 1:return _a.sent(),[2]}})})},Data.prototype.getDefaultNotificationImage=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.defaultNotificationImage\",CONSTANTS.DEFAULT_NOTIFICATION_IMAGE)];case 1:return[2,_a.sent()]}})})},Data.prototype.setDefaultNotificationTitle=function(text){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.defaultNotificationTitle\",text)];case 1:return _a.sent(),[2]}})})},Data.prototype.getDefaultNotificationTitle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.defaultNotificationTitle\",CONSTANTS.DEFAULT_NOTIFICATION_TITLE)];case 1:return[2,_a.sent()]}})})},Data.prototype.setUserId=function(userId){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return userId?[3,2]:[4,this.store.set(\"params.userId\",void 0)];case 1:return _a.sent(),[2];case 2:return[4,this.store.set(\"params.userId\",userId.toString())];case 3:return _a.sent(),[2]}})})},Data.prototype.getUserId=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.userId\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setStatusUserIdWasChanged=function(status){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.userIdWasChanged\",status)];case 1:return _a.sent(),[2]}})})},Data.prototype.getStatusUserIdWasChanged=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.userIdWasChanged\",!1)];case 1:return[2,_a.sent()]}})})},Data.prototype.setLastPermissionStatus=function(status){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.isLastPermissionStatus\",status)];case 1:return _a.sent(),[2]}})})},Data.prototype.getLastPermissionStatus=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.isLastPermissionStatus\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setStatusManualUnsubscribed=function(status){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"MANUAL_UNSUBSCRIBE\",status)];case 1:return _a.sent(),[4,this.store.set(\"params.isManualUnsubscribed\",status)];case 2:return _a.sent(),[2]}})})},Data.prototype.getStatusManualUnsubscribed=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"MANUAL_UNSUBSCRIBE\",!1)];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.isManualUnsubscribed\",!1)];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:oldValue]}})})},Data.prototype.setStatusCommunicationDisabled=function(status){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"COMMUNICATION_ENABLED\",status?0:1)];case 1:return _a.sent(),[4,this.store.set(\"params.isCommunicationDisabled\",status)];case 2:return _a.sent(),[2]}})})},Data.prototype.getStatusCommunicationDisabled=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"COMMUNICATION_ENABLED\")];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.isCommunicationDisabled\",!1)];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:0==oldValue]}})})},Data.prototype.setStatusDropAllData=function(status){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"DEVICE_DATA_REMOVED\",status)];case 1:return _a.sent(),[4,this.store.set(\"params.isDropAllData\",status)];case 2:return _a.sent(),[2]}})})},Data.prototype.getStatusDropAllData=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"DEVICE_DATA_REMOVED\",!1)];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.isDropAllData\",!1)];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:oldValue]}})})},Data.prototype.setSdkVersion=function(version){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.sdkVersion\",version)];case 1:return _a.sent(),[2]}})})},Data.prototype.getSdkVersion=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.sdkVersion\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setServiceWorkerVersion=function(version){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"WORKER_VERSION\",version)];case 1:return _a.sent(),[4,this.store.set(\"params.serviceWorkerVersion\",version)];case 2:return _a.sent(),[2]}})})},Data.prototype.getServiceWorkerVersion=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"WORKER_VERSION\")];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.serviceWorkerVersion\")];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:oldValue]}})})},Data.prototype.setServiceWorkerUrl=function(url){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return url?[4,this.store.set(\"params.serviceWorkerUrl\",url)]:[2];case 1:return _a.sent(),[2]}})})},Data.prototype.getServiceWorkerUrl=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.serviceWorkerUrl\",CONSTANTS.DEFAULT_SERVICE_WORKER_URL)];case 1:return[2,_a.sent()]}})})},Data.prototype.setServiceWorkerScope=function(scope){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return scope?[4,this.store.set(\"params.serviceWorkerScope\",scope)]:[2];case 1:return _a.sent(),[2]}})})},Data.prototype.getServiceWorkerScope=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.serviceWorkerScope\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setLastOpenMessage=function(message){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"LAST_OPEN_MESSAGE\",message)];case 1:return _a.sent(),[4,this.store.set(\"params.lastOpenMessage\",message)];case 2:return _a.sent(),[2]}})})},Data.prototype.getLastOpenMessage=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"LAST_OPEN_MESSAGE\")];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.lastOpenMessage\")];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:oldValue]}})})},Data.prototype.setLastOpenApplicationTime=function(time){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.lastOpenApplicationTime\",time)];case 1:return _a.sent(),[2]}})})},Data.prototype.getLastOpenApplicationTime=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.lastOpenApplicationTime\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setFeatures=function(features){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.features\",features)];case 1:return _a.sent(),[2]}})})},Data.prototype.getFeatures=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.features\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setInitParams=function(params){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.init\",params)];case 1:return _a.sent(),[2]}})})},Data.prototype.getInitParams=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.init\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setInboxLastRequestCode=function(lastCode){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.inbox.lastRequestCode\",lastCode)];case 1:return _a.sent(),[2]}})})},Data.prototype.getInboxLastRequestCode=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.inbox.lastRequestCode\",\"\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setInboxLastRequestTime=function(lastRequestTime){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.inbox.lastRequestTime\",lastRequestTime)];case 1:return _a.sent(),[2]}})})},Data.prototype.getInboxLastRequestTime=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.store.get(\"params.inbox.lastRequestTime\",0)]})})},Data.prototype.setInboxNewMessagesCount=function(count){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.inbox.newMessagesCount\",count)];case 1:return _a.sent(),[2]}})})},Data.prototype.getInboxNewMessagesCount=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.store.get(\"params.inbox.newMessagesCount\",0)]})})},Data.prototype.setDelayedEvent=function(event){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"DELAYED_EVENT\",event)];case 1:return _a.sent(),[4,this.store.set(\"params.delayedEvent\",event)];case 2:return _a.sent(),[2]}})})},Data.prototype.getDelayedEvent=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"DELAYED_EVENT\")];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.delayedEvent\")];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:oldValue]}})})},Data.prototype.setInApps=function(inApps){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.inApps\",inApps)];case 1:return _a.sent(),[2]}})})},Data.prototype.getInApps=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.store.get(\"params.inApps\")]})})},Data.prototype.setPromptDisplayCount=function(count){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.promptDisplayCount\",count)];case 1:return _a.sent(),[2]}})})},Data.prototype.getPromptDisplayCount=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.store.get(\"params.promptDisplayCount\",0)]})})},Data.prototype.setPromptLastSeenTime=function(time){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.promptLastSeenTime\",time)];case 1:return _a.sent(),[2]}})})},Data.prototype.getPromptLastSeenTime=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.store.get(\"params.promptLastSeenTime\",0)]})})},Data}();exports.Data=Data},function(module,exports,__nested_webpack_require_39285__){\"use strict\";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&\"function\"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.message=exports.log=exports.keyValue=exports.LogMessage=exports.LogLog=exports.LogBase=exports.getInstance=void 0;var databasePromise,version_1=__nested_webpack_require_39285__(18),MigrationExecutor_1=__nested_webpack_require_39285__(19),constants_1=__nested_webpack_require_39285__(9);function onversionchange(database,event){console.info(\"onversionchange\",event),database.close()}function getInstance(){return databasePromise||(databasePromise=new Promise(function(resolve,reject){var request=indexedDB.open(\"PUSHWOOSH_SDK_STORE\",version_1.default);request.onsuccess=function(event){var database=event.target.result;database.onversionchange=onversionchange.bind(null,database,reject),resolve(database)},request.onerror=function(){return reject(request.error)},request.onupgradeneeded=function(event){var database=event.target.result;database.onversionchange=onversionchange.bind(null,database,reject),new MigrationExecutor_1.default(database).applyMigrations()}})),databasePromise}function getInstanceWithPromise(executor){return getInstance().then(function(database){return new Promise(function(resolve,reject){return executor(database,resolve,reject)})})}exports.getInstance=getInstance;var LogBase=function(){function LogBase(){}return LogBase.prototype._add=function(obj){var _this=this;return getInstanceWithPromise(function(database,resolve,reject){var request=database.transaction([_this.name],\"readwrite\").objectStore(_this.name).add(obj);request.onsuccess=function(){resolve(obj)},request.onerror=function(){reject(request.error)}}).then(function(obj){return _this.getAll().then(function(items){if(Array.isArray(items)){var ids=items.map(function(i){return i.id}).sort(function(a,b){return a==b?0:a<b?1:-1});if(ids.length>_this.maxItems)return Promise.all(ids.slice(_this.maxItems).map(function(id){return _this.delete(id)})).then(function(){return obj})}return obj})})},LogBase.prototype.delete=function(key){var _this=this;return getInstanceWithPromise(function(database,resolve,reject){var request=database.transaction([_this.name],\"readwrite\").objectStore(_this.name).delete(key);request.onsuccess=function(){resolve(request.result)},request.onerror=function(){reject(request.error)}})},LogBase.prototype.getAll=function(){var _this=this;return getInstanceWithPromise(function(database,resolve,reject){var result=[],cursor=database.transaction(_this.name).objectStore(_this.name).openCursor();cursor.onsuccess=function(ev){var cursorResult=ev.target.result;cursorResult?(cursorResult.value&&result.push(cursorResult.value),cursorResult.continue()):resolve(result)},cursor.onerror=function(){reject(cursor.error)}})},LogBase}();exports.LogBase=LogBase;var LogLog=function(_super){function LogLog(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.name=constants_1.STORE_NAME_MAIN_LOG,_this.maxItems=100,_this.environment=\"undefined\"!=typeof self&&self.registration?\"worker\":\"browser\",_this}return __extends(LogLog,_super),LogLog.prototype.add=function(type,message,additional){var obj={type:type,environment:this.environment,message:\"\"+message,date:new Date};return message instanceof Error&&(obj.stack=message.stack),additional&&(obj.additional=additional),this._add(obj)},LogLog}(LogBase);exports.LogLog=LogLog;var LogMessage=function(_super){function LogMessage(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.name=constants_1.STORE_NAME_MESSAGE_LOG,_this.maxItems=25,_this}return __extends(LogMessage,_super),LogMessage.prototype.add=function(log){return this._add(__assign(__assign({},log),{date:new Date}))},LogMessage}(LogBase);exports.LogMessage=LogMessage,exports.keyValue=function(name){return{get:function(key,defaultValue){return getInstanceWithPromise(function(database,resolve,reject){var timeout,request=database.transaction(name).objectStore(name).get(key),isComplete=!1,isError=!1,check=function(){if(clearTimeout(timeout),isComplete){var result=request.result;resolve(result&&result.value||defaultValue)}else isError?reject(request.error):timeout=setTimeout(check,0)};request.onsuccess=function(){return isComplete=!0},request.onerror=function(){return isError=!0},check()})},getAll:function(){return getInstanceWithPromise(function(database,resolve,reject){var timeout,result={},cursor=database.transaction(name).objectStore(name).openCursor(),isComplete=!1,isError=!1,check=function(){clearTimeout(timeout),isComplete?resolve(result):isError?reject(cursor.error):timeout=setTimeout(check,0)};cursor.onsuccess=function(event){var cursorResult=event.target.result;cursorResult?(result[cursorResult.key]=cursorResult.value.value,cursorResult.continue()):isComplete=!0},cursor.onerror=function(){return isError=!0},check()})},extend:function(key,value){return __awaiter(this,void 0,void 0,function(){var oldValues,newValues;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.get(key)];case 1:return oldValues=_a.sent(),newValues=__rest(value,[]),[4,this.set(key,__assign(__assign({},oldValues),newValues))];case 2:return _a.sent(),[2]}})})},set:function(key,value){return getInstanceWithPromise(function(database,resolve,reject){var timeout,request=database.transaction([name],\"readwrite\").objectStore(name).put({key:key,value:value}),isComplete=!1,isError=!1,check=function(){clearTimeout(timeout),isComplete?resolve(key):isError?reject(request.error):timeout=setTimeout(check,0)};request.onsuccess=function(){return isComplete=!0},request.onerror=function(){return isError=!0},check()})}}}(constants_1.STORE_NAME_KEY_VALUE),exports.log=new LogLog,exports.message=new LogMessage},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var DateModule=function(){function DateModule(date){void 0===date&&(date=new Date),this._date=date}return Object.defineProperty(DateModule.prototype,\"date\",{get:function(){return this._date},set:function(date){this._date=date},enumerable:!1,configurable:!0}),DateModule.prototype.getUtcTimestamp=function(){return Math.floor((this.date.getTime()+60*this.date.getTimezoneOffset()*1e3)/1e3)},DateModule.prototype.getTimestamp=function(){return Math.round(this.date.getTime()/1e3)},DateModule.prototype.setLocal=function(){var newDateTimestamp=this._date.getTime()-60*this.date.getTimezoneOffset()*1e3;this._date=new Date(newDateTimestamp)},DateModule.prototype.addDays=function(days){var newDateTimestamp=this._date.getTime()+24*days*60*60*1e3;this._date=new Date(newDateTimestamp)},DateModule.prototype.getInboxFakeOrder=function(){return(100*this._date.getTime()+9e9).toString()},DateModule}();exports.default=DateModule},function(module,exports,__nested_webpack_require_48678__){\"use strict\";(function(Buffer){if(exports.base64=!0,exports.array=!0,exports.string=!0,exports.arraybuffer=\"undefined\"!=typeof ArrayBuffer&&\"undefined\"!=typeof Uint8Array,exports.nodebuffer=void 0!==Buffer,exports.uint8array=\"undefined\"!=typeof Uint8Array,\"undefined\"==typeof ArrayBuffer)exports.blob=!1;else{var buffer=new ArrayBuffer(0);try{exports.blob=0===new Blob([buffer],{type:\"application/zip\"}).size}catch(e){try{var builder=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);builder.append(buffer),exports.blob=0===builder.getBlob(\"application/zip\").size}catch(e){exports.blob=!1}}}try{exports.nodestream=!!__nested_webpack_require_48678__(50).Readable}catch(e){exports.nodestream=!1}}).call(this,__nested_webpack_require_48678__(21).Buffer)},function(module,exports,__webpack_require__){\"use strict\";var TYPED_OK=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Int32Array;function _has(obj,key){return Object.prototype.hasOwnProperty.call(obj,key)}exports.assign=function(obj){for(var sources=Array.prototype.slice.call(arguments,1);sources.length;){var source=sources.shift();if(source){if(\"object\"!=typeof source)throw new TypeError(source+\"must be non-object\");for(var p in source)_has(source,p)&&(obj[p]=source[p])}}return obj},exports.shrinkBuf=function(buf,size){return buf.length===size?buf:buf.subarray?buf.subarray(0,size):(buf.length=size,buf)};var fnTyped={arraySet:function(dest,src,src_offs,len,dest_offs){if(src.subarray&&dest.subarray)dest.set(src.subarray(src_offs,src_offs+len),dest_offs);else for(var i=0;i<len;i++)dest[dest_offs+i]=src[src_offs+i]},flattenChunks:function(chunks){var i,l,len,pos,chunk,result;for(len=0,i=0,l=chunks.length;i<l;i++)len+=chunks[i].length;for(result=new Uint8Array(len),pos=0,i=0,l=chunks.length;i<l;i++)chunk=chunks[i],result.set(chunk,pos),pos+=chunk.length;return result}},fnUntyped={arraySet:function(dest,src,src_offs,len,dest_offs){for(var i=0;i<len;i++)dest[dest_offs+i]=src[src_offs+i]},flattenChunks:function(chunks){return[].concat.apply([],chunks)}};exports.setTyped=function(on){on?(exports.Buf8=Uint8Array,exports.Buf16=Uint16Array,exports.Buf32=Int32Array,exports.assign(exports,fnTyped)):(exports.Buf8=Array,exports.Buf16=Array,exports.Buf32=Array,exports.assign(exports,fnUntyped))},exports.setTyped(TYPED_OK)},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.KEY_PATH_BASE_INCREMENT=exports.STORE_NAME_INBOX_MESSAGES=exports.STORE_NAME_MAIN_LOG=exports.STORE_NAME_MESSAGE_LOG=exports.STORE_NAME_KEY_VALUE=void 0,exports.STORE_NAME_KEY_VALUE=\"keyValue\",exports.STORE_NAME_MESSAGE_LOG=\"messages\",exports.STORE_NAME_MAIN_LOG=\"log\",exports.STORE_NAME_INBOX_MESSAGES=\"inboxMessages\",exports.KEY_PATH_BASE_INCREMENT=\"id\"},function(module,exports,__webpack_require__){\"use strict\";function getGlobal(){return\"undefined\"!=typeof globalThis?globalThis:Function(\"return this\")()}Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.generateUUID=exports.clearLocationHash=exports.patchConsole=exports.parseSerializedNotificationParams=exports.getVersion=exports.getGlobal=void 0,exports.getGlobal=getGlobal,exports.getVersion=function(){return\"3.26.0\"},exports.parseSerializedNotificationParams=function(param,defaultValue){if(\"string\"==typeof param)try{return JSON.parse(param)}catch(e){console.log(e)}return void 0===param&&void 0!==defaultValue?defaultValue:param},exports.patchConsole=function(){for(var method,noop=function(){},methods=[\"assert\",\"clear\",\"count\",\"debug\",\"dir\",\"dirxml\",\"error\",\"exception\",\"group\",\"groupCollapsed\",\"groupEnd\",\"info\",\"log\",\"markTimeline\",\"profile\",\"profileEnd\",\"table\",\"time\",\"timeEnd\",\"timeStamp\",\"trace\",\"warn\"],len=methods.length,global=getGlobal(),console=global.console=global.console||{};len--;)console[method=methods[len]]||(console[method]=noop)},exports.clearLocationHash=function(){\"history\"in getGlobal()&&history.pushState?history.pushState(null,\"\",\"#\"):location.hash=\"#\"},exports.generateUUID=function(){var d=(new Date).getTime();return\"undefined\"!=typeof performance&&\"function\"==typeof performance.now&&(d+=performance.now()),\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,function(c){var r=(d+16*Math.random())%16|0;return d=Math.floor(d/16),(\"x\"===c?r:3&r|8).toString(16)})}},function(module,exports){var g;g=function(){return this}();try{g=g||Function(\"return this\")()||(0,eval)(\"this\")}catch(e){\"object\"==typeof window&&(g=window)}module.exports=g},function(module,exports,__nested_webpack_require_53231__){\"use strict\";var pna=__nested_webpack_require_53231__(27),objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};module.exports=Duplex;var util=Object.create(__nested_webpack_require_53231__(23));util.inherits=__nested_webpack_require_53231__(15);var Readable=__nested_webpack_require_53231__(51),Writable=__nested_webpack_require_53231__(41);util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}function Duplex(options){if(!(this instanceof Duplex))return new Duplex(options);Readable.call(this,options),Writable.call(this,options),options&&!1===options.readable&&(this.readable=!1),options&&!1===options.writable&&(this.writable=!1),this.allowHalfOpen=!0,options&&!1===options.allowHalfOpen&&(this.allowHalfOpen=!1),this.once(\"end\",onend)}function onend(){this.allowHalfOpen||this._writableState.ended||pna.nextTick(onEndNT,this)}function onEndNT(self){self.end()}Object.defineProperty(Duplex.prototype,\"writableHighWaterMark\",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Duplex.prototype,\"destroyed\",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(value){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=value,this._writableState.destroyed=value)}}),Duplex.prototype._destroy=function(err,cb){this.push(null),this.end(),pna.nextTick(cb,err)}},function(module,exports,__nested_webpack_require_54848__){var v1=__nested_webpack_require_54848__(30),v4=__nested_webpack_require_54848__(31),uuid=v4;uuid.v1=v1,uuid.v4=v4,module.exports=uuid},function(module,exports,__nested_webpack_require_55002__){\"use strict\";for(var utils=__nested_webpack_require_55002__(0),support=__nested_webpack_require_55002__(7),nodejsUtils=__nested_webpack_require_55002__(29),GenericWorker=__nested_webpack_require_55002__(2),_utf8len=new Array(256),i=0;i<256;i++)_utf8len[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;_utf8len[254]=_utf8len[254]=1;function Utf8DecodeWorker(){GenericWorker.call(this,\"utf-8 decode\"),this.leftOver=null}function Utf8EncodeWorker(){GenericWorker.call(this,\"utf-8 encode\")}exports.utf8encode=function(str){return support.nodebuffer?nodejsUtils.newBufferFrom(str,\"utf-8\"):function(str){var buf,c,c2,m_pos,i,str_len=str.length,buf_len=0;for(m_pos=0;m_pos<str_len;m_pos++)55296==(64512&(c=str.charCodeAt(m_pos)))&&m_pos+1<str_len&&56320==(64512&(c2=str.charCodeAt(m_pos+1)))&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++),buf_len+=c<128?1:c<2048?2:c<65536?3:4;for(buf=support.uint8array?new Uint8Array(buf_len):new Array(buf_len),i=0,m_pos=0;i<buf_len;m_pos++)55296==(64512&(c=str.charCodeAt(m_pos)))&&m_pos+1<str_len&&56320==(64512&(c2=str.charCodeAt(m_pos+1)))&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++),c<128?buf[i++]=c:c<2048?(buf[i++]=192|c>>>6,buf[i++]=128|63&c):c<65536?(buf[i++]=224|c>>>12,buf[i++]=128|c>>>6&63,buf[i++]=128|63&c):(buf[i++]=240|c>>>18,buf[i++]=128|c>>>12&63,buf[i++]=128|c>>>6&63,buf[i++]=128|63&c);return buf}(str)},exports.utf8decode=function(buf){return support.nodebuffer?utils.transformTo(\"nodebuffer\",buf).toString(\"utf-8\"):function(buf){var i,out,c,c_len,len=buf.length,utf16buf=new Array(2*len);for(out=0,i=0;i<len;)if((c=buf[i++])<128)utf16buf[out++]=c;else if((c_len=_utf8len[c])>4)utf16buf[out++]=65533,i+=c_len-1;else{for(c&=2===c_len?31:3===c_len?15:7;c_len>1&&i<len;)c=c<<6|63&buf[i++],c_len--;c_len>1?utf16buf[out++]=65533:c<65536?utf16buf[out++]=c:(c-=65536,utf16buf[out++]=55296|c>>10&1023,utf16buf[out++]=56320|1023&c)}return utf16buf.length!==out&&(utf16buf.subarray?utf16buf=utf16buf.subarray(0,out):utf16buf.length=out),utils.applyFromCharCode(utf16buf)}(buf=utils.transformTo(support.uint8array?\"uint8array\":\"array\",buf))},utils.inherits(Utf8DecodeWorker,GenericWorker),Utf8DecodeWorker.prototype.processChunk=function(chunk){var data=utils.transformTo(support.uint8array?\"uint8array\":\"array\",chunk.data);if(this.leftOver&&this.leftOver.length){if(support.uint8array){var previousData=data;(data=new Uint8Array(previousData.length+this.leftOver.length)).set(this.leftOver,0),data.set(previousData,this.leftOver.length)}else data=this.leftOver.concat(data);this.leftOver=null}var nextBoundary=function(buf,max){var pos;for((max=max||buf.length)>buf.length&&(max=buf.length),pos=max-1;pos>=0&&128==(192&buf[pos]);)pos--;return pos<0?max:0===pos?max:pos+_utf8len[buf[pos]]>max?pos:max}(data),usableData=data;nextBoundary!==data.length&&(support.uint8array?(usableData=data.subarray(0,nextBoundary),this.leftOver=data.subarray(nextBoundary,data.length)):(usableData=data.slice(0,nextBoundary),this.leftOver=data.slice(nextBoundary,data.length))),this.push({data:exports.utf8decode(usableData),meta:chunk.meta})},Utf8DecodeWorker.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:exports.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},exports.Utf8DecodeWorker=Utf8DecodeWorker,utils.inherits(Utf8EncodeWorker,GenericWorker),Utf8EncodeWorker.prototype.processChunk=function(chunk){this.push({data:exports.utf8encode(chunk.data),meta:chunk.meta})},exports.Utf8EncodeWorker=Utf8EncodeWorker},function(module,exports){\"function\"==typeof Object.create?module.exports=function(ctor,superCtor){superCtor&&(ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}}))}:module.exports=function(ctor,superCtor){if(superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}}},function(module,exports){var getRandomValues=\"undefined\"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||\"undefined\"!=typeof msCrypto&&\"function\"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(getRandomValues){var rnds8=new Uint8Array(16);module.exports=function(){return getRandomValues(rnds8),rnds8}}else{var rnds=new Array(16);module.exports=function(){for(var r,i=0;i<16;i++)0==(3&i)&&(r=4294967296*Math.random()),rnds[i]=r>>>((3&i)<<3)&255;return rnds}}},function(module,exports){for(var byteToHex=[],i=0;i<256;++i)byteToHex[i]=(i+256).toString(16).substr(1);module.exports=function(buf,offset){var i=offset||0,bth=byteToHex;return[bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],\"-\",bth[buf[i++]],bth[buf[i++]],\"-\",bth[buf[i++]],bth[buf[i++]],\"-\",bth[buf[i++]],bth[buf[i++]],\"-\",bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]]].join(\"\")}},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=7},function(module,exports,__nested_webpack_require_60021__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var Migrations_1=__nested_webpack_require_60021__(35),MigrationExecutor=function(){function MigrationExecutor(db,migrationsBuilder){void 0===migrationsBuilder&&(migrationsBuilder=new Migrations_1.default),this.db=db,this.migrationsBuilder=migrationsBuilder}return MigrationExecutor.prototype.applyMigrations=function(){var _this=this;this.applyMigrationsPack(this.migrationsBuilder.initial),this.migrationsBuilder.dateSorted.forEach(function(migrationsPack){_this.applyMigrationsPack(migrationsPack)})},MigrationExecutor.prototype.applyMigrationsPack=function(migrationsPack){var _this=this;migrationsPack.forEach(function(migration){migration(_this.db)})},MigrationExecutor}();exports.default=MigrationExecutor},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.storeCreatorDecorator=void 0,exports.storeCreatorDecorator=function(name,storeCreator){return function(database){database.objectStoreNames.contains(name)||storeCreator(database)}}},function(module,exports,__nested_webpack_require_61136__){\"use strict\";(function(global){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\nvar base64=__nested_webpack_require_61136__(87),ieee754=__nested_webpack_require_61136__(88),isArray=__nested_webpack_require_61136__(49);function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length)throw new RangeError(\"Invalid typed array length\");return Buffer.TYPED_ARRAY_SUPPORT?(that=new Uint8Array(length)).__proto__=Buffer.prototype:(null===that&&(that=new Buffer(length)),that.length=length),that}function Buffer(arg,encodingOrOffset,length){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(arg,encodingOrOffset,length);if(\"number\"==typeof arg){if(\"string\"==typeof encodingOrOffset)throw new Error(\"If encoding is specified then the first argument must be a string\");return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}function from(that,value,encodingOrOffset,length){if(\"number\"==typeof value)throw new TypeError('\"value\" argument must not be a number');return\"undefined\"!=typeof ArrayBuffer&&value instanceof ArrayBuffer?function(that,array,byteOffset,length){if(array.byteLength,byteOffset<0||array.byteLength<byteOffset)throw new RangeError(\"'offset' is out of bounds\");if(array.byteLength<byteOffset+(length||0))throw new RangeError(\"'length' is out of bounds\");array=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length);Buffer.TYPED_ARRAY_SUPPORT?(that=array).__proto__=Buffer.prototype:that=fromArrayLike(that,array);return that}(that,value,encodingOrOffset,length):\"string\"==typeof value?function(that,string,encoding){\"string\"==typeof encoding&&\"\"!==encoding||(encoding=\"utf8\");if(!Buffer.isEncoding(encoding))throw new TypeError('\"encoding\" must be a valid string encoding');var length=0|byteLength(string,encoding),actual=(that=createBuffer(that,length)).write(string,encoding);actual!==length&&(that=that.slice(0,actual));return that}(that,value,encodingOrOffset):function(that,obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length);return 0===(that=createBuffer(that,len)).length?that:(obj.copy(that,0,0,len),that)}if(obj){if(\"undefined\"!=typeof ArrayBuffer&&obj.buffer instanceof ArrayBuffer||\"length\"in obj)return\"number\"!=typeof obj.length||function(val){return val!=val}(obj.length)?createBuffer(that,0):fromArrayLike(that,obj);if(\"Buffer\"===obj.type&&isArray(obj.data))return fromArrayLike(that,obj.data)}throw new TypeError(\"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\")}(that,value)}function assertSize(size){if(\"number\"!=typeof size)throw new TypeError('\"size\" argument must be a number');if(size<0)throw new RangeError('\"size\" argument must not be negative')}function allocUnsafe(that,size){if(assertSize(size),that=createBuffer(that,size<0?0:0|checked(size)),!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;i<size;++i)that[i]=0;return that}function fromArrayLike(that,array){var length=array.length<0?0:0|checked(array.length);that=createBuffer(that,length);for(var i=0;i<length;i+=1)that[i]=255&array[i];return that}function checked(length){if(length>=kMaxLength())throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+kMaxLength().toString(16)+\" bytes\");return 0|length}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if(\"undefined\"!=typeof ArrayBuffer&&\"function\"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer))return string.byteLength;\"string\"!=typeof string&&(string=\"\"+string);var len=string.length;if(0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case\"ascii\":case\"latin1\":case\"binary\":return len;case\"utf8\":case\"utf-8\":case void 0:return utf8ToBytes(string).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*len;case\"hex\":return len>>>1;case\"base64\":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(\"\"+encoding).toLowerCase(),loweredCase=!0}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if(\"string\"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):byteOffset>2147483647?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),byteOffset=+byteOffset,isNaN(byteOffset)&&(byteOffset=dir?0:buffer.length-1),byteOffset<0&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(byteOffset<0){if(!dir)return-1;byteOffset=0}if(\"string\"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if(\"number\"==typeof val)return val&=255,Buffer.TYPED_ARRAY_SUPPORT&&\"function\"==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError(\"val must be string, number or Buffer\")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var i,indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&(\"ucs2\"===(encoding=String(encoding).toLowerCase())||\"ucs-2\"===encoding||\"utf16le\"===encoding||\"utf-16le\"===encoding)){if(arr.length<2||val.length<2)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,-1===foundIndex?0:i-foundIndex)){if(-1===foundIndex&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else-1!==foundIndex&&(i-=i-foundIndex),foundIndex=-1}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;i>=0;i--){for(var found=!0,j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length))>remaining&&(length=remaining):length=remaining;var strLen=string.length;if(strLen%2!=0)throw new TypeError(\"Invalid hex string\");length>strLen/2&&(length=strLen/2);for(var i=0;i<length;++i){var parsed=parseInt(string.substr(2*i,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(function(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(function(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);++i)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;i<end;){var secondByte,thirdByte,fourthByte,tempCodePoint,firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end)switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:128==(192&(secondByte=buf[i+1]))&&(tempCodePoint=(31&firstByte)<<6|63&secondByte)>127&&(codePoint=tempCodePoint);break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128==(192&secondByte)&&128==(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte)>2047&&(tempCodePoint<55296||tempCodePoint>57343)&&(codePoint=tempCodePoint);break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128==(192&secondByte)&&128==(192&thirdByte)&&128==(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte)>65535&&tempCodePoint<1114112&&(codePoint=tempCodePoint)}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return function(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,codePoints);var res=\"\",i=0;for(;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));return res}(res)}exports.Buffer=Buffer,exports.SlowBuffer=function(length){+length!=length&&(length=0);return Buffer.alloc(+length)},exports.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:function(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()&&\"function\"==typeof arr.subarray&&0===arr.subarray(1,1).byteLength}catch(e){return!1}}(),exports.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(arr){return arr.__proto__=Buffer.prototype,arr},Buffer.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,\"undefined\"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(size,fill,encoding){return function(that,size,fill,encoding){return assertSize(size),size<=0?createBuffer(that,size):void 0!==fill?\"string\"==typeof encoding?createBuffer(that,size).fill(fill,encoding):createBuffer(that,size).fill(fill):createBuffer(that,size)}(null,size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(null,size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(null,size)},Buffer.isBuffer=function(b){return!(null==b||!b._isBuffer)},Buffer.compare=function(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError(\"Arguments must be Buffers\");if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},Buffer.concat=function(list,length){if(!isArray(list))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);var i;if(void 0===length)for(length=0,i=0;i<list.length;++i)length+=list[i].length;var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf))throw new TypeError('\"list\" argument must be an Array of Buffers');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var len=this.length;if(len%2!=0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(var i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function(){var len=this.length;if(len%4!=0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(var i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function(){var len=this.length;if(len%8!=0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(var i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function(){var length=0|this.length;return 0===length?\"\":0===arguments.length?utf8Slice(this,0,length):function(encoding,start,end){var loweredCase=!1;if((void 0===start||start<0)&&(start=0),start>this.length)return\"\";if((void 0===end||end>this.length)&&(end=this.length),end<=0)return\"\";if((end>>>=0)<=(start>>>=0))return\"\";for(encoding||(encoding=\"utf8\");;)switch(encoding){case\"hex\":return hexSlice(this,start,end);case\"utf8\":case\"utf-8\":return utf8Slice(this,start,end);case\"ascii\":return asciiSlice(this,start,end);case\"latin1\":case\"binary\":return latin1Slice(this,start,end);case\"base64\":return base64Slice(this,start,end);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError(\"Unknown encoding: \"+encoding);encoding=(encoding+\"\").toLowerCase(),loweredCase=!0}}.apply(this,arguments)},Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError(\"Argument must be a Buffer\");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str=\"\",max=exports.INSPECT_MAX_BYTES;return this.length>0&&(str=this.toString(\"hex\",0,max).match(/.{2}/g).join(\" \"),this.length>max&&(str+=\" ... \")),\"<Buffer \"+str+\">\"},Buffer.prototype.compare=function(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target))throw new TypeError(\"Argument must be a Buffer\");if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),start<0||end>target.length||thisStart<0||thisEnd>this.length)throw new RangeError(\"out of range index\");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(start>>>=0,end>>>=0,thisStart>>>=0,thisEnd>>>=0,this===target)return 0;for(var x=thisEnd-thisStart,y=end-start,len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function(val,byteOffset,encoding){return-1!==this.indexOf(val,byteOffset,encoding)},Buffer.prototype.indexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding=\"utf8\",length=this.length,offset=0;else if(void 0===length&&\"string\"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");offset|=0,isFinite(length)?(length|=0,void 0===encoding&&(encoding=\"utf8\")):(encoding=length,length=void 0)}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(length<0||offset<0)||offset>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");encoding||(encoding=\"utf8\");for(var loweredCase=!1;;)switch(encoding){case\"hex\":return hexWrite(this,string,offset,length);case\"utf8\":case\"utf-8\":return utf8Write(this,string,offset,length);case\"ascii\":return asciiWrite(this,string,offset,length);case\"latin1\":case\"binary\":return latin1Write(this,string,offset,length);case\"base64\":return base64Write(this,string,offset,length);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError(\"Unknown encoding: \"+encoding);encoding=(\"\"+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function asciiSlice(buf,start,end){var ret=\"\";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){var ret=\"\";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||start<0)&&(start=0),(!end||end<0||end>len)&&(end=len);for(var out=\"\",i=start;i<end;++i)out+=toHex(buf[i]);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res=\"\",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!=0||offset<0)throw new RangeError(\"offset is not uint\");if(offset+ext>length)throw new RangeError(\"Trying to access beyond buffer length\")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('\"value\" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError(\"Index out of range\")}function objectWriteUInt16(buf,value,offset,littleEndian){value<0&&(value=65535+value+1);for(var i=0,j=Math.min(buf.length-offset,2);i<j;++i)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}function objectWriteUInt32(buf,value,offset,littleEndian){value<0&&(value=4294967295+value+1);for(var i=0,j=Math.min(buf.length-offset,4);i<j;++i)buf[offset+i]=value>>>8*(littleEndian?i:3-i)&255}function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError(\"Index out of range\");if(offset<0)throw new RangeError(\"Index out of range\")}function writeFloat(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,0,offset,4),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,0,offset,8),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}Buffer.prototype.slice=function(start,end){var newBuf,len=this.length;if(start=~~start,end=void 0===end?len:~~end,start<0?(start+=len)<0&&(start=0):start>len&&(start=len),end<0?(end+=len)<0&&(end=0):end>len&&(end=len),end<start&&(end=start),Buffer.TYPED_ARRAY_SUPPORT)(newBuf=this.subarray(start,end)).__proto__=Buffer.prototype;else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,void 0);for(var i=0;i<sliceLen;++i)newBuf[i]=this[i+start]}return newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),128&this[offset]?-1*(255-this[offset]+1):this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){(value=+value,offset|=0,byteLength|=0,noAssert)||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){(value=+value,offset|=0,byteLength|=0,noAssert)||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),value<0&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),value<0&&(value=4294967295+value+1),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&end<start&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(targetStart<0)throw new RangeError(\"targetStart out of bounds\");if(start<0||start>=this.length)throw new RangeError(\"sourceStart out of bounds\");if(end<0)throw new RangeError(\"sourceEnd out of bounds\");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var i,len=end-start;if(this===target&&start<targetStart&&targetStart<end)for(i=len-1;i>=0;--i)target[i+targetStart]=this[i+start];else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<len;++i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart);return len},Buffer.prototype.fill=function(val,start,end,encoding){if(\"string\"==typeof val){if(\"string\"==typeof start?(encoding=start,start=0,end=this.length):\"string\"==typeof end&&(encoding=end,end=this.length),1===val.length){var code=val.charCodeAt(0);code<256&&(val=code)}if(void 0!==encoding&&\"string\"!=typeof encoding)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError(\"Unknown encoding: \"+encoding)}else\"number\"==typeof val&&(val&=255);if(start<0||this.length<start||this.length<end)throw new RangeError(\"Out of range index\");if(end<=start)return this;var i;if(start>>>=0,end=void 0===end?this.length:end>>>0,val||(val=0),\"number\"==typeof val)for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:utf8ToBytes(new Buffer(val,encoding).toString()),len=bytes.length;for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+\\/0-9A-Za-z-_]/g;function toHex(n){return n<16?\"0\"+n.toString(16):n.toString(16)}function utf8ToBytes(string,units){var codePoint;units=units||1/0;for(var length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){if((codePoint=string.charCodeAt(i))>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=65536+(leadSurrogate-55296<<10|codePoint-56320)}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error(\"Invalid code point\");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function base64ToBytes(str){return base64.toByteArray(function(str){if((str=function(str){return str.trim?str.trim():str.replace(/^\\s+|\\s+$/g,\"\")}(str).replace(INVALID_BASE64_RE,\"\")).length<2)return\"\";for(;str.length%4!=0;)str+=\"=\";return str}(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}}).call(this,__nested_webpack_require_61136__(11))},function(module,exports){var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error(\"setTimeout has not been defined\")}function defaultClearTimeout(){throw new Error(\"clearTimeout has not been defined\")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}!function(){try{cachedSetTimeout=\"function\"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout=\"function\"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title=\"browser\",process.browser=!0,process.env={},process.argv=[],process.version=\"\",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error(\"process.binding is not supported\")},process.cwd=function(){return\"/\"},process.chdir=function(dir){throw new Error(\"process.chdir is not supported\")},process.umask=function(){return 0}},function(module,exports,__nested_webpack_require_93747__){function objectToString(o){return Object.prototype.toString.call(o)}exports.isArray=function(arg){return Array.isArray?Array.isArray(arg):\"[object Array]\"===objectToString(arg)},exports.isBoolean=function(arg){return\"boolean\"==typeof arg},exports.isNull=function(arg){return null===arg},exports.isNullOrUndefined=function(arg){return null==arg},exports.isNumber=function(arg){return\"number\"==typeof arg},exports.isString=function(arg){return\"string\"==typeof arg},exports.isSymbol=function(arg){return\"symbol\"==typeof arg},exports.isUndefined=function(arg){return void 0===arg},exports.isRegExp=function(re){return\"[object RegExp]\"===objectToString(re)},exports.isObject=function(arg){return\"object\"==typeof arg&&null!==arg},exports.isDate=function(d){return\"[object Date]\"===objectToString(d)},exports.isError=function(e){return\"[object Error]\"===objectToString(e)||e instanceof Error},exports.isFunction=function(arg){return\"function\"==typeof arg},exports.isPrimitive=function(arg){return null===arg||\"boolean\"==typeof arg||\"number\"==typeof arg||\"string\"==typeof arg||\"symbol\"==typeof arg||void 0===arg},exports.isBuffer=__nested_webpack_require_93747__(21).Buffer.isBuffer},function(module,exports,__nested_webpack_require_94955__){\"use strict\";var ES6Promise=null;ES6Promise=\"undefined\"!=typeof Promise?Promise:__nested_webpack_require_94955__(101),module.exports={Promise:ES6Promise}},function(module,exports,__nested_webpack_require_95142__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},__spreadArrays=this&&this.__spreadArrays||function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r};Object.defineProperty(exports,\"__esModule\",{value:!0});var DateModule_1=__nested_webpack_require_95142__(6),InboxMessages=function(){function InboxMessages(data,api,inboxModel,dateModule){void 0===dateModule&&(dateModule=new DateModule_1.default),this.data=data,this.api=api,this.inboxModel=inboxModel,this.dateModule=dateModule,this.publicMessageBuilder=this.publicMessageBuilder.bind(this)}return InboxMessages.prototype.messageTypeFactory=function(actionParams){var messageType=0;return\"h\"in actionParams||\"rm\"in actionParams||\"r\"in actionParams?messageType=1:\"l\"in actionParams&&null!=actionParams.l&&(messageType=actionParams.l.startsWith(\"http\")?2:3),messageType},InboxMessages.prototype.updateMessagesStatusWithCodes=function(codes,messages,status){return __awaiter(this,void 0,void 0,function(){var updatedMessages,inboxStatusQueries,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return updatedMessages=[],inboxStatusQueries=[],messages.forEach(function(msg){return __awaiter(_this,void 0,void 0,function(){return __generator(this,function(_a){return-1===codes.indexOf(msg.inbox_id)?[2]:(msg.status=status,updatedMessages.push(msg),inboxStatusQueries.push(this.api.inboxStatus(msg.order,msg.status)),[2])})})}),[4,this.inboxModel.putBulkMessages(updatedMessages)];case 1:return _a.sent(),[4,Promise.all(inboxStatusQueries)];case 2:return _a.sent(),[2]}})})},InboxMessages.prototype.publicMessageBuilder=function(message){return __awaiter(this,void 0,void 0,function(){var imageUrl,_a,title,_b;return __generator(this,function(_c){switch(_c.label){case 0:return(_a=message.image)?[3,2]:[4,this.data.getDefaultNotificationImage()];case 1:_a=_c.sent(),_c.label=2;case 2:return imageUrl=_a,(_b=message.title)?[3,4]:[4,this.data.getDefaultNotificationTitle()];case 3:_b=_c.sent(),_c.label=4;case 4:return title=_b,this.dateModule.date=new Date(1e3*parseInt(message.send_date)),this.dateModule.setLocal(),[2,{title:title,imageUrl:imageUrl,code:message.inbox_id,message:message.text,sendDate:this.dateModule.date.toISOString(),type:this.messageTypeFactory(JSON.parse(message.action_params)),isRead:2===message.status||3===message.status,isActionPerformed:3===message.status}]}})})},InboxMessages.prototype.messagesWithNoActionPerformedCount=function(){return this.inboxModel.getDeliveredReadMessagesCount()},InboxMessages.prototype.unreadMessagesCount=function(){return this.inboxModel.getDeliveredMessagesCount()},InboxMessages.prototype.messagesCount=function(){return this.inboxModel.messagesCount()},InboxMessages.prototype.loadMessages=function(){return __awaiter(this,void 0,void 0,function(){var readMessages,unreadMessages,buildMessagePromises;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.inboxModel.getReadOpenMessages()];case 1:return readMessages=_a.sent(),[4,this.inboxModel.getDeliveredMessages()];case 2:return unreadMessages=_a.sent(),buildMessagePromises=__spreadArrays(readMessages,unreadMessages).sort(function(msgA,msgB){return parseInt(msgB.send_date,10)-parseInt(msgA.send_date,10)}).sort(function(msgA,msgB){return parseInt(msgB.order||\"0\",10)-parseInt(msgA.order||\"0\",10)}).map(this.publicMessageBuilder),[2,Promise.all(buildMessagePromises)]}})})},InboxMessages.prototype.readMessagesWithCodes=function(codes){return __awaiter(this,void 0,void 0,function(){var unreadMessages,statusRead;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.inboxModel.getDeliveredMessages()];case 1:return unreadMessages=_a.sent(),statusRead=2,[4,this.updateMessagesStatusWithCodes(codes,unreadMessages,statusRead)];case 2:return _a.sent(),[2]}})})},InboxMessages.prototype.performActionForMessageWithCode=function(code){return __awaiter(this,void 0,void 0,function(){var message,actionParams,messageType;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.inboxModel.getMessage(code)];case 1:return message=_a.sent(),actionParams=JSON.parse(message.action_params),2===(messageType=this.messageTypeFactory(actionParams))&&null!=actionParams.l?document.location.href=actionParams.l:3===messageType&&null!=actionParams.l&&window.history.go(actionParams.l),message.status=3,[4,this.inboxModel.putMessage(message)];case 2:return _a.sent(),[4,this.api.inboxStatus(message.order,message.status)];case 3:return _a.sent(),[2]}})})},InboxMessages.prototype.deleteMessagesWithCodes=function(codes){return __awaiter(this,void 0,void 0,function(){var readMessages,unreadMessages,statusDeleted;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.inboxModel.getReadOpenMessages()];case 1:return readMessages=_a.sent(),[4,this.inboxModel.getDeliveredMessages()];case 2:return unreadMessages=_a.sent(),statusDeleted=4,[4,this.updateMessagesStatusWithCodes(codes,__spreadArrays(readMessages,unreadMessages),statusDeleted)];case 3:return _a.sent(),[2]}})})},InboxMessages.prototype.syncMessages=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.inboxModel.updateMessages()];case 1:return _a.sent(),[2]}})})},InboxMessages}();exports.default=InboxMessages},function(module,exports,__nested_webpack_require_102261__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.ApiClient=void 0;var Data_1=__nested_webpack_require_102261__(4),logger_1=__nested_webpack_require_102261__(3),ApiClient=function(){function ApiClient(data,logger){void 0===data&&(data=new Data_1.Data),void 0===logger&&(logger=logger_1.Logger),this.data=data,this.logger=logger}return ApiClient.prototype.checkDevice=function(options){return this.createRequest(\"checkDevice\",options)},ApiClient.prototype.getConfig=function(options){return this.createRequest(\"getConfig\",options)},ApiClient.prototype.applicationOpen=function(options){return this.createRequest(\"applicationOpen\",options)},ApiClient.prototype.registerDevice=function(options){return this.createRequest(\"registerDevice\",options)},ApiClient.prototype.unregisterDevice=function(options){return this.createRequest(\"unregisterDevice\",options)},ApiClient.prototype.deleteDevice=function(options){return this.createRequest(\"deleteDevice\",options)},ApiClient.prototype.messageDeliveryEvent=function(options){return this.createRequest(\"messageDeliveryEvent\",options)},ApiClient.prototype.pushStat=function(options){return this.createRequest(\"pushStat\",options)},ApiClient.prototype.setTags=function(options){return this.createRequest(\"setTags\",options)},ApiClient.prototype.getTags=function(options){return this.createRequest(\"getTags\",options)},ApiClient.prototype.registerUser=function(options){return this.createRequest(\"registerUser\",options)},ApiClient.prototype.postEvent=function(options){return this.createRequest(\"postEvent\",options)},ApiClient.prototype.getInboxMessages=function(options){return this.createRequest(\"getInboxMessages\",options)},ApiClient.prototype.inboxStatus=function(options){return this.createRequest(\"inboxStatus\",options)},ApiClient.prototype.pageVisit=function(options,url){return this.createRequest(\"pageVisit\",options,url)},ApiClient.prototype.getInApps=function(options){return this.createRequest(\"getInApps\",options)},ApiClient.prototype.setPurchase=function(options){return this.createRequest(\"setPurchase\",options)},ApiClient.prototype.createRequest=function(methodName,request,customUrl){return __awaiter(this,void 0,void 0,function(){var entrypoint,response,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getApiEntrypoint()];case 1:return entrypoint=_a.sent(),[4,fetch(customUrl||entrypoint+methodName,{method:\"POST\",headers:{\"Content-Type\":\"text/plain;charset=UTF-8\"},body:JSON.stringify({request:request})})];case 2:return response=_a.sent(),[4,this.checkResponse(response)];case 3:return(result=_a.sent()).base_url?[4,this.data.setApiEntrypoint(result.base_url)]:[3,5];case 4:_a.sent(),_a.label=5;case 5:return[4,this.logger.write(\"apirequest\",methodName+\" call with arguments: \"+JSON.stringify(request)+\" to Pushwoosh has been successful. Result: \"+JSON.stringify(result.response))];case 6:return _a.sent(),[2,result.response]}})})},ApiClient.prototype.checkResponse=function(response){return __awaiter(this,void 0,void 0,function(){var data;return __generator(this,function(_a){switch(_a.label){case 0:if(200!==response.status)throw new Error(\"Error code: \"+response.status+\". Error text: \"+response.statusText);return[4,response.json()];case 1:if(200!==(data=_a.sent()).status_code)throw new Error(\"Error code: \"+data.status_code+\". Error text: \"+data.status_message);return[2,data]}})})},ApiClient}();exports.ApiClient=ApiClient},function(module,exports,__nested_webpack_require_107420__){\"use strict\";(function(process){void 0===process||!process.version||0===process.version.indexOf(\"v0.\")||0===process.version.indexOf(\"v1.\")&&0!==process.version.indexOf(\"v1.8.\")?module.exports={nextTick:function(fn,arg1,arg2,arg3){if(\"function\"!=typeof fn)throw new TypeError('\"callback\" argument must be a function');var args,i,len=arguments.length;switch(len){case 0:case 1:return process.nextTick(fn);case 2:return process.nextTick(function(){fn.call(null,arg1)});case 3:return process.nextTick(function(){fn.call(null,arg1,arg2)});case 4:return process.nextTick(function(){fn.call(null,arg1,arg2,arg3)});default:for(args=new Array(len-1),i=0;i<args.length;)args[i++]=arguments[i];return process.nextTick(function(){fn.apply(null,args)})}}}:module.exports=process}).call(this,__nested_webpack_require_107420__(22))},function(module,exports,__nested_webpack_require_108269__){var buffer=__nested_webpack_require_108269__(21),Buffer=buffer.Buffer;function copyProps(src,dst){for(var key in src)dst[key]=src[key]}function SafeBuffer(arg,encodingOrOffset,length){return Buffer(arg,encodingOrOffset,length)}Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow?module.exports=buffer:(copyProps(buffer,exports),exports.Buffer=SafeBuffer),copyProps(Buffer,SafeBuffer),SafeBuffer.from=function(arg,encodingOrOffset,length){if(\"number\"==typeof arg)throw new TypeError(\"Argument must not be a number\");return Buffer(arg,encodingOrOffset,length)},SafeBuffer.alloc=function(size,fill,encoding){if(\"number\"!=typeof size)throw new TypeError(\"Argument must be a number\");var buf=Buffer(size);return void 0!==fill?\"string\"==typeof encoding?buf.fill(fill,encoding):buf.fill(fill):buf.fill(0),buf},SafeBuffer.allocUnsafe=function(size){if(\"number\"!=typeof size)throw new TypeError(\"Argument must be a number\");return Buffer(size)},SafeBuffer.allocUnsafeSlow=function(size){if(\"number\"!=typeof size)throw new TypeError(\"Argument must be a number\");return buffer.SlowBuffer(size)}},function(module,exports,__nested_webpack_require_109403__){\"use strict\";(function(Buffer){module.exports={isNode:void 0!==Buffer,newBufferFrom:function(data,encoding){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(data,encoding);if(\"number\"==typeof data)throw new Error('The \"data\" argument must not be a number');return new Buffer(data,encoding)},allocBuffer:function(size){if(Buffer.alloc)return Buffer.alloc(size);var buf=new Buffer(size);return buf.fill(0),buf},isBuffer:function(b){return Buffer.isBuffer(b)},isStream:function(obj){return obj&&\"function\"==typeof obj.on&&\"function\"==typeof obj.pause&&\"function\"==typeof obj.resume}}}).call(this,__nested_webpack_require_109403__(21).Buffer)},function(module,exports,__nested_webpack_require_110090__){var _nodeId,_clockseq,rng=__nested_webpack_require_110090__(16),bytesToUuid=__nested_webpack_require_110090__(17),_lastMSecs=0,_lastNSecs=0;module.exports=function(options,buf,offset){var i=buf&&offset||0,b=buf||[],node=(options=options||{}).node||_nodeId,clockseq=void 0!==options.clockseq?options.clockseq:_clockseq;if(null==node||null==clockseq){var seedBytes=rng();null==node&&(node=_nodeId=[1|seedBytes[0],seedBytes[1],seedBytes[2],seedBytes[3],seedBytes[4],seedBytes[5]]),null==clockseq&&(clockseq=_clockseq=16383&(seedBytes[6]<<8|seedBytes[7]))}var msecs=void 0!==options.msecs?options.msecs:(new Date).getTime(),nsecs=void 0!==options.nsecs?options.nsecs:_lastNSecs+1,dt=msecs-_lastMSecs+(nsecs-_lastNSecs)/1e4;if(dt<0&&void 0===options.clockseq&&(clockseq=clockseq+1&16383),(dt<0||msecs>_lastMSecs)&&void 0===options.nsecs&&(nsecs=0),nsecs>=1e4)throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");_lastMSecs=msecs,_lastNSecs=nsecs,_clockseq=clockseq;var tl=(1e4*(268435455&(msecs+=122192928e5))+nsecs)%4294967296;b[i++]=tl>>>24&255,b[i++]=tl>>>16&255,b[i++]=tl>>>8&255,b[i++]=255&tl;var tmh=msecs/4294967296*1e4&268435455;b[i++]=tmh>>>8&255,b[i++]=255&tmh,b[i++]=tmh>>>24&15|16,b[i++]=tmh>>>16&255,b[i++]=clockseq>>>8|128,b[i++]=255&clockseq;for(var n=0;n<6;++n)b[i+n]=node[n];return buf||bytesToUuid(b)}},function(module,exports,__nested_webpack_require_111437__){var rng=__nested_webpack_require_111437__(16),bytesToUuid=__nested_webpack_require_111437__(17);module.exports=function(options,buf,offset){var i=buf&&offset||0;\"string\"==typeof options&&(buf=\"binary\"===options?new Array(16):null,options=null);var rnds=(options=options||{}).random||(options.rng||rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf)for(var ii=0;ii<16;++ii)buf[i+ii]=rnds[ii];return buf||bytesToUuid(rnds)}},function(module,exports,__nested_webpack_require_111885__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var EventBus_1=__nested_webpack_require_111885__(33);Object.defineProperty(exports,\"EventBus\",{enumerable:!0,get:function(){return EventBus_1.EventBus}})},function(module,exports,__nested_webpack_require_112139__){\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.EventBus=void 0;var uuid_1=__nested_webpack_require_112139__(13),EventBus=function(){return function(){var _this=this;this.addEventHandler=function(name,handler){var savedEventHandlers=_this.savedEventHandlersMap[name];savedEventHandlers||(savedEventHandlers=[]),savedEventHandlers.push(handler),_this.savedEventHandlersMap[name]=savedEventHandlers},this.removeEventHandler=function(name,handler){var savedEventHandlers=_this.savedEventHandlersMap[name];savedEventHandlers&&(_this.savedEventHandlersMap[name]=savedEventHandlers.filter(function(savedEventHandler){return savedEventHandler!==handler}))},this.dispatchEvent=function(name,payload){var eventId=payload.eventId||uuid_1.v4(),savedEventHandlers=_this.savedEventHandlersMap[name];return savedEventHandlers?(savedEventHandlers.forEach(function(element){\"function\"==typeof element&&setTimeout(function(){element(__assign(__assign({},payload),{eventId:eventId}))},0)}),eventId):eventId},this.savedEventHandlersMap={}}}();exports.EventBus=EventBus},function(module,exports,__nested_webpack_require_113495__){\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Api=void 0;var Data_1=__nested_webpack_require_113495__(4),ApiClient_1=__nested_webpack_require_113495__(26),CONSTANTS=__nested_webpack_require_113495__(1),Api=function(){function Api(eventBus,data,apiClient){void 0===data&&(data=new Data_1.Data),void 0===apiClient&&(apiClient=new ApiClient_1.ApiClient),this.eventBus=eventBus,this.data=data,this.apiClient=apiClient}return Api.prototype.checkDevice=function(){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[4,this.apiClient.checkDevice(params)];case 2:return[2,_a.sent()]}})})},Api.prototype.checkDeviceSubscribeForPushNotifications=function(useCache){return void 0===useCache&&(useCache=!0),__awaiter(this,void 0,void 0,function(){var status,_a,exist,push_token_exist;return __generator(this,function(_b){switch(_b.label){case 0:return void 0!==(status=localStorage.getItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS))&&useCache?[3,2]:[4,this.checkDevice()];case 1:_a=_b.sent(),exist=_a.exist,push_token_exist=_a.push_token_exist,localStorage.setItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS,exist&&push_token_exist?CONSTANTS.DEVICE_REGISTRATION_STATUS_REGISTERED:CONSTANTS.DEVICE_REGISTRATION_STATUS_UNREGISTERED),status=localStorage.getItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS),_b.label=2;case 2:return[2,status===CONSTANTS.DEVICE_REGISTRATION_STATUS_REGISTERED]}})})},Api.prototype.getConfig=function(features){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[2,this.apiClient.getConfig(__assign(__assign({},params),{features:features}))]}})})},Api.prototype.applicationOpen=function(){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[4,this.data.setLastOpenApplicationTime(Date.now())];case 2:return _a.sent(),[2,this.apiClient.applicationOpen(params)]}})})},Api.prototype.registerDevice=function(){return __awaiter(this,void 0,void 0,function(){var params,tokens,response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getStatusCommunicationDisabled()];case 1:if(_a.sent())throw new Error(\"Can't register device: Communication is disabled!\");return[4,this.getRequestParams()];case 2:return params=_a.sent(),[4,this.data.getTokens()];case 3:if(!(tokens=_a.sent()).pushToken)throw new Error(\"Can't register device: pushToken is not exist!\");return[4,this.apiClient.registerDevice(__assign(__assign({},params),{push_token:tokens.pushToken,auth_token:tokens.authToken,public_key:tokens.publicKey,fcm_push_set:tokens.fcmPushSet,fcm_token:tokens.fcmToken}))];case 4:return response=_a.sent(),[4,this.data.setStatusManualUnsubscribed(!1)];case 5:return _a.sent(),localStorage.setItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS,CONSTANTS.DEVICE_REGISTRATION_STATUS_REGISTERED),this.eventBus.dispatchEvent(\"register\",{}),[2,response]}})})},Api.prototype.unregisterDevice=function(){return __awaiter(this,void 0,void 0,function(){var params,response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),response=this.apiClient.unregisterDevice(params),localStorage.setItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS,CONSTANTS.DEVICE_REGISTRATION_STATUS_UNREGISTERED),this.eventBus.dispatchEvent(\"unsubscribe\",{}),[2,response]}})})},Api.prototype.deleteDevice=function(){return __awaiter(this,void 0,void 0,function(){var params,response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),response=this.apiClient.deleteDevice(params),[4,this.data.setStatusManualUnsubscribed(!0)];case 2:return _a.sent(),localStorage.setItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS,CONSTANTS.DEVICE_REGISTRATION_STATUS_UNREGISTERED),this.eventBus.dispatchEvent(\"unsubscribe\",{}),[2,response]}})})},Api.prototype.messageDeliveryEvent=function(hash,isTrackingLogOnFailure,metaData){return void 0===metaData&&(metaData={}),__awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return Math.round(+new Date),[4,this.getRequestParams()];case 1:return params=_a.sent(),[4,this.apiClient.messageDeliveryEvent(__assign(__assign({},params),{hash:hash,metaData:metaData}))];case 2:return[2,_a.sent()]}})})},Api.prototype.pushStat=function(hash,isTrackingLogOnFailure,metaData){return void 0===metaData&&(metaData={}),__awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return Math.round(+new Date),[4,this.getRequestParams()];case 1:return params=_a.sent(),[4,this.apiClient.pushStat(__assign(__assign({},params),{hash:hash,metaData:metaData}))];case 2:return[2,_a.sent()]}})})},Api.prototype.setTags=function(tags){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[2,this.apiClient.setTags(__assign(__assign({},params),{tags:tags}))]}})})},Api.prototype.getTags=function(){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[2,this.apiClient.getTags(params)]}})})},Api.prototype.registerUser=function(userId){return __awaiter(this,void 0,void 0,function(){var params,deviceType,id,response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[4,this.data.getDeviceType()];case 2:return deviceType=_a.sent(),id=\"\"+userId,[4,this.apiClient.registerUser(__assign(__assign({},params),{userId:id,ts_offset:60*-(new Date).getTimezoneOffset(),device_type:deviceType}))];case 3:return response=_a.sent(),[4,this.data.setUserId(\"\"+userId)];case 4:return _a.sent(),[4,this.data.setStatusUserIdWasChanged(!0)];case 5:return _a.sent(),[2,response]}})})},Api.prototype.postEvent=function(event,attributes){return __awaiter(this,void 0,void 0,function(){var params,date,time,timestampUTC,timestampCurrent,lastOpenMessage,response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),date=new Date,time=date.getTime(),timestampUTC=Math.floor(time/1e3),timestampCurrent=timestampUTC-date.getTimezoneOffset()/60*3600,[4,this.data.getLastOpenMessage()];case 2:if((lastOpenMessage=_a.sent())&&lastOpenMessage.expiry>Date.now()){if(attributes.msgHash)return[2,Promise.reject(\"attribute msgHash already defined\")];attributes=__assign(__assign({},attributes),{msgHash:lastOpenMessage.messageHash})}return[4,this.data.setLastOpenMessage(void 0)];case 3:return _a.sent(),[4,this.apiClient.postEvent(__assign(__assign({},params),{event:event,timestampUTC:timestampUTC,timestampCurrent:timestampCurrent,attributes:attributes}))];case 4:return(response=_a.sent())&&response.code&&this.eventBus.dispatchEvent(\"receive-in-app-code\",{code:response.code}),[2,response]}})})},Api.prototype.getInboxMessages=function(count){return void 0===count&&(count=0),__awaiter(this,void 0,void 0,function(){var params,lastCode,lastRequestTime;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[4,this.data.getInboxLastRequestCode()];case 2:return lastCode=_a.sent(),[4,this.data.getInboxLastRequestTime()];case 3:return lastRequestTime=_a.sent(),[2,this.apiClient.getInboxMessages(__assign(__assign({},params),{count:count,last_code:lastCode,last_request_time:lastRequestTime}))]}})})},Api.prototype.inboxStatus=function(order,status){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[2,this.apiClient.inboxStatus(__assign(__assign({},params),{inbox_code:order,status:status,time:(new Date).getTime()}))]}})})},Api.prototype.triggerEvent=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){throw new Error(\"Method has been deprecated, because we don't aggregate this statistics.\")})})},Api.prototype.pageVisit=function(config){return __awaiter(this,void 0,void 0,function(){var params,features,url;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[4,this.data.getFeatures()];case 2:return features=_a.sent(),(url=features&&features.page_visit&&features.page_visit.entrypoint)?[2,this.apiClient.pageVisit(__assign(__assign({},params),config),url)]:[2]}})})},Api.prototype.getInApps=function(){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[2,this.apiClient.getInApps(params)]}})})},Api.prototype.setPurchase=function(attributes){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[2,this.apiClient.setPurchase(__assign(__assign({},params),attributes))]}})})},Api.prototype.getParams=function(){return __awaiter(this,void 0,void 0,function(){var applicationCode,hwid,apiParams,initParams;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getApplicationCode()];case 1:return applicationCode=_a.sent(),[4,this.data.getHwid()];case 2:return hwid=_a.sent(),[4,this.data.getTokens()];case 3:return apiParams=_a.sent(),[4,this.data.getInitParams()];case 4:return initParams=_a.sent(),[2,__assign(__assign({applicationCode:applicationCode,hwid:hwid},apiParams),initParams)]}})})},Object.defineProperty(Api.prototype,\"params\",{get:function(){throw new Error('Property \"Pushwoosh.api.params\" have been deprecated. Use the async method \"Pushwoosh.api.getParams()\"')},enumerable:!1,configurable:!0}),Api.prototype.getRequestParams=function(){return __awaiter(this,void 0,void 0,function(){var applicationCode,hwid,userId,deviceType,deviceModel,language,version,timezone;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getApplicationCode()];case 1:return applicationCode=_a.sent(),[4,this.data.getHwid()];case 2:return hwid=_a.sent(),[4,this.data.getUserId()];case 3:return userId=_a.sent(),[4,this.data.getDeviceType()];case 4:return deviceType=_a.sent(),[4,this.data.getDeviceModel()];case 5:return deviceModel=_a.sent(),[4,this.data.getLanguage()];case 6:return language=_a.sent(),[4,this.data.getSdkVersion()];case 7:return version=_a.sent(),timezone=60*-(new Date).getTimezoneOffset(),[2,{application:applicationCode,hwid:hwid,userId:userId||hwid,device_type:deviceType,device_model:deviceModel,timezone:timezone,language:language,v:version}]}})})},Api}();exports.Api=Api},function(module,exports,__nested_webpack_require_126637__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var initial_1=__nested_webpack_require_126637__(36),_26_11_2018_1=__nested_webpack_require_126637__(37),DateModule_1=__nested_webpack_require_126637__(6),Migrations=function(){function Migrations(dateModule){void 0===dateModule&&(dateModule=new DateModule_1.default),this.migrations={initial:initial_1.default,\"2018/11/26\":_26_11_2018_1.default},this.dateModule=dateModule}return Object.defineProperty(Migrations.prototype,\"initial\",{get:function(){return this.migrations.initial},enumerable:!1,configurable:!0}),Object.defineProperty(Migrations.prototype,\"dateSorted\",{get:function(){var _this=this;return Object.keys(this.migrations).filter(function(key){return\"initial\"!==key}).sort(function(a,b){var dateA=new DateModule_1.default(new Date(a)),dateB=new DateModule_1.default(new Date(b));return dateA.getTimestamp()-dateB.getTimestamp()}).map(function(key){return _this.migrations[key]})},enumerable:!1,configurable:!0}),Migrations}();exports.default=Migrations},function(module,exports,__nested_webpack_require_127675__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var helpers_1=__nested_webpack_require_127675__(20),constants_1=__nested_webpack_require_127675__(9);exports.default=[helpers_1.storeCreatorDecorator(constants_1.STORE_NAME_KEY_VALUE,function(database){database.createObjectStore(constants_1.STORE_NAME_KEY_VALUE,{keyPath:\"key\"})}),helpers_1.storeCreatorDecorator(constants_1.STORE_NAME_MAIN_LOG,function(database){var logStore=database.createObjectStore(constants_1.STORE_NAME_MAIN_LOG,{keyPath:constants_1.KEY_PATH_BASE_INCREMENT,autoIncrement:!0});logStore.createIndex(\"environment\",\"environment\",{unique:!1}),logStore.createIndex(\"date\",\"date\",{unique:!1}),logStore.createIndex(\"type\",\"type\",{unique:!1})}),helpers_1.storeCreatorDecorator(constants_1.STORE_NAME_MESSAGE_LOG,function(database){database.createObjectStore(constants_1.STORE_NAME_MESSAGE_LOG,{keyPath:constants_1.KEY_PATH_BASE_INCREMENT,autoIncrement:!0}).createIndex(\"date\",\"date\",{unique:!1})})]},function(module,exports,__nested_webpack_require_128675__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var helpers_1=__nested_webpack_require_128675__(20),constants_1=__nested_webpack_require_128675__(9);exports.default=[helpers_1.storeCreatorDecorator(constants_1.STORE_NAME_INBOX_MESSAGES,function(database){var store=database.createObjectStore(constants_1.STORE_NAME_INBOX_MESSAGES,{keyPath:\"inbox_id\",autoIncrement:!1});store.createIndex(\"status\",\"status\",{unique:!1,multiEntry:!0}),store.createIndex(\"rt\",\"rt\",{unique:!1,multiEntry:!0})})]},function(module,exports,__nested_webpack_require_129203__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.PushServiceDefault=void 0;var uuid_1=__nested_webpack_require_129203__(13),logger_1=__nested_webpack_require_129203__(3),CONSTANTS=__nested_webpack_require_129203__(1),PushServiceDefault=function(){function PushServiceDefault(api,data,config){this.api=api,this.data=data,this.config=config}return PushServiceDefault.prototype.getPermission=function(){return Notification.permission},PushServiceDefault.prototype.checkIsPermissionGranted=function(){return this.getPermission()===CONSTANTS.PERMISSION_GRANTED},PushServiceDefault.prototype.checkIsPermissionDefault=function(){return this.getPermission()===CONSTANTS.PERMISSION_PROMPT},PushServiceDefault.prototype.checkIsManualUnsubscribed=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.data.getStatusManualUnsubscribed()]})})},PushServiceDefault.prototype.askPermission=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,Notification.requestPermission()];case 1:return _a.sent(),[2]}})})},PushServiceDefault.prototype.getTokens=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.data.getTokens()]})})},PushServiceDefault.prototype.subscribe=function(subscription){return __awaiter(this,void 0,void 0,function(){var currentSubscription,senderId_1,applicationServerKey,senderId,pushToken,_p256dn,_auth,p256dh,auth,_a,token,pushSet;return __generator(this,function(_b){switch(_b.label){case 0:return currentSubscription=subscription,this.checkIsPermissionGranted()?currentSubscription?[3,6]:[4,this.trySubscribe()]:(logger_1.Logger.error(\"You must have permission granted before subscribe!\"),[2]);case 1:return currentSubscription=_b.sent(),[4,this.getSenderIdFromManifest()];case 2:return senderId_1=_b.sent(),[4,this.checkIsChangeSenderId(senderId_1)];case 3:return _b.sent()?[4,this.unsubscribe()]:[3,6];case 4:return _b.sent(),[4,this.data.setSenderId(senderId_1)];case 5:_b.sent(),_b.label=6;case 6:return[4,this.getApplicationServerKey()];case 7:return applicationServerKey=_b.sent(),[4,this.data.getSenderId()];case 8:return senderId=_b.sent(),[4,this.getPushToken(currentSubscription)];case 9:if(pushToken=_b.sent(),_p256dn=currentSubscription.getKey(\"p256dh\"),_auth=currentSubscription.getKey(\"auth\"),!_p256dn||!_auth)throw new Error(\"Can't get subscription keys!\");return p256dh=btoa(String.fromCharCode.apply(String,new Uint8Array(_p256dn))),auth=btoa(String.fromCharCode.apply(String,new Uint8Array(_auth))),[4,this.getFcmKeys({endpoint:currentSubscription.endpoint,application_pub_key:applicationServerKey,encryption_key:p256dh,encryption_auth:auth,authorized_entity:senderId})];case 10:return _a=_b.sent(),token=_a.token,pushSet=_a.pushSet,[4,this.data.setTokens({publicKey:p256dh,pushToken:pushToken,authToken:auth,fcmPushSet:pushSet,fcmToken:token,endpoint:currentSubscription.endpoint})];case 11:return _b.sent(),[4,this.api.registerDevice()];case 12:return _b.sent(),[2]}})})},PushServiceDefault.prototype.unsubscribe=function(){return __awaiter(this,void 0,void 0,function(){var subscription;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getServiceWorkerRegistration()];case 1:return[4,_a.sent().pushManager.getSubscription()];case 2:return subscription=_a.sent(),[4,this.data.setTokens({})];case 3:return _a.sent(),[4,this.data.setStatusManualUnsubscribed(!0)];case 4:return _a.sent(),[4,this.api.unregisterDevice()];case 5:return _a.sent(),subscription?[4,subscription.unsubscribe()]:[2];case 6:return _a.sent(),[2]}})})},PushServiceDefault.prototype.checkIsRegister=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.api.checkDeviceSubscribeForPushNotifications()]})})},PushServiceDefault.prototype.checkIsNeedResubscribe=function(){return __awaiter(this,void 0,void 0,function(){var savedSenderId,isExistSavedSenderId,manifestSenderId,isChangeSenderID,lastPermission,permission,credentials,pushTokenFromSubscription,subscriptionTokensFromStore,pushTokenFromStore;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getSenderId()];case 1:return savedSenderId=_a.sent(),isExistSavedSenderId=void 0!==savedSenderId,[4,this.getSenderIdFromManifest()];case 2:return manifestSenderId=_a.sent(),isChangeSenderID=isExistSavedSenderId&&manifestSenderId!==savedSenderId,[4,this.data.setSenderId(manifestSenderId)];case 3:return _a.sent(),[4,this.data.getLastPermissionStatus()];case 4:return lastPermission=_a.sent(),permission=this.getPermission(),isExistSavedSenderId&&lastPermission!==permission?[4,this.data.setLastPermissionStatus(permission)]:[3,6];case 5:return _a.sent(),[2,!0];case 6:return[4,this.getCredentials()];case 7:return credentials=_a.sent(),[4,this.getPushToken(credentials)];case 8:return pushTokenFromSubscription=_a.sent(),[4,this.data.getTokens()];case 9:return subscriptionTokensFromStore=_a.sent(),pushTokenFromStore=subscriptionTokensFromStore&&subscriptionTokensFromStore.pushToken||\"\",[2,isChangeSenderID||!(pushTokenFromSubscription===pushTokenFromStore)]}})})},PushServiceDefault.prototype.getServiceWorkerRegistration=function(){return __awaiter(this,void 0,void 0,function(){var url,_a;return __generator(this,function(_b){switch(_b.label){case 0:return this.registration?[3,5]:[4,this.registerServiceWorker()];case 1:return _b.sent(),[4,this.data.getServiceWorkerUrl()];case 2:return url=_b.sent(),_a=this,[4,navigator.serviceWorker.getRegistration(url)];case 3:return _a.registration=_b.sent(),[4,this.registration.update()];case 4:_b.sent(),_b.label=5;case 5:if(!this.registration)throw new Error(\"Internal Error: Can't register service worker!\");return[2,this.registration]}})})},PushServiceDefault.prototype.registerServiceWorker=function(){return __awaiter(this,void 0,void 0,function(){var url,scope,sdkVersion,serviceWorkerVersion,cleanCache;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getServiceWorkerUrl()];case 1:return url=_a.sent(),[4,this.data.getServiceWorkerScope()];case 2:return scope=_a.sent(),[4,this.data.getSdkVersion()];case 3:return sdkVersion=_a.sent(),[4,this.data.getServiceWorkerVersion()];case 4:return serviceWorkerVersion=_a.sent(),cleanCache=\"\",sdkVersion!==serviceWorkerVersion&&(cleanCache=\"?cache_clean=\"+uuid_1.v4()),[4,navigator.serviceWorker.register(\"\"+url+cleanCache,{scope:scope})];case 5:return _a.sent(),[2]}})})},PushServiceDefault.prototype.trySubscribe=function(){return __awaiter(this,void 0,void 0,function(){var error_1;return __generator(this,function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,4]),[4,this.subscribePushManager()];case 1:return[2,_a.sent()];case 2:return error_1=_a.sent(),console.error(error_1),[4,this.unsubscribe()];case 3:return _a.sent(),[2,this.subscribePushManager()];case 4:return[2]}})})},PushServiceDefault.prototype.subscribePushManager=function(){return __awaiter(this,void 0,void 0,function(){var registration,applicationServerKey;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getServiceWorkerRegistration()];case 1:return registration=_a.sent(),[4,this.getApplicationServerKey()];case 2:return applicationServerKey=_a.sent(),[2,registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:applicationServerKey?this.urlBase64ToUint8Array(applicationServerKey):null})]}})})},PushServiceDefault.prototype.getCredentials=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getServiceWorkerRegistration()];case 1:return[4,_a.sent().pushManager.getSubscription()];case 2:return[2,_a.sent()]}})})},PushServiceDefault.prototype.getFcmKeys=function(config){return __awaiter(this,void 0,void 0,function(){var response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,fetch(this.config.entrypoint||\"https://fcm.googleapis.com/fcm/connect/subscribe\",{method:\"POST\",headers:{\"Content-Type\":\"text/plain;charset=UTF-8\"},body:JSON.stringify(config)})];case 1:return 200!==(response=_a.sent()).status?[3,3]:[4,response.json()];case 2:return[2,_a.sent()];case 3:throw new Error(\"Internal error: Can't register device in fcm. Status: \"+response.status+\". Message: \"+response.statusText)}})})},PushServiceDefault.prototype.getPushToken=function(subscription){return __awaiter(this,void 0,void 0,function(){var deviceType;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getDeviceType()];case 1:return deviceType=_a.sent(),subscription?12===deviceType?[2,subscription.endpoint]:[2,subscription.endpoint.split(\"/\").pop()||\"\"]:[2,\"\"]}})})},PushServiceDefault.prototype.getApplicationServerKey=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getDeviceType()];case 1:return 11!==_a.sent()?[2]:[4,this.data.getApplicationServerKey()];case 2:return[2,_a.sent()]}})})},PushServiceDefault.prototype.getSenderIdFromManifest=function(){return __awaiter(this,void 0,void 0,function(){var manifest,url,response,data,match;return __generator(this,function(_a){switch(_a.label){case 0:if(!(manifest=document.querySelector('link[rel=\"manifest\"]')))throw new Error(\"Error: manifest.json not found!\");if(!(url=manifest.getAttribute(\"href\")))throw new Error(\"Error: manifest.json url not found!\");return[4,fetch(url,{method:\"GET\",headers:{\"Content-Type\":\"application/json;charset=UTF-8\"}})];case 1:if(200!==(response=_a.sent()).status)throw new Error(\"Error: Can't load manifest.json! \"+response.statusText);return[4,response.text()];case 2:if(data=_a.sent(),!(match=data.match(/(\"|')?gcm_sender_id(\"|')?:\\s*(\"|')?(\\d+)(\"|')?/))||\"string\"!=typeof match[4])throw new Error(\"Error: Can't find gcm_sender_id in manifest.json!\");return[2,match[4]]}})})},PushServiceDefault.prototype.checkIsChangeSenderId=function(currentSenderId){return __awaiter(this,void 0,void 0,function(){var senderIdFromIndexedDB;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getSenderId()];case 1:return senderIdFromIndexedDB=_a.sent(),[2,currentSenderId!==senderIdFromIndexedDB]}})})},PushServiceDefault.prototype.urlBase64ToUint8Array=function(base64String){for(var base64=(base64String+\"=\".repeat((4-base64String.length%4)%4)).replace(/\\-/g,\"+\").replace(/_/g,\"/\"),rawData=window.atob(base64),outputArray=new Uint8Array(rawData.length),i=0;i<rawData.length;++i)outputArray[i]=rawData.charCodeAt(i);return outputArray},PushServiceDefault}();exports.PushServiceDefault=PushServiceDefault},function(module,exports,__webpack_require__){\"use strict\";var ReflectOwnKeys,R=\"object\"==typeof Reflect?Reflect:null,ReflectApply=R&&\"function\"==typeof R.apply?R.apply:function(target,receiver,args){return Function.prototype.apply.call(target,receiver,args)};ReflectOwnKeys=R&&\"function\"==typeof R.ownKeys?R.ownKeys:Object.getOwnPropertySymbols?function(target){return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target))}:function(target){return Object.getOwnPropertyNames(target)};var NumberIsNaN=Number.isNaN||function(value){return value!=value};function EventEmitter(){EventEmitter.init.call(this)}module.exports=EventEmitter,module.exports.once=function(emitter,name){return new Promise(function(resolve,reject){function errorListener(err){emitter.removeListener(name,resolver),reject(err)}function resolver(){\"function\"==typeof emitter.removeListener&&emitter.removeListener(\"error\",errorListener),resolve([].slice.call(arguments))}eventTargetAgnosticAddListener(emitter,name,resolver,{once:!0}),\"error\"!==name&&function(emitter,handler,flags){\"function\"==typeof emitter.on&&eventTargetAgnosticAddListener(emitter,\"error\",handler,flags)}(emitter,errorListener,{once:!0})})},EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(listener){if(\"function\"!=typeof listener)throw new TypeError('The \"listener\" argument must be of type Function. Received type '+typeof listener)}function _getMaxListeners(that){return void 0===that._maxListeners?EventEmitter.defaultMaxListeners:that._maxListeners}function _addListener(target,type,listener,prepend){var m,events,existing;if(checkListener(listener),void 0===(events=target._events)?(events=target._events=Object.create(null),target._eventsCount=0):(void 0!==events.newListener&&(target.emit(\"newListener\",type,listener.listener?listener.listener:listener),events=target._events),existing=events[type]),void 0===existing)existing=events[type]=listener,++target._eventsCount;else if(\"function\"==typeof existing?existing=events[type]=prepend?[listener,existing]:[existing,listener]:prepend?existing.unshift(listener):existing.push(listener),(m=_getMaxListeners(target))>0&&existing.length>m&&!existing.warned){existing.warned=!0;var w=new Error(\"Possible EventEmitter memory leak detected. \"+existing.length+\" \"+String(type)+\" listeners added. Use emitter.setMaxListeners() to increase limit\");w.name=\"MaxListenersExceededWarning\",w.emitter=target,w.type=type,w.count=existing.length,function(warning){console&&console.warn&&console.warn(warning)}(w)}return target}function _onceWrap(target,type,listener){var state={fired:!1,wrapFn:void 0,target:target,type:type,listener:listener},wrapped=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(state);return wrapped.listener=listener,state.wrapFn=wrapped,wrapped}function _listeners(target,type,unwrap){var events=target._events;if(void 0===events)return[];var evlistener=events[type];return void 0===evlistener?[]:\"function\"==typeof evlistener?unwrap?[evlistener.listener||evlistener]:[evlistener]:unwrap?function(arr){for(var ret=new Array(arr.length),i=0;i<ret.length;++i)ret[i]=arr[i].listener||arr[i];return ret}(evlistener):arrayClone(evlistener,evlistener.length)}function listenerCount(type){var events=this._events;if(void 0!==events){var evlistener=events[type];if(\"function\"==typeof evlistener)return 1;if(void 0!==evlistener)return evlistener.length}return 0}function arrayClone(arr,n){for(var copy=new Array(n),i=0;i<n;++i)copy[i]=arr[i];return copy}function eventTargetAgnosticAddListener(emitter,name,listener,flags){if(\"function\"==typeof emitter.on)flags.once?emitter.once(name,listener):emitter.on(name,listener);else{if(\"function\"!=typeof emitter.addEventListener)throw new TypeError('The \"emitter\" argument must be of type EventEmitter. Received type '+typeof emitter);emitter.addEventListener(name,function wrapListener(arg){flags.once&&emitter.removeEventListener(name,wrapListener),listener(arg)})}}Object.defineProperty(EventEmitter,\"defaultMaxListeners\",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(arg){if(\"number\"!=typeof arg||arg<0||NumberIsNaN(arg))throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received '+arg+\".\");defaultMaxListeners=arg}}),EventEmitter.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(n){if(\"number\"!=typeof n||n<0||NumberIsNaN(n))throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received '+n+\".\");return this._maxListeners=n,this},EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function(type){for(var args=[],i=1;i<arguments.length;i++)args.push(arguments[i]);var doError=\"error\"===type,events=this._events;if(void 0!==events)doError=doError&&void 0===events.error;else if(!doError)return!1;if(doError){var er;if(args.length>0&&(er=args[0]),er instanceof Error)throw er;var err=new Error(\"Unhandled error.\"+(er?\" (\"+er.message+\")\":\"\"));throw err.context=er,err}var handler=events[type];if(void 0===handler)return!1;if(\"function\"==typeof handler)ReflectApply(handler,this,args);else{var len=handler.length,listeners=arrayClone(handler,len);for(i=0;i<len;++i)ReflectApply(listeners[i],this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){return _addListener(this,type,listener,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(type,listener){return _addListener(this,type,listener,!0)},EventEmitter.prototype.once=function(type,listener){return checkListener(listener),this.on(type,_onceWrap(this,type,listener)),this},EventEmitter.prototype.prependOnceListener=function(type,listener){return checkListener(listener),this.prependListener(type,_onceWrap(this,type,listener)),this},EventEmitter.prototype.removeListener=function(type,listener){var list,events,position,i,originalListener;if(checkListener(listener),void 0===(events=this._events))return this;if(void 0===(list=events[type]))return this;if(list===listener||list.listener===listener)0==--this._eventsCount?this._events=Object.create(null):(delete events[type],events.removeListener&&this.emit(\"removeListener\",type,list.listener||listener));else if(\"function\"!=typeof list){for(position=-1,i=list.length-1;i>=0;i--)if(list[i]===listener||list[i].listener===listener){originalListener=list[i].listener,position=i;break}if(position<0)return this;0===position?list.shift():function(list,index){for(;index+1<list.length;index++)list[index]=list[index+1];list.pop()}(list,position),1===list.length&&(events[type]=list[0]),void 0!==events.removeListener&&this.emit(\"removeListener\",type,originalListener||listener)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function(type){var listeners,events,i;if(void 0===(events=this._events))return this;if(void 0===events.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==events[type]&&(0==--this._eventsCount?this._events=Object.create(null):delete events[type]),this;if(0===arguments.length){var key,keys=Object.keys(events);for(i=0;i<keys.length;++i)\"removeListener\"!==(key=keys[i])&&this.removeAllListeners(key);return this.removeAllListeners(\"removeListener\"),this._events=Object.create(null),this._eventsCount=0,this}if(\"function\"==typeof(listeners=events[type]))this.removeListener(type,listeners);else if(void 0!==listeners)for(i=listeners.length-1;i>=0;i--)this.removeListener(type,listeners[i]);return this},EventEmitter.prototype.listeners=function(type){return _listeners(this,type,!0)},EventEmitter.prototype.rawListeners=function(type){return _listeners(this,type,!1)},EventEmitter.listenerCount=function(emitter,type){return\"function\"==typeof emitter.listenerCount?emitter.listenerCount(type):listenerCount.call(emitter,type)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]}},function(module,exports,__nested_webpack_require_150201__){(exports=module.exports=__nested_webpack_require_150201__(51)).Stream=exports,exports.Readable=exports,exports.Writable=__nested_webpack_require_150201__(41),exports.Duplex=__nested_webpack_require_150201__(12),exports.Transform=__nested_webpack_require_150201__(56),exports.PassThrough=__nested_webpack_require_150201__(95)},function(module,exports,__nested_webpack_require_150502__){\"use strict\";(function(process,setImmediate,global){var pna=__nested_webpack_require_150502__(27);function CorkedRequest(state){var _this=this;this.next=null,this.entry=null,this.finish=function(){!function(corkReq,state,err){var entry=corkReq.entry;corkReq.entry=null;for(;entry;){var cb=entry.callback;state.pendingcb--,cb(err),entry=entry.next}state.corkedRequestsFree?state.corkedRequestsFree.next=corkReq:state.corkedRequestsFree=corkReq}(_this,state)}}module.exports=Writable;var Duplex,asyncWrite=!process.browser&&[\"v0.10\",\"v0.9.\"].indexOf(process.version.slice(0,5))>-1?setImmediate:pna.nextTick;Writable.WritableState=WritableState;var util=Object.create(__nested_webpack_require_150502__(23));util.inherits=__nested_webpack_require_150502__(15);var internalUtil={deprecate:__nested_webpack_require_150502__(94)},Stream=__nested_webpack_require_150502__(52),Buffer=__nested_webpack_require_150502__(28).Buffer,OurUint8Array=global.Uint8Array||function(){};var realHasInstance,destroyImpl=__nested_webpack_require_150502__(53);function nop(){}function WritableState(options,stream){Duplex=Duplex||__nested_webpack_require_150502__(12),options=options||{};var isDuplex=stream instanceof Duplex;this.objectMode=!!options.objectMode,isDuplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode);var hwm=options.highWaterMark,writableHwm=options.writableHighWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:isDuplex&&(writableHwm||0===writableHwm)?writableHwm:defaultHwm,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var noDecode=!1===options.decodeStrings;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||\"utf8\",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){!function(stream,er){var state=stream._writableState,sync=state.sync,cb=state.writecb;if(function(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0}(state),er)!function(stream,state,sync,er,cb){--state.pendingcb,sync?(pna.nextTick(cb,er),pna.nextTick(finishMaybe,stream,state),stream._writableState.errorEmitted=!0,stream.emit(\"error\",er)):(cb(er),stream._writableState.errorEmitted=!0,stream.emit(\"error\",er),finishMaybe(stream,state))}(stream,state,sync,er,cb);else{var finished=needFinish(state);finished||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?asyncWrite(afterWrite,stream,state,finished,cb):afterWrite(stream,state,finished,cb)}}(stream,er)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(options){if(Duplex=Duplex||__nested_webpack_require_150502__(12),!(realHasInstance.call(Writable,this)||this instanceof Duplex))return new Writable(options);this._writableState=new WritableState(options,this),this.writable=!0,options&&(\"function\"==typeof options.write&&(this._write=options.write),\"function\"==typeof options.writev&&(this._writev=options.writev),\"function\"==typeof options.destroy&&(this._destroy=options.destroy),\"function\"==typeof options.final&&(this._final=options.final)),Stream.call(this)}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function afterWrite(stream,state,finished,cb){finished||function(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit(\"drain\"))}(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function clearBuffer(stream,state){state.bufferProcessing=!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount,buffer=new Array(l),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0,allBuffers=!0;entry;)buffer[count]=entry,entry.isBuf||(allBuffers=!1),entry=entry.next,count+=1;buffer.allBuffers=allBuffers,doWrite(stream,state,!0,state.length,buffer,\"\",holder.finish),state.pendingcb++,state.lastBufferedRequest=null,holder.next?(state.corkedRequestsFree=holder.next,holder.next=null):state.corkedRequestsFree=new CorkedRequest(state),state.bufferedRequestCount=0}else{for(;entry;){var chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback;if(doWrite(stream,state,!1,state.objectMode?1:chunk.length,chunk,encoding,cb),entry=entry.next,state.bufferedRequestCount--,state.writing)break}null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequest=entry,state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function callFinal(stream,state){stream._final(function(err){state.pendingcb--,err&&stream.emit(\"error\",err),state.prefinished=!0,stream.emit(\"prefinish\"),finishMaybe(stream,state)})}function finishMaybe(stream,state){var need=needFinish(state);return need&&(!function(stream,state){state.prefinished||state.finalCalled||(\"function\"==typeof stream._final?(state.pendingcb++,state.finalCalled=!0,pna.nextTick(callFinal,stream,state)):(state.prefinished=!0,stream.emit(\"prefinish\")))}(stream,state),0===state.pendingcb&&(state.finished=!0,stream.emit(\"finish\"))),need}util.inherits(Writable,Stream),WritableState.prototype.getBuffer=function(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out},function(){try{Object.defineProperty(WritableState.prototype,\"buffer\",{get:internalUtil.deprecate(function(){return this.getBuffer()},\"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.\",\"DEP0003\")})}catch(_){}}(),\"function\"==typeof Symbol&&Symbol.hasInstance&&\"function\"==typeof Function.prototype[Symbol.hasInstance]?(realHasInstance=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(object){return!!realHasInstance.call(this,object)||this===Writable&&(object&&object._writableState instanceof WritableState)}})):realHasInstance=function(object){return object instanceof this},Writable.prototype.pipe=function(){this.emit(\"error\",new Error(\"Cannot pipe, not readable\"))},Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState,ret=!1,isBuf=!state.objectMode&&function(obj){return Buffer.isBuffer(obj)||obj instanceof OurUint8Array}(chunk);return isBuf&&!Buffer.isBuffer(chunk)&&(chunk=function(chunk){return Buffer.from(chunk)}(chunk)),\"function\"==typeof encoding&&(cb=encoding,encoding=null),isBuf?encoding=\"buffer\":encoding||(encoding=state.defaultEncoding),\"function\"!=typeof cb&&(cb=nop),state.ended?function(stream,cb){var er=new Error(\"write after end\");stream.emit(\"error\",er),pna.nextTick(cb,er)}(this,cb):(isBuf||function(stream,state,chunk,cb){var valid=!0,er=!1;return null===chunk?er=new TypeError(\"May not write null values to stream\"):\"string\"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError(\"Invalid non-string/buffer chunk\")),er&&(stream.emit(\"error\",er),pna.nextTick(cb,er),valid=!1),valid}(this,state,chunk,cb))&&(state.pendingcb++,ret=function(stream,state,isBuf,chunk,encoding,cb){if(!isBuf){var newChunk=function(state,chunk,encoding){state.objectMode||!1===state.decodeStrings||\"string\"!=typeof chunk||(chunk=Buffer.from(chunk,encoding));return chunk}(state,chunk,encoding);chunk!==newChunk&&(isBuf=!0,encoding=\"buffer\",chunk=newChunk)}var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;ret||(state.needDrain=!0);if(state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest={chunk:chunk,encoding:encoding,isBuf:isBuf,callback:cb,next:null},last?last.next=state.lastBufferedRequest:state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1}else doWrite(stream,state,!1,len,chunk,encoding,cb);return ret}(this,state,isBuf,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.finished||state.bufferProcessing||!state.bufferedRequest||clearBuffer(this,state))},Writable.prototype.setDefaultEncoding=function(encoding){if(\"string\"==typeof encoding&&(encoding=encoding.toLowerCase()),!([\"hex\",\"utf8\",\"utf-8\",\"ascii\",\"binary\",\"base64\",\"ucs2\",\"ucs-2\",\"utf16le\",\"utf-16le\",\"raw\"].indexOf((encoding+\"\").toLowerCase())>-1))throw new TypeError(\"Unknown encoding: \"+encoding);return this._writableState.defaultEncoding=encoding,this},Object.defineProperty(Writable.prototype,\"writableHighWaterMark\",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Writable.prototype._write=function(chunk,encoding,cb){cb(new Error(\"_write() is not implemented\"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;\"function\"==typeof chunk?(cb=chunk,chunk=null,encoding=null):\"function\"==typeof encoding&&(cb=encoding,encoding=null),null!==chunk&&void 0!==chunk&&this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||state.finished||function(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?pna.nextTick(cb):stream.once(\"finish\",cb));state.ended=!0,stream.writable=!1}(this,state,cb)},Object.defineProperty(Writable.prototype,\"destroyed\",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(value){this._writableState&&(this._writableState.destroyed=value)}}),Writable.prototype.destroy=destroyImpl.destroy,Writable.prototype._undestroy=destroyImpl.undestroy,Writable.prototype._destroy=function(err,cb){this.end(),cb(err)}}).call(this,__nested_webpack_require_150502__(22),__nested_webpack_require_150502__(54).setImmediate,__nested_webpack_require_150502__(11))},function(module,exports,__nested_webpack_require_160506__){\"use strict\";var external=__nested_webpack_require_160506__(24),DataWorker=__nested_webpack_require_160506__(60),DataLengthProbe=__nested_webpack_require_160506__(61),Crc32Probe=__nested_webpack_require_160506__(62);DataLengthProbe=__nested_webpack_require_160506__(61);function CompressedObject(compressedSize,uncompressedSize,crc32,compression,data){this.compressedSize=compressedSize,this.uncompressedSize=uncompressedSize,this.crc32=crc32,this.compression=compression,this.compressedContent=data}CompressedObject.prototype={getContentWorker:function(){var worker=new DataWorker(external.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new DataLengthProbe(\"data_length\")),that=this;return worker.on(\"end\",function(){if(this.streamInfo.data_length!==that.uncompressedSize)throw new Error(\"Bug : uncompressed data size mismatch\")}),worker},getCompressedWorker:function(){return new DataWorker(external.Promise.resolve(this.compressedContent)).withStreamInfo(\"compressedSize\",this.compressedSize).withStreamInfo(\"uncompressedSize\",this.uncompressedSize).withStreamInfo(\"crc32\",this.crc32).withStreamInfo(\"compression\",this.compression)}},CompressedObject.createWorkerFrom=function(uncompressedWorker,compression,compressionOptions){return uncompressedWorker.pipe(new Crc32Probe).pipe(new DataLengthProbe(\"uncompressedSize\")).pipe(compression.compressWorker(compressionOptions)).pipe(new DataLengthProbe(\"compressedSize\")).withStreamInfo(\"compression\",compression)},module.exports=CompressedObject},function(module,exports,__nested_webpack_require_162019__){\"use strict\";var utils=__nested_webpack_require_162019__(0);var crcTable=function(){for(var c,table=[],n=0;n<256;n++){c=n;for(var k=0;k<8;k++)c=1&c?3988292384^c>>>1:c>>>1;table[n]=c}return table}();module.exports=function(input,crc){return void 0!==input&&input.length?\"string\"!==utils.getTypeOf(input)?function(crc,buf,len,pos){var t=crcTable,end=pos+len;crc^=-1;for(var i=pos;i<end;i++)crc=crc>>>8^t[255&(crc^buf[i])];return-1^crc}(0|crc,input,input.length,0):function(crc,str,len,pos){var t=crcTable,end=pos+len;crc^=-1;for(var i=pos;i<end;i++)crc=crc>>>8^t[255&(crc^str.charCodeAt(i))];return-1^crc}(0|crc,input,input.length,0):0}},function(module,exports,__webpack_require__){\"use strict\";module.exports={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"}},function(module,exports,__nested_webpack_require_162933__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var Storage_1=__nested_webpack_require_162933__(46),DateModule_1=__nested_webpack_require_162933__(6),InboxMessagesPublic_1=__nested_webpack_require_162933__(25),InboxMessages=function(){function InboxMessages(eventBus,data,api,storage,dateModule){void 0===storage&&(storage=new Storage_1.default),void 0===dateModule&&(dateModule=new DateModule_1.default),this.eventBus=eventBus,this.data=data,this.api=api,this.storage=storage,this.storeName=\"inboxMessages\",this.dateModule=dateModule}return InboxMessages.prototype.getInboxMessages=function(){return __awaiter(this,void 0,void 0,function(){var response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.api.getInboxMessages()];case 1:return response=_a.sent(),[4,this.storeGetInboxMessagesRequestParams(response.next,response.new_inbox)];case 2:return _a.sent(),[2,response]}})})},InboxMessages.prototype.storeGetInboxMessagesRequestParams=function(next,newMessagesCount){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return this.dateModule.date=new Date,[4,this.data.setInboxLastRequestTime(this.dateModule.getUtcTimestamp())];case 1:return _a.sent(),[4,this.data.setInboxLastRequestCode(next)];case 2:return _a.sent(),[4,this.data.setInboxNewMessagesCount(newMessagesCount)];case 3:return _a.sent(),[2]}})})},InboxMessages.prototype.putServerMessages=function(messages){return __awaiter(this,void 0,void 0,function(){var putTransactions,_this=this;return __generator(this,function(_a){return putTransactions=messages.map(function(message){return __awaiter(_this,void 0,void 0,function(){var localMessage;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.storage.get(this.storeName,message.inbox_id,{})];case 1:return\"status\"in(localMessage=_a.sent())&&(message.status=localMessage.status),[2,this.putMessage(message)]}})})}),[2,Promise.all(putTransactions)]})})},InboxMessages.prototype.putMessage=function(message){return this.storage.put(this.storeName,message)},InboxMessages.prototype.putBulkMessages=function(messages){var _this=this,putTransactions=messages.map(function(message){return _this.putMessage(message)});return Promise.all(putTransactions)},InboxMessages.prototype.deleteMessages=function(codes){var _this=this,deleteTransactions=codes.map(function(code){return _this.storage.delete(_this.storeName,code)});return Promise.all(deleteTransactions)},InboxMessages.prototype.deleteExpiredMessages=function(){return __awaiter(this,void 0,void 0,function(){var upperBound,allMessages,codesToDelete;return __generator(this,function(_a){switch(_a.label){case 0:return this.dateModule.date=new Date,upperBound=this.dateModule.getTimestamp().toString(),[4,this.storage.getAll(this.storeName)];case 1:return allMessages=_a.sent(),codesToDelete=allMessages.filter(function(msg){return msg.rt>upperBound}).map(function(msg){return msg.inbox_id}),[2,this.deleteMessages(codesToDelete)]}})})},InboxMessages.prototype.getMessage=function(code){return this.storage.get(this.storeName,code)},InboxMessages.prototype.getReadOpenMessages=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.storage.getAll(this.storeName)];case 1:return[2,_a.sent().filter(function(msg){return 2===msg.status||3===msg.status})]}})})},InboxMessages.prototype.getDeliveredMessages=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.storage.getAll(this.storeName)];case 1:return[2,_a.sent().filter(function(msg){return 1===msg.status})]}})})},InboxMessages.prototype.messagesCount=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.storage.count(this.storeName)]})})},InboxMessages.prototype.getDeliveredMessagesCount=function(){return __awaiter(this,void 0,void 0,function(){var deliveredStatus,statusIndexName;return __generator(this,function(_a){return deliveredStatus=1,statusIndexName=\"status\",[2,this.storage.countByIndex(this.storeName,statusIndexName,deliveredStatus)]})})},InboxMessages.prototype.getReadMessagesCount=function(){return __awaiter(this,void 0,void 0,function(){var readStatus,statusIndexName;return __generator(this,function(_a){return readStatus=2,statusIndexName=\"status\",[2,this.storage.countByIndex(this.storeName,statusIndexName,readStatus)]})})},InboxMessages.prototype.getDeliveredReadMessagesCount=function(){return __awaiter(this,void 0,void 0,function(){var _a,readStatus,openStatus,keyRange,statusIndexName;return __generator(this,function(_b){return readStatus=(_a=[2,3])[0],openStatus=_a[1],keyRange=IDBKeyRange.bound(readStatus,openStatus),statusIndexName=\"status\",[2,this.storage.countByIndex(this.storeName,statusIndexName,keyRange)]})})},InboxMessages.prototype.updateMessages=function(){return __awaiter(this,void 0,void 0,function(){var response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getInboxMessages()];case 1:return response=_a.sent(),[4,this.deleteExpiredMessages()];case 2:return _a.sent(),[4,this.deleteMessages(response.deleted)];case 3:return _a.sent(),[4,this.putServerMessages(response.messages)];case 4:return _a.sent(),this.eventBus.dispatchEvent(\"update-inbox-messages\",{messages:new InboxMessagesPublic_1.default(this.data,this.api,this)}),[2]}})})},InboxMessages}();exports.default=InboxMessages},function(module,exports,__nested_webpack_require_170151__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var version_1=__nested_webpack_require_170151__(18),MigrationExecutor_1=__nested_webpack_require_170151__(19),Store_1=__nested_webpack_require_170151__(47),Storage=function(){function Storage(){}return Storage.prototype.dbVersionChangeHandler=function(db,event){console.info(\"onversionchange\",event),db.close()},Storage.prototype.dbRequestSuccessHandler=function(resolve,event){var _this=this,database=event.target.result;database.onversionchange=function(event){_this.dbVersionChangeHandler(database,event)},resolve(database)},Storage.prototype.dbRequestUpgradeNeededHandler=function(event){var _this=this,database=event.target.result;database.onversionchange=function(event){_this.dbVersionChangeHandler(database,event)},new MigrationExecutor_1.default(database).applyMigrations()},Storage.prototype.getDB=function(){var _this=this;return new Promise(function(resolve,reject){var request=indexedDB.open(\"PUSHWOOSH_SDK_STORE\",version_1.default);request.onsuccess=function(event){_this.dbRequestSuccessHandler(resolve,event)},request.onupgradeneeded=function(event){_this.dbRequestUpgradeNeededHandler(event)},request.onerror=function(){return reject(request.error)}})},Storage.prototype.put=function(storeName,data,key){return __awaiter(this,void 0,void 0,function(){var db,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getDB()];case 1:return db=_a.sent(),[4,new Store_1.default(db,storeName).put(data,key)];case 2:return result=_a.sent(),db.close(),[2,result]}})})},Storage.prototype.delete=function(storeName,key){return __awaiter(this,void 0,void 0,function(){var db,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getDB()];case 1:return db=_a.sent(),[4,new Store_1.default(db,storeName).delete(key)];case 2:return result=_a.sent(),db.close(),[2,result]}})})},Storage.prototype.get=function(storeName,key,defaultValue){return __awaiter(this,void 0,void 0,function(){var db,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getDB()];case 1:return db=_a.sent(),[4,new Store_1.default(db,storeName).get(key,defaultValue)];case 2:return result=_a.sent(),db.close(),[2,result]}})})},Storage.prototype.getAll=function(storeName){return __awaiter(this,void 0,void 0,function(){var db,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getDB()];case 1:return db=_a.sent(),[4,new Store_1.default(db,storeName).getAll()];case 2:return result=_a.sent(),db.close(),[2,result||[]]}})})},Storage.prototype.count=function(storeName,query){return __awaiter(this,void 0,void 0,function(){var db,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getDB()];case 1:return db=_a.sent(),[4,new Store_1.default(db,storeName).count(query)];case 2:return result=_a.sent(),db.close(),[2,result]}})})},Storage.prototype.countByIndex=function(storeName,indexName,key){return __awaiter(this,void 0,void 0,function(){var db,store,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getDB()];case 1:return db=_a.sent(),(store=new Store_1.default(db,storeName)).index=indexName,[4,store.countByIndex(key)];case 2:return result=_a.sent(),db.close(),[2,result]}})})},Storage}();exports.default=Storage},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var Store=function(){function Store(db,name){this.name=name,this.store=db.transaction(this.name,\"readwrite\").objectStore(this.name)}return Object.defineProperty(Store.prototype,\"index\",{set:function(index){this.store.indexNames.contains(index)?this._index=this.store.index(index):console.warn('Index \"'+index+'\" in ')},enumerable:!1,configurable:!0}),Store.prototype.writeRequestPromise=function(request,result){return new Promise(function(resolve,reject){request.onsuccess=function(){resolve(result)},request.onerror=function(){reject(request.error)}})},Store.prototype.readRequestPromise=function(request,defaultValue){return new Promise(function(resolve,reject){request.onsuccess=function(event){var target=event.target;resolve(target.result||defaultValue)},request.onerror=function(){reject(request.error)}})},Store.prototype.put=function(data,key){var request=this.store.put(data,key);return this.writeRequestPromise(request,key)},Store.prototype.add=function(data,key){return this.put(data,key)},Store.prototype.delete=function(key){var request=this.store.delete(key);return this.writeRequestPromise(request)},Store.prototype.get=function(key,defaultValue){var request=this.store.get(key);return this.readRequestPromise(request,defaultValue)},Store.prototype.getAll=function(){var cursor=this.store.openCursor(),result=[];return new Promise(function(resolve,reject){cursor.onsuccess=function(event){var cursorResult=event.target.result;cursorResult?(result.push(cursorResult.value),cursorResult.continue()):resolve(result)},cursor.onerror=function(){reject(cursor.error)}})},Store.prototype.count=function(query){var request=this.store.count(query);return this.readRequestPromise(request,0)},Store.prototype.countByIndex=function(key){var request=this._index.count(key);return this.readRequestPromise(request,0)},Store}();exports.default=Store},function(module,exports,__nested_webpack_require_177145__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.getZip=void 0;var JSZip=__nested_webpack_require_177145__(85);exports.getZip=function(url){return __awaiter(this,void 0,void 0,function(){var response,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,fetch(url,{method:\"GET\"})];case 1:return 200!==(response=_a.sent()).status&&new Error(response.statusText),[4,response.blob()];case 2:return result=_a.sent(),[2,JSZip.loadAsync(result)]}})})}},function(module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return\"[object Array]\"==toString.call(arr)}},function(module,exports,__nested_webpack_require_179504__){module.exports=__nested_webpack_require_179504__(89)},function(module,exports,__nested_webpack_require_179589__){\"use strict\";(function(global,process){var pna=__nested_webpack_require_179589__(27);module.exports=Readable;var Duplex,isArray=__nested_webpack_require_179589__(49);Readable.ReadableState=ReadableState;__nested_webpack_require_179589__(39).EventEmitter;var EElistenerCount=function(emitter,type){return emitter.listeners(type).length},Stream=__nested_webpack_require_179589__(52),Buffer=__nested_webpack_require_179589__(28).Buffer,OurUint8Array=global.Uint8Array||function(){};var util=Object.create(__nested_webpack_require_179589__(23));util.inherits=__nested_webpack_require_179589__(15);var debugUtil=__nested_webpack_require_179589__(90),debug=void 0;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog(\"stream\"):function(){};var StringDecoder,BufferList=__nested_webpack_require_179589__(91),destroyImpl=__nested_webpack_require_179589__(53);util.inherits(Readable,Stream);var kProxyEvents=[\"error\",\"close\",\"destroy\",\"pause\",\"resume\"];function ReadableState(options,stream){Duplex=Duplex||__nested_webpack_require_179589__(12),options=options||{};var isDuplex=stream instanceof Duplex;this.objectMode=!!options.objectMode,isDuplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode);var hwm=options.highWaterMark,readableHwm=options.readableHighWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:isDuplex&&(readableHwm||0===readableHwm)?readableHwm:defaultHwm,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=options.defaultEncoding||\"utf8\",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder||(StringDecoder=__nested_webpack_require_179589__(55).StringDecoder),this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){if(Duplex=Duplex||__nested_webpack_require_179589__(12),!(this instanceof Readable))return new Readable(options);this._readableState=new ReadableState(options,this),this.readable=!0,options&&(\"function\"==typeof options.read&&(this._read=options.read),\"function\"==typeof options.destroy&&(this._destroy=options.destroy)),Stream.call(this)}function readableAddChunk(stream,chunk,encoding,addToFront,skipChunkCheck){var er,state=stream._readableState;null===chunk?(state.reading=!1,function(stream,state){if(state.ended)return;if(state.decoder){var chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,emitReadable(stream)}(stream,state)):(skipChunkCheck||(er=function(state,chunk){var er;(function(obj){return Buffer.isBuffer(obj)||obj instanceof OurUint8Array})(chunk)||\"string\"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError(\"Invalid non-string/buffer chunk\"));return er}(state,chunk)),er?stream.emit(\"error\",er):state.objectMode||chunk&&chunk.length>0?(\"string\"==typeof chunk||state.objectMode||Object.getPrototypeOf(chunk)===Buffer.prototype||(chunk=function(chunk){return Buffer.from(chunk)}(chunk)),addToFront?state.endEmitted?stream.emit(\"error\",new Error(\"stream.unshift() after end event\")):addChunk(stream,state,chunk,!0):state.ended?stream.emit(\"error\",new Error(\"stream.push() after EOF\")):(state.reading=!1,state.decoder&&!encoding?(chunk=state.decoder.write(chunk),state.objectMode||0!==chunk.length?addChunk(stream,state,chunk,!1):maybeReadMore(stream,state)):addChunk(stream,state,chunk,!1))):addToFront||(state.reading=!1));return function(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||0===state.length)}(state)}function addChunk(stream,state,chunk,addToFront){state.flowing&&0===state.length&&!state.sync?(stream.emit(\"data\",chunk),stream.read(0)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream)),maybeReadMore(stream,state)}Object.defineProperty(Readable.prototype,\"destroyed\",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(value){this._readableState&&(this._readableState.destroyed=value)}}),Readable.prototype.destroy=destroyImpl.destroy,Readable.prototype._undestroy=destroyImpl.undestroy,Readable.prototype._destroy=function(err,cb){this.push(null),cb(err)},Readable.prototype.push=function(chunk,encoding){var skipChunkCheck,state=this._readableState;return state.objectMode?skipChunkCheck=!0:\"string\"==typeof chunk&&((encoding=encoding||state.defaultEncoding)!==state.encoding&&(chunk=Buffer.from(chunk,encoding),encoding=\"\"),skipChunkCheck=!0),readableAddChunk(this,chunk,encoding,!1,skipChunkCheck)},Readable.prototype.unshift=function(chunk){return readableAddChunk(this,chunk,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(enc){return StringDecoder||(StringDecoder=__nested_webpack_require_179589__(55).StringDecoder),this._readableState.decoder=new StringDecoder(enc),this._readableState.encoding=enc,this};var MAX_HWM=8388608;function howMuchToRead(n,state){return n<=0||0===state.length&&state.ended?0:state.objectMode?1:n!=n?state.flowing&&state.length?state.buffer.head.data.length:state.length:(n>state.highWaterMark&&(state.highWaterMark=function(n){return n>=MAX_HWM?n=MAX_HWM:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}(n)),n<=state.length?n:state.ended?state.length:(state.needReadable=!0,0))}function emitReadable(stream){var state=stream._readableState;state.needReadable=!1,state.emittedReadable||(debug(\"emitReadable\",state.flowing),state.emittedReadable=!0,state.sync?pna.nextTick(emitReadable_,stream):emitReadable_(stream))}function emitReadable_(stream){debug(\"emit readable\"),stream.emit(\"readable\"),flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,pna.nextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(var len=state.length;!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark&&(debug(\"maybeReadMore read 0\"),stream.read(0),len!==state.length);)len=state.length;state.readingMore=!1}function nReadingNextTick(self){debug(\"readable nexttick read 0\"),self.read(0)}function resume_(stream,state){state.reading||(debug(\"resume read 0\"),stream.read(0)),state.resumeScheduled=!1,state.awaitDrain=0,stream.emit(\"resume\"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;for(debug(\"flow\",state.flowing);state.flowing&&null!==stream.read(););}function fromList(n,state){return 0===state.length?null:(state.objectMode?ret=state.buffer.shift():!n||n>=state.length?(ret=state.decoder?state.buffer.join(\"\"):1===state.buffer.length?state.buffer.head.data:state.buffer.concat(state.length),state.buffer.clear()):ret=function(n,list,hasStrings){var ret;n<list.head.data.length?(ret=list.head.data.slice(0,n),list.head.data=list.head.data.slice(n)):ret=n===list.head.data.length?list.shift():hasStrings?function(n,list){var p=list.head,c=1,ret=p.data;n-=ret.length;for(;p=p.next;){var str=p.data,nb=n>str.length?str.length:n;if(nb===str.length?ret+=str:ret+=str.slice(0,n),0===(n-=nb)){nb===str.length?(++c,p.next?list.head=p.next:list.head=list.tail=null):(list.head=p,p.data=str.slice(nb));break}++c}return list.length-=c,ret}(n,list):function(n,list){var ret=Buffer.allocUnsafe(n),p=list.head,c=1;p.data.copy(ret),n-=p.data.length;for(;p=p.next;){var buf=p.data,nb=n>buf.length?buf.length:n;if(buf.copy(ret,ret.length-n,0,nb),0===(n-=nb)){nb===buf.length?(++c,p.next?list.head=p.next:list.head=list.tail=null):(list.head=p,p.data=buf.slice(nb));break}++c}return list.length-=c,ret}(n,list);return ret}(n,state.buffer,state.decoder),ret);var ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error('\"endReadable()\" called on non-empty stream');state.endEmitted||(state.ended=!0,pna.nextTick(endReadableNT,state,stream))}function endReadableNT(state,stream){state.endEmitted||0!==state.length||(state.endEmitted=!0,stream.readable=!1,stream.emit(\"end\"))}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}Readable.prototype.read=function(n){debug(\"read\",n),n=parseInt(n,10);var state=this._readableState,nOrig=n;if(0!==n&&(state.emittedReadable=!1),0===n&&state.needReadable&&(state.length>=state.highWaterMark||state.ended))return debug(\"read: emitReadable\",state.length,state.ended),0===state.length&&state.ended?endReadable(this):emitReadable(this),null;if(0===(n=howMuchToRead(n,state))&&state.ended)return 0===state.length&&endReadable(this),null;var ret,doRead=state.needReadable;return debug(\"need readable\",doRead),(0===state.length||state.length-n<state.highWaterMark)&&debug(\"length less than watermark\",doRead=!0),state.ended||state.reading?debug(\"reading or ended\",doRead=!1):doRead&&(debug(\"do read\"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1,state.reading||(n=howMuchToRead(nOrig,state))),null===(ret=n>0?fromList(n,state):null)?(state.needReadable=!0,n=0):state.length-=n,0===state.length&&(state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&endReadable(this)),null!==ret&&this.emit(\"data\",ret),ret},Readable.prototype._read=function(n){this.emit(\"error\",new Error(\"_read() is not implemented\"))},Readable.prototype.pipe=function(dest,pipeOpts){var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug(\"pipe count=%d opts=%j\",state.pipesCount,pipeOpts);var endFn=(!pipeOpts||!1!==pipeOpts.end)&&dest!==process.stdout&&dest!==process.stderr?onend:unpipe;function onunpipe(readable,unpipeInfo){debug(\"onunpipe\"),readable===src&&unpipeInfo&&!1===unpipeInfo.hasUnpiped&&(unpipeInfo.hasUnpiped=!0,debug(\"cleanup\"),dest.removeListener(\"close\",onclose),dest.removeListener(\"finish\",onfinish),dest.removeListener(\"drain\",ondrain),dest.removeListener(\"error\",onerror),dest.removeListener(\"unpipe\",onunpipe),src.removeListener(\"end\",onend),src.removeListener(\"end\",unpipe),src.removeListener(\"data\",ondata),cleanedUp=!0,!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain())}function onend(){debug(\"onend\"),dest.end()}state.endEmitted?pna.nextTick(endFn):src.once(\"end\",endFn),dest.on(\"unpipe\",onunpipe);var ondrain=function(src){return function(){var state=src._readableState;debug(\"pipeOnDrain\",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EElistenerCount(src,\"data\")&&(state.flowing=!0,flow(src))}}(src);dest.on(\"drain\",ondrain);var cleanedUp=!1;var increasedAwaitDrain=!1;function ondata(chunk){debug(\"ondata\"),increasedAwaitDrain=!1,!1!==dest.write(chunk)||increasedAwaitDrain||((1===state.pipesCount&&state.pipes===dest||state.pipesCount>1&&-1!==indexOf(state.pipes,dest))&&!cleanedUp&&(debug(\"false write response, pause\",src._readableState.awaitDrain),src._readableState.awaitDrain++,increasedAwaitDrain=!0),src.pause())}function onerror(er){debug(\"onerror\",er),unpipe(),dest.removeListener(\"error\",onerror),0===EElistenerCount(dest,\"error\")&&dest.emit(\"error\",er)}function onclose(){dest.removeListener(\"finish\",onfinish),unpipe()}function onfinish(){debug(\"onfinish\"),dest.removeListener(\"close\",onclose),unpipe()}function unpipe(){debug(\"unpipe\"),src.unpipe(dest)}return src.on(\"data\",ondata),function(emitter,event,fn){if(\"function\"==typeof emitter.prependListener)return emitter.prependListener(event,fn);emitter._events&&emitter._events[event]?isArray(emitter._events[event])?emitter._events[event].unshift(fn):emitter._events[event]=[fn,emitter._events[event]]:emitter.on(event,fn)}(dest,\"error\",onerror),dest.once(\"close\",onclose),dest.once(\"finish\",onfinish),dest.emit(\"pipe\",src),state.flowing||(debug(\"pipe resume\"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState,unpipeInfo={hasUnpiped:!1};if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes?this:(dest||(dest=state.pipes),state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit(\"unpipe\",this,unpipeInfo),this);if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var i=0;i<len;i++)dests[i].emit(\"unpipe\",this,unpipeInfo);return this}var index=indexOf(state.pipes,dest);return-1===index?this:(state.pipes.splice(index,1),state.pipesCount-=1,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit(\"unpipe\",this,unpipeInfo),this)},Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if(\"data\"===ev)!1!==this._readableState.flowing&&this.resume();else if(\"readable\"===ev){var state=this._readableState;state.endEmitted||state.readableListening||(state.readableListening=state.needReadable=!0,state.emittedReadable=!1,state.reading?state.length&&emitReadable(this):pna.nextTick(nReadingNextTick,this))}return res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug(\"resume\"),state.flowing=!0,function(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,pna.nextTick(resume_,stream,state))}(this,state)),this},Readable.prototype.pause=function(){return debug(\"call pause flowing=%j\",this._readableState.flowing),!1!==this._readableState.flowing&&(debug(\"pause\"),this._readableState.flowing=!1,this.emit(\"pause\")),this},Readable.prototype.wrap=function(stream){var _this=this,state=this._readableState,paused=!1;for(var i in stream.on(\"end\",function(){if(debug(\"wrapped end\"),state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&_this.push(chunk)}_this.push(null)}),stream.on(\"data\",function(chunk){(debug(\"wrapped data\"),state.decoder&&(chunk=state.decoder.write(chunk)),!state.objectMode||null!==chunk&&void 0!==chunk)&&((state.objectMode||chunk&&chunk.length)&&(_this.push(chunk)||(paused=!0,stream.pause())))}),stream)void 0===this[i]&&\"function\"==typeof stream[i]&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));for(var n=0;n<kProxyEvents.length;n++)stream.on(kProxyEvents[n],this.emit.bind(this,kProxyEvents[n]));return this._read=function(n){debug(\"wrapped _read\",n),paused&&(paused=!1,stream.resume())},this},Object.defineProperty(Readable.prototype,\"readableHighWaterMark\",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Readable._fromList=fromList}).call(this,__nested_webpack_require_179589__(11),__nested_webpack_require_179589__(22))},function(module,exports,__nested_webpack_require_194347__){module.exports=__nested_webpack_require_194347__(39).EventEmitter},function(module,exports,__nested_webpack_require_194445__){\"use strict\";var pna=__nested_webpack_require_194445__(27);function emitErrorNT(self,err){self.emit(\"error\",err)}module.exports={destroy:function(err,cb){var _this=this,readableDestroyed=this._readableState&&this._readableState.destroyed,writableDestroyed=this._writableState&&this._writableState.destroyed;return readableDestroyed||writableDestroyed?(cb?cb(err):!err||this._writableState&&this._writableState.errorEmitted||pna.nextTick(emitErrorNT,this,err),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(err||null,function(err){!cb&&err?(pna.nextTick(emitErrorNT,_this,err),_this._writableState&&(_this._writableState.errorEmitted=!0)):cb&&cb(err)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(module,exports,__nested_webpack_require_195578__){(function(global){var scope=void 0!==global&&global||\"undefined\"!=typeof self&&self||window,apply=Function.prototype.apply;function Timeout(id,clearFn){this._id=id,this._clearFn=clearFn}exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,scope,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,scope,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(timeout){timeout&&timeout.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(scope,this._id)},exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId),item._idleTimeout=msecs},exports.unenroll=function(item){clearTimeout(item._idleTimeoutId),item._idleTimeout=-1},exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;msecs>=0&&(item._idleTimeoutId=setTimeout(function(){item._onTimeout&&item._onTimeout()},msecs))},__nested_webpack_require_195578__(93),exports.setImmediate=\"undefined\"!=typeof self&&self.setImmediate||void 0!==global&&global.setImmediate||this&&this.setImmediate,exports.clearImmediate=\"undefined\"!=typeof self&&self.clearImmediate||void 0!==global&&global.clearImmediate||this&&this.clearImmediate}).call(this,__nested_webpack_require_195578__(11))},function(module,exports,__nested_webpack_require_196955__){\"use strict\";var Buffer=__nested_webpack_require_196955__(28).Buffer,isEncoding=Buffer.isEncoding||function(encoding){switch((encoding=\"\"+encoding)&&encoding.toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":case\"raw\":return!0;default:return!1}};function StringDecoder(encoding){var nb;switch(this.encoding=function(enc){var nenc=function(enc){if(!enc)return\"utf8\";for(var retried;;)switch(enc){case\"utf8\":case\"utf-8\":return\"utf8\";case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return\"utf16le\";case\"latin1\":case\"binary\":return\"latin1\";case\"base64\":case\"ascii\":case\"hex\":return enc;default:if(retried)return;enc=(\"\"+enc).toLowerCase(),retried=!0}}(enc);if(\"string\"!=typeof nenc&&(Buffer.isEncoding===isEncoding||!isEncoding(enc)))throw new Error(\"Unknown encoding: \"+enc);return nenc||enc}(encoding),this.encoding){case\"utf16le\":this.text=utf16Text,this.end=utf16End,nb=4;break;case\"utf8\":this.fillLast=utf8FillLast,nb=4;break;case\"base64\":this.text=base64Text,this.end=base64End,nb=3;break;default:return this.write=simpleWrite,void(this.end=simpleEnd)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer.allocUnsafe(nb)}function utf8CheckByte(byte){return byte<=127?0:byte>>5==6?2:byte>>4==14?3:byte>>3==30?4:byte>>6==2?-1:-2}function utf8FillLast(buf){var p=this.lastTotal-this.lastNeed,r=function(self,buf,p){if(128!=(192&buf[0]))return self.lastNeed=0,\"\";if(self.lastNeed>1&&buf.length>1){if(128!=(192&buf[1]))return self.lastNeed=1,\"\";if(self.lastNeed>2&&buf.length>2&&128!=(192&buf[2]))return self.lastNeed=2,\"\"}}(this,buf);return void 0!==r?r:this.lastNeed<=buf.length?(buf.copy(this.lastChar,p,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(buf.copy(this.lastChar,p,0,buf.length),void(this.lastNeed-=buf.length))}function utf16Text(buf,i){if((buf.length-i)%2==0){var r=buf.toString(\"utf16le\",i);if(r){var c=r.charCodeAt(r.length-1);if(c>=55296&&c<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=buf[buf.length-1],buf.toString(\"utf16le\",i,buf.length-1)}function utf16End(buf){var r=buf&&buf.length?this.write(buf):\"\";if(this.lastNeed){var end=this.lastTotal-this.lastNeed;return r+this.lastChar.toString(\"utf16le\",0,end)}return r}function base64Text(buf,i){var n=(buf.length-i)%3;return 0===n?buf.toString(\"base64\",i):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=buf[buf.length-1]:(this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1]),buf.toString(\"base64\",i,buf.length-n))}function base64End(buf){var r=buf&&buf.length?this.write(buf):\"\";return this.lastNeed?r+this.lastChar.toString(\"base64\",0,3-this.lastNeed):r}function simpleWrite(buf){return buf.toString(this.encoding)}function simpleEnd(buf){return buf&&buf.length?this.write(buf):\"\"}exports.StringDecoder=StringDecoder,StringDecoder.prototype.write=function(buf){if(0===buf.length)return\"\";var r,i;if(this.lastNeed){if(void 0===(r=this.fillLast(buf)))return\"\";i=this.lastNeed,this.lastNeed=0}else i=0;return i<buf.length?r?r+this.text(buf,i):this.text(buf,i):r||\"\"},StringDecoder.prototype.end=function(buf){var r=buf&&buf.length?this.write(buf):\"\";return this.lastNeed?r+\"\":r},StringDecoder.prototype.text=function(buf,i){var total=function(self,buf,i){var j=buf.length-1;if(j<i)return 0;var nb=utf8CheckByte(buf[j]);if(nb>=0)return nb>0&&(self.lastNeed=nb-1),nb;if(--j<i||-2===nb)return 0;if((nb=utf8CheckByte(buf[j]))>=0)return nb>0&&(self.lastNeed=nb-2),nb;if(--j<i||-2===nb)return 0;if((nb=utf8CheckByte(buf[j]))>=0)return nb>0&&(2===nb?nb=0:self.lastNeed=nb-3),nb;return 0}(this,buf,i);if(!this.lastNeed)return buf.toString(\"utf8\",i);this.lastTotal=total;var end=buf.length-(total-this.lastNeed);return buf.copy(this.lastChar,0,end),buf.toString(\"utf8\",i,end)},StringDecoder.prototype.fillLast=function(buf){if(this.lastNeed<=buf.length)return buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,buf.length),this.lastNeed-=buf.length}},function(module,exports,__nested_webpack_require_201227__){\"use strict\";module.exports=Transform;var Duplex=__nested_webpack_require_201227__(12),util=Object.create(__nested_webpack_require_201227__(23));function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState={afterTransform:function(er,data){var ts=this._transformState;ts.transforming=!1;var cb=ts.writecb;if(!cb)return this.emit(\"error\",new Error(\"write callback called multiple times\"));ts.writechunk=null,ts.writecb=null,null!=data&&this.push(data),cb(er);var rs=this._readableState;rs.reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,options&&(\"function\"==typeof options.transform&&(this._transform=options.transform),\"function\"==typeof options.flush&&(this._flush=options.flush)),this.on(\"prefinish\",prefinish)}function prefinish(){var _this=this;\"function\"==typeof this._flush?this._flush(function(er,data){done(_this,er,data)}):done(this,null,null)}function done(stream,er,data){if(er)return stream.emit(\"error\",er);if(null!=data&&stream.push(data),stream._writableState.length)throw new Error(\"Calling transform done when ws.length != 0\");if(stream._transformState.transforming)throw new Error(\"Calling transform done when still transforming\");return stream.push(null)}util.inherits=__nested_webpack_require_201227__(15),util.inherits(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){throw new Error(\"_transform() is not implemented\")},Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;if(ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=encoding,!ts.transforming){var rs=this._readableState;(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}},Transform.prototype._read=function(n){var ts=this._transformState;null!==ts.writechunk&&ts.writecb&&!ts.transforming?(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)):ts.needTransform=!0},Transform.prototype._destroy=function(err,cb){var _this2=this;Duplex.prototype._destroy.call(this,err,function(err2){cb(err2),_this2.emit(\"close\")})}},function(module,exports,__nested_webpack_require_203680__){\"use strict\";var utils=__nested_webpack_require_203680__(0),support=__nested_webpack_require_203680__(7),_keyStr=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";exports.encode=function(input){for(var chr1,chr2,chr3,enc1,enc2,enc3,enc4,output=[],i=0,len=input.length,remainingBytes=len,isArray=\"string\"!==utils.getTypeOf(input);i<input.length;)remainingBytes=len-i,isArray?(chr1=input[i++],chr2=i<len?input[i++]:0,chr3=i<len?input[i++]:0):(chr1=input.charCodeAt(i++),chr2=i<len?input.charCodeAt(i++):0,chr3=i<len?input.charCodeAt(i++):0),enc1=chr1>>2,enc2=(3&chr1)<<4|chr2>>4,enc3=remainingBytes>1?(15&chr2)<<2|chr3>>6:64,enc4=remainingBytes>2?63&chr3:64,output.push(_keyStr.charAt(enc1)+_keyStr.charAt(enc2)+_keyStr.charAt(enc3)+_keyStr.charAt(enc4));return output.join(\"\")},exports.decode=function(input){var chr1,chr2,chr3,enc2,enc3,enc4,i=0,resultIndex=0;if(\"data:\"===input.substr(0,\"data:\".length))throw new Error(\"Invalid base64 input, it looks like a data url.\");var output,totalLength=3*(input=input.replace(/[^A-Za-z0-9\\+\\/\\=]/g,\"\")).length/4;if(input.charAt(input.length-1)===_keyStr.charAt(64)&&totalLength--,input.charAt(input.length-2)===_keyStr.charAt(64)&&totalLength--,totalLength%1!=0)throw new Error(\"Invalid base64 input, bad content length.\");for(output=support.uint8array?new Uint8Array(0|totalLength):new Array(0|totalLength);i<input.length;)chr1=_keyStr.indexOf(input.charAt(i++))<<2|(enc2=_keyStr.indexOf(input.charAt(i++)))>>4,chr2=(15&enc2)<<4|(enc3=_keyStr.indexOf(input.charAt(i++)))>>2,chr3=(3&enc3)<<6|(enc4=_keyStr.indexOf(input.charAt(i++))),output[resultIndex++]=chr1,64!==enc3&&(output[resultIndex++]=chr2),64!==enc4&&(output[resultIndex++]=chr3);return output}},function(module,exports,__nested_webpack_require_205413__){\"use strict\";(function(Buffer){var utils=__nested_webpack_require_205413__(0),ConvertWorker=__nested_webpack_require_205413__(103),GenericWorker=__nested_webpack_require_205413__(2),base64=__nested_webpack_require_205413__(57),support=__nested_webpack_require_205413__(7),external=__nested_webpack_require_205413__(24),NodejsStreamOutputAdapter=null;if(support.nodestream)try{NodejsStreamOutputAdapter=__nested_webpack_require_205413__(104)}catch(e){}function accumulate(helper,updateCallback){return new external.Promise(function(resolve,reject){var dataArray=[],chunkType=helper._internalType,resultType=helper._outputType,mimeType=helper._mimeType;helper.on(\"data\",function(data,meta){dataArray.push(data),updateCallback&&updateCallback(meta)}).on(\"error\",function(err){dataArray=[],reject(err)}).on(\"end\",function(){try{var result=function(type,content,mimeType){switch(type){case\"blob\":return utils.newBlob(utils.transformTo(\"arraybuffer\",content),mimeType);case\"base64\":return base64.encode(content);default:return utils.transformTo(type,content)}}(resultType,function(type,dataArray){var i,index=0,res=null,totalLength=0;for(i=0;i<dataArray.length;i++)totalLength+=dataArray[i].length;switch(type){case\"string\":return dataArray.join(\"\");case\"array\":return Array.prototype.concat.apply([],dataArray);case\"uint8array\":for(res=new Uint8Array(totalLength),i=0;i<dataArray.length;i++)res.set(dataArray[i],index),index+=dataArray[i].length;return res;case\"nodebuffer\":return Buffer.concat(dataArray);default:throw new Error(\"concat : unsupported type '\"+type+\"'\")}}(chunkType,dataArray),mimeType);resolve(result)}catch(e){reject(e)}dataArray=[]}).resume()})}function StreamHelper(worker,outputType,mimeType){var internalType=outputType;switch(outputType){case\"blob\":case\"arraybuffer\":internalType=\"uint8array\";break;case\"base64\":internalType=\"string\"}try{this._internalType=internalType,this._outputType=outputType,this._mimeType=mimeType,utils.checkSupport(internalType),this._worker=worker.pipe(new ConvertWorker(internalType)),worker.lock()}catch(e){this._worker=new GenericWorker(\"error\"),this._worker.error(e)}}StreamHelper.prototype={accumulate:function(updateCb){return accumulate(this,updateCb)},on:function(evt,fn){var self=this;return\"data\"===evt?this._worker.on(evt,function(chunk){fn.call(self,chunk.data,chunk.meta)}):this._worker.on(evt,function(){utils.delay(fn,arguments,self)}),this},resume:function(){return utils.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(updateCb){if(utils.checkSupport(\"nodestream\"),\"nodebuffer\"!==this._outputType)throw new Error(this._outputType+\" is not supported by this method\");return new NodejsStreamOutputAdapter(this,{objectMode:\"nodebuffer\"!==this._outputType},updateCb)}},module.exports=StreamHelper}).call(this,__nested_webpack_require_205413__(21).Buffer)},function(module,exports,__webpack_require__){\"use strict\";exports.base64=!1,exports.binary=!1,exports.dir=!1,exports.createFolders=!0,exports.date=null,exports.compression=null,exports.compressionOptions=null,exports.comment=null,exports.unixPermissions=null,exports.dosPermissions=null},function(module,exports,__nested_webpack_require_208524__){\"use strict\";var utils=__nested_webpack_require_208524__(0),GenericWorker=__nested_webpack_require_208524__(2);function DataWorker(dataP){GenericWorker.call(this,\"DataWorker\");var self=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type=\"\",this._tickScheduled=!1,dataP.then(function(data){self.dataIsReady=!0,self.data=data,self.max=data&&data.length||0,self.type=utils.getTypeOf(data),self.isPaused||self._tickAndRepeat()},function(e){self.error(e)})}utils.inherits(DataWorker,GenericWorker),DataWorker.prototype.cleanUp=function(){GenericWorker.prototype.cleanUp.call(this),this.data=null},DataWorker.prototype.resume=function(){return!!GenericWorker.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,utils.delay(this._tickAndRepeat,[],this)),!0)},DataWorker.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(utils.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},DataWorker.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var data=null,nextIndex=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case\"string\":data=this.data.substring(this.index,nextIndex);break;case\"uint8array\":data=this.data.subarray(this.index,nextIndex);break;case\"array\":case\"nodebuffer\":data=this.data.slice(this.index,nextIndex)}return this.index=nextIndex,this.push({data:data,meta:{percent:this.max?this.index/this.max*100:0}})},module.exports=DataWorker},function(module,exports,__nested_webpack_require_210095__){\"use strict\";var utils=__nested_webpack_require_210095__(0),GenericWorker=__nested_webpack_require_210095__(2);function DataLengthProbe(propName){GenericWorker.call(this,\"DataLengthProbe for \"+propName),this.propName=propName,this.withStreamInfo(propName,0)}utils.inherits(DataLengthProbe,GenericWorker),DataLengthProbe.prototype.processChunk=function(chunk){if(chunk){var length=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=length+chunk.data.length}GenericWorker.prototype.processChunk.call(this,chunk)},module.exports=DataLengthProbe},function(module,exports,__nested_webpack_require_210669__){\"use strict\";var GenericWorker=__nested_webpack_require_210669__(2),crc32=__nested_webpack_require_210669__(43);function Crc32Probe(){GenericWorker.call(this,\"Crc32Probe\"),this.withStreamInfo(\"crc32\",0)}__nested_webpack_require_210669__(0).inherits(Crc32Probe,GenericWorker),Crc32Probe.prototype.processChunk=function(chunk){this.streamInfo.crc32=crc32(chunk.data,this.streamInfo.crc32||0),this.push(chunk)},module.exports=Crc32Probe},function(module,exports,__nested_webpack_require_211107__){\"use strict\";var GenericWorker=__nested_webpack_require_211107__(2);exports.STORE={magic:\"\\0\\0\",compressWorker:function(compressionOptions){return new GenericWorker(\"STORE compression\")},uncompressWorker:function(){return new GenericWorker(\"STORE decompression\")}},exports.DEFLATE=__nested_webpack_require_211107__(107)},function(module,exports,__webpack_require__){\"use strict\";module.exports=function(adler,buf,len,pos){for(var s1=65535&adler|0,s2=adler>>>16&65535|0,n=0;0!==len;){len-=n=len>2e3?2e3:len;do{s2=s2+(s1=s1+buf[pos++]|0)|0}while(--n);s1%=65521,s2%=65521}return s1|s2<<16|0}},function(module,exports,__webpack_require__){\"use strict\";var crcTable=function(){for(var c,table=[],n=0;n<256;n++){c=n;for(var k=0;k<8;k++)c=1&c?3988292384^c>>>1:c>>>1;table[n]=c}return table}();module.exports=function(crc,buf,len,pos){var t=crcTable,end=pos+len;crc^=-1;for(var i=pos;i<end;i++)crc=crc>>>8^t[255&(crc^buf[i])];return-1^crc}},function(module,exports,__nested_webpack_require_212057__){\"use strict\";var utils=__nested_webpack_require_212057__(8),STR_APPLY_OK=!0,STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,[0])}catch(__){STR_APPLY_OK=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(__){STR_APPLY_UIA_OK=!1}for(var _utf8len=new utils.Buf8(256),q=0;q<256;q++)_utf8len[q]=q>=252?6:q>=248?5:q>=240?4:q>=224?3:q>=192?2:1;function buf2binstring(buf,len){if(len<65534&&(buf.subarray&&STR_APPLY_UIA_OK||!buf.subarray&&STR_APPLY_OK))return String.fromCharCode.apply(null,utils.shrinkBuf(buf,len));for(var result=\"\",i=0;i<len;i++)result+=String.fromCharCode(buf[i]);return result}_utf8len[254]=_utf8len[254]=1,exports.string2buf=function(str){var buf,c,c2,m_pos,i,str_len=str.length,buf_len=0;for(m_pos=0;m_pos<str_len;m_pos++)55296==(64512&(c=str.charCodeAt(m_pos)))&&m_pos+1<str_len&&56320==(64512&(c2=str.charCodeAt(m_pos+1)))&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++),buf_len+=c<128?1:c<2048?2:c<65536?3:4;for(buf=new utils.Buf8(buf_len),i=0,m_pos=0;i<buf_len;m_pos++)55296==(64512&(c=str.charCodeAt(m_pos)))&&m_pos+1<str_len&&56320==(64512&(c2=str.charCodeAt(m_pos+1)))&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++),c<128?buf[i++]=c:c<2048?(buf[i++]=192|c>>>6,buf[i++]=128|63&c):c<65536?(buf[i++]=224|c>>>12,buf[i++]=128|c>>>6&63,buf[i++]=128|63&c):(buf[i++]=240|c>>>18,buf[i++]=128|c>>>12&63,buf[i++]=128|c>>>6&63,buf[i++]=128|63&c);return buf},exports.buf2binstring=function(buf){return buf2binstring(buf,buf.length)},exports.binstring2buf=function(str){for(var buf=new utils.Buf8(str.length),i=0,len=buf.length;i<len;i++)buf[i]=str.charCodeAt(i);return buf},exports.buf2string=function(buf,max){var i,out,c,c_len,len=max||buf.length,utf16buf=new Array(2*len);for(out=0,i=0;i<len;)if((c=buf[i++])<128)utf16buf[out++]=c;else if((c_len=_utf8len[c])>4)utf16buf[out++]=65533,i+=c_len-1;else{for(c&=2===c_len?31:3===c_len?15:7;c_len>1&&i<len;)c=c<<6|63&buf[i++],c_len--;c_len>1?utf16buf[out++]=65533:c<65536?utf16buf[out++]=c:(c-=65536,utf16buf[out++]=55296|c>>10&1023,utf16buf[out++]=56320|1023&c)}return buf2binstring(utf16buf,out)},exports.utf8border=function(buf,max){var pos;for((max=max||buf.length)>buf.length&&(max=buf.length),pos=max-1;pos>=0&&128==(192&buf[pos]);)pos--;return pos<0?max:0===pos?max:pos+_utf8len[buf[pos]]>max?pos:max}},function(module,exports,__webpack_require__){\"use strict\";module.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}},function(module,exports,__webpack_require__){\"use strict\";module.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(module,exports,__webpack_require__){\"use strict\";exports.LOCAL_FILE_HEADER=\"PK\u0003\u0004\",exports.CENTRAL_FILE_HEADER=\"PK\u0001\u0002\",exports.CENTRAL_DIRECTORY_END=\"PK\u0005\u0006\",exports.ZIP64_CENTRAL_DIRECTORY_LOCATOR=\"PK\u0006\u0007\",exports.ZIP64_CENTRAL_DIRECTORY_END=\"PK\u0006\u0006\",exports.DATA_DESCRIPTOR=\"PK\u0007\\b\"},function(module,exports,__nested_webpack_require_215384__){\"use strict\";var utils=__nested_webpack_require_215384__(0),support=__nested_webpack_require_215384__(7),ArrayReader=__nested_webpack_require_215384__(71),StringReader=__nested_webpack_require_215384__(121),NodeBufferReader=__nested_webpack_require_215384__(122),Uint8ArrayReader=__nested_webpack_require_215384__(73);module.exports=function(data){var type=utils.getTypeOf(data);return utils.checkSupport(type),\"string\"!==type||support.uint8array?\"nodebuffer\"===type?new NodeBufferReader(data):support.uint8array?new Uint8ArrayReader(utils.transformTo(\"uint8array\",data)):new ArrayReader(utils.transformTo(\"array\",data)):new StringReader(data)}},function(module,exports,__nested_webpack_require_215991__){\"use strict\";var DataReader=__nested_webpack_require_215991__(72);function ArrayReader(data){DataReader.call(this,data);for(var i=0;i<this.data.length;i++)data[i]=255&data[i]}__nested_webpack_require_215991__(0).inherits(ArrayReader,DataReader),ArrayReader.prototype.byteAt=function(i){return this.data[this.zero+i]},ArrayReader.prototype.lastIndexOfSignature=function(sig){for(var sig0=sig.charCodeAt(0),sig1=sig.charCodeAt(1),sig2=sig.charCodeAt(2),sig3=sig.charCodeAt(3),i=this.length-4;i>=0;--i)if(this.data[i]===sig0&&this.data[i+1]===sig1&&this.data[i+2]===sig2&&this.data[i+3]===sig3)return i-this.zero;return-1},ArrayReader.prototype.readAndCheckSignature=function(sig){var sig0=sig.charCodeAt(0),sig1=sig.charCodeAt(1),sig2=sig.charCodeAt(2),sig3=sig.charCodeAt(3),data=this.readData(4);return sig0===data[0]&&sig1===data[1]&&sig2===data[2]&&sig3===data[3]},ArrayReader.prototype.readData=function(size){if(this.checkOffset(size),0===size)return[];var result=this.data.slice(this.zero+this.index,this.zero+this.index+size);return this.index+=size,result},module.exports=ArrayReader},function(module,exports,__nested_webpack_require_217100__){\"use strict\";var utils=__nested_webpack_require_217100__(0);function DataReader(data){this.data=data,this.length=data.length,this.index=0,this.zero=0}DataReader.prototype={checkOffset:function(offset){this.checkIndex(this.index+offset)},checkIndex:function(newIndex){if(this.length<this.zero+newIndex||newIndex<0)throw new Error(\"End of data reached (data length = \"+this.length+\", asked index = \"+newIndex+\"). Corrupted zip ?\")},setIndex:function(newIndex){this.checkIndex(newIndex),this.index=newIndex},skip:function(n){this.setIndex(this.index+n)},byteAt:function(i){},readInt:function(size){var i,result=0;for(this.checkOffset(size),i=this.index+size-1;i>=this.index;i--)result=(result<<8)+this.byteAt(i);return this.index+=size,result},readString:function(size){return utils.transformTo(\"string\",this.readData(size))},readData:function(size){},lastIndexOfSignature:function(sig){},readAndCheckSignature:function(sig){},readDate:function(){var dostime=this.readInt(4);return new Date(Date.UTC(1980+(dostime>>25&127),(dostime>>21&15)-1,dostime>>16&31,dostime>>11&31,dostime>>5&63,(31&dostime)<<1))}},module.exports=DataReader},function(module,exports,__nested_webpack_require_218261__){\"use strict\";var ArrayReader=__nested_webpack_require_218261__(71);function Uint8ArrayReader(data){ArrayReader.call(this,data)}__nested_webpack_require_218261__(0).inherits(Uint8ArrayReader,ArrayReader),Uint8ArrayReader.prototype.readData=function(size){if(this.checkOffset(size),0===size)return new Uint8Array(0);var result=this.data.subarray(this.zero+this.index,this.zero+this.index+size);return this.index+=size,result},module.exports=Uint8ArrayReader},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE=void 0,exports.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE=\"pushwoosh-subscription-widget\"},function(module,exports,__nested_webpack_require_218978__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var PlatformChecker_1=__nested_webpack_require_218978__(76),PlatformChecker_2=__nested_webpack_require_218978__(76);Object.defineProperty(exports,\"PlatformChecker\",{enumerable:!0,get:function(){return PlatformChecker_2.PlatformChecker}}),exports.default=PlatformChecker_1.platformChecker},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.platformChecker=exports.PlatformChecker=void 0;var PlatformChecker=function(){function PlatformChecker(global){void 0===global&&(global=window),this.global=global,this._isSafari=this.isSafariBrowser(),this._isOpera=this.isOperaBrowser(),this._isEdge=this.isEdgeBrowser(),this._isFirefox=this.isFirefoxBrowser(),this._isChrome=this.isChromeBrowser(),this._isMacOS=this.isMacOS(),this._isAvailablePromise=this.canUsePromise(),this._isAvailableServiceWorker=this.canUseServiceWorkers(),this._isAvailableNotifications=this.canReceiveNotifications(),this._platform=this.getPlatformType(),this._browserVersion=this.getBrowserVersion()}return Object.defineProperty(PlatformChecker.prototype,\"isEdge\",{get:function(){return this._isEdge},enumerable:!1,configurable:!0}),Object.defineProperty(PlatformChecker.prototype,\"isSafari\",{get:function(){return this._isSafari},enumerable:!1,configurable:!0}),Object.defineProperty(PlatformChecker.prototype,\"isOpera\",{get:function(){return this._isOpera},enumerable:!1,configurable:!0}),Object.defineProperty(PlatformChecker.prototype,\"isAvailablePromise\",{get:function(){return this._isAvailablePromise},enumerable:!1,configurable:!0}),Object.defineProperty(PlatformChecker.prototype,\"isAvailableServiceWorker\",{get:function(){return this._isAvailableServiceWorker},enumerable:!1,configurable:!0}),Object.defineProperty(PlatformChecker.prototype,\"isAvailableNotifications\",{get:function(){return this._isAvailableNotifications},enumerable:!1,configurable:!0}),Object.defineProperty(PlatformChecker.prototype,\"platform\",{get:function(){return this._platform},enumerable:!1,configurable:!0}),Object.defineProperty(PlatformChecker.prototype,\"browserVersion\",{get:function(){return this._browserVersion},enumerable:!1,configurable:!0}),PlatformChecker.prototype.isSafariBrowser=function(){return\"safari\"in this.global&&navigator.userAgent.indexOf(\"Safari\")>-1},PlatformChecker.prototype.isOperaBrowser=function(){return-1!==navigator.userAgent.indexOf(\"Opera\")||-1!==navigator.userAgent.indexOf(\"OPR\")},PlatformChecker.prototype.isEdgeBrowser=function(){return navigator.userAgent.indexOf(\"Edge\")>-1},PlatformChecker.prototype.isFirefoxBrowser=function(){return-1!==navigator.userAgent.toLowerCase().indexOf(\"firefox\")},PlatformChecker.prototype.isChromeBrowser=function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)&&!this._isOpera&&!this._isEdge},PlatformChecker.prototype.isMacOS=function(){return\"platform\"in navigator&&-1!==navigator.platform.toLowerCase().indexOf(\"mac\")},PlatformChecker.prototype.canUseServiceWorkers=function(){return!!navigator.serviceWorker&&\"PushManager\"in this.global&&\"Notification\"in this.global},PlatformChecker.prototype.canUsePromise=function(){return\"Promise\"in this.global},PlatformChecker.prototype.canReceiveNotifications=function(){return this._isSafari&&this._isMacOS||this._isAvailableServiceWorker&&!this._isEdge},PlatformChecker.prototype.getPlatformType=function(){var platform=11;switch(!0){case this._isSafari:platform=10;break;case this._isOpera||this._isChrome:platform=11;break;case this._isFirefox:platform=12;break;case this._isEdge:platform=150}return platform},PlatformChecker.prototype.getBrowserVersion=function(){var userAgent=navigator.userAgent,matchOperaVersion=userAgent.match(/\\bOPR\\/(\\d+)/);if(null!==matchOperaVersion)return\"Opera \"+matchOperaVersion[1];var matchEdgeVersion=userAgent.match(/\\bEdge\\/(\\d+)/);if(null!==matchEdgeVersion)return\"Edge \"+matchEdgeVersion[1];var matchEdgVersion=userAgent.match(/\\bEdg\\/(\\d+)/);if(null!==matchEdgVersion)return\"Edge \"+matchEdgVersion[1];var match=userAgent.match(/(opera|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i)||[],_a=(match[0],match[1]),browser=void 0===_a?\"\":_a;if(/trident/i.test(userAgent)){var matchIeVersion=/trident\\/([.\\d]+)/gi.exec(userAgent)||[];return\"IE \"+((\"7.0\"===matchIeVersion[1]?\"11\":matchIeVersion[1])||\"\")}match=match[2]?[browser,match[2]]:[navigator.appName,navigator.appVersion,\"-?\"];var version=userAgent.match(/version\\/([.\\d]+)/i);return null!==version&&match.splice(1,1,version[1]),match.join(\" \")},PlatformChecker}();exports.PlatformChecker=PlatformChecker,exports.platformChecker=new PlatformChecker(Function(\"return this\")())},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.SUBSCRIBE_WIDGET_DEFAULT_CONFIG=exports.WIDGET_CONTAINER_ID=exports.BELL_POSITION_TOP_LEFT=exports.BELL_POSITION_TOP_RIGHT=exports.BELL_POSITION_BOTTOM_LEFT=exports.BELL_POSITION_BOTTOM_RIGHT=void 0,exports.BELL_POSITION_BOTTOM_RIGHT=\"bottomRight\",exports.BELL_POSITION_BOTTOM_LEFT=\"bottomLeft\",exports.BELL_POSITION_TOP_RIGHT=\"topRight\",exports.BELL_POSITION_TOP_LEFT=\"topLeft\",exports.WIDGET_CONTAINER_ID=\"pushwooshBellWidget\",exports.SUBSCRIBE_WIDGET_DEFAULT_CONFIG={position:exports.BELL_POSITION_BOTTOM_LEFT,bgColor:\"#12AE7E\",bellColor:\"white\",bellStrokeColor:\"#08754f\",bellButtonBorder:\"1px solid #379676\",shadow:\"0px 0px 6px rgba(0, 0, 0, 0.75)\",size:\"48px\",indent:\"20px\",zIndex:\"999999\",tooltipText:{successSubscribe:\"You are successfully subscribed!\",needSubscribe:\"Get notifications about important news!\",blockSubscribe:\"Click to see how to get notifications\",alreadySubscribed:\"You are already subscribed\"}}},function(module,exports,__nested_webpack_require_224756__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var Pushwoosh_1=__nested_webpack_require_224756__(79);Object.defineProperty(exports,\"Pushwoosh\",{enumerable:!0,get:function(){return Pushwoosh_1.default}}),__nested_webpack_require_224756__(145),__nested_webpack_require_224756__(151),__nested_webpack_require_224756__(153)},function(module,exports,__nested_webpack_require_225087__){\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var uuid_1=__nested_webpack_require_225087__(13),EventBus_1=__nested_webpack_require_225087__(32),Api_1=__nested_webpack_require_225087__(34),Data_1=__nested_webpack_require_225087__(4),ApiClient_1=__nested_webpack_require_225087__(26),PushService_1=__nested_webpack_require_225087__(80),Popup_1=__nested_webpack_require_225087__(82),SubscriptionSegmentsWidget_1=__nested_webpack_require_225087__(84),SubscriptionPromptWidget_1=__nested_webpack_require_225087__(125),CONSTANTS=__nested_webpack_require_225087__(1),functions_1=__nested_webpack_require_225087__(10),PlatformChecker_1=__nested_webpack_require_225087__(75),logger_1=__nested_webpack_require_225087__(3),FacebookModule_1=__nested_webpack_require_225087__(127),InApps_1=__nested_webpack_require_225087__(128),storage_1=__nested_webpack_require_225087__(5),InboxMessages_1=__nested_webpack_require_225087__(45),InboxMessagesPublic_1=__nested_webpack_require_225087__(25),Pushwoosh=function(){function Pushwoosh(){var _this=this;this.ready=!1,this.addEventHandler=function(name,handler){return _this.eventBus.addEventHandler(name,handler)},this.removeEventHandler=function(name,handler){return _this.eventBus.removeEventHandler(name,handler)},this.dispatchEvent=function(name,payload){return _this.eventBus.dispatchEvent(name,payload)},this.debug={showLog:function(){return __awaiter(this,void 0,void 0,function(){var items;return __generator(this,function(_a){switch(_a.label){case 0:return[4,storage_1.log.getAll()];case 1:return items=_a.sent(),console.log(items),[2]}})})},showKeyValues:function(){return __awaiter(this,void 0,void 0,function(){var items;return __generator(this,function(_a){switch(_a.label){case 0:return[4,storage_1.keyValue.getAll()];case 1:return items=_a.sent(),console.log(items),[2]}})})},showMessages:function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,storage_1.message.getAll()];case 1:return _a.sent().forEach(function(i){return console.log(i)}),[2]}})})}},this.eventBus=new EventBus_1.EventBus,this.data=new Data_1.Data,this.apiClient=new ApiClient_1.ApiClient(this.data),this.api=new Api_1.Api(this.eventBus,this.data,this.apiClient),this.platformChecker=new PlatformChecker_1.PlatformChecker,this.inboxModel=new InboxMessages_1.default(this.eventBus,this.data,this.api),this.pwinbox=new InboxMessagesPublic_1.default(this.data,this.api,this.inboxModel),this.onServiceWorkerMessage=this.onServiceWorkerMessage.bind(this);var popup=new Popup_1.Popup(\"subscription-segments\",function(){return _this.eventBus.dispatchEvent(\"hide-subscription-widget\",{})},{position:\"top\"});this.subscriptionSegmentWidget=new SubscriptionSegmentsWidget_1.SubscriptionSegmentsWidget(this.eventBus,this.data,this.apiClient,this.api,popup,this),this.subscriptionPromptWidget=new SubscriptionPromptWidget_1.SubscriptionPromptWidget(this.eventBus,this)}return Pushwoosh.prototype.push=function(command){if(\"function\"!=typeof command){if(!Array.isArray(command))throw new Error(\"Invalid command!\");switch(command[0]){case\"init\":this.initialize(command[1]);break;case CONSTANTS.EVENT_ON_LOAD:case CONSTANTS.EVENT_ON_READY:case CONSTANTS.EVENT_ON_REGISTER:case CONSTANTS.EVENT_ON_SUBSCRIBE:case CONSTANTS.EVENT_ON_UNSUBSCRIBE:case CONSTANTS.EVENT_ON_SW_INIT_ERROR:case CONSTANTS.EVENT_ON_PUSH_DELIVERY:case CONSTANTS.EVENT_ON_NOTIFICATION_CLICK:case CONSTANTS.EVENT_ON_NOTIFICATION_CLOSE:case CONSTANTS.EVENT_ON_CHANGE_COMMUNICATION_ENABLED:case CONSTANTS.EVENT_ON_PUT_NEW_MESSAGE_TO_INBOX_STORE:case CONSTANTS.EVENT_ON_UPDATE_INBOX_MESSAGES:case CONSTANTS.EVENT_ON_SHOW_NOTIFICATION_PERMISSION_DIALOG:case CONSTANTS.EVENT_ON_HIDE_NOTIFICATION_PERMISSION_DIALOG:case CONSTANTS.EVENT_ON_SHOW_SUBSCRIPTION_WIDGET:case CONSTANTS.EVENT_ON_HIDE_SUBSCRIPTION_WIDGET:case CONSTANTS.EVENT_ON_PERMISSION_DENIED:case CONSTANTS.EVENT_ON_PERMISSION_PROMPT:case CONSTANTS.EVENT_ON_PERMISSION_GRANTED:this.subscribeToLegacyEvents(command[0],command[1]);break;default:throw new Error(\"Unknown command!\")}}else this.subscribeToLegacyEvents(\"onReady\",command)},Pushwoosh.prototype.subscribe=function(isForceSubscribe){return void 0===isForceSubscribe&&(isForceSubscribe=!0),__awaiter(this,void 0,void 0,function(){var permission_1,permission,isManualUnsubscribed,isDeviceRegister;return __generator(this,function(_a){switch(_a.label){case 0:return this.isCommunicationDisabled&&logger_1.Logger.error(\"Communication is disabled!\"),this.driver.checkIsPermissionDefault()?(this.eventBus.dispatchEvent(\"show-notification-permission-dialog\",{}),[4,this.driver.askPermission()]):[3,2];case 1:_a.sent(),permission_1=this.driver.getPermission(),this.eventBus.dispatchEvent(\"hide-notification-permission-dialog\",{permission:permission_1}),_a.label=2;case 2:return permission=this.driver.getPermission(),[4,this.data.getStatusManualUnsubscribed()];case 3:return isManualUnsubscribed=_a.sent(),[4,this.api.checkDeviceSubscribeForPushNotifications(!1)];case 4:return isDeviceRegister=_a.sent(),permission!==CONSTANTS.PERMISSION_GRANTED?[3,7]:(this.eventBus.dispatchEvent(\"permission-granted\",{}),!(isForceSubscribe||!isManualUnsubscribed)||isDeviceRegister?[3,6]:[4,this.driver.subscribe()]);case 5:_a.sent(),_a.label=6;case 6:return this.eventBus.dispatchEvent(\"subscribe\",{}),[2];case 7:return permission!==CONSTANTS.PERMISSION_DENIED?[3,10]:(this.eventBus.dispatchEvent(\"permission-denied\",{}),isDeviceRegister?[4,this.driver.unsubscribe()]:[3,9]);case 8:_a.sent(),_a.label=9;case 9:case 10:return[2]}})})},Pushwoosh.prototype.unsubscribe=function(){return __awaiter(this,void 0,void 0,function(){var error_1;return __generator(this,function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.driver.unsubscribe()];case 1:return _a.sent(),[3,3];case 2:return error_1=_a.sent(),logger_1.Logger.error(error_1,\"Error occurred during the unsubscribe\"),[3,3];case 3:return[2]}})})},Pushwoosh.prototype.forceSubscribe=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.subscribe(!0)];case 1:return _a.sent(),[2]}})})},Pushwoosh.prototype.isDeviceRegistered=function(){return localStorage.getItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS)===CONSTANTS.DEVICE_REGISTRATION_STATUS_REGISTERED},Pushwoosh.prototype.isDeviceUnregistered=function(){return localStorage.getItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS)===CONSTANTS.DEVICE_REGISTRATION_STATUS_UNREGISTERED},Pushwoosh.prototype.isSubscribed=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.api.checkDeviceSubscribeForPushNotifications()]})})},Pushwoosh.prototype.isCommunicationEnabled=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getStatusCommunicationDisabled()];case 1:return[2,!_a.sent()]}})})},Pushwoosh.prototype.setCommunicationEnabled=function(isEnabled){return void 0===isEnabled&&(isEnabled=!0),__awaiter(this,void 0,void 0,function(){var deviceType,isPermissionGranted;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getDeviceType()];case 1:return deviceType=_a.sent(),isPermissionGranted=this.driver.checkIsPermissionGranted(),[4,this.data.setStatusCommunicationDisabled(!isEnabled)];case 2:return _a.sent(),isEnabled?[4,this.data.setStatusDropAllData(!1)]:[3,6];case 3:return _a.sent(),isPermissionGranted?[4,this.api.registerDevice()]:[3,5];case 4:_a.sent(),_a.label=5;case 5:return[3,8];case 6:return[4,this.api.unregisterDevice()];case 7:_a.sent(),_a.label=8;case 8:return this.eventBus.dispatchEvent(\"change-enabled-communication\",{isEnabled:isEnabled}),[4,this.api.postEvent(CONSTANTS.EVENT_GDPR_CONSENT,{channel:isEnabled,device_type:deviceType})];case 9:return _a.sent(),[2]}})})},Pushwoosh.prototype.removeAllDeviceData=function(){return __awaiter(this,void 0,void 0,function(){var deviceType;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getDeviceType()];case 1:return deviceType=_a.sent(),[4,this.api.postEvent(CONSTANTS.EVENT_GDPR_DELETE,{status:!0,device_type:deviceType})];case 2:return _a.sent(),[4,this.api.deleteDevice()];case 3:return _a.sent(),[4,this.data.clearAll()];case 4:return _a.sent(),[4,this.data.setStatusDropAllData(!0)];case 5:return _a.sent(),[2]}})})},Pushwoosh.prototype.getHWID=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getHwid()];case 1:return[2,_a.sent()]}})})},Pushwoosh.prototype.getPushToken=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getTokens()];case 1:return[2,_a.sent().pushToken]}})})},Pushwoosh.prototype.getUserId=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getUserId()];case 1:return[2,_a.sent()]}})})},Pushwoosh.prototype.getParams=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.api.getParams()];case 1:return[2,_a.sent()]}})})},Pushwoosh.prototype.isAvailableNotifications=function(){return this.platformChecker.isAvailableNotifications},Pushwoosh.prototype.sendStatisticsVisitedPage=function(){return __awaiter(this,void 0,void 0,function(){var title,_a,origin,pathname,href;return __generator(this,function(_b){switch(_b.label){case 0:return title=window.document.title,_a=window.location,origin=_a.origin,pathname=_a.pathname,href=_a.href,[4,this.api.pageVisit({title:title,url_path:\"\"+origin+pathname,url:href})];case 1:return _b.sent(),[2]}})})},Pushwoosh.prototype.isEnableChannels=function(){return __awaiter(this,void 0,void 0,function(){var features,channels;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getFeatures()];case 1:return features=_a.sent(),channels=features&&features.channels,[2,Array.isArray(channels)&&!!channels.length]}})})},Pushwoosh.prototype.initialize=function(params){return __awaiter(this,void 0,void 0,function(){var manualDebug,applicationCode,notSavedApplicationCode,isChangeApplicationCode,id,config,_a,userIdWasChange,inAppsConfig,error_2,error_3,delayedEvent,type,payload,hashReg,hash;return __generator(this,function(_b){switch(_b.label){case 0:return manualDebug=localStorage.getItem(CONSTANTS.MANUAL_SET_LOGGER_LEVEL),logger_1.Logger.setLevel(manualDebug||params.logLevel||\"error\"),this.platformChecker.isAvailableNotifications?[4,this.data.getApplicationCode()]:[2];case 1:if(applicationCode=_b.sent(),!params.applicationCode)throw new Error(\"Can't find application code!\");return notSavedApplicationCode=!applicationCode,isChangeApplicationCode=applicationCode&&applicationCode!==params.applicationCode,notSavedApplicationCode||isChangeApplicationCode?[4,this.data.clearAll()]:[3,4];case 2:return _b.sent(),[4,this.data.setApplicationCode(params.applicationCode)];case 3:_b.sent(),_b.label=4;case 4:return[4,this.data.getHwid()];case 5:return _b.sent()?[3,7]:(id=params.applicationCode+\"_\"+uuid_1.v4(),[4,this.data.setHwid(id)]);case 6:_b.sent(),_b.label=7;case 7:return[4,this.data.setDeviceType(this.platformChecker.getPlatformType())];case 8:return _b.sent(),[4,this.data.setDeviceModel(this.platformChecker.getBrowserVersion())];case 9:return _b.sent(),[4,this.data.setLanguage(params.tags&&params.tags.Language||navigator.language)];case 10:return _b.sent(),params.pushwooshUrl?[4,this.data.setApiEntrypoint(params.pushwooshUrl)]:[3,12];case 11:_b.sent(),_b.label=12;case 12:return[4,this.data.setSdkVersion(\"3.26.0\")];case 13:return _b.sent(),[4,this.api.getConfig([\"page_visit\",\"vapid_key\",\"web_in_apps\",\"events\",\"subscription_prompt\"])];case 14:return config=_b.sent(),this.onGetConfig(config&&config.features),this.subscribeWidgetConfig=__assign({enable:!1},params.subscribeWidget),this.inboxWidgetConfig=__assign({enable:!1},params.inboxWidget),this.subscribePopupConfig=__assign({enable:!1},params.subscribePopup),_a=this,[4,this.data.getStatusCommunicationDisabled()];case 15:return _a.isCommunicationDisabled=_b.sent(),[4,this.open()];case 16:return _b.sent(),[4,this.data.getStatusUserIdWasChanged()];case 17:return userIdWasChange=_b.sent(),!params.userId||\"user_id\"===params.userId||userIdWasChange?[3,19]:[4,this.api.registerUser(params.userId)];case 18:_b.sent(),_b.label=19;case 19:return params.tags&&this.api.setTags(params.tags),inAppsConfig=__assign({enable:config.features.web_in_apps&&config.features.web_in_apps.enabled},params.inApps),[4,this.initInApp(inAppsConfig)];case 20:return _b.sent(),this.platformChecker.isAvailableNotifications?[4,this.initPushNotifications(params)]:[3,22];case 21:_b.sent(),_b.label=22;case 22:return _b.trys.push([22,24,,25]),[4,this.inboxModel.updateMessages()];case 23:return _b.sent(),[3,25];case 24:return error_2=_b.sent(),logger_1.Logger.write(\"error\",error_2),[3,25];case 25:return _b.trys.push([25,27,,28]),[4,this.initFacebook(params)];case 26:return _b.sent(),[3,28];case 27:return error_3=_b.sent(),logger_1.Logger.write(\"error\",error_3),[3,28];case 28:return this.ready=!0,this.eventBus.dispatchEvent(\"ready\",{}),[4,this.data.getDelayedEvent()];case 29:return(delayedEvent=_b.sent())?(type=delayedEvent.type,payload=delayedEvent.payload,[4,this.emitLegacyEventsFromServiceWorker(type,payload)]):[3,32];case 30:return _b.sent(),[4,this.data.setDelayedEvent(null)];case 31:_b.sent(),_b.label=32;case 32:return\"serviceWorker\"in navigator&&(navigator.serviceWorker.onmessage=this.onServiceWorkerMessage),localStorage.setItem(\"pushwoosh-websdk-status\",\"init\"),document.dispatchEvent(new CustomEvent(\"pushwoosh.initialized\",{detail:{pw:this}})),this.platformChecker.isSafari&&(hashReg=/#P(.*)/,hash=decodeURIComponent(document.location.hash),hashReg.test(hash)&&this.api.pushStat(hashReg.exec(hash)[1]).then(functions_1.clearLocationHash)),[2]}})})},Pushwoosh.prototype.defaultProcess=function(initParams){return __awaiter(this,void 0,void 0,function(){var permission,isCommunicationDisabled,isDropAllData,isNeedResubscribe,features,currentPromptUseCase,autoSubscribe,isManualUnsubscribed,isRegister,widgetConfig,isDefaultUseCase,isNotSetUseCase,result;return __generator(this,function(_b){switch(_b.label){case 0:return\"granted\"!==(permission=this.driver.getPermission())?[3,2]:[4,this.data.setLastPermissionStatus(permission)];case 1:_b.sent(),_b.label=2;case 2:return[4,this.data.getStatusCommunicationDisabled()];case 3:return isCommunicationDisabled=_b.sent(),[4,this.data.getStatusDropAllData()];case 4:return isDropAllData=_b.sent(),[4,this.driver.checkIsNeedResubscribe()];case 5:return isNeedResubscribe=_b.sent(),[4,this.data.getFeatures()];case 6:return features=_b.sent(),currentPromptUseCase=features.subscription_prompt&&features.subscription_prompt.use_case,isCommunicationDisabled||isDropAllData?[4,this.unsubscribe()]:[3,8];case 7:return _b.sent(),[2];case 8:return isNeedResubscribe?[4,this.unsubscribe()]:[3,11];case 9:return _b.sent(),[4,this.data.setStatusManualUnsubscribed(!1)];case 10:_b.sent(),_b.label=11;case 11:return autoSubscribe=initParams.autoSubscribe,[4,this.data.getStatusManualUnsubscribed()];case 12:return isManualUnsubscribed=_b.sent(),[4,this.api.checkDeviceSubscribeForPushNotifications(!1)];case 13:switch(isRegister=_b.sent(),permission){case CONSTANTS.PERMISSION_PROMPT:return[3,14];case CONSTANTS.PERMISSION_DENIED:return[3,22];case CONSTANTS.PERMISSION_GRANTED:return[3,25]}return[3,31];case 14:return this.eventBus.dispatchEvent(\"permission-default\",{}),isRegister?[4,this.unsubscribe()]:[3,16];case 15:_b.sent(),_b.label=16;case 16:return[4,this.getWidgetConfig()];case 17:return widgetConfig=_b.sent(),[4,this.checkCanShowByCapping(widgetConfig)];case 18:return _b.sent()?currentPromptUseCase===CONSTANTS.SUBSCRIPTION_WIDGET_USE_CASE_TOPIC_BASED?[4,this.subscriptionSegmentWidget.init()]:[3,20]:[3,31];case 19:_b.sent(),_b.label=20;case 20:return isDefaultUseCase=currentPromptUseCase===CONSTANTS.SUBSCRIPTION_WIDGET_USE_CASE_DEFAULT,isNotSetUseCase=currentPromptUseCase===CONSTANTS.SUBSCRIPTION_WIDGET_USE_CASE_NOT_SET&&autoSubscribe,(isDefaultUseCase||isNotSetUseCase)&&(this.subscriptionPromptWidget.init(widgetConfig),this.subscriptionPromptWidget.show()),[4,this.updateCappingParams()];case 21:return _b.sent(),[3,31];case 22:return this.eventBus.dispatchEvent(\"permission-denied\",{}),isRegister?[4,this.unsubscribe()]:[3,24];case 23:_b.sent(),_b.label=24;case 24:return[3,31];case 25:return this.eventBus.dispatchEvent(\"permission-granted\",{}),isManualUnsubscribed&&isRegister?[4,this.unsubscribe()]:[3,27];case 26:_b.sent(),_b.label=27;case 27:return!isRegister&&!isManualUnsubscribed||isNeedResubscribe?[4,this.subscribe(!0)]:[3,30];case 28:return _b.sent(),currentPromptUseCase===CONSTANTS.SUBSCRIPTION_WIDGET_USE_CASE_TOPIC_BASED?(result=features.channels.map(function(channel){return channel.code}),[4,this.api.setTags({\"Subscription Segments\":result})]):[3,30];case 29:_b.sent(),_b.label=30;case 30:return[3,31];case 31:return[2]}})})},Pushwoosh.prototype.getWidgetConfig=function(){return __awaiter(this,void 0,void 0,function(){var features,currentConfig,configWithDefaultCapping;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getFeatures()];case 1:return features=_a.sent(),currentConfig=features.subscription_prompt_widget&&features.subscription_prompt_widget.params,configWithDefaultCapping=__assign({cappingCount:CONSTANTS.SUBSCRIPTION_PROMPT_WIDGET_DEFAULT_CONFIG.cappingCount,cappingDelay:CONSTANTS.SUBSCRIPTION_PROMPT_WIDGET_DEFAULT_CONFIG.cappingDelay},currentConfig),[2,currentConfig?configWithDefaultCapping:CONSTANTS.SUBSCRIPTION_PROMPT_WIDGET_DEFAULT_CONFIG]}})})},Pushwoosh.prototype.checkCanShowByCapping=function(widgetConfig){return __awaiter(this,void 0,void 0,function(){var currentTime,displayCount,lastSeenTime,canShowByCapping,canShowByLastTime;return __generator(this,function(_a){switch(_a.label){case 0:return currentTime=(new Date).getTime(),[4,this.data.getPromptDisplayCount()];case 1:return displayCount=_a.sent(),[4,this.data.getPromptLastSeenTime()];case 2:return lastSeenTime=_a.sent(),canShowByCapping=widgetConfig.cappingCount>displayCount,canShowByLastTime=currentTime-lastSeenTime>widgetConfig.cappingDelay,[2,canShowByCapping&&canShowByLastTime]}})})},Pushwoosh.prototype.updateCappingParams=function(){return __awaiter(this,void 0,void 0,function(){var displayCount,currentTime;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getPromptDisplayCount()];case 1:return displayCount=_a.sent(),currentTime=(new Date).getTime(),[4,this.data.setPromptDisplayCount(displayCount+1)];case 2:return _a.sent(),[4,this.data.setPromptLastSeenTime(currentTime)];case 3:return _a.sent(),[2]}})})},Pushwoosh.prototype.initFacebook=function(initParams){var facebook=__assign({enable:!1,pageId:\"\",containerClass:\"\"},initParams.facebook);if(facebook&&facebook.enable)try{new FacebookModule_1.default({pageId:facebook.pageId,containerClass:facebook.containerClass,applicationCode:initParams.applicationCode,userId:initParams.userId||\"\"})}catch(error){logger_1.Logger.error(error,\"facebook module initialization failed\")}},Pushwoosh.prototype.initInApp=function(params){return __awaiter(this,void 0,void 0,function(){var error_4,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:if(!params||!params.enable)return[3,4];_a.label=1;case 1:return _a.trys.push([1,3,,4]),this.InApps=new InApps_1.InApps(params,this,this.eventBus,this.api),[4,this.InApps.init().then(function(){logger_1.Logger.info(\"InApps module has been initialized\"),_this.eventBus.dispatchEvent(\"initialize-in-apps-module\",{})}).catch(function(error){logger_1.Logger.error(error,\"InApps module initialization has been failed\")})];case 2:return _a.sent(),[3,4];case 3:return error_4=_a.sent(),logger_1.Logger.error(error_4,\"InApp module initialization has been failed\"),[3,4];case 4:return[2]}})})},Pushwoosh.prototype.onServiceWorkerMessage=function(event){var _a=(event||{}).data,_b=(void 0===_a?{}:_a)||{},_c=_b.type,type=void 0===_c?\"\":_c,_d=_b.payload,payload=void 0===_d?{}:_d;this.emitLegacyEventsFromServiceWorker(type,payload)},Pushwoosh.prototype.open=function(isForce){return __awaiter(this,void 0,void 0,function(){var lastApplicationOpenTime,currentTime,isSendingPeriodExceeded;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getLastOpenApplicationTime()];case 1:return lastApplicationOpenTime=_a.sent(),currentTime=Date.now(),lastApplicationOpenTime||(lastApplicationOpenTime=0),isSendingPeriodExceeded=currentTime-lastApplicationOpenTime<CONSTANTS.PERIOD_SEND_APP_OPEN,isForce||!isSendingPeriodExceeded?[4,this.data.setLastOpenApplicationTime(currentTime)]:[2];case 2:return _a.sent(),[4,this.api.applicationOpen()];case 3:return _a.sent(),[2]}})})},Pushwoosh.prototype.onGetConfig=function(features){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.setFeatures(features)];case 1:return _a.sent(),features?features.page_visit&&features.page_visit.enabled?[4,storage_1.keyValue.set(CONSTANTS.PAGE_VISITED_URL,features.page_visit.entrypoint)]:[3,3]:[3,5];case 2:_a.sent(),this.sendStatisticsVisitedPage(),_a.label=3;case 3:return features.events&&features.events.length&&features.events.some(function(event){return event===CONSTANTS.EVENT_PW_SITE_OPENED})&&this.sendPostEventVisitedPage(),features.vapid_key?[4,this.data.setApplicationServerKey(features.vapid_key)]:[3,5];case 4:_a.sent(),_a.label=5;case 5:return[2]}})})},Pushwoosh.prototype.initPushNotifications=function(params){return __awaiter(this,void 0,void 0,function(){var error_5;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.setDefaultNotificationImage(params.defaultNotificationImage)];case 1:return _a.sent(),[4,this.data.setDefaultNotificationTitle(params.defaultNotificationTitle)];case 2:return _a.sent(),[4,this.data.setServiceWorkerUrl(params.serviceWorkerUrl)];case 3:return _a.sent(),[4,this.data.setServiceWorkerScope(params.scope)];case 4:return _a.sent(),[4,this.data.setInitParams(__assign({autoSubscribe:!0},params))];case 5:return _a.sent(),[4,this.initDriver()];case 6:_a.sent(),_a.label=7;case 7:return _a.trys.push([7,9,,10]),[4,this.defaultProcess(params)];case 8:return _a.sent(),[3,10];case 9:return error_5=_a.sent(),logger_1.Logger.error(error_5,\"Internal error: defaultProcess fail\"),[3,10];case 10:return[2]}})})},Pushwoosh.prototype.initDriver=function(){return __awaiter(this,void 0,void 0,function(){var webSitePushId;return __generator(this,function(_a){switch(_a.label){case 0:return this.platformChecker.isSafari?[4,this.data.getInitParams()]:[3,2];case 1:if(!(webSitePushId=_a.sent().safariWebsitePushID))throw new Error(\"For work with Safari Push Notification add safariWebsitePushID to initParams!\");return this.driver=new PushService_1.PushServiceSafari(this.api,this.data,{webSitePushId:webSitePushId}),[2];case 2:return this.platformChecker.isAvailableServiceWorker?(this.driver=new PushService_1.PushServiceDefault(this.api,this.data,{}),[2]):[2]}})})},Pushwoosh.prototype.sendPostEventVisitedPage=function(){return __awaiter(this,void 0,void 0,function(){var title,href;return __generator(this,function(_a){return title=window.document.title,href=window.location.href,this.api.postEvent(CONSTANTS.EVENT_PW_SITE_OPENED,{url:href,title:title,device_type:this.platformChecker.platform}),[2]})})},Pushwoosh.prototype.subscribeToLegacyEvents=function(type,handler){var _this=this;switch(type){case CONSTANTS.EVENT_ON_LOAD:handler();break;case CONSTANTS.EVENT_ON_READY:if(this.ready){handler(this.api);break}this.eventBus.addEventHandler(\"ready\",function(){return handler(_this.api)});break;case CONSTANTS.EVENT_ON_REGISTER:this.eventBus.addEventHandler(\"register\",function(){return handler(_this.api)});break;case CONSTANTS.EVENT_ON_SUBSCRIBE:this.eventBus.addEventHandler(\"subscribe\",function(){return handler(_this.api)});break;case CONSTANTS.EVENT_ON_UNSUBSCRIBE:this.eventBus.addEventHandler(\"unsubscribe\",function(){return handler(_this.api)});break;case CONSTANTS.EVENT_ON_SW_INIT_ERROR:this.eventBus.addEventHandler(\"initialize-service-worker-error\",function(_a){var error=_a.error;return handler(_this.api,error)});break;case CONSTANTS.EVENT_ON_PUSH_DELIVERY:this.eventBus.addEventHandler(\"receive-push\",function(_a){var notification=_a.notification;return handler(_this.api,notification)});break;case CONSTANTS.EVENT_ON_NOTIFICATION_CLICK:this.eventBus.addEventHandler(\"open-notification\",function(_a){var notification=_a.notification;return handler(_this.api,notification)});break;case CONSTANTS.EVENT_ON_NOTIFICATION_CLOSE:this.eventBus.addEventHandler(\"hide-notification\",function(_a){var notification=_a.notification;return handler(_this.api,notification)});break;case CONSTANTS.EVENT_ON_CHANGE_COMMUNICATION_ENABLED:this.eventBus.addEventHandler(\"change-enabled-communication\",function(_a){var isEnabled=_a.isEnabled;return handler(_this.api,isEnabled)});break;case CONSTANTS.EVENT_ON_PUT_NEW_MESSAGE_TO_INBOX_STORE:this.eventBus.addEventHandler(\"receive-inbox-message\",function(_a){var message=_a.message;return handler(_this.api,message)});break;case CONSTANTS.EVENT_ON_UPDATE_INBOX_MESSAGES:this.eventBus.addEventHandler(\"update-inbox-messages\",function(_a){var messages=_a.messages;return handler(_this.api,messages)});break;case CONSTANTS.EVENT_ON_SHOW_NOTIFICATION_PERMISSION_DIALOG:this.eventBus.addEventHandler(\"show-notification-permission-dialog\",function(){return handler(_this.api)});break;case CONSTANTS.EVENT_ON_HIDE_NOTIFICATION_PERMISSION_DIALOG:this.eventBus.addEventHandler(\"hide-notification-permission-dialog\",function(_a){var permission=_a.permission;return handler(_this.api,permission)});break;case CONSTANTS.EVENT_ON_SHOW_SUBSCRIPTION_WIDGET:this.eventBus.addEventHandler(\"show-subscription-widget\",function(){return handler(_this.api)});break;case CONSTANTS.EVENT_ON_HIDE_SUBSCRIPTION_WIDGET:this.eventBus.addEventHandler(\"hide-subscription-widget\",function(){return handler(_this.api)});break;case CONSTANTS.EVENT_ON_PERMISSION_DENIED:this.eventBus.addEventHandler(\"permission-denied\",function(){return handler(_this.api)});break;case CONSTANTS.EVENT_ON_PERMISSION_PROMPT:this.eventBus.addEventHandler(\"permission-default\",function(){return handler(_this.api)});break;case CONSTANTS.EVENT_ON_PERMISSION_GRANTED:this.eventBus.addEventHandler(\"permission-granted\",function(){return handler(_this.api)})}},Pushwoosh.prototype.emitLegacyEventsFromServiceWorker=function(type,payload){switch(type){case CONSTANTS.EVENT_ON_PUSH_DELIVERY:this.eventBus.dispatchEvent(\"receive-push\",{notification:payload});break;case CONSTANTS.EVENT_ON_NOTIFICATION_CLICK:this.eventBus.dispatchEvent(\"open-notification\",{notification:payload});break;case CONSTANTS.EVENT_ON_NOTIFICATION_CLOSE:this.eventBus.dispatchEvent(\"hide-notification\",{notification:payload});break;case CONSTANTS.EVENT_ON_PUT_NEW_MESSAGE_TO_INBOX_STORE:this.eventBus.dispatchEvent(\"receive-inbox-message\",{message:payload})}},Pushwoosh}();exports.default=Pushwoosh},function(module,exports,__nested_webpack_require_254171__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var PushServiceDefault_1=__nested_webpack_require_254171__(38);Object.defineProperty(exports,\"PushServiceDefault\",{enumerable:!0,get:function(){return PushServiceDefault_1.PushServiceDefault}});var PushServiceSafari_1=__nested_webpack_require_254171__(81);Object.defineProperty(exports,\"PushServiceSafari\",{enumerable:!0,get:function(){return PushServiceSafari_1.PushServiceSafari}})},function(module,exports,__nested_webpack_require_254641__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.PushServiceSafari=void 0;var logger_1=__nested_webpack_require_254641__(3),CONSTANTS=__nested_webpack_require_254641__(1),PushServiceSafari=function(){function PushServiceSafari(api,data,config){this.api=api,this.config=config,this.data=data}return PushServiceSafari.prototype.getPermission=function(){return this.getPermissionInfo().permission},PushServiceSafari.prototype.checkIsPermissionGranted=function(){return this.getPermission()===CONSTANTS.PERMISSION_GRANTED},PushServiceSafari.prototype.checkIsPermissionDefault=function(){return this.getPermission()===CONSTANTS.PERMISSION_PROMPT},PushServiceSafari.prototype.checkIsManualUnsubscribed=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getStatusManualUnsubscribed()];case 1:return[2,_a.sent()]}})})},PushServiceSafari.prototype.askPermission=function(){return __awaiter(this,void 0,void 0,function(){var application,hwid,payload,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getApplicationCode()];case 1:return application=_a.sent(),[4,this.data.getHwid()];case 2:return hwid=_a.sent(),payload={application:application,hwid:hwid},[2,new Promise(function(resolve){safari.pushNotification.requestPermission(_this.config.entrypoint||\"https://cp.pushwoosh.com/json/1.3/safari\",_this.config.webSitePushId,payload,function(){return resolve()})})]}})})},PushServiceSafari.prototype.getTokens=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.data.getTokens()]})})},PushServiceSafari.prototype.subscribe=function(){return __awaiter(this,void 0,void 0,function(){var deviceToken;return __generator(this,function(_a){switch(_a.label){case 0:return this.checkIsPermissionGranted()?[4,this.getPermissionInfo()]:(logger_1.Logger.error(\"You must have permission granted before subscribe!\"),[2]);case 1:return deviceToken=_a.sent().deviceToken,[4,this.data.setTokens({pushToken:deviceToken})];case 2:return _a.sent(),[4,this.api.registerDevice()];case 3:return _a.sent(),[2]}})})},PushServiceSafari.prototype.unsubscribe=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.setTokens({})];case 1:return _a.sent(),[4,this.data.setStatusManualUnsubscribed(!0)];case 2:return _a.sent(),[4,this.api.unregisterDevice()];case 3:return _a.sent(),[2]}})})},PushServiceSafari.prototype.checkIsRegister=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.api.checkDeviceSubscribeForPushNotifications()]})})},PushServiceSafari.prototype.checkIsNeedResubscribe=function(){return __awaiter(this,void 0,void 0,function(){var savedWebSitePushId,isChangeWebSitePushId,lastPermission,permission;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getWebSitePushId()];case 1:return savedWebSitePushId=_a.sent(),isChangeWebSitePushId=void 0!==savedWebSitePushId&&this.config.webSitePushId!==savedWebSitePushId,[4,this.data.setWebSitePushId(this.config.webSitePushId)];case 2:return _a.sent(),[4,this.data.getLastPermissionStatus()];case 3:return lastPermission=_a.sent(),permission=this.getPermission(),lastPermission===permission?[3,5]:[4,this.data.setLastPermissionStatus(permission)];case 4:return _a.sent(),[2,!0];case 5:return[2,isChangeWebSitePushId]}})})},PushServiceSafari.prototype.getPermissionInfo=function(){return safari.pushNotification.permission(this.config.webSitePushId)},PushServiceSafari}();exports.PushServiceSafari=PushServiceSafari},function(module,exports,__nested_webpack_require_260071__){\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Popup=void 0;var Popup_helpers_1=__nested_webpack_require_260071__(83),Popup=function(){function Popup(namespace,onClickClose,config){if(this.namespace=namespace,this.onClickClose=onClickClose,this.config=__assign({position:\"center\"},config),!this.getRootElement()){var html=this.createHTML();document.body.insertAdjacentHTML(\"beforeend\",html),this.rootElement=this.getElementWithCheckExist(\"root\");var styles=Popup_helpers_1.getStyles(this.namespace);document.head.appendChild(styles)}this.rootElement.classList.add(\"pushwoosh-\"+this.namespace+\"-popup_position_\"+this.config.position),this.wrapperElement=this.getElementWithCheckExist(\"wrapper\"),this.innerElement=this.getElementWithCheckExist(\"inner\"),this.bodyElement=this.getElementWithCheckExist(\"body\"),this.closeElement=this.getElementWithCheckExist(\"close\"),this.addEventListeners()}return Popup.prototype.updateContent=function(html){this.bodyElement.innerHTML=html},Popup.prototype.removeContent=function(){this.bodyElement.innerHTML=\"\"},Popup.prototype.show=function(){document.body.style.overflow=\"hidden\",this.rootElement.classList.add(\"pushwoosh-\"+this.namespace+\"-popup_show\")},Popup.prototype.hide=function(){document.body.style.overflow=\"auto\",this.rootElement.classList.remove(\"pushwoosh-\"+this.namespace+\"-popup_show\"),this.onClickClose()},Popup.prototype.getRootElement=function(){return document.getElementById(\"pushwoosh-\"+this.namespace+\"-popup-root\")},Popup.prototype.createHTML=function(){return'\\n      <div\\n        id=\"pushwoosh-'+this.namespace+'-popup-root\"\\n        class=\"pushwoosh-'+this.namespace+'-popup\"\\n      >\\n        <div\\n          id=\"pushwoosh-'+this.namespace+'-popup-wrapper\"\\n          class=\"pushwoosh-'+this.namespace+'-popup__wrapper\"\\n        >\\n          <div\\n            id=\"pushwoosh-'+this.namespace+'-popup-inner\"\\n            class=\"pushwoosh-'+this.namespace+'-popup__inner\"\\n          >\\n            <div\\n              id=\"pushwoosh-'+this.namespace+'-popup-body\"\\n              class=\"pushwoosh-'+this.namespace+'-popup__body\"\\n            >\\n            </div>\\n          </div>\\n          <button\\n            id=\"pushwoosh-'+this.namespace+'-popup-close\"\\n            class=\"pushwoosh-'+this.namespace+'-popup__close\"\\n            type=\"button\"\\n          >\\n          </button>\\n        </div>\\n      </div>\\n    '},Popup.prototype.getElementWithCheckExist=function(type){var element=document.getElementById(\"pushwoosh-\"+this.namespace+\"-popup-\"+type);if(!element)throw new Error(\"Can't find element by id \\\"pushwoosh-\"+this.namespace+\"-popup-\"+type+'\"');return element},Popup.prototype.addEventListeners=function(){var _this=this;this.closeElement.addEventListener(\"click\",function(){_this.hide()}),document.addEventListener(\"click\",function(event){var clickInInner=_this.innerElement.contains(event.target),clickInWrapper=_this.wrapperElement.contains(event.target);!clickInInner&&clickInWrapper&&_this.hide()})},Popup}();exports.Popup=Popup},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.getStyles=void 0,exports.getStyles=function(namespace){var styles=document.createElement(\"style\");return styles.innerHTML=\"\\n    .pushwoosh-\"+namespace+\"-popup {\\n      position: fixed;\\n      top: 0;\\n      left: 0;\\n      width: 100%;\\n      height: 100%;\\n      display: none;\\n      z-index: 2147483648;\\n      opacity: 0.99;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup_show {\\n      display: block;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup__wrapper {\\n      width: 100%;\\n      height: 100%;\\n      background: rgba(0, 0, 0, .2);\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup_position_center .pushwoosh-\"+namespace+\"-popup__wrapper {\\n      text-align: center;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup_position_center .pushwoosh-\"+namespace+\"-popup__wrapper:after {\\n      content: '';\\n      display: inline-block;\\n      width: 1px;\\n      height: 100%;\\n      vertical-align: middle;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup__inner {\\n      min-width: 320px;\\n      max-width: 380px;\\n      width: 100%;\\n      margin: 0 auto;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup_position_center .pushwoosh-\"+namespace+\"-popup__inner {\\n      display: inline-block;\\n      vertical-align: middle;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup__body {\\n      background: #fff;\\n      text-align: left;\\n      vertical-align: baseline;\\n      box-shadow: 0px 10px 16px rgba(0, 0, 0, 0.1), 0px 0px 6px rgba(0, 0, 0, 0.06);\\n      border-radius: 4px;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup__close {\\n      appearance: none;\\n      border: none;\\n      background-color: transparent;\\n      box-shadow: none;\\n      position: absolute;\\n      top: 24px;\\n      right: 24px;\\n      width: 40px;\\n      height: 40px;\\n      cursor: pointer;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup__close:before {\\n      content: '';\\n      position: absolute;\\n      top: 50%;\\n      left: 50%;\\n      width: 30px;\\n      height: 2px;\\n      background-color: rgba(255, 255, 255, .8);\\n      transform: translateX(-50%) translateY(-50%) rotate(45deg);\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup__close:after {\\n      content: '';\\n      position: absolute;\\n      top: 50%;\\n      left: 50%;\\n      width: 30px;\\n      height: 2px;\\n      background-color: rgba(255, 255, 255, .8);\\n      transform: translateX(-50%) translateY(-50%) rotate(-45deg);\\n    }\\n  \",styles}},function(module,exports,__nested_webpack_require_265918__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.SubscriptionSegmentsWidget=void 0;var getZip_1=__nested_webpack_require_265918__(48),logger_1=__nested_webpack_require_265918__(3),SubscriptionSegmentsWidget_helpers_1=__nested_webpack_require_265918__(124),SubscriptionSegmentsWidget=function(){function SubscriptionSegmentsWidget(eventBus,data,apiClient,api,popup,pw){this.eventBus=eventBus,this.data=data,this.apiClient=apiClient,this.api=api,this.popup=popup,this.pw=pw}return SubscriptionSegmentsWidget.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){var inAppCode,richMediaUrl,content,segments,sortedSegments,html,styles,denyElement,acceptElement,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getInAppCode()];case 1:return(inAppCode=_a.sent())?[4,this.getRichMediaUrlByInAppCode(inAppCode)]:(logger_1.Logger.error(\"Internal error: Can't find in-app code for build subscription segment widget!\"),[2]);case 2:return(richMediaUrl=_a.sent())?[4,this.getDynamicContent(richMediaUrl)]:(logger_1.Logger.error(\"Internal error: Can't find rich media url for build subscription segment widget!\"),[2]);case 3:return content=_a.sent(),[4,this.getSegments()];case 4:return segments=_a.sent(),content&&segments?(sortedSegments=segments.sort(function(segment1,segment2){return segment1.position-segment2.position}),html=SubscriptionSegmentsWidget_helpers_1.getHTML(content,sortedSegments),styles=SubscriptionSegmentsWidget_helpers_1.getStyles(content),document.head.appendChild(styles),this.popup.updateContent(html),denyElement=document.getElementById(\"pushwoosh-subscription-segments-deny\"),acceptElement=document.getElementById(\"pushwoosh-subscription-segments-accept\"),denyElement&&denyElement.addEventListener(\"click\",function(){_this.hidePopup()}),acceptElement&&acceptElement.addEventListener(\"click\",function(){var result=[],segments=document.getElementsByClassName(\"pushwoosh-subscription-segments__field\");if(_this.hidePopup(),segments){for(var index=0;index<segments.length;index++){var field=segments[index];field.checked&&result.push(field.value)}_this.api.setTags({\"Subscription Segments\":result}),_this.pw.subscribe()}}),this.showPopup(),[2]):(logger_1.Logger.error(\"Internal error: Can't get content or segments for build subscription segment widget!\"),[2])}})})},SubscriptionSegmentsWidget.prototype.showPopup=function(){this.eventBus.dispatchEvent(\"show-subscription-widget\",{}),this.popup.show()},SubscriptionSegmentsWidget.prototype.hidePopup=function(){this.popup.hide()},SubscriptionSegmentsWidget.prototype.getRichMediaUrlByInAppCode=function(code){return __awaiter(this,void 0,void 0,function(){var inApps,inApp;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getInApps()];case 1:return(inApps=_a.sent())&&(inApp=inApps.find(function(inApp){return inApp.code===code}))?[2,inApp.url]:[2]}})})},SubscriptionSegmentsWidget.prototype.getInAppCode=function(){return __awaiter(this,void 0,void 0,function(){var application,hwid,userId,deviceType,deviceModel,language,version,timezone,date,time,timestampUTC,timestampCurrent,response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getApplicationCode()];case 1:return application=_a.sent(),[4,this.data.getHwid()];case 2:return hwid=_a.sent(),[4,this.data.getUserId()];case 3:return userId=_a.sent(),[4,this.data.getDeviceType()];case 4:return deviceType=_a.sent(),[4,this.data.getDeviceModel()];case 5:return deviceModel=_a.sent(),[4,this.data.getLanguage()];case 6:return language=_a.sent(),[4,this.data.getSdkVersion()];case 7:return version=_a.sent(),timezone=60*-(new Date).getTimezoneOffset(),date=new Date,time=date.getTime(),timestampUTC=Math.floor(time/1e3),timestampCurrent=timestampUTC-date.getTimezoneOffset()/60*3600,[4,this.apiClient.postEvent({application:application,hwid:hwid,userId:userId||hwid,device_type:deviceType,device_model:deviceModel,language:language,v:version,timezone:timezone,timestampUTC:timestampUTC,timestampCurrent:timestampCurrent,event:\"Subscription Segments\",attributes:{}})];case 8:return[2,(response=_a.sent())&&response.code]}})})},SubscriptionSegmentsWidget.prototype.getSegments=function(){return __awaiter(this,void 0,void 0,function(){var features;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getFeatures()];case 1:return[2,(features=_a.sent())&&features.channels]}})})},SubscriptionSegmentsWidget.prototype.getDynamicContent=function(url){return __awaiter(this,void 0,void 0,function(){var jszip,data,_a,_b;return __generator(this,function(_c){switch(_c.label){case 0:return[4,getZip_1.getZip(url)];case 1:return jszip=_c.sent(),_b=(_a=JSON).parse,[4,jszip.file(\"pushwoosh.json\").async(\"text\")];case 2:return[2,(data=_b.apply(_a,[_c.sent()]))&&data.localization&&data.default_language&&data.localization[data.default_language]]}})})},SubscriptionSegmentsWidget}();exports.SubscriptionSegmentsWidget=SubscriptionSegmentsWidget},function(module,exports,__nested_webpack_require_272633__){\"use strict\";function JSZip(){if(!(this instanceof JSZip))return new JSZip;if(arguments.length)throw new Error(\"The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.\");this.files={},this.comment=null,this.root=\"\",this.clone=function(){var newObj=new JSZip;for(var i in this)\"function\"!=typeof this[i]&&(newObj[i]=this[i]);return newObj}}JSZip.prototype=__nested_webpack_require_272633__(86),JSZip.prototype.loadAsync=__nested_webpack_require_272633__(119),JSZip.support=__nested_webpack_require_272633__(7),JSZip.defaults=__nested_webpack_require_272633__(59),JSZip.version=\"3.2.0\",JSZip.loadAsync=function(content,options){return(new JSZip).loadAsync(content,options)},JSZip.external=__nested_webpack_require_272633__(24),module.exports=JSZip},function(module,exports,__nested_webpack_require_273394__){\"use strict\";var utf8=__nested_webpack_require_273394__(14),utils=__nested_webpack_require_273394__(0),GenericWorker=__nested_webpack_require_273394__(2),StreamHelper=__nested_webpack_require_273394__(58),defaults=__nested_webpack_require_273394__(59),CompressedObject=__nested_webpack_require_273394__(42),ZipObject=__nested_webpack_require_273394__(105),generate=__nested_webpack_require_273394__(106),nodejsUtils=__nested_webpack_require_273394__(29),NodejsStreamInputAdapter=__nested_webpack_require_273394__(118),fileAdd=function(name,data,originalOptions){var parent,dataType=utils.getTypeOf(data),o=utils.extend(originalOptions||{},defaults);o.date=o.date||new Date,null!==o.compression&&(o.compression=o.compression.toUpperCase()),\"string\"==typeof o.unixPermissions&&(o.unixPermissions=parseInt(o.unixPermissions,8)),o.unixPermissions&&16384&o.unixPermissions&&(o.dir=!0),o.dosPermissions&&16&o.dosPermissions&&(o.dir=!0),o.dir&&(name=forceTrailingSlash(name)),o.createFolders&&(parent=parentFolder(name))&&folderAdd.call(this,parent,!0);var isUnicodeString=\"string\"===dataType&&!1===o.binary&&!1===o.base64;originalOptions&&void 0!==originalOptions.binary||(o.binary=!isUnicodeString),(data instanceof CompressedObject&&0===data.uncompressedSize||o.dir||!data||0===data.length)&&(o.base64=!1,o.binary=!0,data=\"\",o.compression=\"STORE\",dataType=\"string\");var zipObjectContent=null;zipObjectContent=data instanceof CompressedObject||data instanceof GenericWorker?data:nodejsUtils.isNode&&nodejsUtils.isStream(data)?new NodejsStreamInputAdapter(name,data):utils.prepareContent(name,data,o.binary,o.optimizedBinaryString,o.base64);var object=new ZipObject(name,zipObjectContent,o);this.files[name]=object},parentFolder=function(path){\"/\"===path.slice(-1)&&(path=path.substring(0,path.length-1));var lastSlash=path.lastIndexOf(\"/\");return lastSlash>0?path.substring(0,lastSlash):\"\"},forceTrailingSlash=function(path){return\"/\"!==path.slice(-1)&&(path+=\"/\"),path},folderAdd=function(name,createFolders){return createFolders=void 0!==createFolders?createFolders:defaults.createFolders,name=forceTrailingSlash(name),this.files[name]||fileAdd.call(this,name,null,{dir:!0,createFolders:createFolders}),this.files[name]};function isRegExp(object){return\"[object RegExp]\"===Object.prototype.toString.call(object)}var out={load:function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},forEach:function(cb){var filename,relativePath,file;for(filename in this.files)this.files.hasOwnProperty(filename)&&(file=this.files[filename],(relativePath=filename.slice(this.root.length,filename.length))&&filename.slice(0,this.root.length)===this.root&&cb(relativePath,file))},filter:function(search){var result=[];return this.forEach(function(relativePath,entry){search(relativePath,entry)&&result.push(entry)}),result},file:function(name,data,o){if(1===arguments.length){if(isRegExp(name)){var regexp=name;return this.filter(function(relativePath,file){return!file.dir&&regexp.test(relativePath)})}var obj=this.files[this.root+name];return obj&&!obj.dir?obj:null}return name=this.root+name,fileAdd.call(this,name,data,o),this},folder:function(arg){if(!arg)return this;if(isRegExp(arg))return this.filter(function(relativePath,file){return file.dir&&arg.test(relativePath)});var name=this.root+arg,newFolder=folderAdd.call(this,name),ret=this.clone();return ret.root=newFolder.name,ret},remove:function(name){name=this.root+name;var file=this.files[name];if(file||(\"/\"!==name.slice(-1)&&(name+=\"/\"),file=this.files[name]),file&&!file.dir)delete this.files[name];else for(var kids=this.filter(function(relativePath,file){return file.name.slice(0,name.length)===name}),i=0;i<kids.length;i++)delete this.files[kids[i].name];return this},generate:function(options){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},generateInternalStream:function(options){var worker,opts={};try{if((opts=utils.extend(options||{},{streamFiles:!1,compression:\"STORE\",compressionOptions:null,type:\"\",platform:\"DOS\",comment:null,mimeType:\"application/zip\",encodeFileName:utf8.utf8encode})).type=opts.type.toLowerCase(),opts.compression=opts.compression.toUpperCase(),\"binarystring\"===opts.type&&(opts.type=\"string\"),!opts.type)throw new Error(\"No output type specified.\");utils.checkSupport(opts.type),\"darwin\"!==opts.platform&&\"freebsd\"!==opts.platform&&\"linux\"!==opts.platform&&\"sunos\"!==opts.platform||(opts.platform=\"UNIX\"),\"win32\"===opts.platform&&(opts.platform=\"DOS\");var comment=opts.comment||this.comment||\"\";worker=generate.generateWorker(this,opts,comment)}catch(e){(worker=new GenericWorker(\"error\")).error(e)}return new StreamHelper(worker,opts.type||\"string\",opts.mimeType)},generateAsync:function(options,onUpdate){return this.generateInternalStream(options).accumulate(onUpdate)},generateNodeStream:function(options,onUpdate){return(options=options||{}).type||(options.type=\"nodebuffer\"),this.generateInternalStream(options).toNodejsStream(onUpdate)}};module.exports=out},function(module,exports,__webpack_require__){\"use strict\";exports.byteLength=function(b64){var lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1];return 3*(validLen+placeHoldersLen)/4-placeHoldersLen},exports.toByteArray=function(b64){var tmp,i,lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1],arr=new Arr(function(b64,validLen,placeHoldersLen){return 3*(validLen+placeHoldersLen)/4-placeHoldersLen}(0,validLen,placeHoldersLen)),curByte=0,len=placeHoldersLen>0?validLen-4:validLen;for(i=0;i<len;i+=4)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[curByte++]=tmp>>16&255,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp;2===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[curByte++]=255&tmp);1===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp);return arr},exports.fromByteArray=function(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,parts=[],i=0,len2=len-extraBytes;i<len2;i+=16383)parts.push(encodeChunk(uint8,i,i+16383>len2?len2:i+16383));1===extraBytes?(tmp=uint8[len-1],parts.push(lookup[tmp>>2]+lookup[tmp<<4&63]+\"==\")):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],parts.push(lookup[tmp>>10]+lookup[tmp>>4&63]+lookup[tmp<<2&63]+\"=\"));return parts.join(\"\")};for(var lookup=[],revLookup=[],Arr=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,code=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;function getLens(b64){var len=b64.length;if(len%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");var validLen=b64.indexOf(\"=\");return-1===validLen&&(validLen=len),[validLen,validLen===len?0:4-validLen%4]}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]}function encodeChunk(uint8,start,end){for(var tmp,output=[],i=start;i<end;i+=3)tmp=(uint8[i]<<16&16711680)+(uint8[i+1]<<8&65280)+(255&uint8[i+2]),output.push(tripletToBase64(tmp));return output.join(\"\")}revLookup[\"-\".charCodeAt(0)]=62,revLookup[\"_\".charCodeAt(0)]=63},function(module,exports){\n/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:1/0*(s?-1:1);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),(value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias))*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},function(module,exports,__nested_webpack_require_281990__){module.exports=Stream;var EE=__nested_webpack_require_281990__(39).EventEmitter;function Stream(){EE.call(this)}__nested_webpack_require_281990__(15)(Stream,EE),Stream.Readable=__nested_webpack_require_281990__(40),Stream.Writable=__nested_webpack_require_281990__(96),Stream.Duplex=__nested_webpack_require_281990__(97),Stream.Transform=__nested_webpack_require_281990__(98),Stream.PassThrough=__nested_webpack_require_281990__(99),Stream.Stream=Stream,Stream.prototype.pipe=function(dest,options){var source=this;function ondata(chunk){dest.writable&&!1===dest.write(chunk)&&source.pause&&source.pause()}function ondrain(){source.readable&&source.resume&&source.resume()}source.on(\"data\",ondata),dest.on(\"drain\",ondrain),dest._isStdio||options&&!1===options.end||(source.on(\"end\",onend),source.on(\"close\",onclose));var didOnEnd=!1;function onend(){didOnEnd||(didOnEnd=!0,dest.end())}function onclose(){didOnEnd||(didOnEnd=!0,\"function\"==typeof dest.destroy&&dest.destroy())}function onerror(er){if(cleanup(),0===EE.listenerCount(this,\"error\"))throw er}function cleanup(){source.removeListener(\"data\",ondata),dest.removeListener(\"drain\",ondrain),source.removeListener(\"end\",onend),source.removeListener(\"close\",onclose),source.removeListener(\"error\",onerror),dest.removeListener(\"error\",onerror),source.removeListener(\"end\",cleanup),source.removeListener(\"close\",cleanup),dest.removeListener(\"close\",cleanup)}return source.on(\"error\",onerror),dest.on(\"error\",onerror),source.on(\"end\",cleanup),source.on(\"close\",cleanup),dest.on(\"close\",cleanup),dest.emit(\"pipe\",source),dest}},function(module,exports){},function(module,exports,__nested_webpack_require_283542__){\"use strict\";var Buffer=__nested_webpack_require_283542__(28).Buffer,util=__nested_webpack_require_283542__(92);function copyBuffer(src,target,offset){src.copy(target,offset)}module.exports=function(){function BufferList(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}(this,BufferList),this.head=null,this.tail=null,this.length=0}return BufferList.prototype.push=function(v){var entry={data:v,next:null};this.length>0?this.tail.next=entry:this.head=entry,this.tail=entry,++this.length},BufferList.prototype.unshift=function(v){var entry={data:v,next:this.head};0===this.length&&(this.tail=entry),this.head=entry,++this.length},BufferList.prototype.shift=function(){if(0!==this.length){var ret=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,ret}},BufferList.prototype.clear=function(){this.head=this.tail=null,this.length=0},BufferList.prototype.join=function(s){if(0===this.length)return\"\";for(var p=this.head,ret=\"\"+p.data;p=p.next;)ret+=s+p.data;return ret},BufferList.prototype.concat=function(n){if(0===this.length)return Buffer.alloc(0);if(1===this.length)return this.head.data;for(var ret=Buffer.allocUnsafe(n>>>0),p=this.head,i=0;p;)copyBuffer(p.data,ret,i),i+=p.data.length,p=p.next;return ret},BufferList}(),util&&util.inspect&&util.inspect.custom&&(module.exports.prototype[util.inspect.custom]=function(){var obj=util.inspect({length:this.length});return this.constructor.name+\" \"+obj})},function(module,exports){},function(module,exports,__nested_webpack_require_285122__){(function(global,process){!function(global,undefined){\"use strict\";if(!global.setImmediate){var registerImmediate,nextHandle=1,tasksByHandle={},currentlyRunningATask=!1,doc=global.document,attachTo=Object.getPrototypeOf&&Object.getPrototypeOf(global);attachTo=attachTo&&attachTo.setTimeout?attachTo:global,\"[object process]\"==={}.toString.call(global.process)?registerImmediate=function(handle){process.nextTick(function(){runIfPresent(handle)})}:function(){if(global.postMessage&&!global.importScripts){var postMessageIsAsynchronous=!0,oldOnMessage=global.onmessage;return global.onmessage=function(){postMessageIsAsynchronous=!1},global.postMessage(\"\",\"*\"),global.onmessage=oldOnMessage,postMessageIsAsynchronous}}()?function(){var messagePrefix=\"setImmediate$\"+Math.random()+\"$\",onGlobalMessage=function(event){event.source===global&&\"string\"==typeof event.data&&0===event.data.indexOf(messagePrefix)&&runIfPresent(+event.data.slice(messagePrefix.length))};global.addEventListener?global.addEventListener(\"message\",onGlobalMessage,!1):global.attachEvent(\"onmessage\",onGlobalMessage),registerImmediate=function(handle){global.postMessage(messagePrefix+handle,\"*\")}}():global.MessageChannel?function(){var channel=new MessageChannel;channel.port1.onmessage=function(event){runIfPresent(event.data)},registerImmediate=function(handle){channel.port2.postMessage(handle)}}():doc&&\"onreadystatechange\"in doc.createElement(\"script\")?function(){var html=doc.documentElement;registerImmediate=function(handle){var script=doc.createElement(\"script\");script.onreadystatechange=function(){runIfPresent(handle),script.onreadystatechange=null,html.removeChild(script),script=null},html.appendChild(script)}}():registerImmediate=function(handle){setTimeout(runIfPresent,0,handle)},attachTo.setImmediate=function(callback){\"function\"!=typeof callback&&(callback=new Function(\"\"+callback));for(var args=new Array(arguments.length-1),i=0;i<args.length;i++)args[i]=arguments[i+1];var task={callback:callback,args:args};return tasksByHandle[nextHandle]=task,registerImmediate(nextHandle),nextHandle++},attachTo.clearImmediate=clearImmediate}function clearImmediate(handle){delete tasksByHandle[handle]}function runIfPresent(handle){if(currentlyRunningATask)setTimeout(runIfPresent,0,handle);else{var task=tasksByHandle[handle];if(task){currentlyRunningATask=!0;try{!function(task){var callback=task.callback,args=task.args;switch(args.length){case 0:callback();break;case 1:callback(args[0]);break;case 2:callback(args[0],args[1]);break;case 3:callback(args[0],args[1],args[2]);break;default:callback.apply(undefined,args)}}(task)}finally{clearImmediate(handle),currentlyRunningATask=!1}}}}}(\"undefined\"==typeof self?void 0===global?this:global:self)}).call(this,__nested_webpack_require_285122__(11),__nested_webpack_require_285122__(22))},function(module,exports,__nested_webpack_require_287963__){(function(global){function config(name){try{if(!global.localStorage)return!1}catch(_){return!1}var val=global.localStorage[name];return null!=val&&\"true\"===String(val).toLowerCase()}module.exports=function(fn,msg){if(config(\"noDeprecation\"))return fn;var warned=!1;return function(){if(!warned){if(config(\"throwDeprecation\"))throw new Error(msg);config(\"traceDeprecation\")?console.trace(msg):console.warn(msg),warned=!0}return fn.apply(this,arguments)}}}).call(this,__nested_webpack_require_287963__(11))},function(module,exports,__nested_webpack_require_288500__){\"use strict\";module.exports=PassThrough;var Transform=__nested_webpack_require_288500__(56),util=Object.create(__nested_webpack_require_288500__(23));function PassThrough(options){if(!(this instanceof PassThrough))return new PassThrough(options);Transform.call(this,options)}util.inherits=__nested_webpack_require_288500__(15),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},function(module,exports,__nested_webpack_require_288945__){module.exports=__nested_webpack_require_288945__(41)},function(module,exports,__nested_webpack_require_289030__){module.exports=__nested_webpack_require_289030__(12)},function(module,exports,__nested_webpack_require_289115__){module.exports=__nested_webpack_require_289115__(40).Transform},function(module,exports,__nested_webpack_require_289210__){module.exports=__nested_webpack_require_289210__(40).PassThrough},function(module,exports,__nested_webpack_require_289307__){\"use strict\";(function(setImmediate){module.exports=\"function\"==typeof setImmediate?setImmediate:function(){var args=[].slice.apply(arguments);args.splice(1,0,0),setTimeout.apply(null,args)}}).call(this,__nested_webpack_require_289307__(54).setImmediate)},function(module,exports,__nested_webpack_require_289594__){\"use strict\";var immediate=__nested_webpack_require_289594__(102);function INTERNAL(){}var handlers={},REJECTED=[\"REJECTED\"],FULFILLED=[\"FULFILLED\"],PENDING=[\"PENDING\"];function Promise(resolver){if(\"function\"!=typeof resolver)throw new TypeError(\"resolver must be a function\");this.state=PENDING,this.queue=[],this.outcome=void 0,resolver!==INTERNAL&&safelyResolveThenable(this,resolver)}function QueueItem(promise,onFulfilled,onRejected){this.promise=promise,\"function\"==typeof onFulfilled&&(this.onFulfilled=onFulfilled,this.callFulfilled=this.otherCallFulfilled),\"function\"==typeof onRejected&&(this.onRejected=onRejected,this.callRejected=this.otherCallRejected)}function unwrap(promise,func,value){immediate(function(){var returnValue;try{returnValue=func(value)}catch(e){return handlers.reject(promise,e)}returnValue===promise?handlers.reject(promise,new TypeError(\"Cannot resolve promise with itself\")):handlers.resolve(promise,returnValue)})}function getThen(obj){var then=obj&&obj.then;if(obj&&(\"object\"==typeof obj||\"function\"==typeof obj)&&\"function\"==typeof then)return function(){then.apply(obj,arguments)}}function safelyResolveThenable(self,thenable){var called=!1;function onError(value){called||(called=!0,handlers.reject(self,value))}function onSuccess(value){called||(called=!0,handlers.resolve(self,value))}var result=tryCatch(function(){thenable(onSuccess,onError)});\"error\"===result.status&&onError(result.value)}function tryCatch(func,value){var out={};try{out.value=func(value),out.status=\"success\"}catch(e){out.status=\"error\",out.value=e}return out}module.exports=Promise,Promise.prototype.finally=function(callback){if(\"function\"!=typeof callback)return this;var p=this.constructor;return this.then(function(value){return p.resolve(callback()).then(function(){return value})},function(reason){return p.resolve(callback()).then(function(){throw reason})})},Promise.prototype.catch=function(onRejected){return this.then(null,onRejected)},Promise.prototype.then=function(onFulfilled,onRejected){if(\"function\"!=typeof onFulfilled&&this.state===FULFILLED||\"function\"!=typeof onRejected&&this.state===REJECTED)return this;var promise=new this.constructor(INTERNAL);this.state!==PENDING?unwrap(promise,this.state===FULFILLED?onFulfilled:onRejected,this.outcome):this.queue.push(new QueueItem(promise,onFulfilled,onRejected));return promise},QueueItem.prototype.callFulfilled=function(value){handlers.resolve(this.promise,value)},QueueItem.prototype.otherCallFulfilled=function(value){unwrap(this.promise,this.onFulfilled,value)},QueueItem.prototype.callRejected=function(value){handlers.reject(this.promise,value)},QueueItem.prototype.otherCallRejected=function(value){unwrap(this.promise,this.onRejected,value)},handlers.resolve=function(self,value){var result=tryCatch(getThen,value);if(\"error\"===result.status)return handlers.reject(self,result.value);var thenable=result.value;if(thenable)safelyResolveThenable(self,thenable);else{self.state=FULFILLED,self.outcome=value;for(var i=-1,len=self.queue.length;++i<len;)self.queue[i].callFulfilled(value)}return self},handlers.reject=function(self,error){self.state=REJECTED,self.outcome=error;for(var i=-1,len=self.queue.length;++i<len;)self.queue[i].callRejected(error);return self},Promise.resolve=function(value){if(value instanceof this)return value;return handlers.resolve(new this(INTERNAL),value)},Promise.reject=function(reason){var promise=new this(INTERNAL);return handlers.reject(promise,reason)},Promise.all=function(iterable){var self=this;if(\"[object Array]\"!==Object.prototype.toString.call(iterable))return this.reject(new TypeError(\"must be an array\"));var len=iterable.length,called=!1;if(!len)return this.resolve([]);var values=new Array(len),resolved=0,i=-1,promise=new this(INTERNAL);for(;++i<len;)allResolver(iterable[i],i);return promise;function allResolver(value,i){self.resolve(value).then(function(outValue){values[i]=outValue,++resolved!==len||called||(called=!0,handlers.resolve(promise,values))},function(error){called||(called=!0,handlers.reject(promise,error))})}},Promise.race=function(iterable){var self=this;if(\"[object Array]\"!==Object.prototype.toString.call(iterable))return this.reject(new TypeError(\"must be an array\"));var len=iterable.length,called=!1;if(!len)return this.resolve([]);var i=-1,promise=new this(INTERNAL);for(;++i<len;)resolver(iterable[i]);return promise;function resolver(value){self.resolve(value).then(function(response){called||(called=!0,handlers.resolve(promise,response))},function(error){called||(called=!0,handlers.reject(promise,error))})}}},function(module,exports,__nested_webpack_require_294205__){\"use strict\";(function(global){var scheduleDrain,draining,Mutation=global.MutationObserver||global.WebKitMutationObserver;if(Mutation){var called=0,observer=new Mutation(nextTick),element=global.document.createTextNode(\"\");observer.observe(element,{characterData:!0}),scheduleDrain=function(){element.data=called=++called%2}}else if(global.setImmediate||void 0===global.MessageChannel)scheduleDrain=\"document\"in global&&\"onreadystatechange\"in global.document.createElement(\"script\")?function(){var scriptEl=global.document.createElement(\"script\");scriptEl.onreadystatechange=function(){nextTick(),scriptEl.onreadystatechange=null,scriptEl.parentNode.removeChild(scriptEl),scriptEl=null},global.document.documentElement.appendChild(scriptEl)}:function(){setTimeout(nextTick,0)};else{var channel=new global.MessageChannel;channel.port1.onmessage=nextTick,scheduleDrain=function(){channel.port2.postMessage(0)}}var queue=[];function nextTick(){var i,oldQueue;draining=!0;for(var len=queue.length;len;){for(oldQueue=queue,queue=[],i=-1;++i<len;)oldQueue[i]();len=queue.length}draining=!1}module.exports=function(task){1!==queue.push(task)||draining||scheduleDrain()}}).call(this,__nested_webpack_require_294205__(11))},function(module,exports,__nested_webpack_require_295451__){\"use strict\";var GenericWorker=__nested_webpack_require_295451__(2),utils=__nested_webpack_require_295451__(0);function ConvertWorker(destType){GenericWorker.call(this,\"ConvertWorker to \"+destType),this.destType=destType}utils.inherits(ConvertWorker,GenericWorker),ConvertWorker.prototype.processChunk=function(chunk){this.push({data:utils.transformTo(this.destType,chunk.data),meta:chunk.meta})},module.exports=ConvertWorker},function(module,exports,__nested_webpack_require_295895__){\"use strict\";var Readable=__nested_webpack_require_295895__(50).Readable;function NodejsStreamOutputAdapter(helper,options,updateCb){Readable.call(this,options),this._helper=helper;var self=this;helper.on(\"data\",function(data,meta){self.push(data)||self._helper.pause(),updateCb&&updateCb(meta)}).on(\"error\",function(e){self.emit(\"error\",e)}).on(\"end\",function(){self.push(null)})}__nested_webpack_require_295895__(0).inherits(NodejsStreamOutputAdapter,Readable),NodejsStreamOutputAdapter.prototype._read=function(){this._helper.resume()},module.exports=NodejsStreamOutputAdapter},function(module,exports,__nested_webpack_require_296493__){\"use strict\";var StreamHelper=__nested_webpack_require_296493__(58),DataWorker=__nested_webpack_require_296493__(60),utf8=__nested_webpack_require_296493__(14),CompressedObject=__nested_webpack_require_296493__(42),GenericWorker=__nested_webpack_require_296493__(2),ZipObject=function(name,data,options){this.name=name,this.dir=options.dir,this.date=options.date,this.comment=options.comment,this.unixPermissions=options.unixPermissions,this.dosPermissions=options.dosPermissions,this._data=data,this._dataBinary=options.binary,this.options={compression:options.compression,compressionOptions:options.compressionOptions}};ZipObject.prototype={internalStream:function(type){var result=null,outputType=\"string\";try{if(!type)throw new Error(\"No output type specified.\");var askUnicodeString=\"string\"===(outputType=type.toLowerCase())||\"text\"===outputType;\"binarystring\"!==outputType&&\"text\"!==outputType||(outputType=\"string\"),result=this._decompressWorker();var isUnicodeString=!this._dataBinary;isUnicodeString&&!askUnicodeString&&(result=result.pipe(new utf8.Utf8EncodeWorker)),!isUnicodeString&&askUnicodeString&&(result=result.pipe(new utf8.Utf8DecodeWorker))}catch(e){(result=new GenericWorker(\"error\")).error(e)}return new StreamHelper(result,outputType,\"\")},async:function(type,onUpdate){return this.internalStream(type).accumulate(onUpdate)},nodeStream:function(type,onUpdate){return this.internalStream(type||\"nodebuffer\").toNodejsStream(onUpdate)},_compressWorker:function(compression,compressionOptions){if(this._data instanceof CompressedObject&&this._data.compression.magic===compression.magic)return this._data.getCompressedWorker();var result=this._decompressWorker();return this._dataBinary||(result=result.pipe(new utf8.Utf8EncodeWorker)),CompressedObject.createWorkerFrom(result,compression,compressionOptions)},_decompressWorker:function(){return this._data instanceof CompressedObject?this._data.getContentWorker():this._data instanceof GenericWorker?this._data:new DataWorker(this._data)}};for(var removedMethods=[\"asText\",\"asBinary\",\"asNodeBuffer\",\"asUint8Array\",\"asArrayBuffer\"],removedFn=function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},i=0;i<removedMethods.length;i++)ZipObject.prototype[removedMethods[i]]=removedFn;module.exports=ZipObject},function(module,exports,__nested_webpack_require_298791__){\"use strict\";var compressions=__nested_webpack_require_298791__(63),ZipFileWorker=__nested_webpack_require_298791__(117);exports.generateWorker=function(zip,options,comment){var zipFileWorker=new ZipFileWorker(options.streamFiles,comment,options.platform,options.encodeFileName),entriesCount=0;try{zip.forEach(function(relativePath,file){entriesCount++;var compression=function(fileCompression,zipCompression){var compressionName=fileCompression||zipCompression,compression=compressions[compressionName];if(!compression)throw new Error(compressionName+\" is not a valid compression method !\");return compression}(file.options.compression,options.compression),compressionOptions=file.options.compressionOptions||options.compressionOptions||{},dir=file.dir,date=file.date;file._compressWorker(compression,compressionOptions).withStreamInfo(\"file\",{name:relativePath,dir:dir,date:date,comment:file.comment||\"\",unixPermissions:file.unixPermissions,dosPermissions:file.dosPermissions}).pipe(zipFileWorker)}),zipFileWorker.entriesCount=entriesCount}catch(e){zipFileWorker.error(e)}return zipFileWorker}},function(module,exports,__nested_webpack_require_299905__){\"use strict\";var USE_TYPEDARRAY=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Uint32Array,pako=__nested_webpack_require_299905__(108),utils=__nested_webpack_require_299905__(0),GenericWorker=__nested_webpack_require_299905__(2),ARRAY_TYPE=USE_TYPEDARRAY?\"uint8array\":\"array\";function FlateWorker(action,options){GenericWorker.call(this,\"FlateWorker/\"+action),this._pako=null,this._pakoAction=action,this._pakoOptions=options,this.meta={}}exports.magic=\"\\b\\0\",utils.inherits(FlateWorker,GenericWorker),FlateWorker.prototype.processChunk=function(chunk){this.meta=chunk.meta,null===this._pako&&this._createPako(),this._pako.push(utils.transformTo(ARRAY_TYPE,chunk.data),!1)},FlateWorker.prototype.flush=function(){GenericWorker.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},FlateWorker.prototype.cleanUp=function(){GenericWorker.prototype.cleanUp.call(this),this._pako=null},FlateWorker.prototype._createPako=function(){this._pako=new pako[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var self=this;this._pako.onData=function(data){self.push({data:data,meta:self.meta})}},exports.compressWorker=function(compressionOptions){return new FlateWorker(\"Deflate\",compressionOptions)},exports.uncompressWorker=function(){return new FlateWorker(\"Inflate\",{})}},function(module,exports,__nested_webpack_require_301258__){\"use strict\";var pako={};(0,__nested_webpack_require_301258__(8).assign)(pako,__nested_webpack_require_301258__(109),__nested_webpack_require_301258__(112),__nested_webpack_require_301258__(68)),module.exports=pako},function(module,exports,__nested_webpack_require_301463__){\"use strict\";var zlib_deflate=__nested_webpack_require_301463__(110),utils=__nested_webpack_require_301463__(8),strings=__nested_webpack_require_301463__(66),msg=__nested_webpack_require_301463__(44),ZStream=__nested_webpack_require_301463__(67),toString=Object.prototype.toString,Z_OK=0,Z_DEFAULT_COMPRESSION=-1,Z_DEFAULT_STRATEGY=0,Z_DEFLATED=8;function Deflate(options){if(!(this instanceof Deflate))return new Deflate(options);this.options=utils.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY,to:\"\"},options||{});var opt=this.options;opt.raw&&opt.windowBits>0?opt.windowBits=-opt.windowBits:opt.gzip&&opt.windowBits>0&&opt.windowBits<16&&(opt.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;var status=zlib_deflate.deflateInit2(this.strm,opt.level,opt.method,opt.windowBits,opt.memLevel,opt.strategy);if(status!==Z_OK)throw new Error(msg[status]);if(opt.header&&zlib_deflate.deflateSetHeader(this.strm,opt.header),opt.dictionary){var dict;if(dict=\"string\"==typeof opt.dictionary?strings.string2buf(opt.dictionary):\"[object ArrayBuffer]\"===toString.call(opt.dictionary)?new Uint8Array(opt.dictionary):opt.dictionary,(status=zlib_deflate.deflateSetDictionary(this.strm,dict))!==Z_OK)throw new Error(msg[status]);this._dict_set=!0}}function deflate(input,options){var deflator=new Deflate(options);if(deflator.push(input,!0),deflator.err)throw deflator.msg||msg[deflator.err];return deflator.result}Deflate.prototype.push=function(data,mode){var status,_mode,strm=this.strm,chunkSize=this.options.chunkSize;if(this.ended)return!1;_mode=mode===~~mode?mode:!0===mode?4:0,\"string\"==typeof data?strm.input=strings.string2buf(data):\"[object ArrayBuffer]\"===toString.call(data)?strm.input=new Uint8Array(data):strm.input=data,strm.next_in=0,strm.avail_in=strm.input.length;do{if(0===strm.avail_out&&(strm.output=new utils.Buf8(chunkSize),strm.next_out=0,strm.avail_out=chunkSize),1!==(status=zlib_deflate.deflate(strm,_mode))&&status!==Z_OK)return this.onEnd(status),this.ended=!0,!1;0!==strm.avail_out&&(0!==strm.avail_in||4!==_mode&&2!==_mode)||(\"string\"===this.options.to?this.onData(strings.buf2binstring(utils.shrinkBuf(strm.output,strm.next_out))):this.onData(utils.shrinkBuf(strm.output,strm.next_out)))}while((strm.avail_in>0||0===strm.avail_out)&&1!==status);return 4===_mode?(status=zlib_deflate.deflateEnd(this.strm),this.onEnd(status),this.ended=!0,status===Z_OK):2!==_mode||(this.onEnd(Z_OK),strm.avail_out=0,!0)},Deflate.prototype.onData=function(chunk){this.chunks.push(chunk)},Deflate.prototype.onEnd=function(status){status===Z_OK&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=status,this.msg=this.strm.msg},exports.Deflate=Deflate,exports.deflate=deflate,exports.deflateRaw=function(input,options){return(options=options||{}).raw=!0,deflate(input,options)},exports.gzip=function(input,options){return(options=options||{}).gzip=!0,deflate(input,options)}},function(module,exports,__nested_webpack_require_304532__){\"use strict\";var configuration_table,utils=__nested_webpack_require_304532__(8),trees=__nested_webpack_require_304532__(111),adler32=__nested_webpack_require_304532__(64),crc32=__nested_webpack_require_304532__(65),msg=__nested_webpack_require_304532__(44),Z_NO_FLUSH=0,Z_PARTIAL_FLUSH=1,Z_FULL_FLUSH=3,Z_FINISH=4,Z_BLOCK=5,Z_OK=0,Z_STREAM_END=1,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_BUF_ERROR=-5,Z_DEFAULT_COMPRESSION=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_RLE=3,Z_FIXED=4,Z_DEFAULT_STRATEGY=0,Z_UNKNOWN=2,Z_DEFLATED=8,MAX_MEM_LEVEL=9,MAX_WBITS=15,DEF_MEM_LEVEL=8,L_CODES=286,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3;function err(strm,errorCode){return strm.msg=msg[errorCode],errorCode}function rank(f){return(f<<1)-(f>4?9:0)}function zero(buf){for(var len=buf.length;--len>=0;)buf[len]=0}function flush_pending(strm){var s=strm.state,len=s.pending;len>strm.avail_out&&(len=strm.avail_out),0!==len&&(utils.arraySet(strm.output,s.pending_buf,s.pending_out,len,strm.next_out),strm.next_out+=len,s.pending_out+=len,strm.total_out+=len,strm.avail_out-=len,s.pending-=len,0===s.pending&&(s.pending_out=0))}function flush_block_only(s,last){trees._tr_flush_block(s,s.block_start>=0?s.block_start:-1,s.strstart-s.block_start,last),s.block_start=s.strstart,flush_pending(s.strm)}function put_byte(s,b){s.pending_buf[s.pending++]=b}function putShortMSB(s,b){s.pending_buf[s.pending++]=b>>>8&255,s.pending_buf[s.pending++]=255&b}function read_buf(strm,buf,start,size){var len=strm.avail_in;return len>size&&(len=size),0===len?0:(strm.avail_in-=len,utils.arraySet(buf,strm.input,strm.next_in,len,start),1===strm.state.wrap?strm.adler=adler32(strm.adler,buf,len,start):2===strm.state.wrap&&(strm.adler=crc32(strm.adler,buf,len,start)),strm.next_in+=len,strm.total_in+=len,len)}function longest_match(s,cur_match){var match,len,chain_length=s.max_chain_length,scan=s.strstart,best_len=s.prev_length,nice_match=s.nice_match,limit=s.strstart>s.w_size-MIN_LOOKAHEAD?s.strstart-(s.w_size-MIN_LOOKAHEAD):0,_win=s.window,wmask=s.w_mask,prev=s.prev,strend=s.strstart+MAX_MATCH,scan_end1=_win[scan+best_len-1],scan_end=_win[scan+best_len];s.prev_length>=s.good_match&&(chain_length>>=2),nice_match>s.lookahead&&(nice_match=s.lookahead);do{if(_win[(match=cur_match)+best_len]===scan_end&&_win[match+best_len-1]===scan_end1&&_win[match]===_win[scan]&&_win[++match]===_win[scan+1]){scan+=2,match++;do{}while(_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&scan<strend);if(len=MAX_MATCH-(strend-scan),scan=strend-MAX_MATCH,len>best_len){if(s.match_start=cur_match,best_len=len,len>=nice_match)break;scan_end1=_win[scan+best_len-1],scan_end=_win[scan+best_len]}}}while((cur_match=prev[cur_match&wmask])>limit&&0!=--chain_length);return best_len<=s.lookahead?best_len:s.lookahead}function fill_window(s){var p,n,m,more,str,_w_size=s.w_size;do{if(more=s.window_size-s.lookahead-s.strstart,s.strstart>=_w_size+(_w_size-MIN_LOOKAHEAD)){utils.arraySet(s.window,s.window,_w_size,_w_size,0),s.match_start-=_w_size,s.strstart-=_w_size,s.block_start-=_w_size,p=n=s.hash_size;do{m=s.head[--p],s.head[p]=m>=_w_size?m-_w_size:0}while(--n);p=n=_w_size;do{m=s.prev[--p],s.prev[p]=m>=_w_size?m-_w_size:0}while(--n);more+=_w_size}if(0===s.strm.avail_in)break;if(n=read_buf(s.strm,s.window,s.strstart+s.lookahead,more),s.lookahead+=n,s.lookahead+s.insert>=MIN_MATCH)for(str=s.strstart-s.insert,s.ins_h=s.window[str],s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+1])&s.hash_mask;s.insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+MIN_MATCH-1])&s.hash_mask,s.prev[str&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=str,str++,s.insert--,!(s.lookahead+s.insert<MIN_MATCH)););}while(s.lookahead<MIN_LOOKAHEAD&&0!==s.strm.avail_in)}function deflate_fast(s,flush){for(var hash_head,bflush;;){if(s.lookahead<MIN_LOOKAHEAD){if(fill_window(s),s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(hash_head=0,s.lookahead>=MIN_MATCH&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),0!==hash_head&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD&&(s.match_length=longest_match(s,hash_head)),s.match_length>=MIN_MATCH)if(bflush=trees._tr_tally(s,s.strstart-s.match_start,s.match_length-MIN_MATCH),s.lookahead-=s.match_length,s.match_length<=s.max_lazy_match&&s.lookahead>=MIN_MATCH){s.match_length--;do{s.strstart++,s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart}while(0!=--s.match_length);s.strstart++}else s.strstart+=s.match_length,s.match_length=0,s.ins_h=s.window[s.strstart],s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+1])&s.hash_mask;else bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_slow(s,flush){for(var hash_head,bflush,max_insert;;){if(s.lookahead<MIN_LOOKAHEAD){if(fill_window(s),s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(hash_head=0,s.lookahead>=MIN_MATCH&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),s.prev_length=s.match_length,s.prev_match=s.match_start,s.match_length=MIN_MATCH-1,0!==hash_head&&s.prev_length<s.max_lazy_match&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD&&(s.match_length=longest_match(s,hash_head),s.match_length<=5&&(s.strategy===Z_FILTERED||s.match_length===MIN_MATCH&&s.strstart-s.match_start>4096)&&(s.match_length=MIN_MATCH-1)),s.prev_length>=MIN_MATCH&&s.match_length<=s.prev_length){max_insert=s.strstart+s.lookahead-MIN_MATCH,bflush=trees._tr_tally(s,s.strstart-1-s.prev_match,s.prev_length-MIN_MATCH),s.lookahead-=s.prev_length-1,s.prev_length-=2;do{++s.strstart<=max_insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart)}while(0!=--s.prev_length);if(s.match_available=0,s.match_length=MIN_MATCH-1,s.strstart++,bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}else if(s.match_available){if((bflush=trees._tr_tally(s,0,s.window[s.strstart-1]))&&flush_block_only(s,!1),s.strstart++,s.lookahead--,0===s.strm.avail_out)return BS_NEED_MORE}else s.match_available=1,s.strstart++,s.lookahead--}return s.match_available&&(bflush=trees._tr_tally(s,0,s.window[s.strstart-1]),s.match_available=0),s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function Config(good_length,max_lazy,nice_length,max_chain,func){this.good_length=good_length,this.max_lazy=max_lazy,this.nice_length=nice_length,this.max_chain=max_chain,this.func=func}function deflateResetKeep(strm){var s;return strm&&strm.state?(strm.total_in=strm.total_out=0,strm.data_type=Z_UNKNOWN,(s=strm.state).pending=0,s.pending_out=0,s.wrap<0&&(s.wrap=-s.wrap),s.status=s.wrap?INIT_STATE:BUSY_STATE,strm.adler=2===s.wrap?0:1,s.last_flush=Z_NO_FLUSH,trees._tr_init(s),Z_OK):err(strm,Z_STREAM_ERROR)}function deflateReset(strm){var ret=deflateResetKeep(strm);return ret===Z_OK&&function(s){s.window_size=2*s.w_size,zero(s.head),s.max_lazy_match=configuration_table[s.level].max_lazy,s.good_match=configuration_table[s.level].good_length,s.nice_match=configuration_table[s.level].nice_length,s.max_chain_length=configuration_table[s.level].max_chain,s.strstart=0,s.block_start=0,s.lookahead=0,s.insert=0,s.match_length=s.prev_length=MIN_MATCH-1,s.match_available=0,s.ins_h=0}(strm.state),ret}function deflateInit2(strm,level,method,windowBits,memLevel,strategy){if(!strm)return Z_STREAM_ERROR;var wrap=1;if(level===Z_DEFAULT_COMPRESSION&&(level=6),windowBits<0?(wrap=0,windowBits=-windowBits):windowBits>15&&(wrap=2,windowBits-=16),memLevel<1||memLevel>MAX_MEM_LEVEL||method!==Z_DEFLATED||windowBits<8||windowBits>15||level<0||level>9||strategy<0||strategy>Z_FIXED)return err(strm,Z_STREAM_ERROR);8===windowBits&&(windowBits=9);var s=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new utils.Buf16(2*HEAP_SIZE),this.dyn_dtree=new utils.Buf16(2*(2*D_CODES+1)),this.bl_tree=new utils.Buf16(2*(2*BL_CODES+1)),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new utils.Buf16(MAX_BITS+1),this.heap=new utils.Buf16(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new utils.Buf16(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return strm.state=s,s.strm=strm,s.wrap=wrap,s.gzhead=null,s.w_bits=windowBits,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=memLevel+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+MIN_MATCH-1)/MIN_MATCH),s.window=new utils.Buf8(2*s.w_size),s.head=new utils.Buf16(s.hash_size),s.prev=new utils.Buf16(s.w_size),s.lit_bufsize=1<<memLevel+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new utils.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=level,s.strategy=strategy,s.method=method,deflateReset(strm)}configuration_table=[new Config(0,0,0,0,function(s,flush){var max_block_size=65535;for(max_block_size>s.pending_buf_size-5&&(max_block_size=s.pending_buf_size-5);;){if(s.lookahead<=1){if(fill_window(s),0===s.lookahead&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}s.strstart+=s.lookahead,s.lookahead=0;var max_start=s.block_start+max_block_size;if((0===s.strstart||s.strstart>=max_start)&&(s.lookahead=s.strstart-max_start,s.strstart=max_start,flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE;if(s.strstart-s.block_start>=s.w_size-MIN_LOOKAHEAD&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):(s.strstart>s.block_start&&(flush_block_only(s,!1),s.strm.avail_out),BS_NEED_MORE)}),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],exports.deflateInit=function(strm,level){return deflateInit2(strm,level,Z_DEFLATED,MAX_WBITS,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY)},exports.deflateInit2=deflateInit2,exports.deflateReset=deflateReset,exports.deflateResetKeep=deflateResetKeep,exports.deflateSetHeader=function(strm,head){return strm&&strm.state?2!==strm.state.wrap?Z_STREAM_ERROR:(strm.state.gzhead=head,Z_OK):Z_STREAM_ERROR},exports.deflate=function(strm,flush){var old_flush,s,beg,val;if(!strm||!strm.state||flush>Z_BLOCK||flush<0)return strm?err(strm,Z_STREAM_ERROR):Z_STREAM_ERROR;if(s=strm.state,!strm.output||!strm.input&&0!==strm.avail_in||s.status===FINISH_STATE&&flush!==Z_FINISH)return err(strm,0===strm.avail_out?Z_BUF_ERROR:Z_STREAM_ERROR);if(s.strm=strm,old_flush=s.last_flush,s.last_flush=flush,s.status===INIT_STATE)if(2===s.wrap)strm.adler=0,put_byte(s,31),put_byte(s,139),put_byte(s,8),s.gzhead?(put_byte(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),put_byte(s,255&s.gzhead.time),put_byte(s,s.gzhead.time>>8&255),put_byte(s,s.gzhead.time>>16&255),put_byte(s,s.gzhead.time>>24&255),put_byte(s,9===s.level?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0),put_byte(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(put_byte(s,255&s.gzhead.extra.length),put_byte(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=EXTRA_STATE):(put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,9===s.level?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0),put_byte(s,OS_CODE),s.status=BUSY_STATE);else{var header=Z_DEFLATED+(s.w_bits-8<<4)<<8;header|=(s.strategy>=Z_HUFFMAN_ONLY||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(header|=PRESET_DICT),header+=31-header%31,s.status=BUSY_STATE,putShortMSB(s,header),0!==s.strstart&&(putShortMSB(s,strm.adler>>>16),putShortMSB(s,65535&strm.adler)),strm.adler=1}if(s.status===EXTRA_STATE)if(s.gzhead.extra){for(beg=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending!==s.pending_buf_size));)put_byte(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=NAME_STATE)}else s.status=NAME_STATE;if(s.status===NAME_STATE)if(s.gzhead.name){beg=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending===s.pending_buf_size)){val=1;break}val=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,put_byte(s,val)}while(0!==val);s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),0===val&&(s.gzindex=0,s.status=COMMENT_STATE)}else s.status=COMMENT_STATE;if(s.status===COMMENT_STATE)if(s.gzhead.comment){beg=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending===s.pending_buf_size)){val=1;break}val=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,put_byte(s,val)}while(0!==val);s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),0===val&&(s.status=HCRC_STATE)}else s.status=HCRC_STATE;if(s.status===HCRC_STATE&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&flush_pending(strm),s.pending+2<=s.pending_buf_size&&(put_byte(s,255&strm.adler),put_byte(s,strm.adler>>8&255),strm.adler=0,s.status=BUSY_STATE)):s.status=BUSY_STATE),0!==s.pending){if(flush_pending(strm),0===strm.avail_out)return s.last_flush=-1,Z_OK}else if(0===strm.avail_in&&rank(flush)<=rank(old_flush)&&flush!==Z_FINISH)return err(strm,Z_BUF_ERROR);if(s.status===FINISH_STATE&&0!==strm.avail_in)return err(strm,Z_BUF_ERROR);if(0!==strm.avail_in||0!==s.lookahead||flush!==Z_NO_FLUSH&&s.status!==FINISH_STATE){var bstate=s.strategy===Z_HUFFMAN_ONLY?function(s,flush){for(var bflush;;){if(0===s.lookahead&&(fill_window(s),0===s.lookahead)){if(flush===Z_NO_FLUSH)return BS_NEED_MORE;break}if(s.match_length=0,bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++,bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}(s,flush):s.strategy===Z_RLE?function(s,flush){for(var bflush,prev,scan,strend,_win=s.window;;){if(s.lookahead<=MAX_MATCH){if(fill_window(s),s.lookahead<=MAX_MATCH&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(s.match_length=0,s.lookahead>=MIN_MATCH&&s.strstart>0&&(prev=_win[scan=s.strstart-1])===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]){strend=s.strstart+MAX_MATCH;do{}while(prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&scan<strend);s.match_length=MAX_MATCH-(strend-scan),s.match_length>s.lookahead&&(s.match_length=s.lookahead)}if(s.match_length>=MIN_MATCH?(bflush=trees._tr_tally(s,1,s.match_length-MIN_MATCH),s.lookahead-=s.match_length,s.strstart+=s.match_length,s.match_length=0):(bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++),bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}(s,flush):configuration_table[s.level].func(s,flush);if(bstate!==BS_FINISH_STARTED&&bstate!==BS_FINISH_DONE||(s.status=FINISH_STATE),bstate===BS_NEED_MORE||bstate===BS_FINISH_STARTED)return 0===strm.avail_out&&(s.last_flush=-1),Z_OK;if(bstate===BS_BLOCK_DONE&&(flush===Z_PARTIAL_FLUSH?trees._tr_align(s):flush!==Z_BLOCK&&(trees._tr_stored_block(s,0,0,!1),flush===Z_FULL_FLUSH&&(zero(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),flush_pending(strm),0===strm.avail_out))return s.last_flush=-1,Z_OK}return flush!==Z_FINISH?Z_OK:s.wrap<=0?Z_STREAM_END:(2===s.wrap?(put_byte(s,255&strm.adler),put_byte(s,strm.adler>>8&255),put_byte(s,strm.adler>>16&255),put_byte(s,strm.adler>>24&255),put_byte(s,255&strm.total_in),put_byte(s,strm.total_in>>8&255),put_byte(s,strm.total_in>>16&255),put_byte(s,strm.total_in>>24&255)):(putShortMSB(s,strm.adler>>>16),putShortMSB(s,65535&strm.adler)),flush_pending(strm),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?Z_OK:Z_STREAM_END)},exports.deflateEnd=function(strm){var status;return strm&&strm.state?(status=strm.state.status)!==INIT_STATE&&status!==EXTRA_STATE&&status!==NAME_STATE&&status!==COMMENT_STATE&&status!==HCRC_STATE&&status!==BUSY_STATE&&status!==FINISH_STATE?err(strm,Z_STREAM_ERROR):(strm.state=null,status===BUSY_STATE?err(strm,Z_DATA_ERROR):Z_OK):Z_STREAM_ERROR},exports.deflateSetDictionary=function(strm,dictionary){var s,str,n,wrap,avail,next,input,tmpDict,dictLength=dictionary.length;if(!strm||!strm.state)return Z_STREAM_ERROR;if(2===(wrap=(s=strm.state).wrap)||1===wrap&&s.status!==INIT_STATE||s.lookahead)return Z_STREAM_ERROR;for(1===wrap&&(strm.adler=adler32(strm.adler,dictionary,dictLength,0)),s.wrap=0,dictLength>=s.w_size&&(0===wrap&&(zero(s.head),s.strstart=0,s.block_start=0,s.insert=0),tmpDict=new utils.Buf8(s.w_size),utils.arraySet(tmpDict,dictionary,dictLength-s.w_size,s.w_size,0),dictionary=tmpDict,dictLength=s.w_size),avail=strm.avail_in,next=strm.next_in,input=strm.input,strm.avail_in=dictLength,strm.next_in=0,strm.input=dictionary,fill_window(s);s.lookahead>=MIN_MATCH;){str=s.strstart,n=s.lookahead-(MIN_MATCH-1);do{s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+MIN_MATCH-1])&s.hash_mask,s.prev[str&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=str,str++}while(--n);s.strstart=str,s.lookahead=MIN_MATCH-1,fill_window(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=MIN_MATCH-1,s.match_available=0,strm.next_in=next,strm.input=input,strm.avail_in=avail,s.wrap=wrap,Z_OK},exports.deflateInfo=\"pako deflate (from Nodeca project)\"},function(module,exports,__nested_webpack_require_324975__){\"use strict\";var utils=__nested_webpack_require_324975__(8),Z_FIXED=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN=2;function zero(buf){for(var len=buf.length;--len>=0;)buf[len]=0}var STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],static_ltree=new Array(2*(L_CODES+2));zero(static_ltree);var static_dtree=new Array(2*D_CODES);zero(static_dtree);var _dist_code=new Array(512);zero(_dist_code);var _length_code=new Array(256);zero(_length_code);var base_length=new Array(LENGTH_CODES);zero(base_length);var static_l_desc,static_d_desc,static_bl_desc,base_dist=new Array(D_CODES);function StaticTreeDesc(static_tree,extra_bits,extra_base,elems,max_length){this.static_tree=static_tree,this.extra_bits=extra_bits,this.extra_base=extra_base,this.elems=elems,this.max_length=max_length,this.has_stree=static_tree&&static_tree.length}function TreeDesc(dyn_tree,stat_desc){this.dyn_tree=dyn_tree,this.max_code=0,this.stat_desc=stat_desc}function d_code(dist){return dist<256?_dist_code[dist]:_dist_code[256+(dist>>>7)]}function put_short(s,w){s.pending_buf[s.pending++]=255&w,s.pending_buf[s.pending++]=w>>>8&255}function send_bits(s,value,length){s.bi_valid>Buf_size-length?(s.bi_buf|=value<<s.bi_valid&65535,put_short(s,s.bi_buf),s.bi_buf=value>>Buf_size-s.bi_valid,s.bi_valid+=length-Buf_size):(s.bi_buf|=value<<s.bi_valid&65535,s.bi_valid+=length)}function send_code(s,c,tree){send_bits(s,tree[2*c],tree[2*c+1])}function bi_reverse(code,len){var res=0;do{res|=1&code,code>>>=1,res<<=1}while(--len>0);return res>>>1}function gen_codes(tree,max_code,bl_count){var bits,n,next_code=new Array(MAX_BITS+1),code=0;for(bits=1;bits<=MAX_BITS;bits++)next_code[bits]=code=code+bl_count[bits-1]<<1;for(n=0;n<=max_code;n++){var len=tree[2*n+1];0!==len&&(tree[2*n]=bi_reverse(next_code[len]++,len))}}function init_block(s){var n;for(n=0;n<L_CODES;n++)s.dyn_ltree[2*n]=0;for(n=0;n<D_CODES;n++)s.dyn_dtree[2*n]=0;for(n=0;n<BL_CODES;n++)s.bl_tree[2*n]=0;s.dyn_ltree[2*END_BLOCK]=1,s.opt_len=s.static_len=0,s.last_lit=s.matches=0}function bi_windup(s){s.bi_valid>8?put_short(s,s.bi_buf):s.bi_valid>0&&(s.pending_buf[s.pending++]=s.bi_buf),s.bi_buf=0,s.bi_valid=0}function smaller(tree,n,m,depth){var _n2=2*n,_m2=2*m;return tree[_n2]<tree[_m2]||tree[_n2]===tree[_m2]&&depth[n]<=depth[m]}function pqdownheap(s,tree,k){for(var v=s.heap[k],j=k<<1;j<=s.heap_len&&(j<s.heap_len&&smaller(tree,s.heap[j+1],s.heap[j],s.depth)&&j++,!smaller(tree,v,s.heap[j],s.depth));)s.heap[k]=s.heap[j],k=j,j<<=1;s.heap[k]=v}function compress_block(s,ltree,dtree){var dist,lc,code,extra,lx=0;if(0!==s.last_lit)do{dist=s.pending_buf[s.d_buf+2*lx]<<8|s.pending_buf[s.d_buf+2*lx+1],lc=s.pending_buf[s.l_buf+lx],lx++,0===dist?send_code(s,lc,ltree):(send_code(s,(code=_length_code[lc])+LITERALS+1,ltree),0!==(extra=extra_lbits[code])&&send_bits(s,lc-=base_length[code],extra),send_code(s,code=d_code(--dist),dtree),0!==(extra=extra_dbits[code])&&send_bits(s,dist-=base_dist[code],extra))}while(lx<s.last_lit);send_code(s,END_BLOCK,ltree)}function build_tree(s,desc){var n,m,node,tree=desc.dyn_tree,stree=desc.stat_desc.static_tree,has_stree=desc.stat_desc.has_stree,elems=desc.stat_desc.elems,max_code=-1;for(s.heap_len=0,s.heap_max=HEAP_SIZE,n=0;n<elems;n++)0!==tree[2*n]?(s.heap[++s.heap_len]=max_code=n,s.depth[n]=0):tree[2*n+1]=0;for(;s.heap_len<2;)tree[2*(node=s.heap[++s.heap_len]=max_code<2?++max_code:0)]=1,s.depth[node]=0,s.opt_len--,has_stree&&(s.static_len-=stree[2*node+1]);for(desc.max_code=max_code,n=s.heap_len>>1;n>=1;n--)pqdownheap(s,tree,n);node=elems;do{n=s.heap[1],s.heap[1]=s.heap[s.heap_len--],pqdownheap(s,tree,1),m=s.heap[1],s.heap[--s.heap_max]=n,s.heap[--s.heap_max]=m,tree[2*node]=tree[2*n]+tree[2*m],s.depth[node]=(s.depth[n]>=s.depth[m]?s.depth[n]:s.depth[m])+1,tree[2*n+1]=tree[2*m+1]=node,s.heap[1]=node++,pqdownheap(s,tree,1)}while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1],function(s,desc){var h,n,m,bits,xbits,f,tree=desc.dyn_tree,max_code=desc.max_code,stree=desc.stat_desc.static_tree,has_stree=desc.stat_desc.has_stree,extra=desc.stat_desc.extra_bits,base=desc.stat_desc.extra_base,max_length=desc.stat_desc.max_length,overflow=0;for(bits=0;bits<=MAX_BITS;bits++)s.bl_count[bits]=0;for(tree[2*s.heap[s.heap_max]+1]=0,h=s.heap_max+1;h<HEAP_SIZE;h++)(bits=tree[2*tree[2*(n=s.heap[h])+1]+1]+1)>max_length&&(bits=max_length,overflow++),tree[2*n+1]=bits,n>max_code||(s.bl_count[bits]++,xbits=0,n>=base&&(xbits=extra[n-base]),f=tree[2*n],s.opt_len+=f*(bits+xbits),has_stree&&(s.static_len+=f*(stree[2*n+1]+xbits)));if(0!==overflow){do{for(bits=max_length-1;0===s.bl_count[bits];)bits--;s.bl_count[bits]--,s.bl_count[bits+1]+=2,s.bl_count[max_length]--,overflow-=2}while(overflow>0);for(bits=max_length;0!==bits;bits--)for(n=s.bl_count[bits];0!==n;)(m=s.heap[--h])>max_code||(tree[2*m+1]!==bits&&(s.opt_len+=(bits-tree[2*m+1])*tree[2*m],tree[2*m+1]=bits),n--)}}(s,desc),gen_codes(tree,max_code,s.bl_count)}function scan_tree(s,tree,max_code){var n,curlen,prevlen=-1,nextlen=tree[1],count=0,max_count=7,min_count=4;for(0===nextlen&&(max_count=138,min_count=3),tree[2*(max_code+1)+1]=65535,n=0;n<=max_code;n++)curlen=nextlen,nextlen=tree[2*(n+1)+1],++count<max_count&&curlen===nextlen||(count<min_count?s.bl_tree[2*curlen]+=count:0!==curlen?(curlen!==prevlen&&s.bl_tree[2*curlen]++,s.bl_tree[2*REP_3_6]++):count<=10?s.bl_tree[2*REPZ_3_10]++:s.bl_tree[2*REPZ_11_138]++,count=0,prevlen=curlen,0===nextlen?(max_count=138,min_count=3):curlen===nextlen?(max_count=6,min_count=3):(max_count=7,min_count=4))}function send_tree(s,tree,max_code){var n,curlen,prevlen=-1,nextlen=tree[1],count=0,max_count=7,min_count=4;for(0===nextlen&&(max_count=138,min_count=3),n=0;n<=max_code;n++)if(curlen=nextlen,nextlen=tree[2*(n+1)+1],!(++count<max_count&&curlen===nextlen)){if(count<min_count)do{send_code(s,curlen,s.bl_tree)}while(0!=--count);else 0!==curlen?(curlen!==prevlen&&(send_code(s,curlen,s.bl_tree),count--),send_code(s,REP_3_6,s.bl_tree),send_bits(s,count-3,2)):count<=10?(send_code(s,REPZ_3_10,s.bl_tree),send_bits(s,count-3,3)):(send_code(s,REPZ_11_138,s.bl_tree),send_bits(s,count-11,7));count=0,prevlen=curlen,0===nextlen?(max_count=138,min_count=3):curlen===nextlen?(max_count=6,min_count=3):(max_count=7,min_count=4)}}zero(base_dist);var static_init_done=!1;function _tr_stored_block(s,buf,stored_len,last){send_bits(s,(STORED_BLOCK<<1)+(last?1:0),3),function(s,buf,len,header){bi_windup(s),header&&(put_short(s,len),put_short(s,~len)),utils.arraySet(s.pending_buf,s.window,buf,len,s.pending),s.pending+=len}(s,buf,stored_len,!0)}exports._tr_init=function(s){static_init_done||(function(){var n,bits,length,code,dist,bl_count=new Array(MAX_BITS+1);for(length=0,code=0;code<LENGTH_CODES-1;code++)for(base_length[code]=length,n=0;n<1<<extra_lbits[code];n++)_length_code[length++]=code;for(_length_code[length-1]=code,dist=0,code=0;code<16;code++)for(base_dist[code]=dist,n=0;n<1<<extra_dbits[code];n++)_dist_code[dist++]=code;for(dist>>=7;code<D_CODES;code++)for(base_dist[code]=dist<<7,n=0;n<1<<extra_dbits[code]-7;n++)_dist_code[256+dist++]=code;for(bits=0;bits<=MAX_BITS;bits++)bl_count[bits]=0;for(n=0;n<=143;)static_ltree[2*n+1]=8,n++,bl_count[8]++;for(;n<=255;)static_ltree[2*n+1]=9,n++,bl_count[9]++;for(;n<=279;)static_ltree[2*n+1]=7,n++,bl_count[7]++;for(;n<=287;)static_ltree[2*n+1]=8,n++,bl_count[8]++;for(gen_codes(static_ltree,L_CODES+1,bl_count),n=0;n<D_CODES;n++)static_dtree[2*n+1]=5,static_dtree[2*n]=bi_reverse(n,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS+1,L_CODES,MAX_BITS),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES,MAX_BITS),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES,MAX_BL_BITS)}(),static_init_done=!0),s.l_desc=new TreeDesc(s.dyn_ltree,static_l_desc),s.d_desc=new TreeDesc(s.dyn_dtree,static_d_desc),s.bl_desc=new TreeDesc(s.bl_tree,static_bl_desc),s.bi_buf=0,s.bi_valid=0,init_block(s)},exports._tr_stored_block=_tr_stored_block,exports._tr_flush_block=function(s,buf,stored_len,last){var opt_lenb,static_lenb,max_blindex=0;s.level>0?(s.strm.data_type===Z_UNKNOWN&&(s.strm.data_type=function(s){var n,black_mask=4093624447;for(n=0;n<=31;n++,black_mask>>>=1)if(1&black_mask&&0!==s.dyn_ltree[2*n])return Z_BINARY;if(0!==s.dyn_ltree[18]||0!==s.dyn_ltree[20]||0!==s.dyn_ltree[26])return Z_TEXT;for(n=32;n<LITERALS;n++)if(0!==s.dyn_ltree[2*n])return Z_TEXT;return Z_BINARY}(s)),build_tree(s,s.l_desc),build_tree(s,s.d_desc),max_blindex=function(s){var max_blindex;for(scan_tree(s,s.dyn_ltree,s.l_desc.max_code),scan_tree(s,s.dyn_dtree,s.d_desc.max_code),build_tree(s,s.bl_desc),max_blindex=BL_CODES-1;max_blindex>=3&&0===s.bl_tree[2*bl_order[max_blindex]+1];max_blindex--);return s.opt_len+=3*(max_blindex+1)+5+5+4,max_blindex}(s),opt_lenb=s.opt_len+3+7>>>3,(static_lenb=s.static_len+3+7>>>3)<=opt_lenb&&(opt_lenb=static_lenb)):opt_lenb=static_lenb=stored_len+5,stored_len+4<=opt_lenb&&-1!==buf?_tr_stored_block(s,buf,stored_len,last):s.strategy===Z_FIXED||static_lenb===opt_lenb?(send_bits(s,(STATIC_TREES<<1)+(last?1:0),3),compress_block(s,static_ltree,static_dtree)):(send_bits(s,(DYN_TREES<<1)+(last?1:0),3),function(s,lcodes,dcodes,blcodes){var rank;for(send_bits(s,lcodes-257,5),send_bits(s,dcodes-1,5),send_bits(s,blcodes-4,4),rank=0;rank<blcodes;rank++)send_bits(s,s.bl_tree[2*bl_order[rank]+1],3);send_tree(s,s.dyn_ltree,lcodes-1),send_tree(s,s.dyn_dtree,dcodes-1)}(s,s.l_desc.max_code+1,s.d_desc.max_code+1,max_blindex+1),compress_block(s,s.dyn_ltree,s.dyn_dtree)),init_block(s),last&&bi_windup(s)},exports._tr_tally=function(s,dist,lc){return s.pending_buf[s.d_buf+2*s.last_lit]=dist>>>8&255,s.pending_buf[s.d_buf+2*s.last_lit+1]=255&dist,s.pending_buf[s.l_buf+s.last_lit]=255&lc,s.last_lit++,0===dist?s.dyn_ltree[2*lc]++:(s.matches++,dist--,s.dyn_ltree[2*(_length_code[lc]+LITERALS+1)]++,s.dyn_dtree[2*d_code(dist)]++),s.last_lit===s.lit_bufsize-1},exports._tr_align=function(s){send_bits(s,STATIC_TREES<<1,3),send_code(s,END_BLOCK,static_ltree),function(s){16===s.bi_valid?(put_short(s,s.bi_buf),s.bi_buf=0,s.bi_valid=0):s.bi_valid>=8&&(s.pending_buf[s.pending++]=255&s.bi_buf,s.bi_buf>>=8,s.bi_valid-=8)}(s)}},function(module,exports,__nested_webpack_require_335553__){\"use strict\";var zlib_inflate=__nested_webpack_require_335553__(113),utils=__nested_webpack_require_335553__(8),strings=__nested_webpack_require_335553__(66),c=__nested_webpack_require_335553__(68),msg=__nested_webpack_require_335553__(44),ZStream=__nested_webpack_require_335553__(67),GZheader=__nested_webpack_require_335553__(116),toString=Object.prototype.toString;function Inflate(options){if(!(this instanceof Inflate))return new Inflate(options);this.options=utils.assign({chunkSize:16384,windowBits:0,to:\"\"},options||{});var opt=this.options;opt.raw&&opt.windowBits>=0&&opt.windowBits<16&&(opt.windowBits=-opt.windowBits,0===opt.windowBits&&(opt.windowBits=-15)),!(opt.windowBits>=0&&opt.windowBits<16)||options&&options.windowBits||(opt.windowBits+=32),opt.windowBits>15&&opt.windowBits<48&&0==(15&opt.windowBits)&&(opt.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;var status=zlib_inflate.inflateInit2(this.strm,opt.windowBits);if(status!==c.Z_OK)throw new Error(msg[status]);if(this.header=new GZheader,zlib_inflate.inflateGetHeader(this.strm,this.header),opt.dictionary&&(\"string\"==typeof opt.dictionary?opt.dictionary=strings.string2buf(opt.dictionary):\"[object ArrayBuffer]\"===toString.call(opt.dictionary)&&(opt.dictionary=new Uint8Array(opt.dictionary)),opt.raw&&(status=zlib_inflate.inflateSetDictionary(this.strm,opt.dictionary))!==c.Z_OK))throw new Error(msg[status])}function inflate(input,options){var inflator=new Inflate(options);if(inflator.push(input,!0),inflator.err)throw inflator.msg||msg[inflator.err];return inflator.result}Inflate.prototype.push=function(data,mode){var status,_mode,next_out_utf8,tail,utf8str,strm=this.strm,chunkSize=this.options.chunkSize,dictionary=this.options.dictionary,allowBufError=!1;if(this.ended)return!1;_mode=mode===~~mode?mode:!0===mode?c.Z_FINISH:c.Z_NO_FLUSH,\"string\"==typeof data?strm.input=strings.binstring2buf(data):\"[object ArrayBuffer]\"===toString.call(data)?strm.input=new Uint8Array(data):strm.input=data,strm.next_in=0,strm.avail_in=strm.input.length;do{if(0===strm.avail_out&&(strm.output=new utils.Buf8(chunkSize),strm.next_out=0,strm.avail_out=chunkSize),(status=zlib_inflate.inflate(strm,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&dictionary&&(status=zlib_inflate.inflateSetDictionary(this.strm,dictionary)),status===c.Z_BUF_ERROR&&!0===allowBufError&&(status=c.Z_OK,allowBufError=!1),status!==c.Z_STREAM_END&&status!==c.Z_OK)return this.onEnd(status),this.ended=!0,!1;strm.next_out&&(0!==strm.avail_out&&status!==c.Z_STREAM_END&&(0!==strm.avail_in||_mode!==c.Z_FINISH&&_mode!==c.Z_SYNC_FLUSH)||(\"string\"===this.options.to?(next_out_utf8=strings.utf8border(strm.output,strm.next_out),tail=strm.next_out-next_out_utf8,utf8str=strings.buf2string(strm.output,next_out_utf8),strm.next_out=tail,strm.avail_out=chunkSize-tail,tail&&utils.arraySet(strm.output,strm.output,next_out_utf8,tail,0),this.onData(utf8str)):this.onData(utils.shrinkBuf(strm.output,strm.next_out)))),0===strm.avail_in&&0===strm.avail_out&&(allowBufError=!0)}while((strm.avail_in>0||0===strm.avail_out)&&status!==c.Z_STREAM_END);return status===c.Z_STREAM_END&&(_mode=c.Z_FINISH),_mode===c.Z_FINISH?(status=zlib_inflate.inflateEnd(this.strm),this.onEnd(status),this.ended=!0,status===c.Z_OK):_mode!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),strm.avail_out=0,!0)},Inflate.prototype.onData=function(chunk){this.chunks.push(chunk)},Inflate.prototype.onEnd=function(status){status===c.Z_OK&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=status,this.msg=this.strm.msg},exports.Inflate=Inflate,exports.inflate=inflate,exports.inflateRaw=function(input,options){return(options=options||{}).raw=!0,inflate(input,options)},exports.ungzip=inflate},function(module,exports,__nested_webpack_require_339316__){\"use strict\";var utils=__nested_webpack_require_339316__(8),adler32=__nested_webpack_require_339316__(64),crc32=__nested_webpack_require_339316__(65),inflate_fast=__nested_webpack_require_339316__(114),inflate_table=__nested_webpack_require_339316__(115),CODES=0,LENS=1,DISTS=2,Z_FINISH=4,Z_BLOCK=5,Z_TREES=6,Z_OK=0,Z_STREAM_END=1,Z_NEED_DICT=2,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR=-5,Z_DEFLATED=8,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,DEF_WBITS=15;function zswap32(q){return(q>>>24&255)+(q>>>8&65280)+((65280&q)<<8)+((255&q)<<24)}function inflateResetKeep(strm){var state;return strm&&strm.state?(state=strm.state,strm.total_in=strm.total_out=state.total=0,strm.msg=\"\",state.wrap&&(strm.adler=1&state.wrap),state.mode=HEAD,state.last=0,state.havedict=0,state.dmax=32768,state.head=null,state.hold=0,state.bits=0,state.lencode=state.lendyn=new utils.Buf32(ENOUGH_LENS),state.distcode=state.distdyn=new utils.Buf32(ENOUGH_DISTS),state.sane=1,state.back=-1,Z_OK):Z_STREAM_ERROR}function inflateReset(strm){var state;return strm&&strm.state?((state=strm.state).wsize=0,state.whave=0,state.wnext=0,inflateResetKeep(strm)):Z_STREAM_ERROR}function inflateReset2(strm,windowBits){var wrap,state;return strm&&strm.state?(state=strm.state,windowBits<0?(wrap=0,windowBits=-windowBits):(wrap=1+(windowBits>>4),windowBits<48&&(windowBits&=15)),windowBits&&(windowBits<8||windowBits>15)?Z_STREAM_ERROR:(null!==state.window&&state.wbits!==windowBits&&(state.window=null),state.wrap=wrap,state.wbits=windowBits,inflateReset(strm))):Z_STREAM_ERROR}function inflateInit2(strm,windowBits){var ret,state;return strm?(state=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new utils.Buf16(320),this.work=new utils.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},strm.state=state,state.window=null,(ret=inflateReset2(strm,windowBits))!==Z_OK&&(strm.state=null),ret):Z_STREAM_ERROR}var lenfix,distfix,virgin=!0;function fixedtables(state){if(virgin){var sym;for(lenfix=new utils.Buf32(512),distfix=new utils.Buf32(32),sym=0;sym<144;)state.lens[sym++]=8;for(;sym<256;)state.lens[sym++]=9;for(;sym<280;)state.lens[sym++]=7;for(;sym<288;)state.lens[sym++]=8;for(inflate_table(LENS,state.lens,0,288,lenfix,0,state.work,{bits:9}),sym=0;sym<32;)state.lens[sym++]=5;inflate_table(DISTS,state.lens,0,32,distfix,0,state.work,{bits:5}),virgin=!1}state.lencode=lenfix,state.lenbits=9,state.distcode=distfix,state.distbits=5}function updatewindow(strm,src,end,copy){var dist,state=strm.state;return null===state.window&&(state.wsize=1<<state.wbits,state.wnext=0,state.whave=0,state.window=new utils.Buf8(state.wsize)),copy>=state.wsize?(utils.arraySet(state.window,src,end-state.wsize,state.wsize,0),state.wnext=0,state.whave=state.wsize):((dist=state.wsize-state.wnext)>copy&&(dist=copy),utils.arraySet(state.window,src,end-copy,dist,state.wnext),(copy-=dist)?(utils.arraySet(state.window,src,end-copy,copy,0),state.wnext=copy,state.whave=state.wsize):(state.wnext+=dist,state.wnext===state.wsize&&(state.wnext=0),state.whave<state.wsize&&(state.whave+=dist))),0}exports.inflateReset=inflateReset,exports.inflateReset2=inflateReset2,exports.inflateResetKeep=inflateResetKeep,exports.inflateInit=function(strm){return inflateInit2(strm,DEF_WBITS)},exports.inflateInit2=inflateInit2,exports.inflate=function(strm,flush){var state,input,output,next,put,have,left,hold,bits,_in,_out,copy,from,from_source,here_bits,here_op,here_val,last_bits,last_op,last_val,len,ret,opts,n,here=0,hbuf=new utils.Buf8(4),order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!strm||!strm.state||!strm.output||!strm.input&&0!==strm.avail_in)return Z_STREAM_ERROR;(state=strm.state).mode===TYPE&&(state.mode=TYPEDO),put=strm.next_out,output=strm.output,left=strm.avail_out,next=strm.next_in,input=strm.input,have=strm.avail_in,hold=state.hold,bits=state.bits,_in=have,_out=left,ret=Z_OK;inf_leave:for(;;)switch(state.mode){case HEAD:if(0===state.wrap){state.mode=TYPEDO;break}for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(2&state.wrap&&35615===hold){state.check=0,hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0),hold=0,bits=0,state.mode=FLAGS;break}if(state.flags=0,state.head&&(state.head.done=!1),!(1&state.wrap)||(((255&hold)<<8)+(hold>>8))%31){strm.msg=\"incorrect header check\",state.mode=BAD;break}if((15&hold)!==Z_DEFLATED){strm.msg=\"unknown compression method\",state.mode=BAD;break}if(bits-=4,len=8+(15&(hold>>>=4)),0===state.wbits)state.wbits=len;else if(len>state.wbits){strm.msg=\"invalid window size\",state.mode=BAD;break}state.dmax=1<<len,strm.adler=state.check=1,state.mode=512&hold?DICTID:TYPE,hold=0,bits=0;break;case FLAGS:for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.flags=hold,(255&state.flags)!==Z_DEFLATED){strm.msg=\"unknown compression method\",state.mode=BAD;break}if(57344&state.flags){strm.msg=\"unknown header flags set\",state.mode=BAD;break}state.head&&(state.head.text=hold>>8&1),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0,state.mode=TIME;case TIME:for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.head&&(state.head.time=hold),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,hbuf[2]=hold>>>16&255,hbuf[3]=hold>>>24&255,state.check=crc32(state.check,hbuf,4,0)),hold=0,bits=0,state.mode=OS;case OS:for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.head&&(state.head.xflags=255&hold,state.head.os=hold>>8),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0,state.mode=EXLEN;case EXLEN:if(1024&state.flags){for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.length=hold,state.head&&(state.head.extra_len=hold),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0}else state.head&&(state.head.extra=null);state.mode=EXTRA;case EXTRA:if(1024&state.flags&&((copy=state.length)>have&&(copy=have),copy&&(state.head&&(len=state.head.extra_len-state.length,state.head.extra||(state.head.extra=new Array(state.head.extra_len)),utils.arraySet(state.head.extra,input,next,copy,len)),512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,state.length-=copy),state.length))break inf_leave;state.length=0,state.mode=NAME;case NAME:if(2048&state.flags){if(0===have)break inf_leave;copy=0;do{len=input[next+copy++],state.head&&len&&state.length<65536&&(state.head.name+=String.fromCharCode(len))}while(len&&copy<have);if(512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,len)break inf_leave}else state.head&&(state.head.name=null);state.length=0,state.mode=COMMENT;case COMMENT:if(4096&state.flags){if(0===have)break inf_leave;copy=0;do{len=input[next+copy++],state.head&&len&&state.length<65536&&(state.head.comment+=String.fromCharCode(len))}while(len&&copy<have);if(512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,len)break inf_leave}else state.head&&(state.head.comment=null);state.mode=HCRC;case HCRC:if(512&state.flags){for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold!==(65535&state.check)){strm.msg=\"header crc mismatch\",state.mode=BAD;break}hold=0,bits=0}state.head&&(state.head.hcrc=state.flags>>9&1,state.head.done=!0),strm.adler=state.check=0,state.mode=TYPE;break;case DICTID:for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}strm.adler=state.check=zswap32(hold),hold=0,bits=0,state.mode=DICT;case DICT:if(0===state.havedict)return strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,Z_NEED_DICT;strm.adler=state.check=1,state.mode=TYPE;case TYPE:if(flush===Z_BLOCK||flush===Z_TREES)break inf_leave;case TYPEDO:if(state.last){hold>>>=7&bits,bits-=7&bits,state.mode=CHECK;break}for(;bits<3;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}switch(state.last=1&hold,bits-=1,3&(hold>>>=1)){case 0:state.mode=STORED;break;case 1:if(fixedtables(state),state.mode=LEN_,flush===Z_TREES){hold>>>=2,bits-=2;break inf_leave}break;case 2:state.mode=TABLE;break;case 3:strm.msg=\"invalid block type\",state.mode=BAD}hold>>>=2,bits-=2;break;case STORED:for(hold>>>=7&bits,bits-=7&bits;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if((65535&hold)!=(hold>>>16^65535)){strm.msg=\"invalid stored block lengths\",state.mode=BAD;break}if(state.length=65535&hold,hold=0,bits=0,state.mode=COPY_,flush===Z_TREES)break inf_leave;case COPY_:state.mode=COPY;case COPY:if(copy=state.length){if(copy>have&&(copy=have),copy>left&&(copy=left),0===copy)break inf_leave;utils.arraySet(output,input,next,copy,put),have-=copy,next+=copy,left-=copy,put+=copy,state.length-=copy;break}state.mode=TYPE;break;case TABLE:for(;bits<14;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.nlen=257+(31&hold),hold>>>=5,bits-=5,state.ndist=1+(31&hold),hold>>>=5,bits-=5,state.ncode=4+(15&hold),hold>>>=4,bits-=4,state.nlen>286||state.ndist>30){strm.msg=\"too many length or distance symbols\",state.mode=BAD;break}state.have=0,state.mode=LENLENS;case LENLENS:for(;state.have<state.ncode;){for(;bits<3;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.lens[order[state.have++]]=7&hold,hold>>>=3,bits-=3}for(;state.have<19;)state.lens[order[state.have++]]=0;if(state.lencode=state.lendyn,state.lenbits=7,opts={bits:state.lenbits},ret=inflate_table(CODES,state.lens,0,19,state.lencode,0,state.work,opts),state.lenbits=opts.bits,ret){strm.msg=\"invalid code lengths set\",state.mode=BAD;break}state.have=0,state.mode=CODELENS;case CODELENS:for(;state.have<state.nlen+state.ndist;){for(;here_op=(here=state.lencode[hold&(1<<state.lenbits)-1])>>>16&255,here_val=65535&here,!((here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(here_val<16)hold>>>=here_bits,bits-=here_bits,state.lens[state.have++]=here_val;else{if(16===here_val){for(n=here_bits+2;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold>>>=here_bits,bits-=here_bits,0===state.have){strm.msg=\"invalid bit length repeat\",state.mode=BAD;break}len=state.lens[state.have-1],copy=3+(3&hold),hold>>>=2,bits-=2}else if(17===here_val){for(n=here_bits+3;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}bits-=here_bits,len=0,copy=3+(7&(hold>>>=here_bits)),hold>>>=3,bits-=3}else{for(n=here_bits+7;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}bits-=here_bits,len=0,copy=11+(127&(hold>>>=here_bits)),hold>>>=7,bits-=7}if(state.have+copy>state.nlen+state.ndist){strm.msg=\"invalid bit length repeat\",state.mode=BAD;break}for(;copy--;)state.lens[state.have++]=len}}if(state.mode===BAD)break;if(0===state.lens[256]){strm.msg=\"invalid code -- missing end-of-block\",state.mode=BAD;break}if(state.lenbits=9,opts={bits:state.lenbits},ret=inflate_table(LENS,state.lens,0,state.nlen,state.lencode,0,state.work,opts),state.lenbits=opts.bits,ret){strm.msg=\"invalid literal/lengths set\",state.mode=BAD;break}if(state.distbits=6,state.distcode=state.distdyn,opts={bits:state.distbits},ret=inflate_table(DISTS,state.lens,state.nlen,state.ndist,state.distcode,0,state.work,opts),state.distbits=opts.bits,ret){strm.msg=\"invalid distances set\",state.mode=BAD;break}if(state.mode=LEN_,flush===Z_TREES)break inf_leave;case LEN_:state.mode=LEN;case LEN:if(have>=6&&left>=258){strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,inflate_fast(strm,_out),put=strm.next_out,output=strm.output,left=strm.avail_out,next=strm.next_in,input=strm.input,have=strm.avail_in,hold=state.hold,bits=state.bits,state.mode===TYPE&&(state.back=-1);break}for(state.back=0;here_op=(here=state.lencode[hold&(1<<state.lenbits)-1])>>>16&255,here_val=65535&here,!((here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(here_op&&0==(240&here_op)){for(last_bits=here_bits,last_op=here_op,last_val=here_val;here_op=(here=state.lencode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)])>>>16&255,here_val=65535&here,!(last_bits+(here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=last_bits,bits-=last_bits,state.back+=last_bits}if(hold>>>=here_bits,bits-=here_bits,state.back+=here_bits,state.length=here_val,0===here_op){state.mode=LIT;break}if(32&here_op){state.back=-1,state.mode=TYPE;break}if(64&here_op){strm.msg=\"invalid literal/length code\",state.mode=BAD;break}state.extra=15&here_op,state.mode=LENEXT;case LENEXT:if(state.extra){for(n=state.extra;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.length+=hold&(1<<state.extra)-1,hold>>>=state.extra,bits-=state.extra,state.back+=state.extra}state.was=state.length,state.mode=DIST;case DIST:for(;here_op=(here=state.distcode[hold&(1<<state.distbits)-1])>>>16&255,here_val=65535&here,!((here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(0==(240&here_op)){for(last_bits=here_bits,last_op=here_op,last_val=here_val;here_op=(here=state.distcode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)])>>>16&255,here_val=65535&here,!(last_bits+(here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=last_bits,bits-=last_bits,state.back+=last_bits}if(hold>>>=here_bits,bits-=here_bits,state.back+=here_bits,64&here_op){strm.msg=\"invalid distance code\",state.mode=BAD;break}state.offset=here_val,state.extra=15&here_op,state.mode=DISTEXT;case DISTEXT:if(state.extra){for(n=state.extra;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.offset+=hold&(1<<state.extra)-1,hold>>>=state.extra,bits-=state.extra,state.back+=state.extra}if(state.offset>state.dmax){strm.msg=\"invalid distance too far back\",state.mode=BAD;break}state.mode=MATCH;case MATCH:if(0===left)break inf_leave;if(copy=_out-left,state.offset>copy){if((copy=state.offset-copy)>state.whave&&state.sane){strm.msg=\"invalid distance too far back\",state.mode=BAD;break}copy>state.wnext?(copy-=state.wnext,from=state.wsize-copy):from=state.wnext-copy,copy>state.length&&(copy=state.length),from_source=state.window}else from_source=output,from=put-state.offset,copy=state.length;copy>left&&(copy=left),left-=copy,state.length-=copy;do{output[put++]=from_source[from++]}while(--copy);0===state.length&&(state.mode=LEN);break;case LIT:if(0===left)break inf_leave;output[put++]=state.length,left--,state.mode=LEN;break;case CHECK:if(state.wrap){for(;bits<32;){if(0===have)break inf_leave;have--,hold|=input[next++]<<bits,bits+=8}if(_out-=left,strm.total_out+=_out,state.total+=_out,_out&&(strm.adler=state.check=state.flags?crc32(state.check,output,_out,put-_out):adler32(state.check,output,_out,put-_out)),_out=left,(state.flags?hold:zswap32(hold))!==state.check){strm.msg=\"incorrect data check\",state.mode=BAD;break}hold=0,bits=0}state.mode=LENGTH;case LENGTH:if(state.wrap&&state.flags){for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold!==(4294967295&state.total)){strm.msg=\"incorrect length check\",state.mode=BAD;break}hold=0,bits=0}state.mode=DONE;case DONE:ret=Z_STREAM_END;break inf_leave;case BAD:ret=Z_DATA_ERROR;break inf_leave;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR}return strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,(state.wsize||_out!==strm.avail_out&&state.mode<BAD&&(state.mode<CHECK||flush!==Z_FINISH))&&updatewindow(strm,strm.output,strm.next_out,_out-strm.avail_out)?(state.mode=MEM,Z_MEM_ERROR):(_in-=strm.avail_in,_out-=strm.avail_out,strm.total_in+=_in,strm.total_out+=_out,state.total+=_out,state.wrap&&_out&&(strm.adler=state.check=state.flags?crc32(state.check,output,_out,strm.next_out-_out):adler32(state.check,output,_out,strm.next_out-_out)),strm.data_type=state.bits+(state.last?64:0)+(state.mode===TYPE?128:0)+(state.mode===LEN_||state.mode===COPY_?256:0),(0===_in&&0===_out||flush===Z_FINISH)&&ret===Z_OK&&(ret=Z_BUF_ERROR),ret)},exports.inflateEnd=function(strm){if(!strm||!strm.state)return Z_STREAM_ERROR;var state=strm.state;return state.window&&(state.window=null),strm.state=null,Z_OK},exports.inflateGetHeader=function(strm,head){var state;return strm&&strm.state?0==(2&(state=strm.state).wrap)?Z_STREAM_ERROR:(state.head=head,head.done=!1,Z_OK):Z_STREAM_ERROR},exports.inflateSetDictionary=function(strm,dictionary){var state,dictLength=dictionary.length;return strm&&strm.state?0!==(state=strm.state).wrap&&state.mode!==DICT?Z_STREAM_ERROR:state.mode===DICT&&adler32(1,dictionary,dictLength,0)!==state.check?Z_DATA_ERROR:updatewindow(strm,dictionary,dictLength,dictLength)?(state.mode=MEM,Z_MEM_ERROR):(state.havedict=1,Z_OK):Z_STREAM_ERROR},exports.inflateInfo=\"pako inflate (from Nodeca project)\"},function(module,exports,__webpack_require__){\"use strict\";module.exports=function(strm,start){var state,_in,last,_out,beg,end,dmax,wsize,whave,wnext,s_window,hold,bits,lcode,dcode,lmask,dmask,here,op,len,dist,from,from_source,input,output;state=strm.state,_in=strm.next_in,input=strm.input,last=_in+(strm.avail_in-5),_out=strm.next_out,output=strm.output,beg=_out-(start-strm.avail_out),end=_out+(strm.avail_out-257),dmax=state.dmax,wsize=state.wsize,whave=state.whave,wnext=state.wnext,s_window=state.window,hold=state.hold,bits=state.bits,lcode=state.lencode,dcode=state.distcode,lmask=(1<<state.lenbits)-1,dmask=(1<<state.distbits)-1;top:do{bits<15&&(hold+=input[_in++]<<bits,bits+=8,hold+=input[_in++]<<bits,bits+=8),here=lcode[hold&lmask];dolen:for(;;){if(hold>>>=op=here>>>24,bits-=op,0===(op=here>>>16&255))output[_out++]=65535&here;else{if(!(16&op)){if(0==(64&op)){here=lcode[(65535&here)+(hold&(1<<op)-1)];continue dolen}if(32&op){state.mode=12;break top}strm.msg=\"invalid literal/length code\",state.mode=30;break top}len=65535&here,(op&=15)&&(bits<op&&(hold+=input[_in++]<<bits,bits+=8),len+=hold&(1<<op)-1,hold>>>=op,bits-=op),bits<15&&(hold+=input[_in++]<<bits,bits+=8,hold+=input[_in++]<<bits,bits+=8),here=dcode[hold&dmask];dodist:for(;;){if(hold>>>=op=here>>>24,bits-=op,!(16&(op=here>>>16&255))){if(0==(64&op)){here=dcode[(65535&here)+(hold&(1<<op)-1)];continue dodist}strm.msg=\"invalid distance code\",state.mode=30;break top}if(dist=65535&here,bits<(op&=15)&&(hold+=input[_in++]<<bits,(bits+=8)<op&&(hold+=input[_in++]<<bits,bits+=8)),(dist+=hold&(1<<op)-1)>dmax){strm.msg=\"invalid distance too far back\",state.mode=30;break top}if(hold>>>=op,bits-=op,dist>(op=_out-beg)){if((op=dist-op)>whave&&state.sane){strm.msg=\"invalid distance too far back\",state.mode=30;break top}if(from=0,from_source=s_window,0===wnext){if(from+=wsize-op,op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist,from_source=output}}else if(wnext<op){if(from+=wsize+wnext-op,(op-=wnext)<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);if(from=0,wnext<len){len-=op=wnext;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist,from_source=output}}}else if(from+=wnext-op,op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist,from_source=output}for(;len>2;)output[_out++]=from_source[from++],output[_out++]=from_source[from++],output[_out++]=from_source[from++],len-=3;len&&(output[_out++]=from_source[from++],len>1&&(output[_out++]=from_source[from++]))}else{from=_out-dist;do{output[_out++]=output[from++],output[_out++]=output[from++],output[_out++]=output[from++],len-=3}while(len>2);len&&(output[_out++]=output[from++],len>1&&(output[_out++]=output[from++]))}break}}break}}while(_in<last&&_out<end);_in-=len=bits>>3,hold&=(1<<(bits-=len<<3))-1,strm.next_in=_in,strm.next_out=_out,strm.avail_in=_in<last?last-_in+5:5-(_in-last),strm.avail_out=_out<end?end-_out+257:257-(_out-end),state.hold=hold,state.bits=bits}},function(module,exports,__nested_webpack_require_360110__){\"use strict\";var utils=__nested_webpack_require_360110__(8),lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];module.exports=function(type,lens,lens_index,codes,table,table_index,work,opts){var incr,fill,low,mask,next,end,here_bits,here_op,here_val,bits=opts.bits,len=0,sym=0,min=0,max=0,root=0,curr=0,drop=0,left=0,used=0,huff=0,base=null,base_index=0,count=new utils.Buf16(16),offs=new utils.Buf16(16),extra=null,extra_index=0;for(len=0;len<=15;len++)count[len]=0;for(sym=0;sym<codes;sym++)count[lens[lens_index+sym]]++;for(root=bits,max=15;max>=1&&0===count[max];max--);if(root>max&&(root=max),0===max)return table[table_index++]=20971520,table[table_index++]=20971520,opts.bits=1,0;for(min=1;min<max&&0===count[min];min++);for(root<min&&(root=min),left=1,len=1;len<=15;len++)if(left<<=1,(left-=count[len])<0)return-1;if(left>0&&(0===type||1!==max))return-1;for(offs[1]=0,len=1;len<15;len++)offs[len+1]=offs[len]+count[len];for(sym=0;sym<codes;sym++)0!==lens[lens_index+sym]&&(work[offs[lens[lens_index+sym]]++]=sym);if(0===type?(base=extra=work,end=19):1===type?(base=lbase,base_index-=257,extra=lext,extra_index-=257,end=256):(base=dbase,extra=dext,end=-1),huff=0,sym=0,len=min,next=table_index,curr=root,drop=0,low=-1,mask=(used=1<<root)-1,1===type&&used>852||2===type&&used>592)return 1;for(;;){here_bits=len-drop,work[sym]<end?(here_op=0,here_val=work[sym]):work[sym]>end?(here_op=extra[extra_index+work[sym]],here_val=base[base_index+work[sym]]):(here_op=96,here_val=0),incr=1<<len-drop,min=fill=1<<curr;do{table[next+(huff>>drop)+(fill-=incr)]=here_bits<<24|here_op<<16|here_val|0}while(0!==fill);for(incr=1<<len-1;huff&incr;)incr>>=1;if(0!==incr?(huff&=incr-1,huff+=incr):huff=0,sym++,0==--count[len]){if(len===max)break;len=lens[lens_index+work[sym]]}if(len>root&&(huff&mask)!==low){for(0===drop&&(drop=root),next+=min,left=1<<(curr=len-drop);curr+drop<max&&!((left-=count[curr+drop])<=0);)curr++,left<<=1;if(used+=1<<curr,1===type&&used>852||2===type&&used>592)return 1;table[low=huff&mask]=root<<24|curr<<16|next-table_index|0}}return 0!==huff&&(table[next+huff]=len-drop<<24|64<<16|0),opts.bits=root,0}},function(module,exports,__webpack_require__){\"use strict\";module.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1}},function(module,exports,__nested_webpack_require_362856__){\"use strict\";var utils=__nested_webpack_require_362856__(0),GenericWorker=__nested_webpack_require_362856__(2),utf8=__nested_webpack_require_362856__(14),crc32=__nested_webpack_require_362856__(43),signature=__nested_webpack_require_362856__(69),decToHex=function(dec,bytes){var i,hex=\"\";for(i=0;i<bytes;i++)hex+=String.fromCharCode(255&dec),dec>>>=8;return hex},generateZipParts=function(streamInfo,streamedContent,streamingEnded,offset,platform,encodeFileName){var dosTime,dosDate,file=streamInfo.file,compression=streamInfo.compression,useCustomEncoding=encodeFileName!==utf8.utf8encode,encodedFileName=utils.transformTo(\"string\",encodeFileName(file.name)),utfEncodedFileName=utils.transformTo(\"string\",utf8.utf8encode(file.name)),comment=file.comment,encodedComment=utils.transformTo(\"string\",encodeFileName(comment)),utfEncodedComment=utils.transformTo(\"string\",utf8.utf8encode(comment)),useUTF8ForFileName=utfEncodedFileName.length!==file.name.length,useUTF8ForComment=utfEncodedComment.length!==comment.length,extraFields=\"\",unicodePathExtraField=\"\",unicodeCommentExtraField=\"\",dir=file.dir,date=file.date,dataInfo={crc32:0,compressedSize:0,uncompressedSize:0};streamedContent&&!streamingEnded||(dataInfo.crc32=streamInfo.crc32,dataInfo.compressedSize=streamInfo.compressedSize,dataInfo.uncompressedSize=streamInfo.uncompressedSize);var bitflag=0;streamedContent&&(bitflag|=8),useCustomEncoding||!useUTF8ForFileName&&!useUTF8ForComment||(bitflag|=2048);var extFileAttr=0,versionMadeBy=0;dir&&(extFileAttr|=16),\"UNIX\"===platform?(versionMadeBy=798,extFileAttr|=function(unixPermissions,isDir){var result=unixPermissions;return unixPermissions||(result=isDir?16893:33204),(65535&result)<<16}(file.unixPermissions,dir)):(versionMadeBy=20,extFileAttr|=function(dosPermissions,isDir){return 63&(dosPermissions||0)}(file.dosPermissions)),dosTime=date.getUTCHours(),dosTime<<=6,dosTime|=date.getUTCMinutes(),dosTime<<=5,dosTime|=date.getUTCSeconds()/2,dosDate=date.getUTCFullYear()-1980,dosDate<<=4,dosDate|=date.getUTCMonth()+1,dosDate<<=5,dosDate|=date.getUTCDate(),useUTF8ForFileName&&(unicodePathExtraField=decToHex(1,1)+decToHex(crc32(encodedFileName),4)+utfEncodedFileName,extraFields+=\"up\"+decToHex(unicodePathExtraField.length,2)+unicodePathExtraField),useUTF8ForComment&&(unicodeCommentExtraField=decToHex(1,1)+decToHex(crc32(encodedComment),4)+utfEncodedComment,extraFields+=\"uc\"+decToHex(unicodeCommentExtraField.length,2)+unicodeCommentExtraField);var header=\"\";return header+=\"\\n\\0\",header+=decToHex(bitflag,2),header+=compression.magic,header+=decToHex(dosTime,2),header+=decToHex(dosDate,2),header+=decToHex(dataInfo.crc32,4),header+=decToHex(dataInfo.compressedSize,4),header+=decToHex(dataInfo.uncompressedSize,4),header+=decToHex(encodedFileName.length,2),header+=decToHex(extraFields.length,2),{fileRecord:signature.LOCAL_FILE_HEADER+header+encodedFileName+extraFields,dirRecord:signature.CENTRAL_FILE_HEADER+decToHex(versionMadeBy,2)+header+decToHex(encodedComment.length,2)+\"\\0\\0\\0\\0\"+decToHex(extFileAttr,4)+decToHex(offset,4)+encodedFileName+extraFields+encodedComment}};function ZipFileWorker(streamFiles,comment,platform,encodeFileName){GenericWorker.call(this,\"ZipFileWorker\"),this.bytesWritten=0,this.zipComment=comment,this.zipPlatform=platform,this.encodeFileName=encodeFileName,this.streamFiles=streamFiles,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}utils.inherits(ZipFileWorker,GenericWorker),ZipFileWorker.prototype.push=function(chunk){var currentFilePercent=chunk.meta.percent||0,entriesCount=this.entriesCount,remainingFiles=this._sources.length;this.accumulate?this.contentBuffer.push(chunk):(this.bytesWritten+=chunk.data.length,GenericWorker.prototype.push.call(this,{data:chunk.data,meta:{currentFile:this.currentFile,percent:entriesCount?(currentFilePercent+100*(entriesCount-remainingFiles-1))/entriesCount:100}}))},ZipFileWorker.prototype.openedSource=function(streamInfo){this.currentSourceOffset=this.bytesWritten,this.currentFile=streamInfo.file.name;var streamedContent=this.streamFiles&&!streamInfo.file.dir;if(streamedContent){var record=generateZipParts(streamInfo,streamedContent,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:record.fileRecord,meta:{percent:0}})}else this.accumulate=!0},ZipFileWorker.prototype.closedSource=function(streamInfo){this.accumulate=!1;var streamedContent=this.streamFiles&&!streamInfo.file.dir,record=generateZipParts(streamInfo,streamedContent,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(record.dirRecord),streamedContent)this.push({data:function(streamInfo){return signature.DATA_DESCRIPTOR+decToHex(streamInfo.crc32,4)+decToHex(streamInfo.compressedSize,4)+decToHex(streamInfo.uncompressedSize,4)}(streamInfo),meta:{percent:100}});else for(this.push({data:record.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},ZipFileWorker.prototype.flush=function(){for(var localDirLength=this.bytesWritten,i=0;i<this.dirRecords.length;i++)this.push({data:this.dirRecords[i],meta:{percent:100}});var centralDirLength=this.bytesWritten-localDirLength,dirEnd=function(entriesCount,centralDirLength,localDirLength,comment,encodeFileName){var encodedComment=utils.transformTo(\"string\",encodeFileName(comment));return signature.CENTRAL_DIRECTORY_END+\"\\0\\0\\0\\0\"+decToHex(entriesCount,2)+decToHex(entriesCount,2)+decToHex(centralDirLength,4)+decToHex(localDirLength,4)+decToHex(encodedComment.length,2)+encodedComment}(this.dirRecords.length,centralDirLength,localDirLength,this.zipComment,this.encodeFileName);this.push({data:dirEnd,meta:{percent:100}})},ZipFileWorker.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},ZipFileWorker.prototype.registerPrevious=function(previous){this._sources.push(previous);var self=this;return previous.on(\"data\",function(chunk){self.processChunk(chunk)}),previous.on(\"end\",function(){self.closedSource(self.previous.streamInfo),self._sources.length?self.prepareNextSource():self.end()}),previous.on(\"error\",function(e){self.error(e)}),this},ZipFileWorker.prototype.resume=function(){return!!GenericWorker.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},ZipFileWorker.prototype.error=function(e){var sources=this._sources;if(!GenericWorker.prototype.error.call(this,e))return!1;for(var i=0;i<sources.length;i++)try{sources[i].error(e)}catch(e){}return!0},ZipFileWorker.prototype.lock=function(){GenericWorker.prototype.lock.call(this);for(var sources=this._sources,i=0;i<sources.length;i++)sources[i].lock()},module.exports=ZipFileWorker},function(module,exports,__nested_webpack_require_369783__){\"use strict\";var utils=__nested_webpack_require_369783__(0),GenericWorker=__nested_webpack_require_369783__(2);function NodejsStreamInputAdapter(filename,stream){GenericWorker.call(this,\"Nodejs stream input adapter for \"+filename),this._upstreamEnded=!1,this._bindStream(stream)}utils.inherits(NodejsStreamInputAdapter,GenericWorker),NodejsStreamInputAdapter.prototype._bindStream=function(stream){var self=this;this._stream=stream,stream.pause(),stream.on(\"data\",function(chunk){self.push({data:chunk,meta:{percent:0}})}).on(\"error\",function(e){self.isPaused?this.generatedError=e:self.error(e)}).on(\"end\",function(){self.isPaused?self._upstreamEnded=!0:self.end()})},NodejsStreamInputAdapter.prototype.pause=function(){return!!GenericWorker.prototype.pause.call(this)&&(this._stream.pause(),!0)},NodejsStreamInputAdapter.prototype.resume=function(){return!!GenericWorker.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},module.exports=NodejsStreamInputAdapter},function(module,exports,__nested_webpack_require_370802__){\"use strict\";var utils=__nested_webpack_require_370802__(0),external=__nested_webpack_require_370802__(24),utf8=__nested_webpack_require_370802__(14),ZipEntries=(utils=__nested_webpack_require_370802__(0),__nested_webpack_require_370802__(120)),Crc32Probe=__nested_webpack_require_370802__(62),nodejsUtils=__nested_webpack_require_370802__(29);function checkEntryCRC32(zipEntry){return new external.Promise(function(resolve,reject){var worker=zipEntry.decompressed.getContentWorker().pipe(new Crc32Probe);worker.on(\"error\",function(e){reject(e)}).on(\"end\",function(){worker.streamInfo.crc32!==zipEntry.decompressed.crc32?reject(new Error(\"Corrupted zip : CRC32 mismatch\")):resolve()}).resume()})}module.exports=function(data,options){var zip=this;return options=utils.extend(options||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:utf8.utf8decode}),nodejsUtils.isNode&&nodejsUtils.isStream(data)?external.Promise.reject(new Error(\"JSZip can't accept a stream when loading a zip file.\")):utils.prepareContent(\"the loaded zip file\",data,!0,options.optimizedBinaryString,options.base64).then(function(data){var zipEntries=new ZipEntries(options);return zipEntries.load(data),zipEntries}).then(function(zipEntries){var promises=[external.Promise.resolve(zipEntries)],files=zipEntries.files;if(options.checkCRC32)for(var i=0;i<files.length;i++)promises.push(checkEntryCRC32(files[i]));return external.Promise.all(promises)}).then(function(results){for(var zipEntries=results.shift(),files=zipEntries.files,i=0;i<files.length;i++){var input=files[i];zip.file(input.fileNameStr,input.decompressed,{binary:!0,optimizedBinaryString:!0,date:input.date,dir:input.dir,comment:input.fileCommentStr.length?input.fileCommentStr:null,unixPermissions:input.unixPermissions,dosPermissions:input.dosPermissions,createFolders:options.createFolders})}return zipEntries.zipComment.length&&(zip.comment=zipEntries.zipComment),zip})}},function(module,exports,__nested_webpack_require_372698__){\"use strict\";var readerFor=__nested_webpack_require_372698__(70),utils=__nested_webpack_require_372698__(0),sig=__nested_webpack_require_372698__(69),ZipEntry=__nested_webpack_require_372698__(123),support=(__nested_webpack_require_372698__(14),__nested_webpack_require_372698__(7));function ZipEntries(loadOptions){this.files=[],this.loadOptions=loadOptions}ZipEntries.prototype={checkSignature:function(expectedSignature){if(!this.reader.readAndCheckSignature(expectedSignature)){this.reader.index-=4;var signature=this.reader.readString(4);throw new Error(\"Corrupted zip or bug: unexpected signature (\"+utils.pretty(signature)+\", expected \"+utils.pretty(expectedSignature)+\")\")}},isSignature:function(askedIndex,expectedSignature){var currentIndex=this.reader.index;this.reader.setIndex(askedIndex);var result=this.reader.readString(4)===expectedSignature;return this.reader.setIndex(currentIndex),result},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var zipComment=this.reader.readData(this.zipCommentLength),decodeParamType=support.uint8array?\"uint8array\":\"array\",decodeContent=utils.transformTo(decodeParamType,zipComment);this.zipComment=this.loadOptions.decodeFileName(decodeContent)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var extraFieldId,extraFieldLength,extraFieldValue,extraDataSize=this.zip64EndOfCentralSize-44;0<extraDataSize;)extraFieldId=this.reader.readInt(2),extraFieldLength=this.reader.readInt(4),extraFieldValue=this.reader.readData(extraFieldLength),this.zip64ExtensibleData[extraFieldId]={id:extraFieldId,length:extraFieldLength,value:extraFieldValue}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error(\"Multi-volumes zip are not supported\")},readLocalFiles:function(){var i,file;for(i=0;i<this.files.length;i++)file=this.files[i],this.reader.setIndex(file.localHeaderOffset),this.checkSignature(sig.LOCAL_FILE_HEADER),file.readLocalPart(this.reader),file.handleUTF8(),file.processAttributes()},readCentralDir:function(){var file;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(sig.CENTRAL_FILE_HEADER);)(file=new ZipEntry({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(file);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error(\"Corrupted zip or bug: expected \"+this.centralDirRecords+\" records in central dir, got \"+this.files.length)},readEndOfCentral:function(){var offset=this.reader.lastIndexOfSignature(sig.CENTRAL_DIRECTORY_END);if(offset<0)throw!this.isSignature(0,sig.LOCAL_FILE_HEADER)?new Error(\"Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html\"):new Error(\"Corrupted zip: can't find end of central directory\");this.reader.setIndex(offset);var endOfCentralDirOffset=offset;if(this.checkSignature(sig.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===utils.MAX_VALUE_16BITS||this.diskWithCentralDirStart===utils.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===utils.MAX_VALUE_16BITS||this.centralDirRecords===utils.MAX_VALUE_16BITS||this.centralDirSize===utils.MAX_VALUE_32BITS||this.centralDirOffset===utils.MAX_VALUE_32BITS){if(this.zip64=!0,(offset=this.reader.lastIndexOfSignature(sig.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory locator\");if(this.reader.setIndex(offset),this.checkSignature(sig.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,sig.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(sig.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory\");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(sig.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var expectedEndOfCentralDirOffset=this.centralDirOffset+this.centralDirSize;this.zip64&&(expectedEndOfCentralDirOffset+=20,expectedEndOfCentralDirOffset+=12+this.zip64EndOfCentralSize);var extraBytes=endOfCentralDirOffset-expectedEndOfCentralDirOffset;if(extraBytes>0)this.isSignature(endOfCentralDirOffset,sig.CENTRAL_FILE_HEADER)||(this.reader.zero=extraBytes);else if(extraBytes<0)throw new Error(\"Corrupted zip: missing \"+Math.abs(extraBytes)+\" bytes.\")},prepareReader:function(data){this.reader=readerFor(data)},load:function(data){this.prepareReader(data),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},module.exports=ZipEntries},function(module,exports,__nested_webpack_require_378197__){\"use strict\";var DataReader=__nested_webpack_require_378197__(72);function StringReader(data){DataReader.call(this,data)}__nested_webpack_require_378197__(0).inherits(StringReader,DataReader),StringReader.prototype.byteAt=function(i){return this.data.charCodeAt(this.zero+i)},StringReader.prototype.lastIndexOfSignature=function(sig){return this.data.lastIndexOf(sig)-this.zero},StringReader.prototype.readAndCheckSignature=function(sig){return sig===this.readData(4)},StringReader.prototype.readData=function(size){this.checkOffset(size);var result=this.data.slice(this.zero+this.index,this.zero+this.index+size);return this.index+=size,result},module.exports=StringReader},function(module,exports,__nested_webpack_require_378889__){\"use strict\";var Uint8ArrayReader=__nested_webpack_require_378889__(73);function NodeBufferReader(data){Uint8ArrayReader.call(this,data)}__nested_webpack_require_378889__(0).inherits(NodeBufferReader,Uint8ArrayReader),NodeBufferReader.prototype.readData=function(size){this.checkOffset(size);var result=this.data.slice(this.zero+this.index,this.zero+this.index+size);return this.index+=size,result},module.exports=NodeBufferReader},function(module,exports,__nested_webpack_require_379338__){\"use strict\";var readerFor=__nested_webpack_require_379338__(70),utils=__nested_webpack_require_379338__(0),CompressedObject=__nested_webpack_require_379338__(42),crc32fn=__nested_webpack_require_379338__(43),utf8=__nested_webpack_require_379338__(14),compressions=__nested_webpack_require_379338__(63),support=__nested_webpack_require_379338__(7);function ZipEntry(options,loadOptions){this.options=options,this.loadOptions=loadOptions}ZipEntry.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(reader){var compression,localExtraFieldsLength;if(reader.skip(22),this.fileNameLength=reader.readInt(2),localExtraFieldsLength=reader.readInt(2),this.fileName=reader.readData(this.fileNameLength),reader.skip(localExtraFieldsLength),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error(\"Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)\");if(null===(compression=function(compressionMethod){for(var method in compressions)if(compressions.hasOwnProperty(method)&&compressions[method].magic===compressionMethod)return compressions[method];return null}(this.compressionMethod)))throw new Error(\"Corrupted zip : compression \"+utils.pretty(this.compressionMethod)+\" unknown (inner file : \"+utils.transformTo(\"string\",this.fileName)+\")\");this.decompressed=new CompressedObject(this.compressedSize,this.uncompressedSize,this.crc32,compression,reader.readData(this.compressedSize))},readCentralPart:function(reader){this.versionMadeBy=reader.readInt(2),reader.skip(2),this.bitFlag=reader.readInt(2),this.compressionMethod=reader.readString(2),this.date=reader.readDate(),this.crc32=reader.readInt(4),this.compressedSize=reader.readInt(4),this.uncompressedSize=reader.readInt(4);var fileNameLength=reader.readInt(2);if(this.extraFieldsLength=reader.readInt(2),this.fileCommentLength=reader.readInt(2),this.diskNumberStart=reader.readInt(2),this.internalFileAttributes=reader.readInt(2),this.externalFileAttributes=reader.readInt(4),this.localHeaderOffset=reader.readInt(4),this.isEncrypted())throw new Error(\"Encrypted zip are not supported\");reader.skip(fileNameLength),this.readExtraFields(reader),this.parseZIP64ExtraField(reader),this.fileComment=reader.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var madeBy=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===madeBy&&(this.dosPermissions=63&this.externalFileAttributes),3===madeBy&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||\"/\"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(reader){if(this.extraFields[1]){var extraReader=readerFor(this.extraFields[1].value);this.uncompressedSize===utils.MAX_VALUE_32BITS&&(this.uncompressedSize=extraReader.readInt(8)),this.compressedSize===utils.MAX_VALUE_32BITS&&(this.compressedSize=extraReader.readInt(8)),this.localHeaderOffset===utils.MAX_VALUE_32BITS&&(this.localHeaderOffset=extraReader.readInt(8)),this.diskNumberStart===utils.MAX_VALUE_32BITS&&(this.diskNumberStart=extraReader.readInt(4))}},readExtraFields:function(reader){var extraFieldId,extraFieldLength,extraFieldValue,end=reader.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});reader.index<end;)extraFieldId=reader.readInt(2),extraFieldLength=reader.readInt(2),extraFieldValue=reader.readData(extraFieldLength),this.extraFields[extraFieldId]={id:extraFieldId,length:extraFieldLength,value:extraFieldValue}},handleUTF8:function(){var decodeParamType=support.uint8array?\"uint8array\":\"array\";if(this.useUTF8())this.fileNameStr=utf8.utf8decode(this.fileName),this.fileCommentStr=utf8.utf8decode(this.fileComment);else{var upath=this.findExtraFieldUnicodePath();if(null!==upath)this.fileNameStr=upath;else{var fileNameByteArray=utils.transformTo(decodeParamType,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(fileNameByteArray)}var ucomment=this.findExtraFieldUnicodeComment();if(null!==ucomment)this.fileCommentStr=ucomment;else{var commentByteArray=utils.transformTo(decodeParamType,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(commentByteArray)}}},findExtraFieldUnicodePath:function(){var upathField=this.extraFields[28789];if(upathField){var extraReader=readerFor(upathField.value);return 1!==extraReader.readInt(1)?null:crc32fn(this.fileName)!==extraReader.readInt(4)?null:utf8.utf8decode(extraReader.readData(upathField.length-5))}return null},findExtraFieldUnicodeComment:function(){var ucommentField=this.extraFields[25461];if(ucommentField){var extraReader=readerFor(ucommentField.value);return 1!==extraReader.readInt(1)?null:crc32fn(this.fileComment)!==extraReader.readInt(4)?null:utf8.utf8decode(extraReader.readData(ucommentField.length-5))}return null}},module.exports=ZipEntry},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.getStyles=exports.getHTML=void 0,exports.getHTML=function(content,segments){return'\\n  <div class=\"pushwoosh-subscription-segments\">\\n    <div class=\"pushwoosh-subscription-segments__header\">\\n      '+content.headerText+'\\n    </div>\\n    <div class=\"pushwoosh-subscription-segments__body\">\\n      <div class=\"pushwoosh-subscription-segments__sub-header\">\\n        '+(content.subHeaderText?content.subHeaderText:\"\")+'\\n      </div>\\n      <div class=\"pushwoosh-subscription-segments__channels\">\\n        '+segments.reduce(function(result,segment){return result+'<div class=\"pushwoosh-subscription-segments__channel\">\\n            <label class=\"pushwoosh-subscription-segments__label\">\\n              <input\\n                class=\"pushwoosh-subscription-segments__field\" \\n                type=\"checkbox\" \\n                value=\"'+segment.code+'\"\\n                checked=\"true\"\\n              />\\n              <span class=\"pushwoosh-subscription-segments__icon\">\\n                <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\\n                    <path d=\"M18.0303 8.46967C18.3232 8.76256 18.3232 9.23744 18.0303 9.53033L11.0303 16.5303C10.7374 16.8232 10.2626 16.8232 9.96967 16.5303L6.96967 13.5303C6.67678 13.2374 6.67678 12.7626 6.96967 12.4697C7.26256 12.1768 7.73744 12.1768 8.03033 12.4697L10.5 14.9393L16.9697 8.46967C17.2626 8.17678 17.7374 8.17678 18.0303 8.46967Z\" fill=\"currentColor\"/>\\n                  </svg>\\n              </span>\\n              <span class=\"pushwoosh-subscription-segments__text\">\\n                '+segment.name+\"\\n              </span>\\n            </label>\\n          </div>\"},\"\")+'\\n      </div>\\n      <div class=\"pushwoosh-subscription-segments__controls\">\\n        <button type=\"button\" id=\"pushwoosh-subscription-segments-deny\" class=\"pushwoosh-subscription-segments__control pushwoosh-subscription-segments__control_deny\">\\n          '+content.controlsDenyButtonText+'\\n        </button>\\n        <button type=\"button\" id=\"pushwoosh-subscription-segments-accept\" class=\"pushwoosh-subscription-segments__control pushwoosh-subscription-segments__control_accept\">\\n          '+content.controlsButtonText+\"\\n        </button>\\n      </div>\\n    </div>\\n  </div>\\n  \"},exports.getStyles=function(content){var styles=document.createElement(\"style\");return styles.innerHTML=\"\\n    .pushwoosh-subscription-segments * {\\n      box-sizing: border-box!important;\\n    }\\n  \\n    .pushwoosh-subscription-segments {\\n      padding: 24px 16px 16px 24px!important;\\n      user-select: none!important;\\n    }\\n  \\n    .pushwoosh-subscription-segments__header {\\n      font-weight: bold!important;\\n      font-size: 20px!important;\\n      line-height: 23px!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__sub-header {\\n      margin-top: 16px!important;\\n      font-size: 16px!important;\\n      line-height: 24px!important;\\n      color: rgba(0, 0, 0, 0.54)!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__sub-header:empty {\\n      display:none!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__channels {\\n      margin-top: 16px!important;\\n      font-size: 16px!important;\\n      line-height: 24px!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__channel + .pushwoosh-subscription-segments__channel {\\n      margin-top: 8px!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__label {\\n      display: inline-flex!important;\\n      align-items: flex-start!important;\\n      cursor: pointer!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__field {\\n      display: none!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__icon {\\n      display: block!important;\\n      line-height: 0!important;\\n      width: 20px!important;\\n      height: 20px!important;\\n      border: 1px solid #ddd!important;\\n      border-radius: 4px!important;\\n      color: #fff!important;\\n      margin: 2px 8px 0 0!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__text {\\n      color: \"+content.channelsTextColor+\"!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__controls {\\n      margin-top: 24px!important;\\n      text-align: right!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__field:checked + .pushwoosh-subscription-segments__icon {\\n      background: \"+content.channelsToggleColor+\"!important;\\n      border: 1px solid transparent!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__control {\\n      appearance: none!important;\\n      height: 36px!important;\\n      border-radius: 4px!important;\\n      padding: 0 16px!important;\\n      font-weight: bold!important;\\n      font-size: 14px!important;\\n      line-height: 16px!important;\\n      cursor: pointer!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__control + .pushwoosh-subscription-segments__control {\\n      margin: 0 0 0 4px!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__control.pushwoosh-subscription-segments__control_deny {\\n      border: none!important;\\n      color: \"+content.controlsDenyButtonTextColor+\"!important;\\n      background-color: \"+content.controlsDenyButtonBackgroundColor+\"!important;\\n      border-radius: \"+content.controlsDenyButtonRound+\"!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__control.pushwoosh-subscription-segments__control_accept {\\n      border: none!important;\\n      color: \"+content.controlsButtonTextColor+\"!important;\\n      background-color: \"+content.controlsButtonBackgroundColor+\"!important;\\n      border-radius: \"+content.controlsButtonRound+\"!important;\\n    }\\n  \",styles}},function(module,exports,__nested_webpack_require_389964__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.SubscriptionPromptWidget=void 0;var SubscriptionPromptWidget_helpers_1=__nested_webpack_require_389964__(126),SubscriptionPromptWidget_constants_1=__nested_webpack_require_389964__(74),SubscriptionPromptWidget=function(){function SubscriptionPromptWidget(eventBus,pw){this.eventBus=eventBus,this.pw=pw}return SubscriptionPromptWidget.prototype.init=function(params){if(!this.getRootElement()){var html=SubscriptionPromptWidget_helpers_1.getHTML(params),styles=SubscriptionPromptWidget_helpers_1.getStyles(params);document.body.insertAdjacentHTML(\"beforeend\",html),document.head.appendChild(styles)}this.addEventListeners()},SubscriptionPromptWidget.prototype.show=function(){var rootElement=this.getRootElementWithCheckExist();this.eventBus.dispatchEvent(\"show-subscription-widget\",{}),rootElement.classList.add(SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"_show\")},SubscriptionPromptWidget.prototype.hide=function(){var rootElement=this.getRootElementWithCheckExist();rootElement.classList.contains(SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"_show\")&&(this.eventBus.dispatchEvent(\"hide-subscription-widget\",{}),rootElement.classList.remove(SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"_show\"))},SubscriptionPromptWidget.prototype.getRootElement=function(){return document.getElementById(SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"-root\")},SubscriptionPromptWidget.prototype.getRootElementWithCheckExist=function(){var element=this.getRootElement();if(!element)throw new Error(\"Can't find element by id \\\"\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'-root\", please use method init first.');return element},SubscriptionPromptWidget.prototype.getDeclineButtonWithCheckExist=function(){var element=document.getElementById(SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"-decline\");if(!element)throw new Error(\"Can't find element by id \\\"\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'-decline\", please use method init first.');return element},SubscriptionPromptWidget.prototype.getAcceptButtonWithCheckExist=function(){var element=document.getElementById(SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"-accept\");if(!element)throw new Error(\"Can't find element by id \\\"\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'-accept\", please use method init first.');return element},SubscriptionPromptWidget.prototype.addEventListeners=function(){var _this=this,rootElement=this.getRootElementWithCheckExist(),declineElement=this.getDeclineButtonWithCheckExist(),acceptElement=this.getAcceptButtonWithCheckExist();document.addEventListener(\"click\",function(event){rootElement.contains(event.target)||_this.hide()}),declineElement.addEventListener(\"click\",function(){_this.hide()}),acceptElement.addEventListener(\"click\",function(){_this.hide(),_this.pw.subscribe()})},SubscriptionPromptWidget}();exports.SubscriptionPromptWidget=SubscriptionPromptWidget},function(module,exports,__nested_webpack_require_393170__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.getStyles=exports.getHTML=void 0;var SubscriptionPromptWidget_constants_1=__nested_webpack_require_393170__(74);exports.getHTML=function(params){return'\\n  <div id=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'-root\" class=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'\">\\n    <div class=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'__body\">\\n      <div class=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'__header\">\\n        '+params.headerText+'\\n      </div>\\n      <div class=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'__description\">\\n        '+params.subheaderText+'\\n      </div>\\n      <div class=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'__controls\">\\n        <button type=\"button\" id=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'-decline\" class=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__control \"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'__control_decline\">\\n          '+params.buttonCancelText+'\\n        </button>\\n        <button type=\"button\" id=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'-accept\" class=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__control \"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'__control_accept\">\\n          '+params.buttonAcceptText+\"\\n        </button>\\n      </div>\\n    </div>\\n  </div>\\n  \"},exports.getStyles=function(params){var styles=document.createElement(\"style\");return styles.innerHTML=\"\\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\" * {\\n      box-sizing: border-box!important;\\n    }\\n  \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\" {\\n      position: fixed;\\n      top: 0;\\n      left: 0;\\n      right: 0;\\n      margin: 0 auto;\\n      width: 320px;\\n      display: none;\\n      z-index: 2147483648;\\n      opacity: 0.99;\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"_show {\\n      display: block;\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__body {\\n      width: 320px;\\n      background-color: \"+(params.backgroundColor?params.backgroundColor:\"#FFFFFF\")+\";\\n      box-shadow: 0 9px 15px rgba(0, 0, 0, 0.1), 0 0 6px rgba(0, 0, 0, 0.06);\\n      border-radius: 4px;\\n      padding: 20px 20px 12px;\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__header {\\n      color: \"+params.headerTextColor+\";\\n      font-size: 18px;\\n      font-weight: bold; \\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__description {\\n      color: \"+params.subheaderTextColor+\";\\n      font-size: 14px;\\n      line-height: 1.5;\\n      margin-top: 14px;\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__description:empty {\\n      display: none;\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__controls {\\n      display: flex;\\n      flex-wrap: nowrap;\\n      justify-content: flex-end;\\n      margin: 20px 0 0;\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__control {\\n      -webkit-appearance: none;\\n      border: 1px solid transparent;\\n      font-size: 12px;\\n      font-weight: bold;\\n      padding: 0 20px;\\n      height: 32px;\\n      cursor: pointer;\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__control_decline {\\n      color: \"+params.buttonCancelTextColor+\";\\n      background-color: \"+params.buttonCancelBackgroundColor+\";\\n      border-radius: \"+params.buttonCancelRound+\";\\n      border-color: \"+params.buttonCancelBorderColor+\";\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__control_accept {\\n      color: \"+params.buttonAcceptTextColor+\";\\n      background-color: \"+params.buttonAcceptBackgroundColor+\";\\n      border-radius: \"+params.buttonAcceptRound+\";\\n      border-color: \"+params.buttonAcceptBorderColor+\";\\n      margin: 0 0 0 12px;\\n    }\\n  \",styles}},function(module,exports,__nested_webpack_require_397724__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var constants_1=__nested_webpack_require_397724__(1),functions_1=__nested_webpack_require_397724__(10),storage_1=__nested_webpack_require_397724__(5),FacebookModule=function(){function FacebookModule(config){this.userRef=functions_1.generateUUID(),this.config=config,this.init()}return FacebookModule.prototype.init=function(){this.renderCheckbox(),this.initFacebookSDK(),this.loadFacebookSDK()},FacebookModule.prototype.renderCheckbox=function(){for(var _a=this.config,pageId=_a.pageId,containerClass=_a.containerClass,attributes=[{name:\"messenger_app_id\",value:constants_1.FACEBOOK_APP_ID},{name:\"class\",value:\"fb-messenger-checkbox\"},{name:\"page_id\",value:pageId},{name:\"origin\",value:window.location.protocol+\"//\"+window.location.hostname},{name:\"user_ref\",value:this.userRef},{name:\"allow_login\",value:\"true\"},{name:\"size\",value:\"large\"},{name:\"skin\",value:\"light\"},{name:\"center_align\",value:\"false\"}],nodes=document.getElementsByClassName(containerClass),_loop_1=function(index){var node=document.createElement(\"div\");attributes.forEach(function(attribute){node.setAttribute(attribute.name,attribute.value)}),nodes[index].appendChild(node)},index=0;index<nodes.length;index++)_loop_1(index)},FacebookModule.prototype.getHWID=function(){return __awaiter(this,void 0,void 0,function(){var hwid,applicationCode,newHWID;return __generator(this,function(_a){switch(_a.label){case 0:return[4,storage_1.keyValue.get(constants_1.FACEBOOK_HWID_KEY)];case 1:return(hwid=_a.sent())?[3,3]:(applicationCode=this.config.applicationCode,newHWID=applicationCode+\"_\"+functions_1.generateUUID()+\"_fb\",[4,storage_1.keyValue.set(constants_1.FACEBOOK_HWID_KEY,newHWID)]);case 2:return _a.sent(),[2,newHWID];case 3:return[2,hwid]}})})},FacebookModule.prototype.userConfirm=function(){return __awaiter(this,void 0,void 0,function(){var _a,pageId,applicationCode,userId,FB,facebookHwid;return __generator(this,function(_b){switch(_b.label){case 0:return _a=this.config,pageId=_a.pageId,applicationCode=_a.applicationCode,userId=_a.userId,FB=window.FB,[4,this.getHWID()];case 1:return facebookHwid=_b.sent(),FB&&FB.AppEvents.logEvent(\"MessengerCheckboxUserConfirmation\",null,{app_id:constants_1.FACEBOOK_APP_ID,page_id:pageId,ref:JSON.stringify({applicationCode:applicationCode,userId:userId,hwid:facebookHwid}),user_ref:this.userRef}),[2]}})})},FacebookModule.prototype.initFacebookSDK=function(){var _this=this;window.fbAsyncInit=function(){window.FB.init({appId:constants_1.FACEBOOK_APP_ID,xfbml:!0,version:\"v3.2\"}),window.FB.Event.subscribe(\"messenger_checkbox\",function(_a){\"checkbox\"===_a.event&&_this.userConfirm()})}},FacebookModule.prototype.loadFacebookSDK=function(){var language=navigator.language||\"en_US\";!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];d.getElementById(id)||((js=d.createElement(s)).id=id,js.src=\"https://connect.facebook.net/\"+language+\"/sdk.js\",fjs&&fjs.parentNode.insertBefore(js,fjs))}(document,\"script\",\"facebook-jssdk\")},FacebookModule}();exports.default=FacebookModule},function(module,exports,__nested_webpack_require_402487__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.InApps=void 0;var Modal_1=__nested_webpack_require_402487__(129),RichMedia_1=__nested_webpack_require_402487__(131),expanders_1=__nested_webpack_require_402487__(141),Data_1=__nested_webpack_require_402487__(4),InApps=function(){function InApps(options,pw,eventBus,api){this.delayInApps=[],this.isLoadedInAppsList=!1,this.pw=pw,this.options=options,this.eventBus=eventBus,this.api=api,this.modal=new Modal_1.Modal(this.options&&this.options.modal?this.options.modal:{}),this.data=new Data_1.Data}return InApps.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){var inApps,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return this.subscribeToReceiveMessageFromIFrame(),this.eventBus.addEventHandler(\"receive-in-app-code\",function(_a){var code=_a.code;_this.isLoadedInAppsList?_this.showInApp(code):_this.delayInApps.push(code)}),[4,this.getList()];case 1:return inApps=_a.sent().inApps,this.delayInApps.length&&this.delayInApps.forEach(function(code){_this.showInApp(code)}),this.isLoadedInAppsList=!0,[4,this.data.setInApps(inApps)];case 2:return _a.sent(),this.inApps=inApps,[2]}})})},InApps.prototype.subscribeToReceiveMessageFromIFrame=function(){var _this=this;window.addEventListener(\"message\",function(event){if(event.source&&(event.source===window||\"parent\"in event.source&&event.source.parent===window))try{var data=JSON.parse(event.data);data&&\"object\"==typeof data&&_this.onReceiveNewMessageFromIFrame(data)}catch(e){}})},InApps.prototype.onReceiveNewMessageFromIFrame=function(message){var _this=this;switch(message.method){case\"subscribe\":this.pw.subscribe().then(function(){_this.modal.postMessage({code:message.code})});break;case\"unsubscribe\":this.pw.unsubscribe().then(function(){_this.modal.postMessage({code:message.code})});break;case\"getTags\":this.pw.api.getTags().then(function(_a){var result=_a.result;_this.modal.postMessage({code:message.code,tags:result})});break;case\"setTags\":this.pw.api.setTags(message.options.tags).then(function(){_this.modal.postMessage({code:message.code})});break;case\"getChannels\":this.data.getFeatures().then(function(_a){var channels=_a.channels;_this.modal.postMessage({code:message.code,channels:channels})});break;case\"checkSubscription\":this.api.checkDeviceSubscribeForPushNotifications().then(function(state){_this.modal.postMessage({code:message.code,state:state})});break;case\"checkManualUnsubscribed\":this.data.getStatusManualUnsubscribed().then(function(state){_this.modal.postMessage({code:message.code,state:state})});break;case\"closeInApp\":this.modal.hide();break;case\"openLink\":window.open(message.options.href,\"_blank\")}},InApps.prototype.showInApp=function(code){return __awaiter(this,void 0,void 0,function(){var filteredRichMedia,currentRichMedia,inAppContent;return __generator(this,function(_a){switch(_a.label){case 0:if(1!==(filteredRichMedia=this.inApps.filter(function(inApp){return inApp.code===code})).length)throw new Error(\"Can't find Rich Media\");return this.modal.setLoading().show(),currentRichMedia=filteredRichMedia[0],[4,new RichMedia_1.RichMedia(currentRichMedia.url,this.api,[expanders_1.ExpanderPushwooshSendMessage,expanders_1.ExpanderPushwoosh,expanders_1.ExpanderPushManager]).getContent()];case 1:return inAppContent=_a.sent(),[4,this.modal.setContent(inAppContent)];case 2:return _a.sent(),this.modal.removeLoading().showContent(),[2]}})})},InApps.prototype.getList=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.api.getInApps()]})})},InApps}();exports.InApps=InApps},function(module,exports,__nested_webpack_require_407816__){\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.Modal=void 0;var Modal_constants_1=__nested_webpack_require_407816__(130),Modal=function(){function Modal(options){var _this=this;void 0===options&&(options={});var wrapper=document.getElementById(Modal_constants_1.MODAL_WRAPPER_NAMESPACE),inner=document.getElementById(Modal_constants_1.MODAL_INNER_NAMESPACE),loader=document.getElementById(Modal_constants_1.MODAL_LOADER_NAMESPACE),iframe=document.getElementById(Modal_constants_1.MODAL_IFRAME_NAMESPACE),close=document.getElementById(Modal_constants_1.MODAL_CLOSE_BUTTON_NAMESPACE);if(this.option=__assign(__assign({},Modal_constants_1.MODAL_DEFAILT_OPTIONS),options),!(wrapper&&inner&&loader&&iframe&&close)){(wrapper=document.createElement(\"div\")).id=Modal_constants_1.MODAL_WRAPPER_NAMESPACE,wrapper.className=Modal_constants_1.MODAL_WRAPPER_NAMESPACE,(inner=document.createElement(\"div\")).id=Modal_constants_1.MODAL_INNER_NAMESPACE,inner.className=Modal_constants_1.MODAL_INNER_NAMESPACE,(loader=document.createElement(\"div\")).id=Modal_constants_1.MODAL_LOADER_NAMESPACE,loader.className=Modal_constants_1.MODAL_LOADER_NAMESPACE,(close=document.createElement(\"button\")).id=Modal_constants_1.MODAL_CLOSE_BUTTON_NAMESPACE,close.className=Modal_constants_1.MODAL_CLOSE_BUTTON_NAMESPACE,(iframe=document.createElement(\"iframe\")).id=Modal_constants_1.MODAL_IFRAME_NAMESPACE,iframe.className=Modal_constants_1.MODAL_IFRAME_NAMESPACE,inner.appendChild(iframe),inner.appendChild(close),this.option.isShowPreloader&&inner.appendChild(loader),wrapper.appendChild(inner),document.body.appendChild(wrapper);var style=document.createElement(\"style\");style.innerHTML=\"\\n        .\"+Modal_constants_1.MODAL_WRAPPER_NAMESPACE+\" {\\n          position: fixed;\\n          top: 0;\\n          left: 0;\\n          width: 100%;\\n          height: 100%;\\n          z-index: 2147483648;\\n          opacity: 0.999;\\n          display:none;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_WRAPPER_NAMESPACE+\"_state-show {\\n          display: block;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_INNER_NAMESPACE+\" {\\n          width: 100%;\\n          height: 100%;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_INNER_NAMESPACE+\"_state-loading {\\n          background-color: \"+this.option.backgroundColor+\";\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_CLOSE_BUTTON_NAMESPACE+\" {\\n          appearance: none;\\n          border: none;\\n          background-color: transparent;\\n          box-shadow: none;\\n          position: absolute;\\n          top: 20px;\\n          right: 20px;\\n          width: 40px;\\n          height: 40px;\\n          cursor: pointer;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_CLOSE_BUTTON_NAMESPACE+\":after {\\n          content: '';\\n          position: absolute;\\n          top: 50%;\\n          left:50%;\\n          width: 30px;\\n          height: 2px;\\n          background-color: \"+this.option.closeButtonColor+\";\\n          transform: translateX(-50%) translateY(-50%) rotate(-45deg);\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_CLOSE_BUTTON_NAMESPACE+\":before {\\n          content: '';\\n          position: absolute;\\n          top: 50%;\\n          left:50%;\\n          width: 30px;\\n          height: 2px;\\n          background-color: \"+this.option.closeButtonColor+\";\\n          transform: translateX(-50%) translateY(-50%) rotate(45deg);\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_INNER_NAMESPACE+\"_state-loading .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\" {\\n          display: block;\\n          position: absolute;\\n          top: 50%;\\n          left: 50%;\\n          transform: translate(-50%, -50%);\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\" {\\n          display: none;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\",\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\":before,\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\":after {\\n          border-radius: 50%;\\n          width: 2.5em;\\n          height: 2.5em;\\n          -webkit-animation-fill-mode: both;\\n          animation-fill-mode: both;\\n          -webkit-animation: \"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\" 1.8s infinite ease-in-out;\\n          animation: \"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\" 1.8s infinite ease-in-out;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\" {\\n          color: #ffffff;\\n          font-size: 10px;\\n          text-indent: -9999em;\\n          -webkit-transform: translateZ(0);\\n          -ms-transform: translateZ(0);\\n          transform: translateZ(0);\\n          -webkit-animation-delay: -0.16s;\\n          animation-delay: -0.16s;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\":before,\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\":after {\\n          content: '';\\n          position: absolute;\\n          top: 0;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\":before {\\n          left: -3.5em;\\n          -webkit-animation-delay: -0.32s;\\n          animation-delay: -0.32s;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\":after {\\n          left: 3.5em;\\n        }\\n\\n        @-webkit-keyframes \"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\" {\\n          0%,\\n          80%,\\n          100% {\\n            box-shadow: 0 2.5em 0 -1.3em \"+this.option.preloaderColor+\";\\n          }\\n          40% {\\n            box-shadow: 0 2.5em 0 0 \"+this.option.preloaderColor+\";\\n          }\\n        }\\n\\n        @keyframes \"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\" {\\n          0%,\\n          80%,\\n          100% {\\n            box-shadow: 0 2.5em 0 -1.3em \"+this.option.preloaderColor+\";\\n          }\\n          40% {\\n            box-shadow: 0 2.5em 0 0 \"+this.option.preloaderColor+\";\\n          }\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_IFRAME_NAMESPACE+\" {\\n          width: 100%;\\n          height: 100%;\\n          padding: 0;\\n          border: none;\\n          display: none;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_IFRAME_NAMESPACE+\"_state-show {\\n          display: block;\\n        }\\n      \",document.head.appendChild(style)}this.wrapper=wrapper,this.inner=inner,this.iframe=iframe,close.addEventListener(\"click\",function(){_this.hide()})}return Modal.prototype.postMessage=function(data){this.iframe.contentWindow.postMessage(JSON.stringify(data),\"*\")},Modal.prototype.show=function(){return this.wrapper.className=Modal_constants_1.MODAL_WRAPPER_NAMESPACE+\" \"+Modal_constants_1.MODAL_WRAPPER_NAMESPACE+\"_state-show\",document.body.style.overflow=\"hidden\",this},Modal.prototype.hide=function(){return this.wrapper.className=Modal_constants_1.MODAL_WRAPPER_NAMESPACE,document.body.style.overflow=\"auto\",this},Modal.prototype.setLoading=function(){return this.inner.className=Modal_constants_1.MODAL_INNER_NAMESPACE+\" \"+Modal_constants_1.MODAL_INNER_NAMESPACE+\"_state-loading\",this.iframe.className=Modal_constants_1.MODAL_IFRAME_NAMESPACE,this},Modal.prototype.removeLoading=function(){return this.inner.className=Modal_constants_1.MODAL_INNER_NAMESPACE,this},Modal.prototype.setContent=function(content){return __awaiter(this,void 0,void 0,function(){var _this=this;return __generator(this,function(_a){return this.iframe.srcdoc=content,[2,new Promise(function(resolve,reject){_this.iframe.onload=resolve,_this.iframe.onerror=reject})]})})},Modal.prototype.showContent=function(){return this.inner.className=Modal_constants_1.MODAL_INNER_NAMESPACE,this.iframe.className=Modal_constants_1.MODAL_IFRAME_NAMESPACE+\" \"+Modal_constants_1.MODAL_IFRAME_NAMESPACE+\"_state-show\",this},Modal}();exports.Modal=Modal},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.MODAL_DEFAILT_OPTIONS=exports.MODAL_IFRAME_NAMESPACE=exports.MODAL_CLOSE_BUTTON_NAMESPACE=exports.MODAL_LOADER_NAMESPACE=exports.MODAL_INNER_NAMESPACE=exports.MODAL_WRAPPER_NAMESPACE=void 0,exports.MODAL_WRAPPER_NAMESPACE=\"pushwoosh-in-app-modal-wrapper\",exports.MODAL_INNER_NAMESPACE=\"pushwoosh-in-app-modal-inner\",exports.MODAL_LOADER_NAMESPACE=\"pushwoosh-in-app-modal-loader\",exports.MODAL_CLOSE_BUTTON_NAMESPACE=\"pushwoosh-in-app-modal-close-button\",exports.MODAL_IFRAME_NAMESPACE=\"pushwoosh-in-app-modal-iframe\",exports.MODAL_DEFAILT_OPTIONS={backgroundColor:\"rgba(0, 0, 0, .8)\",closeButtonColor:\"rgba(255, 255, 255, .8)\",closeButtonHoverColor:\"rgba(255, 255, 1)\",isShowPreloader:!0,preloaderColor:\"rgba(255, 255, 255, 1)\"}},function(module,exports,__nested_webpack_require_418286__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.RichMedia=void 0;var detect_browser_1=__nested_webpack_require_418286__(132),getZip_1=__nested_webpack_require_418286__(48),DynamicContent_1=__nested_webpack_require_418286__(133),RichMediaExpander_1=__nested_webpack_require_418286__(135),ExternalResources_1=__nested_webpack_require_418286__(136),RichMedia=function(){function RichMedia(url,api,expanders){this.url=url,this.api=api,this.expanders=expanders}return RichMedia.prototype.getContent=function(){return __awaiter(this,void 0,void 0,function(){var language,jszip,values,_a,_b,content,browser,context;return __generator(this,function(_c){switch(_c.label){case 0:return[4,this.api.getTags()];case 1:return language=_c.sent().result.Language,[4,getZip_1.getZip(this.url)];case 2:if(!(jszip=_c.sent()).files[\"index.html\"])throw new Error(\"Can't find index.html\");if(!jszip.files[\"pushwoosh.json\"])throw new Error(\"Can't find pushwoosh.json\");return _b=(_a=JSON).parse,[4,jszip.file(\"pushwoosh.json\").async(\"text\")];case 3:return values=_b.apply(_a,[_c.sent()]),[4,jszip.file(\"index.html\").async(\"text\")];case 4:return content=_c.sent(),browser=detect_browser_1.detect(),context={platform:\"web\",browser:browser&&browser.name||\"unknown\",os:browser&&browser.os||\"unknown\",isMobileBrowser:this.checkIsMobileBrowser()},content=new DynamicContent_1.DynamicContent(content,values,language).getReplacedContent(),[4,new ExternalResources_1.ExternalResources(content,jszip).getReplacedContent()];case 5:return content=_c.sent(),content=new DynamicContent_1.DynamicContent(content,values,language).getReplacedContent(),content=new RichMediaExpander_1.RichMediaExpander(content,['<script type=\"text/javascript\">\\n          window.pushwoosh.platform = \\''+context.platform.replace(\" \",\"\").toLowerCase()+\"';\\n          window.pushwoosh.browser = '\"+context.browser.replace(\" \",\"\").toLowerCase()+\"';\\n          window.pushwoosh.os = '\"+context.os.replace(\" \",\"\").toLowerCase()+\"';\\n          window.pushwoosh.isMobileBrowser = \"+context.isMobileBrowser+\";\\n        <\\/script>\"]).uploadExpanders(),[2,content=new RichMediaExpander_1.RichMediaExpander(content,this.expanders).uploadExpanders()]}})})},RichMedia.prototype.checkIsMobileBrowser=function(){var isMobileBrowser=!1;return function(str){(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(str)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(str.substr(0,4)))&&(isMobileBrowser=!0)}(navigator.userAgent||navigator.vendor||window.opera),isMobileBrowser},RichMedia}();exports.RichMedia=RichMedia},function(module,exports,__nested_webpack_require_424387__){\"use strict\";(function(process){var __spreadArrays=this&&this.__spreadArrays||function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r};Object.defineProperty(exports,\"__esModule\",{value:!0});var BrowserInfo=function(){return function(name,version,os){this.name=name,this.version=version,this.os=os}}();exports.BrowserInfo=BrowserInfo;var NodeInfo=function(){return function(version){this.version=version,this.name=\"node\",this.os=process.platform}}();exports.NodeInfo=NodeInfo;var BotInfo=function(){return function(){this.bot=!0,this.name=\"bot\",this.version=null,this.os=null}}();exports.BotInfo=BotInfo;var REQUIRED_VERSION_PARTS=3,userAgentRules=[[\"aol\",/AOLShield\\/([0-9\\._]+)/],[\"edge\",/Edge\\/([0-9\\._]+)/],[\"edge-ios\",/EdgiOS\\/([0-9\\._]+)/],[\"yandexbrowser\",/YaBrowser\\/([0-9\\._]+)/],[\"vivaldi\",/Vivaldi\\/([0-9\\.]+)/],[\"kakaotalk\",/KAKAOTALK\\s([0-9\\.]+)/],[\"samsung\",/SamsungBrowser\\/([0-9\\.]+)/],[\"silk\",/\\bSilk\\/([0-9._-]+)\\b/],[\"miui\",/MiuiBrowser\\/([0-9\\.]+)$/],[\"beaker\",/BeakerBrowser\\/([0-9\\.]+)/],[\"edge-chromium\",/Edg\\/([0-9\\.]+)/],[\"chromium-webview\",/(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],[\"chrome\",/(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],[\"phantomjs\",/PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],[\"crios\",/CriOS\\/([0-9\\.]+)(:?\\s|$)/],[\"firefox\",/Firefox\\/([0-9\\.]+)(?:\\s|$)/],[\"fxios\",/FxiOS\\/([0-9\\.]+)/],[\"opera-mini\",/Opera Mini.*Version\\/([0-9\\.]+)/],[\"opera\",/Opera\\/([0-9\\.]+)(?:\\s|$)/],[\"opera\",/OPR\\/([0-9\\.]+)(:?\\s|$)/],[\"ie\",/Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],[\"ie\",/MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],[\"ie\",/MSIE\\s(7\\.0)/],[\"bb10\",/BB10;\\sTouch.*Version\\/([0-9\\.]+)/],[\"android\",/Android\\s([0-9\\.]+)/],[\"ios\",/Version\\/([0-9\\._]+).*Mobile.*Safari.*/],[\"safari\",/Version\\/([0-9\\._]+).*Safari/],[\"facebook\",/FBAV\\/([0-9\\.]+)/],[\"instagram\",/Instagram\\s([0-9\\.]+)/],[\"ios-webview\",/AppleWebKit\\/([0-9\\.]+).*Mobile/],[\"ios-webview\",/AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],[\"searchbot\",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],operatingSystemRules=[[\"iOS\",/iP(hone|od|ad)/],[\"Android OS\",/Android/],[\"BlackBerry OS\",/BlackBerry|BB10/],[\"Windows Mobile\",/IEMobile/],[\"Amazon OS\",/Kindle/],[\"Windows 3.11\",/Win16/],[\"Windows 95\",/(Windows 95)|(Win95)|(Windows_95)/],[\"Windows 98\",/(Windows 98)|(Win98)/],[\"Windows 2000\",/(Windows NT 5.0)|(Windows 2000)/],[\"Windows XP\",/(Windows NT 5.1)|(Windows XP)/],[\"Windows Server 2003\",/(Windows NT 5.2)/],[\"Windows Vista\",/(Windows NT 6.0)/],[\"Windows 7\",/(Windows NT 6.1)/],[\"Windows 8\",/(Windows NT 6.2)/],[\"Windows 8.1\",/(Windows NT 6.3)/],[\"Windows 10\",/(Windows NT 10.0)/],[\"Windows ME\",/Windows ME/],[\"Open BSD\",/OpenBSD/],[\"Sun OS\",/SunOS/],[\"Chrome OS\",/CrOS/],[\"Linux\",/(Linux)|(X11)/],[\"Mac OS\",/(Mac_PowerPC)|(Macintosh)/],[\"QNX\",/QNX/],[\"BeOS\",/BeOS/],[\"OS/2\",/OS\\/2/],[\"Search Bot\",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\\/Teoma)|(ia_archiver)/]];function parseUserAgent(ua){var matchedRule=\"\"!==ua&&userAgentRules.reduce(function(matched,_a){var browser=_a[0],regex=_a[1];if(matched)return matched;var uaMatch=regex.exec(ua);return!!uaMatch&&[browser,uaMatch]},!1);if(!matchedRule)return null;var name=matchedRule[0],match=matchedRule[1];if(\"searchbot\"===name)return new BotInfo;var versionParts=match[1]&&match[1].split(/[._]/).slice(0,3);return versionParts?versionParts.length<REQUIRED_VERSION_PARTS&&(versionParts=__spreadArrays(versionParts,function(count){for(var output=[],ii=0;ii<count;ii++)output.push(\"0\");return output}(REQUIRED_VERSION_PARTS-versionParts.length))):versionParts=[],new BrowserInfo(name,versionParts.join(\".\"),detectOS(ua))}function detectOS(ua){for(var ii=0,count=operatingSystemRules.length;ii<count;ii++){var _a=operatingSystemRules[ii],os=_a[0];if(_a[1].test(ua))return os}return null}function getNodeVersion(){return void 0!==process&&process.version?new NodeInfo(process.version.slice(1)):null}exports.detect=function(userAgent){return userAgent?parseUserAgent(userAgent):\"undefined\"!=typeof navigator?parseUserAgent(navigator.userAgent):getNodeVersion()},exports.parseUserAgent=parseUserAgent,exports.detectOS=detectOS,exports.getNodeVersion=getNodeVersion}).call(this,__nested_webpack_require_424387__(22))},function(module,exports,__nested_webpack_require_428812__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.DynamicContent=void 0;var DynamicContent_constants_1=__nested_webpack_require_428812__(134),DynamicContent=function(){function DynamicContent(content,values,language){this.content=content,this.values=values,this.language=language}return DynamicContent.prototype.getReplacedContent=function(){var _this=this,regexp=new RegExp(\"\\\\{\\\\{[^\\\\}\\\\}]*}}\",\"gm\");return this.content.replace(regexp,function(substring){var pattern=substring.replace(\"}}\",\"\").replace(\"{{\",\"\");return _this.getResultingContent(pattern)})},DynamicContent.prototype.getResultingContent=function(pattern){var _a=pattern.split(\"|\"),name=_a[0],modifier=_a[1],_b=_a[2],value=void 0===_b?\"\":_b,hasReplacedValueByCurrentLanguage=this.values.localization&&this.values.localization[this.language]&&this.values.localization[this.language][name],hasReplacedValueByDefaultLanguage=this.values.localization&&this.values.localization[this.values.default_language]&&this.values.localization[this.values.default_language][name];return hasReplacedValueByCurrentLanguage?value=this.values.localization[this.language][name]:hasReplacedValueByDefaultLanguage&&(value=this.values.localization[this.values.default_language][name]),this.updateStringByModifier(value,modifier)},DynamicContent.prototype.updateStringByModifier=function(string,modifier){switch(modifier.toLowerCase()){case DynamicContent_constants_1.DYNAMIC_CONTENT_MODIFIER_CAPITALIZE_FIRST:return string=(string=string.toLowerCase()).charAt(0).toUpperCase()+string.substring(1);case DynamicContent_constants_1.DYNAMIC_CONTENT_MODIFIER_CAPITALIZE_ALL_FIRST:for(var arrLetters=string.toLowerCase().split(\" \"),i=0;i<arrLetters.length;i++)arrLetters[i]=arrLetters[i].charAt(0).toUpperCase()+arrLetters[i].substring(1);return string=arrLetters.join(\" \");case DynamicContent_constants_1.DYNAMIC_CONTENT_MODIFIER_UPPERCASE:return string.toUpperCase();case DynamicContent_constants_1.DYNAMIC_CONTENT_MODIFIER_LOWERCASE:return string.toLowerCase();default:return string}},DynamicContent}();exports.DynamicContent=DynamicContent},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.DYNAMIC_CONTENT_MODIFIER_LOWERCASE=exports.DYNAMIC_CONTENT_MODIFIER_UPPERCASE=exports.DYNAMIC_CONTENT_MODIFIER_CAPITALIZE_ALL_FIRST=exports.DYNAMIC_CONTENT_MODIFIER_CAPITALIZE_FIRST=void 0,exports.DYNAMIC_CONTENT_MODIFIER_CAPITALIZE_FIRST=\"capitalizefirst\",exports.DYNAMIC_CONTENT_MODIFIER_CAPITALIZE_ALL_FIRST=\"capitalizeallfirst\",exports.DYNAMIC_CONTENT_MODIFIER_UPPERCASE=\"uppercase\",exports.DYNAMIC_CONTENT_MODIFIER_LOWERCASE=\"lowercase\"},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.RichMediaExpander=void 0;var RichMediaExpander=function(){function RichMediaExpander(content,expanders){void 0===expanders&&(expanders=[]),this.content=content,this.expanders=expanders}return RichMediaExpander.prototype.uploadExpanders=function(){var merge=this.expanders.join(\"\\r\\n\");return this.content.replace(\"<head>\",\"<head>\"+merge)},RichMediaExpander}();exports.RichMediaExpander=RichMediaExpander},function(module,exports,__nested_webpack_require_432040__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.ExternalResources=void 0;var logger_1=__nested_webpack_require_432040__(3),UrlParser_1=__nested_webpack_require_432040__(137),ExternalResources_constants_1=__nested_webpack_require_432040__(140),ExternalResources=function(){function ExternalResources(content,jszip){this.content=content,this.jszip=jszip}return ExternalResources.prototype.getReplacedContent=function(){return __awaiter(this,void 0,void 0,function(){var _this=this;return __generator(this,function(_a){return[2,this.replaceExternalStyles(this.content).then(function(content){return _this.replaceExternalBackgroundUrl(content)}).then(function(content){return _this.replaceExternalImage(content)}).then(function(content){return _this.replaceExternalScript(content)})]})})},ExternalResources.prototype.replaceExternalStyles=function(content,base){return void 0===base&&(base=\"/\"),__awaiter(this,void 0,void 0,function(){var pattern,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return pattern=this.getSearchPattern(\"style\"),[4,this.replacer(content,pattern,function(substring){return __awaiter(_this,void 0,void 0,function(){var path,content,relative;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getReplacedFilePath(substring,pattern,ExternalResources_constants_1.EXTERNAL_RESOURCES_REGEXP_SECOND_GROUP,base)];case 1:return(path=_a.sent())?[4,this.jszip.file(path).async(\"text\")]:[2,substring];case 2:return content=_a.sent(),relative=path.split(\"/\").splice(-1,1).join(\"/\"),[4,this.replaceExternalBackgroundUrl(content,relative)];case 3:return[2,'<style type=\"text/css\">'+_a.sent().replace(\"\\n\",\"\")+\"</style>\"]}})})})];case 1:return[2,_a.sent()]}})})},ExternalResources.prototype.replaceExternalBackgroundUrl=function(content,base){return void 0===base&&(base=\"/\"),__awaiter(this,void 0,void 0,function(){var pattern,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return pattern=this.getSearchPattern(\"backgroundUrl\"),[4,this.replacer(content,pattern,function(substring){return __awaiter(_this,void 0,void 0,function(){var path,content,extension;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getReplacedFilePath(substring,pattern,ExternalResources_constants_1.EXTERNAL_RESOURCES_REGEXP_SECOND_GROUP,base)];case 1:return(path=_a.sent())?[4,this.jszip.file(path).async(\"base64\")]:[2,substring];case 2:return content=_a.sent(),[2,'url(\"data:image/'+(\"svg\"===(extension=path.split(\".\").pop())?\"svg+xml\":extension)+\";base64,\"+content+'\")']}})})})];case 1:return[2,_a.sent()]}})})},ExternalResources.prototype.replaceExternalImage=function(content,base){return void 0===base&&(base=\"/\"),__awaiter(this,void 0,void 0,function(){var pattern,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return pattern=this.getSearchPattern(\"image\"),[4,this.replacer(content,pattern,function(substring){return __awaiter(_this,void 0,void 0,function(){var path,content,extension;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getReplacedFilePath(substring,pattern,ExternalResources_constants_1.EXTERNAL_RESOURCES_REGEXP_SECOND_GROUP,base)];case 1:return(path=_a.sent())?[4,this.jszip.file(path).async(\"base64\")]:[2,substring];case 2:return content=_a.sent(),[2,'<img src=\"data:image/'+(\"svg\"===(extension=path.split(\".\").pop())?\"svg+xml\":extension)+\";base64,\"+content+'\" alt=\"\">']}})})})];case 1:return[2,_a.sent()]}})})},ExternalResources.prototype.replaceExternalScript=function(content,base){return void 0===base&&(base=\"/\"),__awaiter(this,void 0,void 0,function(){var pattern,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return pattern=this.getSearchPattern(\"script\"),[4,this.replacer(content,pattern,function(substring){return __awaiter(_this,void 0,void 0,function(){var path;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getReplacedFilePath(substring,pattern,ExternalResources_constants_1.EXTERNAL_RESOURCES_REGEXP_SECOND_GROUP,base)];case 1:return(path=_a.sent())?[4,this.jszip.file(path).async(\"text\")]:[2,substring];case 2:return[2,\"<script>\"+_a.sent()+\"<\\/script>\"]}})})})];case 1:return[2,_a.sent()]}})})},ExternalResources.prototype.getSearchPattern=function(type){switch(type){case\"style\":return\"<link[^>]*href=('|\\\")([^>]*.(css))('|\\\")[^>]*>\";case\"backgroundUrl\":return\"url\\\\s*\\\\(('|\\\")?([^)]*\\\\.(gif|jpg|jpeg|png|svg))('|\\\")?\\\\s*\\\\)\";case\"image\":return\"<img[^\\\\/?>]*src=('|\\\")([^>]*\\\\.(gif|jpg|jpeg|png|svg))('|\\\")[^\\\\/?>]*>\";case\"script\":return\"<script[^>]*src=('|\\\")(.*\\\\.js)('|\\\")[^>]*>(\\\\n|\\\\r|\\\\s)*<\\\\/script>\"}},ExternalResources.prototype.replacer=function(content,pattern,callback){return __awaiter(this,void 0,void 0,function(){var arPromises,regexp,replaces;return __generator(this,function(_a){switch(_a.label){case 0:return arPromises=[],regexp=new RegExp(pattern,\"g\"),content.replace(regexp,function(substring){return arPromises.push(callback(substring)),substring}),[4,Promise.all(arPromises)];case 1:return replaces=_a.sent(),[2,content.replace(regexp,function(){return replaces.shift()||\"\"})]}})})},ExternalResources.prototype.getReplacedFilePath=function(substring,pattern,matchPosition,base){return void 0===base&&(base=\"/\"),__awaiter(this,void 0,void 0,function(){var regexp,matches,match,url,path;return __generator(this,function(_a){return regexp=new RegExp(pattern),(matches=substring.match(regexp))&&matches.length?(match=matches[matchPosition],(url=new UrlParser_1.UrlParser(match,base)).checkIsAbsolutePath()?[2]:(path=url.getRelativePath(),this.jszip.files[path]?[2,path]:(logger_1.Logger.write(\"error\",'Not found file: \"'+path+'\" for replace.'),[2]))):[2]})})},ExternalResources}();exports.ExternalResources=ExternalResources},function(module,exports,__nested_webpack_require_439538__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.UrlParser=void 0;var resolver=__nested_webpack_require_439538__(138),UrlParser_constants_1=__nested_webpack_require_439538__(139),UrlParser=function(){function UrlParser(url,base){void 0===base&&(base=\"/\"),this.url=url,this.base=base}return UrlParser.prototype.checkIsAbsolutePath=function(){return new RegExp(\"^(?:[a-z]+:)?//\",\"i\").test(this.url)},UrlParser.prototype.getRelativePath=function(){var pathWithBase=resolver(UrlParser_constants_1.URL_PARSER_PSEUDO_DOMAIN,this.base);return resolver(pathWithBase,this.url).replace(UrlParser_constants_1.URL_PARSER_PSEUDO_DOMAIN,\"\")},UrlParser}();exports.UrlParser=UrlParser},function(module,exports,__webpack_require__){\"use strict\";function _addSlash(url){return url+(\"/\"===url[url.length-1]?\"\":\"/\")}function _pathResolve(path){var pathSplit=path.split(\"/\");\"\"===pathSplit[0]&&(pathSplit=pathSplit.slice(1));var resultArray=[];return pathSplit.forEach(function(current,index){\".\"!==current&&(\"..\"===current?resultArray.pop():\"\"!==current&&resultArray.push(current))}),\"/\"+resultArray.join(\"/\")}module.exports=function(base,relative){if(base=base.trim(),(relative=relative.trim()).startsWith(\"about:\"))return relative;if(\"\"===base)return _shouldAddSlash(relative)?_addSlash(relative):relative;var baseObj=function(base){var resultObject={host:\"\",path:\"\",query:\"\",protocol:\"\"},path=base,protocolEndIndex=base.indexOf(\"//\");if(-1===protocolEndIndex)throw new Error(\"Error, protocol is not specified\");resultObject.protocol=path.substring(0,protocolEndIndex),protocolEndIndex+=2;var pathIndex=base.indexOf(\"/\",protocolEndIndex),queryIndex=base.indexOf(\"?\"),hashIndex=base.indexOf(\"#\");-1!==hashIndex&&(path=path.substring(0,hashIndex));if(-1!==queryIndex){var query=path.substring(queryIndex);resultObject.query=query,path=path.substring(0,queryIndex)}if(-1!==pathIndex){var host=path.substring(0,pathIndex);resultObject.host=host,path=path.substring(pathIndex),resultObject.path=path}else resultObject.host=path;return resultObject}(base);if(\"\"===relative){var host=baseObj.host,path=baseObj.path,query=baseObj.query;return path||query?host+path+query:_addSlash(host)}var relativeObj=function(relative){var resultObject={href:relative,hash:\"\",query:\"\",netPath:!1,absolutePath:!1,relativePath:!1};if(_isAbsolute.test(relative))return resultObject.netPath=!0,resultObject;\"/\"===relative[0]?resultObject.absolutePath=!0:resultObject.relativePath=!0;var path=relative,queryIndex=relative.indexOf(\"?\"),hashIndex=relative.indexOf(\"#\");if(-1!==hashIndex){var hash=path.substring(hashIndex);resultObject.hash=hash,path=path.substring(0,hashIndex)}if(-1!==queryIndex){var query=path.substring(queryIndex);resultObject.query=query,path=path.substring(0,queryIndex)}return resultObject.path=path,resultObject}(relative);if(relativeObj.netPath)return function(url){return url.startsWith(\"//\")}(relativeObj.href)&&(relativeObj.href=baseObj.protocol+relativeObj.href),_shouldAddSlash(relativeObj.href)?_addSlash(relativeObj.href):relativeObj.href;if(relativeObj.absolutePath){var _path=relativeObj.path,_query=relativeObj.query,hash=relativeObj.hash;return baseObj.host+_pathResolve(_path)+_query+hash}if(relativeObj.relativePath){var resolvePath,_path2=relativeObj.path,_query2=relativeObj.query,_hash=relativeObj.hash,basePath=baseObj.path,resultString=baseObj.host;return 0===_path2.length?resolvePath=basePath:(basePath=basePath.substring(0,basePath.lastIndexOf(\"/\")),resolvePath=_pathResolve(basePath+\"/\"+_path2)),resultString+=\"\"!==resolvePath||_query2||_hash?resolvePath+_query2+_hash:\"/\"}};var _isAbsolute=new RegExp(\"^(\".concat(\"[a-z][a-z0-9+.-]*\",\":)?//\"),\"i\");function _shouldAddSlash(url){var protocolIndex=url.indexOf(\"//\")+2,noPath=!url.includes(\"/\",protocolIndex),noQuery=!url.includes(\"?\",protocolIndex),noHash=!url.includes(\"#\",protocolIndex);return noPath&&noQuery&&noHash}},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.URL_PARSER_PSEUDO_DOMAIN=void 0,exports.URL_PARSER_PSEUDO_DOMAIN=\"https://pushwoosh.com/\"},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.EXTERNAL_RESOURCES_REGEXP_SECOND_GROUP=void 0,exports.EXTERNAL_RESOURCES_REGEXP_SECOND_GROUP=2},function(module,exports,__nested_webpack_require_443883__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.ExpanderPushwooshSendMessage=exports.ExpanderPushManager=exports.ExpanderPushwoosh=void 0;var RichMediaPushwooshSendMessage_html_1=__nested_webpack_require_443883__(142);exports.ExpanderPushwooshSendMessage=RichMediaPushwooshSendMessage_html_1.default;var RichMediaPushwoosh_html_1=__nested_webpack_require_443883__(143);exports.ExpanderPushwoosh=RichMediaPushwoosh_html_1.default;var RichMediaPushManager_html_1=__nested_webpack_require_443883__(144);exports.ExpanderPushManager=RichMediaPushManager_html_1.default},function(module,__webpack_exports__,__nested_webpack_require_444491__){\"use strict\";__nested_webpack_require_444491__.r(__webpack_exports__),__webpack_exports__.default='<script type=\"text/javascript\">\\n  function PushwooshSendMessage(message, success, failure) {\\n    var code = uuidv4();\\n\\n    if (success) {\\n      window.addEventListener(\\'message\\', function (event) {\\n        if (!event.source) {\\n          return;\\n        }\\n\\n        if (window.top === event.source.parent) {\\n          try {\\n            const data = JSON.parse(event.data);\\n\\n            if (data && data.code === code) {\\n              success && success(data);\\n            }\\n          } catch (error) {\\n            failure && failure(error);\\n          }\\n        }\\n      });\\n    }\\n\\n    var data = Object.assign(\\n      message,\\n      {\\n        code: code\\n      }\\n    );\\n\\n    window.parent.postMessage(JSON.stringify(data), \"*\");\\n\\n    function uuidv4() {\\n      return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\\n        var r = (Math.random() * 16) | 0,\\n          v = c == \"x\" ? r : (r & 0x3) | 0x8;\\n        return v.toString(16);\\n      });\\n    }\\n  }\\n<\\/script>\\n'},function(module,__webpack_exports__,__nested_webpack_require_445663__){\"use strict\";__nested_webpack_require_445663__.r(__webpack_exports__),__webpack_exports__.default=\"<script type=\\\"text/javascript\\\">\\n  function PushwooshBridge() {\\n    var self = this;\\n\\n    self.isWebSDK = true;\\n    self.isSafari = navigator.userAgent.toLowerCase().indexOf('safari') !== -1\\n      && navigator.userAgent.toLowerCase().indexOf('chrome') === -1;\\n\\n    self.registerForPushNotifications = function () {\\n      PushwooshSendMessage({\\n        method: 'subscribe',\\n      })\\n    };\\n\\n    self.unregisterForPushNotifications = function () {\\n      PushwooshSendMessage({\\n        method: 'unsubscribe',\\n      });\\n    };\\n\\n    self.getTags = function (onSuccessCallback) {\\n      PushwooshSendMessage({\\n        method: 'getTags',\\n      }, function (result) {\\n        onSuccessCallback(result && result.tags);\\n      })\\n    };\\n\\n    self.sendTags = function (tags) {\\n      PushwooshSendMessage({\\n        method: 'setTags',\\n        options: {\\n          tags: tags\\n        },\\n      });\\n    };\\n\\n    self.isRegisteredForPushNotifications = function (onSuccessCallback) {\\n      PushwooshSendMessage({\\n        method: 'checkSubscription',\\n      }, function (result) {\\n        onSuccessCallback(result.state)\\n      });\\n    };\\n\\n    self.isManualUnregisterForPushNotifications = function (onSuccessCallback) {\\n      PushwooshSendMessage({\\n        method: 'checkManualUnsubscribed',\\n      }, function (result) {\\n        onSuccessCallback(result.state)\\n      });\\n    };\\n\\n    self.getChannels = function (onSuccessCallback) {\\n      PushwooshSendMessage({\\n        method: 'getChannels',\\n      }, function (result) {\\n        onSuccessCallback(result.channels)\\n      });\\n    };\\n  }\\n\\n  window.pushwoosh = new PushwooshBridge();\\n<\\/script>\\n\"},function(module,__webpack_exports__,__nested_webpack_require_447493__){\"use strict\";__nested_webpack_require_447493__.r(__webpack_exports__),__webpack_exports__.default=\"<script type=\\\"text/javascript\\\">\\n  function PushwooshPushManagerBridge() {\\n    var self = this;\\n    var absoluteURLPattern = new RegExp('^(?:[a-z]+:)?//', 'i');\\n\\n    self.closeInApp = function (options) {\\n      PushwooshSendMessage({\\n        method: 'closeInApp',\\n        options: options,\\n      });\\n    };\\n\\n    self.openLink = function (options) {\\n      PushwooshSendMessage({\\n        method: 'openLink',\\n        options: options,\\n      });\\n    };\\n\\n    window.addEventListener('load', function () {\\n      var closeLinks = document.querySelectorAll('a[href=\\\"pushwoosh://close\\\"]');\\n      var otherLinks = document.querySelectorAll('a:not([href=\\\"pushwoosh://close\\\"])');\\n\\n      for (var i = 0; i < closeLinks.length; i++) {\\n        closeLinks[i].addEventListener('click', function (event) {\\n          event.preventDefault();\\n\\n          self.closeInApp();\\n        });\\n      }\\n\\n      for (var j = 0; j < otherLinks.length; j++) {\\n        var href = otherLinks[j].getAttribute('href');\\n\\n        if (absoluteURLPattern.test(href)) {\\n          otherLinks[j].addEventListener('click', function (event) {\\n            event.preventDefault();\\n\\n            self.openLink({\\n              href: event.target.href\\n            });\\n\\n            self.closeInApp();\\n          });\\n        }\\n      }\\n    });\\n  }\\n\\n  window.pushManager = new PushwooshPushManagerBridge();\\n<\\/script>\\n\"},function(module,exports,__nested_webpack_require_449041__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var constants_1=__nested_webpack_require_449041__(1),PlatformChecker_1=__nested_webpack_require_449041__(75),constants_2=__nested_webpack_require_449041__(77),positioning_1=__nested_webpack_require_449041__(146),bell_1=__nested_webpack_require_449041__(147),storage_1=__nested_webpack_require_449041__(5),SubscribeWidget=function(){function SubscribeWidget(pw){var _this=this;if(this.pw=pw,PlatformChecker_1.default.isAvailableNotifications){this.clickBell=this.clickBell.bind(this),this.onSubscribeEvent=this.onSubscribeEvent.bind(this),this.onUnsubscribeEvent=this.onUnsubscribeEvent.bind(this),this.onPermissionDeniedEvent=this.onPermissionDeniedEvent.bind(this),this.clickOutOfPopover=this.clickOutOfPopover.bind(this),this.onClickBellIfEnableChannels=this.onClickBellIfEnableChannels.bind(this);var tooltipText=Object.assign(constants_2.SUBSCRIBE_WIDGET_DEFAULT_CONFIG.tooltipText,pw.subscribeWidgetConfig.tooltipText);this.config=Object.assign({},constants_2.SUBSCRIBE_WIDGET_DEFAULT_CONFIG,pw.subscribeWidgetConfig),this.config.tooltipText=tooltipText;var arrActions=[],isEnableChannels=pw.isEnableChannels(),isSubscribed=pw.isSubscribed();arrActions.push(isEnableChannels),arrActions.push(isSubscribed),Promise.all(arrActions).then(function(_a){var isEnableChannels=_a[0],isSubscribed=_a[1];isEnableChannels&&(_this.isEnableChannels=!0),isSubscribed&&!isEnableChannels||_this.render()})}else console.warn(\"Browser does not support push notifications\")}return SubscribeWidget.prototype.addStylesToElement=function(styles,element){Object.keys(styles).forEach(function(st){element.style[st]=styles[st]})},SubscribeWidget.prototype.createContainer=function(){var container=document.createElement(\"div\");container.id=constants_2.WIDGET_CONTAINER_ID,container.className=\"pushwoosh-subscribe-widget\";var position=positioning_1.default.getBellPosition(this.config.position,this.config.indent),styles=Object.assign({zIndex:this.config.zIndex},position);return this.addStylesToElement(styles,container),container},SubscribeWidget.prototype.createStyle=function(){var styles=__nested_webpack_require_449041__(148),styleNode=document.createElement(\"style\");return styleNode.innerHTML=styles,styleNode},SubscribeWidget.prototype.createBell=function(){var bell,config=this.config;return config.buttonImage?(bell=document.createElement(\"img\")).src=config.buttonImage:(bell=document.createElement(\"div\"),this.addStylesToElement({backgroundColor:config.bgColor,boxShadow:config.shadow,lineHeight:config.size,border:config.bellButtonBorder},bell),bell.innerHTML=bell_1.default(config.bellColor,config.bellStrokeColor)),this.addStylesToElement({width:config.size,height:config.size},bell),bell.className=\"pushwoosh-subscribe-widget__bell-button\",bell},SubscribeWidget.prototype.createTooltip=function(){return __awaiter(this,void 0,void 0,function(){var tooltip,_a,position,modification,_b,_c;return __generator(this,function(_d){switch(_d.label){case 0:return tooltip=document.createElement(\"div\"),_a=positioning_1.default.getTooltipPosition(this.config.position,this.config.size),position=_a[0],modification=_a[1],tooltip.className=\"pushwoosh-subscribe-widget__tooltip pushwoosh-subscribe-widget__tooltip__\"+modification,this.addStylesToElement(position,tooltip),_c=(_b=tooltip).appendChild,[4,this.createTooltipContent()];case 1:return _c.apply(_b,[_d.sent()]),[2,tooltip]}})})},SubscribeWidget.prototype.createTooltipContent=function(){return __awaiter(this,void 0,void 0,function(){var tooltipContent,_a;return __generator(this,function(_b){switch(_b.label){case 0:return tooltipContent=document.createElement(\"div\"),_a=tooltipContent,[4,this.tooltipTextFactory()];case 1:return _a.innerText=_b.sent(),tooltipContent.className=\"pushwoosh-subscribe-widget__tooltip-content\",[2,tooltipContent]}})})},SubscribeWidget.prototype.tooltipTextFactory=function(){return __awaiter(this,void 0,void 0,function(){var permission,tooltipText,isManuallyUnsubscribed;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.pw.driver.getPermission()];case 1:return permission=_a.sent(),tooltipText=this.config.tooltipText,[4,storage_1.keyValue.get(constants_1.MANUAL_UNSUBSCRIBE)];case 2:switch(isManuallyUnsubscribed=_a.sent(),permission){case constants_1.PERMISSION_GRANTED:return[2,isManuallyUnsubscribed?tooltipText.needSubscribe:tooltipText.alreadySubscribed];case constants_1.PERMISSION_PROMPT:return[2,tooltipText.needSubscribe];case constants_1.PERMISSION_DENIED:return[2,tooltipText.blockSubscribe];default:return[2,tooltipText.needSubscribe]}return[2]}})})},SubscribeWidget.prototype.createPopover=function(){var popoverContentWrapper=document.createElement(\"div\"),popover=document.createElement(\"div\"),_a=positioning_1.default.getPopoverPosition(this.config.position,this.config.size),position=_a[0],modification=_a[1];popover.className=\"pushwoosh-subscribe-widget__popover pushwoosh-subscribe-widget__popover__\"+modification,popoverContentWrapper.className=\"pushwoosh-subscribe-widget__popover-content-wrapper\",this.style.innerHTML+=positioning_1.default.getPopoverArrowPosition(this.config.position,this.config.size);var styles=Object.assign({maxWidth:\"calc(100vw - \"+this.config.indent+\" - \"+this.config.indent+\")\"},position);return this.addStylesToElement(styles,popover),popoverContentWrapper.appendChild(this.createPopoverContent()),popover.appendChild(popoverContentWrapper),popover},SubscribeWidget.prototype.getBrowserName=function(){return PlatformChecker_1.default.isOpera?\"opera\":11===PlatformChecker_1.default.platform&&navigator.userAgent.match(/Android/i)?\"mobileChrome\":12===PlatformChecker_1.default.platform?\"firefox\":10===PlatformChecker_1.default.platform?\"safari\":150===PlatformChecker_1.default.platform?\"edge\":\"chrome\"},SubscribeWidget.prototype.createPopoverContent=function(){var config=this.config,popoverContent=document.createElement(\"div\");popoverContent.className=\"pushwoosh-subscribe-widget__popover-content\";var browser=this.getBrowserName(),userImageSrc=config.contentImages&&config.contentImages[browser];if(userImageSrc){var image=document.createElement(\"img\");image.src=userImageSrc,popoverContent.appendChild(image)}else{var standardImage={opera:\"opera\",mobileChrome:\"mobile_chrome\",firefox:\"FF\",safari:\"safari\"}[browser]||\"chrome\";[{src:this.getImageSrc(standardImage),width:500,height:130},{src:this.getImageSrc(standardImage+\"_unlock\"),width:500,height:230}].forEach(function(imageAttrs){var image=document.createElement(\"img\");Object.assign(image,imageAttrs),popoverContent.appendChild(image)})}return popoverContent},SubscribeWidget.prototype.getImageSrc=function(img){return\"https://cdn.pushwoosh.com/webpush/img/\"+img+\".jpg\"},SubscribeWidget.prototype.render=function(){return __awaiter(this,void 0,void 0,function(){var bell,_a,_b;return __generator(this,function(_c){switch(_c.label){case 0:return this.widget=this.createContainer(),this.style=this.createStyle(),bell=this.createBell(),_a=this,[4,this.createTooltip()];case 1:return _a.tooltip=_c.sent(),_b=this,[4,this.createPopover()];case 2:return _b.popover=_c.sent(),this.widget.appendChild(this.style),this.widget.appendChild(bell),this.widget.appendChild(this.tooltip),this.widget.appendChild(this.popover),document.body.appendChild(this.widget),this.pw.push([\"onSubscribe\",this.onSubscribeEvent]),this.pw.push([\"onUnsubscribe\",this.onUnsubscribeEvent]),this.pw.push([\"onPermissionDenied\",this.onPermissionDeniedEvent]),this.isEnableChannels?(this.widget.addEventListener(\"click\",this.onClickBellIfEnableChannels),[2]):(this.addEventListenersIfDisabledChannels(),[2])}})})},SubscribeWidget.prototype.onClickBellIfEnableChannels=function(){var _this=this;this.pw.push(function(api){_this.pw.driver.checkIsPermissionDefault()?_this.pw.subscriptionSegmentWidget.init():api.postEvent(constants_1.SUBSCRIPTION_SEGMENT_EVENT,{})})},SubscribeWidget.prototype.addEventListenersIfDisabledChannels=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return this.widget.addEventListener(\"click\",this.clickBell),window.addEventListener(\"click\",this.clickOutOfPopover),[4,this.triggerPwEvent(constants_1.EVENT_SHOW_SUBSCRIBE_BUTTON,constants_1.KEY_SHOW_SUBSCRIBE_WIDGET)];case 1:return _a.sent(),[2]}})})},SubscribeWidget.prototype.toggleHelpPopover=function(){this.popover.classList.toggle(\"pushwoosh-subscribe-widget__popover__visible\")},SubscribeWidget.prototype.clickBell=function(){return __awaiter(this,void 0,void 0,function(){var permission;return __generator(this,function(_b){switch(_b.label){case 0:switch(permission=this.pw.driver.getPermission(),permission){case constants_1.PERMISSION_GRANTED:return[3,1];case constants_1.PERMISSION_PROMPT:return[3,3];case constants_1.PERMISSION_DENIED:return[3,5]}return[3,6];case 1:return[4,this.pw.subscribe()];case 2:return _b.sent(),[3,7];case 3:return[4,this.pw.subscribe()];case 4:return _b.sent(),[3,7];case 5:return this.toggleHelpPopover(),[3,7];case 6:console.warn(\"Unknown browser notification permission\"),_b.label=7;case 7:return[4,this.triggerPwEvent(constants_1.EVENT_CLICK_SUBSCRIBE_BUTTON,constants_1.KEY_CLICK_SUBSCRIBE_WIDGET)];case 8:return _b.sent(),[2]}})})},SubscribeWidget.prototype.onSubscribeEvent=function(){return __awaiter(this,void 0,void 0,function(){var isEnableChannels,tooltipContent,_this=this;return __generator(this,function(_a){return isEnableChannels=this.pw.isEnableChannels(),null===(tooltipContent=this.tooltip.querySelector(\"div\"))?[2]:(tooltipContent.innerText=this.config.tooltipText.successSubscribe,this.tooltip.classList.add(\"pushwoosh-subscribe-widget__tooltip__visible\"),setTimeout(function(){return __awaiter(_this,void 0,void 0,function(){var _a;return __generator(this,function(_b){switch(_b.label){case 0:return this.tooltip.classList.remove(\"pushwoosh-subscribe-widget__tooltip__visible\"),_a=tooltipContent,[4,this.tooltipTextFactory()];case 1:return _a.innerText=_b.sent(),isEnableChannels||this.widget.classList.add(\"pushwoosh-subscribe-widget__subscribed\"),[2]}})})},2e3),[2])})})},SubscribeWidget.prototype.onPermissionDeniedEvent=function(){return __awaiter(this,void 0,void 0,function(){var tooltipContent,_a;return __generator(this,function(_b){switch(_b.label){case 0:return[4,this.pw.isEnableChannels()];case 1:return _b.sent()&&(this.widget.removeEventListener(\"click\",this.onClickBellIfEnableChannels),this.addEventListenersIfDisabledChannels()),null===(tooltipContent=this.tooltip.querySelector(\"div\"))?[2]:(_a=tooltipContent,[4,this.tooltipTextFactory()]);case 2:return _a.innerText=_b.sent(),[2]}})})},SubscribeWidget.prototype.clickOutOfPopover=function(ev){this.popover.classList.contains(\"pushwoosh-subscribe-widget__popover__visible\")&&!ev.target.classList.contains(\"pushwoosh-subscribe-widget__popover\")&&null===ev.target.closest(\".pushwoosh-subscribe-widget__popover\")&&!ev.target.classList.contains(\"pushwoosh-subscribe-widget__bell-button\")&&null===ev.target.closest(\".pushwoosh-subscribe-widget__bell-button\")&&this.popover.classList.remove(\"pushwoosh-subscribe-widget__popover__visible\")},SubscribeWidget.prototype.triggerPwEvent=function(event,widget){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2]})})},SubscribeWidget.prototype.onUnsubscribeEvent=function(){return __awaiter(this,void 0,void 0,function(){var tooltipContent,_a;return __generator(this,function(_b){switch(_b.label){case 0:return null===(tooltipContent=this.tooltip.querySelector(\"div\"))?[2]:(_a=tooltipContent,[4,this.tooltipTextFactory()]);case 1:return _a.innerText=_b.sent(),[2]}})})},SubscribeWidget}();document.addEventListener(\"pushwoosh.initialized\",function(ev){ev.detail.pw.subscribeWidgetConfig.enable&&new SubscribeWidget(ev.detail.pw)})},function(module,exports,__nested_webpack_require_462506__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var constants_1=__nested_webpack_require_462506__(77),Positioning=function(){function Positioning(){}return Positioning.getBellPosition=function(position,indent){var positionStyles;switch(position){case constants_1.BELL_POSITION_BOTTOM_RIGHT:positionStyles={top:\"auto\",left:\"auto\",bottom:indent,right:indent};break;case constants_1.BELL_POSITION_BOTTOM_LEFT:positionStyles={top:\"auto\",left:indent,bottom:indent,right:\"auto\"};break;case constants_1.BELL_POSITION_TOP_LEFT:positionStyles={top:indent,left:indent,bottom:\"auto\",right:\"auto\"};break;case constants_1.BELL_POSITION_TOP_RIGHT:positionStyles={top:indent,left:\"auto\",bottom:\"auto\",right:indent};break;default:positionStyles={top:\"auto\",left:\"auto\",bottom:indent,right:indent}}return positionStyles},Positioning.getTooltipPosition=function(bellPosition,bellSize){var positionStyles,tooltipModification,increaseIndent=parseInt(bellSize)+12+\"px\";switch(bellPosition){case constants_1.BELL_POSITION_BOTTOM_RIGHT:positionStyles={right:increaseIndent},tooltipModification=\"right\";break;case constants_1.BELL_POSITION_BOTTOM_LEFT:case constants_1.BELL_POSITION_TOP_LEFT:positionStyles={left:increaseIndent},tooltipModification=\"left\";break;case constants_1.BELL_POSITION_TOP_RIGHT:positionStyles={right:increaseIndent},tooltipModification=\"right\";break;default:positionStyles={right:increaseIndent},tooltipModification=\"right\"}return[positionStyles,tooltipModification]},Positioning.getPopoverPosition=function(bellPosition,bellSize){var positionStyles,popoverModification,increaseIndent=parseInt(bellSize)+15+\"px\";switch(bellPosition){case constants_1.BELL_POSITION_BOTTOM_RIGHT:positionStyles={bottom:increaseIndent,right:\"0\",left:\"auto\",top:\"auto\"},popoverModification=\"bottom\";break;case constants_1.BELL_POSITION_BOTTOM_LEFT:positionStyles={bottom:increaseIndent,left:\"0\",right:\"auto\",top:\"auto\"},popoverModification=\"bottom\";break;case constants_1.BELL_POSITION_TOP_LEFT:positionStyles={top:increaseIndent,left:\"0\",right:\"auto\",bottom:\"auto\"},popoverModification=\"top\";break;case constants_1.BELL_POSITION_TOP_RIGHT:positionStyles={top:increaseIndent,right:\"0\",left:\"auto\",bottom:\"auto\"},popoverModification=\"top\";break;default:positionStyles={bottom:increaseIndent,right:\"0\",left:\"auto\",top:\"auto\"},popoverModification=\"bottom\"}return[positionStyles,popoverModification]},Positioning.getPopoverArrowPosition=function(bellPosition,bellSize){var arrowAdditionalStyles;switch(bellPosition){case constants_1.BELL_POSITION_BOTTOM_RIGHT:arrowAdditionalStyles=\"\\n.pushwoosh-subscribe-widget__popover__bottom:after {left: auto; right: \"+(parseInt(bellSize)/2-4)+\"px\";break;case constants_1.BELL_POSITION_BOTTOM_LEFT:arrowAdditionalStyles=\"\\n.pushwoosh-subscribe-widget__popover__bottom:after {right: auto; left: \"+(parseInt(bellSize)/2-12)+\"px\";break;case constants_1.BELL_POSITION_TOP_LEFT:arrowAdditionalStyles=\"\\n.pushwoosh-subscribe-widget__popover__top:after {right: auto; left: \"+(parseInt(bellSize)/2-12)+\"px\";break;case constants_1.BELL_POSITION_TOP_RIGHT:arrowAdditionalStyles=\"\\n.pushwoosh-subscribe-widget__popover__top:after {left: auto; right: \"+(parseInt(bellSize)/2-4)+\"px\";break;default:arrowAdditionalStyles=\"\\n.pushwoosh-subscribe-widget__popover__bottom:after {left: auto; right: \"+(parseInt(bellSize)/2-4)+\"px\"}return arrowAdditionalStyles},Positioning}();exports.default=Positioning},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=function(fillColor,strokeColor){return'<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\\n<svg\\n   xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\\n   xmlns:cc=\"http://creativecommons.org/ns#\"\\n   xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\\n   xmlns:svg=\"http://www.w3.org/2000/svg\"\\n   xmlns=\"http://www.w3.org/2000/svg\"\\n   xmlns:sodipodi=\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\"\\n   xmlns:inkscape=\"http://www.inkscape.org/namespaces/inkscape\"\\n   version=\"1.1\"\\n   id=\"Capa_1\"\\n   x=\"0px\"\\n   y=\"0px\"\\n   viewBox=\"0 0 346.013 346.013\"\\n   style=\"enable-background:new 0 0 346.013 346.013;width: 80%; height: auto; vertical-align: middle;\"\\n   xml:space=\"preserve\"\\n   inkscape:version=\"0.91 r13725\"\\n   sodipodi:docname=\"alarm_white.svg\"><metadata\\n     id=\"metadata51\"><rdf:RDF><cc:Work\\n         rdf:about=\"\"><dc:format>image/svg+xml</dc:format><dc:type\\n           rdf:resource=\"http://purl.org/dc/dcmitype/StillImage\" /><dc:title></dc:title></cc:Work></rdf:RDF></metadata><defs\\n     id=\"defs49\" /><sodipodi:namedview\\n     borderopacity=\"1\"\\n     objecttolerance=\"10\"\\n     gridtolerance=\"10\"\\n     guidetolerance=\"10\"\\n     inkscape:pageopacity=\"0\"\\n     inkscape:pageshadow=\"2\"\\n     inkscape:window-width=\"1618\"\\n     inkscape:window-height=\"828\"\\n     id=\"namedview47\"\\n     showgrid=\"false\"\\n     inkscape:zoom=\"0.6820553\"\\n     inkscape:cx=\"173.0065\"\\n     inkscape:cy=\"173.0065\"\\n     inkscape:window-x=\"0\"\\n     inkscape:window-y=\"0\"\\n     inkscape:window-maximized=\"0\"\\n     inkscape:current-layer=\"g3\" /><g\\n     id=\"g3\"><path\\n       d=\"m 256.76227,220.19006 c -1.77513,-2.69766 -3.45154,-5.24564 -3.98966,-7.46382 -0.042,-0.17861 -0.0911,-0.36128 -0.16237,-0.61436 -2.28354,-7.67647 0.69147,-24.43921 2.46886,-34.45124 0.26788,-1.50394 0.52274,-2.94197 0.75286,-4.29035 0.0232,-0.13675 0.044,-0.27211 0.0724,-0.48006 1.95582,-15.28051 2.58811,-37.91956 -5.51044,-58.99147 -5.6032,-14.57978 -14.45978,-25.82612 -26.3559,-33.48393 1.26598,-9.812938 -4.85967,-19.343691 -14.66682,-22.0511 -9.80715,-2.70741 -19.95724,2.33226 -23.90298,11.405413 -14.1382,0.467533 -27.51111,5.577097 -39.80114,15.219267 -17.76129,13.9298 -28.83431,33.68757 -34.99389,47.80757 l -0.0479,0.11335 c -0.0512,0.12175 -0.0998,0.24114 -0.13249,0.32962 -0.49733,1.28292 -1.01552,2.64514 -1.55689,4.07255 -3.61311,9.51043 -9.66004,25.42824 -15.611995,30.89342 -0.106524,0.10027 -0.208228,0.20187 -0.362362,0.35435 -1.636243,1.66563 -4.382941,2.99463 -7.288979,4.40101 -7.145531,3.45301 -22.013613,10.64166 -17.206389,31.67844 0.929154,4.07105 4.008437,7.29057 8.033861,8.40185 l 167.570804,46.2604 c 4.02253,1.11048 8.31521,-0.0729 11.2052,-3.08958 14.91617,-15.58874 5.84693,-29.38668 1.48625,-36.02133 z\"\\n       id=\"path5\"\\n       inkscape:connector-curvature=\"0\"\\n       vector-effect=\"non-scaling-stroke\"\\n       style=\"fill:'+fillColor+\"; stroke: \"+strokeColor+'; stroke-width: 1; \" /><path\\n       vector-effect=\"non-scaling-stroke\"\\n       d=\"m 174.26737,259.72378 -38.76399,-10.70137 c -1.59243,-0.43962 -3.28183,-0.15596 -4.63548,0.7754 -2.53909,1.7494 -2.84182,4.93159 -3.02304,6.83188 l -0.0151,0.15247 c -1.22819,12.67106 6.79854,24.33046 19.08688,27.72284 12.51583,3.45518 25.8324,-2.91586 30.9681,-14.80385 l 0.0935,-0.19205 c 0.52305,-1.06418 1.74613,-3.55554 0.50882,-6.31116 -0.44302,-0.98439 -1.5794,-2.74529 -4.21964,-3.47416 z\"\\n       id=\"path7\"\\n       inkscape:connector-curvature=\"0\"\\n       style=\"fill:'+fillColor+\"; stroke: \"+strokeColor+'; stroke-width: 1;\" /></g><g\\n     id=\"g17\" /><g\\n     id=\"g19\" /><g\\n     id=\"g21\" /><g\\n     id=\"g23\" /><g\\n     id=\"g25\" /><g\\n     id=\"g27\" /><g\\n     id=\"g29\" /><g\\n     id=\"g31\" /><g\\n     id=\"g33\" /><g\\n     id=\"g35\" /><g\\n     id=\"g37\" /><g\\n     id=\"g39\" /><g\\n     id=\"g41\" /><g\\n     id=\"g43\" /><g\\n     id=\"g45\" /></svg>'}},function(module,exports,__nested_webpack_require_469908__){var result=__nested_webpack_require_469908__(149);module.exports=\"string\"==typeof result?result:result.toString()},function(module,exports,__nested_webpack_require_470054__){(module.exports=__nested_webpack_require_470054__(150)(void 0)).push([module.i,'/* Widget */\\n.pushwoosh-subscribe-widget {\\n  position: fixed;\\n  display: block;\\n  -webkit-transform: translate3d(0, 0, 0);\\n          transform: translate3d(0, 0, 0);\\n}\\n\\n.pushwoosh-subscribe-widget__subscribed {\\n  display: none;\\n}\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__bell-button {\\n  -webkit-border-radius: 50%;\\n          border-radius: 50%;\\n  cursor: pointer;\\n  font-size: 0;\\n  text-align: center;\\n  -webkit-transform: scale(0.9) translate3d(0, 0, 0);\\n          transform: scale(0.9) translate3d(0, 0, 0);\\n  -webkit-transition: -webkit-transform .3s ease-in-out;\\n  transition: -webkit-transform .3s ease-in-out;\\n  -o-transition: transform .3s ease-in-out;\\n  transition: transform .3s ease-in-out;\\n  transition: transform .3s ease-in-out, -webkit-transform .3s ease-in-out;\\n  position: relative;\\n}\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__bell-button:hover {\\n  -webkit-transform: scale(1);\\n      -ms-transform: scale(1);\\n          transform: scale(1);\\n}\\n\\n/* Tooltip */\\n.pushwoosh-subscribe-widget__tooltip {\\n  position: absolute;\\n  height: 48px;\\n  max-width: 300px;\\n  min-width: 200px;\\n  padding: 5px 7px;\\n  background-color: #3b444b;\\n  color: #ffffff;\\n  text-align: center;\\n  vertical-align: middle;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  line-height: 38px;\\n  font-size: 0;\\n  font-weight: normal;\\n  visibility: hidden;\\n  opacity: 0;\\n  -webkit-transition: visibility 0s ease-in .3s,\\n              opacity .3s ease-in;\\n  -o-transition: visibility 0s ease-in .3s,\\n              opacity .3s ease-in;\\n  transition: visibility 0s ease-in .3s,\\n              opacity .3s ease-in;\\n  top: 50%;\\n  -webkit-transform: translate(0, -50%);\\n      -ms-transform: translate(0, -50%);\\n          transform: translate(0, -50%);\\n  -webkit-box-shadow: 1px 1px 5px 0 rgba(0,0,0,0.5);\\n          box-shadow: 1px 1px 5px 0 rgba(0,0,0,0.5);\\n}\\n\\n.pushwoosh-subscribe-widget__tooltip__right:after,\\n.pushwoosh-subscribe-widget__tooltip__left:after {\\n  content: \"\";\\n  top: 50%;\\n  height: 0;\\n  width: 0;\\n  position: absolute;\\n  pointer-events: none;\\n  border-top: 5px solid transparent;\\n  border-bottom: 5px solid transparent;\\n  background: #3b444b;\\n}\\n\\n.pushwoosh-subscribe-widget__tooltip__right:after {\\n  left: calc(100% - 7px);\\n  border-top: 5px solid #3b444b;\\n  border-left: 5px solid #3b444b;\\n  border-right: 5px solid transparent;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  -webkit-transform-origin: 0 0;\\n      -ms-transform-origin: 0 0;\\n          transform-origin: 0 0;\\n  -webkit-transform: rotate(-45deg);\\n      -ms-transform: rotate(-45deg);\\n          transform: rotate(-45deg);\\n  -webkit-box-shadow: 2px 2px 2px 0 rgba(0, 0, 0, 0.25);\\n          box-shadow: 2px 2px 2px 0 rgba(0, 0, 0, 0.25);\\n}\\n\\n.pushwoosh-subscribe-widget__tooltip__left:after {\\n  left: -7px;\\n  border-top: 5px solid #3b444b;\\n  border-right: 5px solid #3b444b;\\n  border-left: 5px solid transparent;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  -webkit-transform-origin: 0 0;\\n      -ms-transform-origin: 0 0;\\n          transform-origin: 0 0;\\n  -webkit-transform: rotate(-45deg);\\n      -ms-transform: rotate(-45deg);\\n          transform: rotate(-45deg);\\n  -webkit-box-shadow: -2px -2px 2px 0 rgba(0, 0, 0, 0.25);\\n          box-shadow: -2px -2px 2px 0 rgba(0, 0, 0, 0.25);\\n}\\n\\n.pushwoosh-subscribe-widget__bell-button:hover + .pushwoosh-subscribe-widget__tooltip,\\n.pushwoosh-subscribe-widget__tooltip.pushwoosh-subscribe-widget__tooltip__visible {\\n  display: block;\\n  visibility: visible;\\n  opacity: 1;\\n  -webkit-transition-delay: 0s;\\n       -o-transition-delay: 0s;\\n          transition-delay: 0s;\\n}\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__tooltip-content {\\n  display: inline-block;\\n  vertical-align: middle;\\n  font-size: 14px;\\n  line-height: 1.4;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  padding-right: 5px;\\n  -o-text-overflow: ellipsis;\\n     text-overflow: ellipsis;\\n  max-width: 100%;\\n}\\n\\n/* Popover */\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover {\\n  position: absolute;\\n  right: auto;\\n  -webkit-box-shadow: 1px 1px 5px 0 rgba(0, 0, 0, 0.5);\\n          box-shadow: 1px 1px 5px 0 rgba(0, 0, 0, 0.5);\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  background: #9ca8b1;\\n  visibility: hidden;\\n  opacity: 0;\\n  -webkit-transition: visibility 0s ease-in .5s,\\n              opacity .5s ease-in;\\n  -o-transition: visibility 0s ease-in .5s,\\n              opacity .5s ease-in;\\n  transition: visibility 0s ease-in .5s,\\n              opacity .5s ease-in;\\n}\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover__visible {\\n  display: block;\\n  visibility: visible;\\n  opacity: 1;\\n  -webkit-transition-delay: 0s;\\n       -o-transition-delay: 0s;\\n          transition-delay: 0s;\\n}\\n\\n.pushwoosh-subscribe-widget__popover__bottom:after,\\n.pushwoosh-subscribe-widget__popover__top:after {\\n  content: \"\";\\n  height: 0;\\n  width: 0;\\n  position: absolute;\\n  pointer-events: none;\\n  border-right: 8px solid transparent;\\n  border-left: 8px solid #9ca8b1;\\n  background: #9ca8b1;\\n  -webkit-transform-origin: 0 0;\\n      -ms-transform-origin: 0 0;\\n          transform-origin: 0 0;\\n  -webkit-transform: rotate(-45deg);\\n      -ms-transform: rotate(-45deg);\\n          transform: rotate(-45deg);\\n}\\n\\n.pushwoosh-subscribe-widget__popover__bottom:after {\\n  border-bottom: 8px solid #9ca8b1;\\n  border-top: 8px solid transparent;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  -webkit-box-shadow: -2px 2px 1px 0 rgba(0, 0, 0, 0.25);\\n          box-shadow: -2px 2px 1px 0 rgba(0, 0, 0, 0.25);\\n  bottom: -16px;\\n}\\n\\n.pushwoosh-subscribe-widget__popover__top:after {\\n  top: 0;\\n  border-top: 8px solid #9ca8b1;\\n  border-bottom: 8px solid transparent;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  -webkit-box-shadow: 1px -1px 1px 0 rgba(0, 0, 0, 0.25);\\n          box-shadow: 1px -1px 1px 0 rgba(0, 0, 0, 0.25);\\n}\\n\\n.pushwoosh-subscribe-widget__popover-content-wrapper {\\n  overflow: auto;\\n  max-width: 100%;\\n}\\n\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover-content {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: column;\\n          flex-direction: column;\\n  padding: 14px;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  float: left;\\n  min-width: 100%;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n}\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover img {\\n  display: block;\\n}\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover img:first-child {\\n  margin-bottom: 14px;\\n}\\n\\n@media (max-width: 767px) and (orientation: portrait) {\\n  .pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover-content {\\n    -webkit-box-orient: vertical;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: column;\\n            flex-direction: column;\\n  }\\n  .pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover img {\\n    max-width: 280px;\\n    height: auto;\\n  }\\n  .pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover img:first-child {\\n    margin-right: 0;\\n    margin-bottom: 14px;\\n  }\\n}\\n@media (max-width: 767px) and (orientation: landscape) {\\n  .pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover-content {\\n    -webkit-box-orient: horizontal;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: row;\\n            flex-direction: row;\\n  }\\n  .pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover img {\\n    max-width: 280px;\\n    height: auto;\\n  }\\n  .pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover img:first-child {\\n    margin-right: 14px;\\n    margin-bottom: 0;\\n  }\\n}\\n',\"\"])},function(module,exports){module.exports=function(useSourceMap){var list=[];return list.toString=function(){return this.map(function(item){var content=function(item,useSourceMap){var content=item[1]||\"\",cssMapping=item[3];if(!cssMapping)return content;if(useSourceMap&&\"function\"==typeof btoa){var sourceMapping=function(sourceMap){return\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+\" */\"}(cssMapping),sourceURLs=cssMapping.sources.map(function(source){return\"/*# sourceURL=\"+cssMapping.sourceRoot+source+\" */\"});return[content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\")}return[content].join(\"\\n\")}(item,useSourceMap);return item[2]?\"@media \"+item[2]+\"{\"+content+\"}\":content}).join(\"\")},list.i=function(modules,mediaQuery){\"string\"==typeof modules&&(modules=[[null,modules,\"\"]]);for(var alreadyImportedModules={},i=0;i<this.length;i++){var id=this[i][0];\"number\"==typeof id&&(alreadyImportedModules[id]=!0)}for(i=0;i<modules.length;i++){var item=modules[i];\"number\"==typeof item[0]&&alreadyImportedModules[item[0]]||(mediaQuery&&!item[2]?item[2]=mediaQuery:mediaQuery&&(item[2]=\"(\"+item[2]+\") and (\"+mediaQuery+\")\"),list.push(item))}},list}},function(module,exports,__nested_webpack_require_479471__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var pwInboxWidget=__nested_webpack_require_479471__(152);document.addEventListener(\"pushwoosh.initialized\",function(ev){ev.detail.pw.pwinbox&&ev.detail.pw.inboxWidgetConfig.enable&&(ev.detail.pw.pwinboxWidget=new pwInboxWidget.PWInboxWidget(ev.detail.pw))})},function(module,exports,__webpack_require__){module.exports=function(modules){var installedModules={};function __nested_webpack_require_479907__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__nested_webpack_require_479907__),module.l=!0,module.exports}return __nested_webpack_require_479907__.m=modules,__nested_webpack_require_479907__.c=installedModules,__nested_webpack_require_479907__.d=function(exports,name,getter){__nested_webpack_require_479907__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__nested_webpack_require_479907__.r=function(exports){Object.defineProperty(exports,\"__esModule\",{value:!0})},__nested_webpack_require_479907__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __nested_webpack_require_479907__.d(getter,\"a\",getter),getter},__nested_webpack_require_479907__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__nested_webpack_require_479907__.p=\"\",__nested_webpack_require_479907__(__nested_webpack_require_479907__.s=2)}([function(module,exports,__nested_webpack_require_480939__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var constants_1=__nested_webpack_require_480939__(1);exports.isElementFixed=function isElementFixed(element){var isFixed=\"fixed\"===window.getComputedStyle(element).position;return!isFixed&&element.parentElement&&(isFixed=isElementFixed(element.parentElement)),isFixed},exports.getGlobal=function(){return Function(\"return this\")()},exports.getMessageTime=function(date){var localDate=new Date(date),localTime=localDate.getHours()+localDate.getTimezoneOffset()/60;localDate.setHours(localTime);var gap=(new Date).getTime()-localDate.getTime();return gap<=6e4?\"Just now\":gap<constants_1.MILLISECONDS_IN_HOUR&&gap>0?Math.floor(gap/6e4)+\" minutes ago\":gap<constants_1.MILLISECONDS_IN_DAY&&gap>0?Math.floor(gap/36e5)+\" hours ago\":localDate.getDate()+\" \"+constants_1.MONTHS[localDate.getMonth()]+\" \"+localDate.getFullYear()+\", \"+localDate.getHours()+\":\"+(\"0\"+localDate.getMinutes().toString()).slice(-2)},exports.getValidColor=function(color){return\"transparent\"===color?color:constants_1.COLOR_TEST_REGEXP.test(color)?color:\"#333\"},exports.compareBySendDate=function(dateOne,dateTwo){var localDateOne=new Date(dateOne),localTimeOne=localDateOne.getHours()+localDateOne.getTimezoneOffset()/60,localDateTwo=new Date(dateTwo),localTimeTwo=localDateTwo.getHours()+localDateTwo.getTimezoneOffset()/60;return localDateOne.setHours(localTimeOne),localDateTwo.setHours(localTimeTwo),localDateTwo.getTime()-localDateOne.getTime()}},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.MILLISECONDS_IN_DAY=864e5,exports.MILLISECONDS_IN_HOUR=36e5,exports.MONTHS=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"June\",\"July\",\"Aug\",\"Sept\",\"Oct\",\"Nov\",\"Dec\"],exports.CONFIG_STYLES=[{name:\"widgetWidth\",type:\"size\"},{name:\"borderRadius\",type:\"size\"},{name:\"zIndex\",type:\"number\"},{name:\"fontFamily\",type:\"string\"},{name:\"bgColor\",type:\"color\"},{name:\"textColor\",type:\"color\"},{name:\"arrowBorderColor\",type:\"color\"},{name:\"borderColor\",type:\"color\"},{name:\"badgeBgColor\",type:\"color\"},{name:\"badgeTextColor\",type:\"color\"},{name:\"timeTextColor\",type:\"color\"},{name:\"messageTitleColor\",type:\"color\"},{name:\"emptyInboxTitleColor\",type:\"color\"},{name:\"emptyInboxTextColor\",type:\"color\"}],exports.DEFAULT_CONFIG={enable:!1,triggerId:\"pwInbox\",position:\"bottom\",appendTo:\"body\",title:\"Inbox\",bgColor:\"#ffffff\",textColor:\"#333333\",fontFamily:\"inherit\",borderRadius:4,borderColor:\"transparent\",badgeBgColor:\"#ff4c00\",badgeTextColor:\"#ffffff\",widgetWidth:350,zIndex:100,messageTitleColor:\"#7a7a7a\",timeTextColor:\"#c4c4c4\",emptyInboxTitle:\"You're all caught up\",emptyInboxTitleColor:\"#333333\",emptyInboxText:\"There are no new messages. Stay tuned!\",emptyInboxTextColor:\"#7a7a7a\",emptyInboxIconUrl:\"https://pushon.pushwoosh.com/images/icon-empty-inbox.png\",arrowBorderColor:\"rgba(0,0,0,.1)\"},exports.COLOR_TEST_REGEXP=/^(#([\\da-f]{3}){1,2}$|(rgb|hsl)a\\((\\d{1,3}%?,\\s?){3}(1|0?\\.\\d+)\\)$|(rgb|hsl)\\(\\d{1,3}%?(,\\s?\\d{1,3}%?){2}\\)$)/},function(module,exports,__nested_webpack_require_483988__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var InboxWidget_1=__nested_webpack_require_483988__(3);exports.PWInboxWidget=InboxWidget_1.default},function(module,exports,__nested_webpack_require_484187__){\"use strict\";var __assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t};Object.defineProperty(exports,\"__esModule\",{value:!0});var widgetTemplates_1=__nested_webpack_require_484187__(4),constants_1=__nested_webpack_require_484187__(1),helpers_1=__nested_webpack_require_484187__(0),InboxWidget=function(){function InboxWidget(pw){this.pw=pw,this.config=__assign({},constants_1.DEFAULT_CONFIG,{arrowBorderColor:this.pw.inboxWidgetConfig.borderColor&&\"transparent\"!==this.pw.inboxWidgetConfig.borderColor?this.pw.inboxWidgetConfig.borderColor:\"rgba(0,0,0,.1)\"},this.pw.inboxWidgetConfig),this.updateInbox=this.updateInbox.bind(this),this.markVisibleItemsAsRead=this.markVisibleItemsAsRead.bind(this),this.onWidgetClickHandler=this.onWidgetClickHandler.bind(this),this.onTriggerClickHandler=this.onTriggerClickHandler.bind(this),this.onWindowScrollHandler=this.onWindowScrollHandler.bind(this),this.toggle=this.toggle.bind(this);try{this.initTrigger(),this.updateInbox(),this.addListeners()}catch(err){console.warn(err)}}return InboxWidget.prototype.toggle=function(isOpened){(void 0===isOpened?!this.isOpened:isOpened)?this.openWidget():this.closeWidget()},InboxWidget.prototype.initTrigger=function(){if(!this.pw.pwinbox)throw new Error(\"Web inbox is not allowed.\");var trigger=document.getElementById(this.config.triggerId);if(!trigger)throw new Error(\"Inbox trigger element doesn't exist. You must set triggerId in inboxWidget config. See the documentation.\");this.trigger=trigger,this.trigger.classList.add(\"pw-inbox-trigger\"),this.defaultMargin=12,this.messagesElements={},this.messages=[],this.readItems=[],this.updateCounter(0),this.isOpened=!1,this.renderWidget(),this.isFixed=helpers_1.isElementFixed(this.trigger)},InboxWidget.prototype.renderWidget=function(){this.widget=document.createElement(\"div\"),this.widget.id=\"pwInboxWidget\",this.widget.className=\"pw-inbox-widget\",this.widget.classList.toggle(\"pw-open\",this.isOpened),this.widgetParent=document.querySelector(this.config.appendTo)||document.body,this.widgetParent.appendChild(this.widget),this.widgetParent.appendChild(this.getStyle()),this.renderWidgetInner()},InboxWidget.prototype.getStyle=function(){var styles=__nested_webpack_require_484187__(5),styleNode=document.createElement(\"style\");return styleNode.innerHTML=this.configureStyle(styles),styleNode},InboxWidget.prototype.configureStyle=function(styles){var _this=this,resultStyles=styles.toString();return constants_1.CONFIG_STYLES.forEach(function(style){var template=new RegExp(\"var\\\\(--\"+style.name+\"\\\\)\",\"ig\"),result=_this.getStyleFormatter(style);resultStyles=resultStyles.replace(template,result)}),resultStyles},InboxWidget.prototype.getStyleFormatter=function(style){switch(style.type){case\"size\":return(this.config[style.name]||0)+\"px\";case\"number\":return parseFloat(this.config[style.name].toString()).toString();case\"string\":return this.config[style.name].toString();case\"color\":return helpers_1.getValidColor(this.config[style.name].toString());default:return\"none\"}},InboxWidget.prototype.renderWidgetInner=function(){if(this.messages.length>0)this.widget.classList.remove(\"pw-inbox-widget--empty\"),this.widget.innerHTML=widgetTemplates_1.widgetTemplate(this.config.title),this.renderMessages();else{this.widget.classList.add(\"pw-inbox-widget--empty\");var _a=this.config,emptyInboxTitle=_a.emptyInboxTitle,emptyInboxText=_a.emptyInboxText,emptyInboxIconUrl=_a.emptyInboxIconUrl;this.widget.innerHTML=widgetTemplates_1.widgetTemplateEmpty(emptyInboxIconUrl,emptyInboxTitle,emptyInboxText)}},InboxWidget.prototype.renderMessages=function(){var _this=this;this.list=this.widget.querySelector(\".pw-inbox_list\")||document.createElement(\"ul\"),this.messages.forEach(function(message){var messageElement=document.createElement(\"li\");messageElement.className=\"pw-inbox_item\",messageElement.classList.toggle(\"pw-new\",!message.isRead),messageElement.classList.toggle(\"pw-unread\",!message.isActionPerformed),messageElement.setAttribute(\"data-pw-inbox-message-id\",message.code),messageElement.innerHTML=widgetTemplates_1.messageTemplate(message),_this.list.appendChild(messageElement),_this.messagesElements[message.code]=messageElement})},InboxWidget.prototype.updateCounter=function(count){this.count=count,this.trigger.setAttribute(\"data-pw-count\",\"\"+this.count),this.trigger.classList.toggle(\"pw-empty\",0===this.count)},InboxWidget.prototype.updateInboxMessages=function(messages){this.messages=messages.sort(function(_a,_b){var sendDateOne=_a.sendDate,sendDateTwo=_b.sendDate;return helpers_1.compareBySendDate(sendDateOne,sendDateTwo)}),this.renderWidgetInner()},InboxWidget.prototype.openWidget=function(){this.isOpened=!0,this.widget.classList.add(\"pw-open\"),document.addEventListener(\"click\",this.onWidgetClickHandler),window.addEventListener(\"scroll\",this.onWindowScrollHandler),window.addEventListener(\"resize\",this.onWindowScrollHandler),this.markVisibleItemsAsRead(),this.messages.length>0&&this.list.addEventListener(\"scroll\",this.markVisibleItemsAsRead),this.positionWidget()},InboxWidget.prototype.closeWidget=function(){this.isOpened=!1,document.removeEventListener(\"click\",this.onWidgetClickHandler),document.removeEventListener(\"click\",this.onWindowScrollHandler),window.removeEventListener(\"resize\",this.onWindowScrollHandler),this.updateReadStatus(),this.messages.length>0&&this.list.removeEventListener(\"scroll\",this.markVisibleItemsAsRead),this.widget.classList.remove(\"pw-open\",\"pw-top\",\"pw-bottom\",\"pw-right\",\"pw-left\"),this.widget.removeAttribute(\"style\")},InboxWidget.prototype.positionWidget=function(){this.isOpened&&(this.widgetParent===document.body?this.defaultPlaceWidget():this.customPlaceWidget())},InboxWidget.prototype.customPlaceWidget=function(){var position=this.config.position;this.widgetParent.style.position=\"relative\",this.widget.classList.add(\"pw-inbox-widget--inset\"),this.widget.classList.add(\"pw-\"+position)},InboxWidget.prototype.defaultPlaceWidget=function(){var position=this.pw.inboxWidgetConfig.position?this.config.position:this.getDefaultPosition(),widgetRect=this.widget.getBoundingClientRect();if(document.documentElement){var windowWidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0),windowHeight=Math.max(document.documentElement.clientHeight,window.innerHeight||0);switch(widgetRect.width+2*this.defaultMargin>windowWidth&&(this.widget.style.width=windowWidth-2*this.defaultMargin+\"px\"),widgetRect.height+24>windowHeight&&(this.widget.style.height=windowHeight-2*this.defaultMargin+\"px\"),position){case\"top\":this.alignWidgetTop();break;case\"right\":this.alignWidgetRight();break;case\"left\":this.alignWidgetLeft();break;case\"bottom\":this.alignWidgetBottom()}}},InboxWidget.prototype.alignWidgetTop=function(){var triggerRect=this.trigger.getBoundingClientRect(),widgetRect=this.widget.getBoundingClientRect();if(document.documentElement){var windowWidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0),arrow=this.widget.querySelector(\".pw-inbox__arrow\")||document.createElement(\"div\");this.widget.classList.add(\"pw-top\");var left=pageXOffset+triggerRect.left+Math.floor(triggerRect.width/2)-Math.floor(widgetRect.width/2),isUnderLeft=left<pageXOffset,isUnderRight=left+widgetRect.width>pageXOffset+windowWidth;isUnderLeft&&(left=pageXOffset+this.defaultMargin),isUnderRight&&(left=pageXOffset+windowWidth-widgetRect.width-this.defaultMargin);var top=pageYOffset+triggerRect.top-widgetRect.height;this.alignWidgetElement(left,top),arrow.style.left=triggerRect.left+Math.floor(triggerRect.width/2)-left+\"px\";var topMargin=this.widget.getBoundingClientRect().top;if(topMargin<0){var newHeight=this.widget.getBoundingClientRect().height+topMargin-this.defaultMargin,newTop=this.widget.getBoundingClientRect().top-topMargin+this.defaultMargin;this.widget.style.height=newHeight+\"px\",this.widget.style.top=newTop+\"px\"}}},InboxWidget.prototype.alignWidgetRight=function(){var triggerRect=this.trigger.getBoundingClientRect(),widgetRect=this.widget.getBoundingClientRect();if(document.documentElement){var windowWidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0),windowHeight=Math.max(document.documentElement.clientHeight,window.innerHeight||0),arrow=this.widget.querySelector(\".pw-inbox__arrow\")||document.createElement(\"div\");this.widget.classList.add(\"pw-right\");var top=pageYOffset+triggerRect.top+Math.floor(triggerRect.height/2)-Math.floor(widgetRect.height/2),isUnderTop=top<pageYOffset,isUnderBottom=pageYOffset+windowHeight<top+widgetRect.height;isUnderTop&&(top=pageYOffset+this.defaultMargin),isUnderBottom&&(top=pageYOffset+windowHeight-widgetRect.height-this.defaultMargin);var left=pageXOffset+triggerRect.left+triggerRect.width;this.alignWidgetElement(left,top),arrow.style.top=triggerRect.top+Math.floor(triggerRect.height/2)-top+\"px\";var rightMargin=windowWidth-this.widget.getBoundingClientRect().right;if(rightMargin<this.defaultMargin){var newWidth=this.widget.getBoundingClientRect().width+rightMargin-this.defaultMargin;this.widget.style.width=newWidth+\"px\"}}},InboxWidget.prototype.alignWidgetLeft=function(){var triggerRect=this.trigger.getBoundingClientRect(),widgetRect=this.widget.getBoundingClientRect();if(document.documentElement){var windowHeight=Math.max(document.documentElement.clientHeight,window.innerHeight||0),arrow=this.widget.querySelector(\".pw-inbox__arrow\")||document.createElement(\"div\");this.widget.classList.add(\"pw-left\");var top=pageYOffset+triggerRect.top+Math.floor(triggerRect.height/2)-Math.floor(widgetRect.height/2),isUnderTop=top<pageYOffset,isUnderBottom=pageYOffset+windowHeight<top+widgetRect.height;isUnderTop&&(top=pageYOffset+this.defaultMargin),isUnderBottom&&(top=pageYOffset+windowHeight-widgetRect.height-this.defaultMargin);var left=pageXOffset+triggerRect.left-widgetRect.width;this.alignWidgetElement(left,top),arrow.style.top=triggerRect.top+Math.floor(triggerRect.height/2)-top+\"px\";var leftMargin=this.widget.getBoundingClientRect().left;if(leftMargin<0){var newWidth=this.widget.getBoundingClientRect().width+leftMargin-this.defaultMargin,newLeft=this.widget.getBoundingClientRect().left-leftMargin;this.widget.style.width=newWidth+\"px\",this.widget.style.left=newLeft+\"px\"}}},InboxWidget.prototype.alignWidgetBottom=function(){var triggerRect=this.trigger.getBoundingClientRect(),widgetRect=this.widget.getBoundingClientRect();if(document.documentElement){var windowWidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0),windowHeight=Math.max(document.documentElement.clientHeight,window.innerHeight||0),arrow=this.widget.querySelector(\".pw-inbox__arrow\")||document.createElement(\"div\");this.widget.classList.add(\"pw-bottom\");var left=pageXOffset+triggerRect.left+Math.floor(triggerRect.width/2)-Math.floor(widgetRect.width/2),isUnderLeft=left<pageXOffset,isUnderRight=left+widgetRect.width>pageXOffset+windowWidth;isUnderLeft&&(left=pageXOffset+this.defaultMargin),isUnderRight&&(left=pageXOffset+windowWidth-widgetRect.width-12);var top=pageYOffset+triggerRect.top+triggerRect.height;this.alignWidgetElement(left,top),arrow.style.left=triggerRect.left+Math.floor(triggerRect.width/2)-left+\"px\";var bottomRange=windowHeight-this.widget.getBoundingClientRect().bottom;if(bottomRange<this.defaultMargin){var newHeight=this.widget.getBoundingClientRect().height+bottomRange-this.defaultMargin;this.widget.style.height=newHeight+\"px\"}}},InboxWidget.prototype.alignWidgetElement=function(left,top){this.widget.style.left=left+\"px\",this.widget.style.top=top+\"px\"},InboxWidget.prototype.getDefaultPosition=function(){var _a=this.trigger.getBoundingClientRect(),left=_a.left,top=_a.top,width=_a.width,height=_a.height;if(!document.documentElement)return\"\";var antiMargins={right:left,bottom:top,left:Math.max(document.documentElement.clientWidth,window.innerWidth||0)-(left+width),top:Math.max(document.documentElement.clientHeight,window.innerHeight||0)-(top+height)},leastMargin=Math.min(left,top,antiMargins.left,antiMargins.top),position=\"bottom\";return Object.keys(antiMargins).forEach(function(key){antiMargins[key]===leastMargin&&(position=key)}),position},InboxWidget.prototype.addListeners=function(){var _this=this;this.trigger.addEventListener(\"click\",this.onTriggerClickHandler),this.pw.push([\"onPutNewMessageToInboxStore\",function(){_this.updateInbox()}]),this.pw.push([\"onUpdateInboxMessages\",function(){_this.updateInbox()}])},InboxWidget.prototype.markVisibleItemsAsRead=function(){var _this=this;if(0!==this.messages.length){var scrollTop=this.list.clientHeight+this.list.scrollTop-50;Object.keys(this.messagesElements).forEach(function(code){if(_this.messagesElements[code]&&!(_this.messagesElements[code].offsetTop>scrollTop)){var message=_this.messages.find(function(message){return message.code===code});!message||message.isRead||_this.readItems.indexOf(code)+1||_this.readItems.push(code)}})}},InboxWidget.prototype.updateReadStatus=function(){this.pw.pwinbox.readMessagesWithCodes(this.readItems).then(this.updateInbox)},InboxWidget.prototype.updateInbox=function(){var _this=this;this.pw.pwinbox.loadMessages().then(function(messages){_this.updateInboxMessages(messages)}),this.pw.pwinbox.unreadMessagesCount().then(function(count){_this.updateCounter(count)})},InboxWidget.prototype.performMessageAction=function(code){var _this=this;this.pw.pwinbox.performActionForMessageWithCode(code).then(function(){_this.updateInbox()})},InboxWidget.prototype.removeMessages=function(messages){var _this=this;messages.forEach(function(code){_this.readItems=_this.readItems.slice(_this.readItems.indexOf(code),1)}),this.pw.pwinbox.deleteMessagesWithCodes(messages).then(function(){_this.updateInbox()})},InboxWidget.prototype.onTriggerClickHandler=function(event){event.stopPropagation(),event.target&&this.toggle()},InboxWidget.prototype.onWidgetClickHandler=function(event){if(event.target){var itemElement=event.target.closest(\".pw-inbox_item\");if(itemElement){var messageCode=itemElement.getAttribute(\"data-pw-inbox-message-id\");messageCode&&(event.target.closest(\".pw-inbox_item-remove\")?this.removeMessages([messageCode]):this.performMessageAction(messageCode))}else this.toggle()}},InboxWidget.prototype.onWindowScrollHandler=function(){this.isFixed&&this.isOpened?this.toggle():this.positionWidget()},InboxWidget}();exports.default=InboxWidget},function(module,exports,__nested_webpack_require_498607__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var helpers_1=__nested_webpack_require_498607__(0);exports.widgetTemplate=function(title){return'\\n<div class=\"pw-inbox__arrow\"></div>\\n<div class=\"pw-inbox_inner\">\\n    <div class=\"pw-inbox_title\">\\n      '+title+'\\n    </div>\\n    <ul class=\"pw-inbox_list\">\\n    \\n    </ul>\\n</div>'},exports.widgetTemplateEmpty=function(emptyInboxIconUrl,emptyInboxTitle,emptyInboxText){return'\\n<div class=\"pw-inbox__arrow\"></div>\\n<div class=\"pw-inbox_list--empty\">\\n    <div class=\"pw-inbox_list-icon\">\\n      <img src=\"'+emptyInboxIconUrl+'\" alt=\"'+emptyInboxTitle+'\">\\n    </div>\\n    <div class=\"pw-inbox_list-title\">\\n      '+emptyInboxTitle+'\\n    </div>\\n    <div class=\"ipw-inbox_list-body\">\\n      '+emptyInboxText+\"\\n    </div>\\n</div>\"},exports.messageTemplate=function(_a){var imageUrl=_a.imageUrl,title=_a.title,message=_a.message,sendDate=_a.sendDate;return'\\n<div class=\"pw-inbox_item-inner\">\\n  <div class=\"pw-inbox_icon\">\\n    <img src=\"'+imageUrl+'\" alt=\"'+(title||message)+'\" class=\"pw-inbox_message-image\">\\n  </div>\\n  <div class=\"pw-inbox_content\">\\n    '+(title?'<div class=\"pw-inbox_item-title\">\\n      '+title+\"\\n    </div>\":null)+'\\n    <div class=\"pw-inbox_item-body\">\\n      '+message+'\\n    </div>\\n    <div class=\"pw-inbox_item-time\">\\n      '+helpers_1.getMessageTime(sendDate)+'\\n    </div>\\n  </div>\\n</div>\\n<span class=\"pw-inbox_item-remove\"></span>'}},function(module,exports,__nested_webpack_require_500083__){var result=__nested_webpack_require_500083__(6);module.exports=\"string\"==typeof result?result:result.toString()},function(module,exports,__nested_webpack_require_500227__){(module.exports=__nested_webpack_require_500227__(7)(void 0)).push([module.i,\".pw-inbox-trigger {\\n  position: relative;\\n  cursor: pointer;\\n}\\n\\n.pw-inbox-trigger:after {\\n  content: attr(data-pw-count);\\n  display: block;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  background: var(--badgeBgColor);\\n  -webkit-border-radius: 8px;\\n          border-radius: 8px;\\n  color: var(--badgeTextColor);\\n  font-size: 10px;\\n  font-weight: normal;\\n  line-height: 16px;\\n  width: 16px;\\n  padding: 0 2px;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  text-align: center;\\n}\\n\\n.pw-inbox-trigger.pw-empty:after {\\n  display: none;\\n}\\n\\n.pw-inbox-widget * {\\n  position: static;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  font-size: 1em;\\n  outline: none;\\n  font-family: var(--fontFamily);\\n}\\n.pw-inbox-widget {\\n  font-size: 14px;\\n  position: absolute;\\n  top: 0;\\n  left: -1000px;\\n  background: var(--bgColor);\\n  border: solid 1px var(--borderColor);\\n  -webkit-border-radius: var(--borderRadius);\\n          border-radius: var(--borderRadius);\\n  width: var(--widgetWidth);\\n  -webkit-box-shadow: 0 1px 4px 0 rgba(0,0,0,.25);\\n          box-shadow: 0 1px 4px 0 rgba(0,0,0,.25);\\n  z-index: var(--zIndex);\\n  opacity: 0;\\n  -webkit-transition: opacity .6s ease;\\n  -o-transition: opacity .6s ease;\\n  transition: opacity .6s ease;\\n  -webkit-transition-delay: 100ms;\\n       -o-transition-delay: 100ms;\\n          transition-delay: 100ms;\\n}\\n.pw-inbox-widget.pw-open {\\n  opacity: 1;\\n  -webkit-transition-delay: 0ms;\\n       -o-transition-delay: 0ms;\\n          transition-delay: 0ms;\\n}\\n.pw-inbox-widget.pw-inbox-widget--inset {\\n  top: auto;\\n  left: auto;\\n  display: none;\\n}\\n.pw-inbox-widget.pw-inbox-widget--inset.pw-open {\\n  display: block;\\n}\\n.pw-inbox-widget.pw-inbox-widget--inset.pw-bottom {\\n  top: 100%;\\n  left: 50%;\\n  -webkit-transform: translateX(-50%);\\n      -ms-transform: translateX(-50%);\\n          transform: translateX(-50%);\\n}\\n.pw-inbox-widget.pw-inbox-widget--inset.pw-top {\\n  bottom: 100%;\\n  left: 50%;\\n  -webkit-transform: translateX(-50%);\\n      -ms-transform: translateX(-50%);\\n          transform: translateX(-50%);\\n}\\n.pw-inbox-widget.pw-inbox-widget--inset.pw-right {\\n  left: 100%;\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n      -ms-transform: translateY(-50%);\\n          transform: translateY(-50%);\\n}\\n.pw-inbox-widget.pw-inbox-widget--inset.pw-left {\\n  right: 100%;\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n      -ms-transform: translateY(-50%);\\n          transform: translateY(-50%);\\n}\\n.pw-inbox-widget.pw-inbox-widget--empty {\\n  max-height: none;\\n}\\n.pw-inbox-widget .pw-inbox__arrow {\\n  display: block;\\n  width: 0;\\n  height: 0;\\n  border-width: 10px;\\n  border-style: solid;\\n  border-color: transparent;\\n  position: absolute;\\n}\\n.pw-inbox-widget .pw-inbox__arrow:before {\\n  content: \\\"\\\";\\n  display: block;\\n  width: 0;\\n  height: 0;\\n  border-width: 10px;\\n  border-style: solid;\\n  border-color: transparent;\\n  position: absolute;\\n}\\n.pw-inbox-widget.pw-top {\\n  margin-top: -12px;\\n}\\n.pw-inbox-widget.pw-top .pw-inbox__arrow {\\n  border-top-color: var(--arrowBorderColor);\\n  bottom: -21px;\\n  left: 50%;\\n  -webkit-transform: translateX(-50%);\\n      -ms-transform: translateX(-50%);\\n          transform: translateX(-50%);\\n}\\n.pw-inbox-widget.pw-top .pw-inbox__arrow:before {\\n  border-top-color: var(--bgColor);\\n  top: -11px;\\n  left: -10px;\\n}\\n.pw-inbox-widget.pw-bottom {\\n  margin-top: 12px;\\n}\\n.pw-inbox-widget.pw-bottom .pw-inbox__arrow {\\n  border-bottom-color: var(--arrowBorderColor);\\n  top: -21px;\\n  left: 50%;\\n  -webkit-transform: translateX(-50%);\\n      -ms-transform: translateX(-50%);\\n          transform: translateX(-50%);\\n}\\n.pw-inbox-widget.pw-bottom .pw-inbox__arrow:before {\\n  border-bottom-color: var(--bgColor);\\n  bottom: -11px;\\n  left: -10px;\\n}\\n.pw-inbox-widget.pw-left {\\n  margin-left: -12px;\\n}\\n.pw-inbox-widget.pw-left .pw-inbox__arrow {\\n  border-left-color: var(--arrowBorderColor);\\n  right: -21px;\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n      -ms-transform: translateY(-50%);\\n          transform: translateY(-50%);\\n}\\n.pw-inbox-widget.pw-left .pw-inbox__arrow:before {\\n  border-left-color: var(--bgColor);\\n  left: -11px;\\n  top: -10px;\\n}\\n.pw-inbox-widget.pw-right {\\n  margin-left: 12px;\\n}\\n.pw-inbox-widget.pw-right .pw-inbox__arrow {\\n  border-right-color: var(--arrowBorderColor);\\n  left: -21px;\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n      -ms-transform: translateY(-50%);\\n          transform: translateY(-50%);\\n}\\n.pw-inbox-widget.pw-right .pw-inbox__arrow:before {\\n  border-right-color: var(--bgColor);\\n  right: -11px;\\n  top: -10px;\\n}\\n.pw-inbox_inner {\\n  overflow: hidden;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: column;\\n          flex-direction: column;\\n  height: 100%;\\n}\\n.pw-inbox_title {\\n  color: var(--textColor);\\n  margin: 0;\\n  padding: 28px 32px 12px;\\n  font-size: 24px;\\n  font-weight: 500;\\n  line-height: 1.1;\\n  text-align: left;\\n  -webkit-box-flex: 0;\\n      -ms-flex: 0 0 66px;\\n          flex: 0 0 66px;\\n}\\n.pw-inbox_list {\\n  overflow-x: hidden;\\n  overflow-y: auto;\\n  min-width: 200px;\\n  max-height: 300px;\\n  padding: 0;\\n  margin: 0;\\n  list-style: none;\\n  position: relative;\\n  -webkit-box-flex: 1;\\n      -ms-flex: 1 1 auto;\\n          flex: 1 1 auto;\\n}\\n\\n.pw-inbox_item {\\n  position: relative;\\n  padding: 8px 32px;\\n  margin: 0;\\n  text-align: left;\\n}\\n.pw-inbox_item-inner {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  cursor: pointer;\\n}\\n.pw-inbox_icon {\\n  -webkit-box-flex: 0;\\n      -ms-flex: 0 0 40px;\\n          flex: 0 0 40px;\\n}\\n.pw-inbox_message-image {\\n  width: 28px;\\n}\\n.pw-inbox_content {\\n  -webkit-box-flex: 0;\\n      -ms-flex: 0 1 100%;\\n          flex: 0 1 100%;\\n}\\n.pw-inbox_item-title {\\n  color: var(--messageTitleColor);\\n  font-size: 14px;\\n  line-height: 20px;\\n  margin-bottom: 4px;\\n}\\n.pw-inbox_item-body {\\n  color: var(--textColor);\\n  font-size: 14px;\\n  line-height: 20px;\\n  margin-bottom: 4px;\\n}\\n.pw-inbox_item-time {\\n  color: var(--timeTextColor);\\n  font-size: 12px;\\n  line-height: 17px;\\n}\\n.pw-inbox_item-remove {\\n  position: absolute;\\n  z-index: 2;\\n  top: 8px;\\n  right: 8px;\\n  display: none;\\n  width: 10px;\\n  height: 10px;\\n  background: transparent url('https://cdn.pushwoosh.com/webpush/img/iconClose.svg') 50% no-repeat;\\n  cursor: pointer;\\n}\\n.pw-inbox_item:hover .pw-inbox_item-remove {\\n  display: block;\\n}\\n\\n.pw-inbox_item.pw-new .pw-inbox_item-title {\\n  color: var(--textColor);\\n  font-weight: 700;\\n}\\n\\n.pw-inbox_item.pw-new .pw-inbox_item-body {\\n  font-weight: 700;\\n}\\n\\n.pw-inbox_list--empty {\\n  padding: 50px 16px;\\n  text-align: center;\\n  max-height: 100%;\\n  overflow: auto;\\n}\\n\\n.pw-inbox_list--empty .pw-inbox_list-icon {\\n  text-align: center;\\n  margin-bottom: 30px;\\n}\\n.pw-inbox_list--empty .pw-inbox_list-icon img {\\n  max-width: 100%;\\n}\\n\\n.pw-inbox_list--empty .pw-inbox_list-title {\\n  font-size: 28px;\\n  line-height: 36px;\\n  color: var(--emptyInboxTitleColor);\\n  margin-bottom: 20px;\\n}\\n\\n.pw-inbox_list--empty .ipw-inbox_list-body {\\n  font-size: 14px;\\n  line-height: 18px;\\n  color: var(--emptyInboxTextColor);\\n}\\n\",\"\"])},function(module,exports){module.exports=function(useSourceMap){var list=[];return list.toString=function(){return this.map(function(item){var content=function(item,useSourceMap){var content=item[1]||\"\",cssMapping=item[3];if(!cssMapping)return content;if(useSourceMap&&\"function\"==typeof btoa){var sourceMapping=function(sourceMap){return\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+\" */\"}(cssMapping),sourceURLs=cssMapping.sources.map(function(source){return\"/*# sourceURL=\"+cssMapping.sourceRoot+source+\" */\"});return[content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\")}return[content].join(\"\\n\")}(item,useSourceMap);return item[2]?\"@media \"+item[2]+\"{\"+content+\"}\":content}).join(\"\")},list.i=function(modules,mediaQuery){\"string\"==typeof modules&&(modules=[[null,modules,\"\"]]);for(var alreadyImportedModules={},i=0;i<this.length;i++){var id=this[i][0];\"number\"==typeof id&&(alreadyImportedModules[id]=!0)}for(i=0;i<modules.length;i++){var item=modules[i];\"number\"==typeof item[0]&&alreadyImportedModules[item[0]]||(mediaQuery&&!item[2]?item[2]=mediaQuery:mediaQuery&&(item[2]=\"(\"+item[2]+\") and (\"+mediaQuery+\")\"),list.push(item))}},list}}])},function(module,exports,__nested_webpack_require_508971__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var web_push_subscribe_popup_1=__nested_webpack_require_508971__(154);document.addEventListener(\"pushwoosh.initialized\",function(ev){if(ev.detail.pw.subscribePopupConfig&&ev.detail.pw.subscribePopupConfig.enable){var popup_1=new web_push_subscribe_popup_1.PWSubscribePopup(ev.detail.pw);popup_1.initPopup().then(function(){ev.detail.pw.subscribePopup=popup_1})}})},function(module,exports,__webpack_require__){module.exports=function(modules){var installedModules={};function __nested_webpack_require_509513__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__nested_webpack_require_509513__),module.l=!0,module.exports}return __nested_webpack_require_509513__.m=modules,__nested_webpack_require_509513__.c=installedModules,__nested_webpack_require_509513__.d=function(exports,name,getter){__nested_webpack_require_509513__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__nested_webpack_require_509513__.r=function(exports){Object.defineProperty(exports,\"__esModule\",{value:!0})},__nested_webpack_require_509513__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __nested_webpack_require_509513__.d(getter,\"a\",getter),getter},__nested_webpack_require_509513__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__nested_webpack_require_509513__.p=\"\",__nested_webpack_require_509513__(__nested_webpack_require_509513__.s=1)}([function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.DEFAULT_CONFIG={text:\"Dont miss out on our news and updates! Enable push notifications\",askLaterButtonText:\"Not now\",confirmSubscriptionButtonText:\"Subscribe\",delay:60,retryOffset:604800,overlay:!1,position:\"top\",bgColor:\"#fff\",borderColor:\"transparent\",boxShadow:\"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)\",textColor:\"#000\",textSize:\"inherit\",fontFamily:\"inherit\",subscribeBtnBgColor:\"#4285f4\",subscribeBtnTextColor:\"#fff\",askLaterBtnBgColor:\"transparent\",askLaterBtnTextColor:\"#000\",theme:\"material\",viewport:\"html\"},exports.COLOR_TEST_REGEXP=/^(#([\\da-f]{3}){1,2}$|(rgb|hsl)a\\((\\d{1,3}%?,\\s?){3}(1|0?\\.\\d+)\\)$|(rgb|hsl)\\(\\d{1,3}%?(,\\s?\\d{1,3}%?){2}\\)$)/,exports.PERMISSION_DENIED=\"denied\",exports.PERMISSION_GRANTED=\"granted\",exports.CONFIG_STYLES=[{name:\"bgColor\",type:\"color\"},{name:\"borderColor\",type:\"color\"},{name:\"boxShadow\",type:\"string\"},{name:\"textColor\",type:\"color\"},{name:\"textSize\",type:\"string\"},{name:\"fontFamily\",type:\"string\"},{name:\"subscribeBtnBgColor\",type:\"color\"},{name:\"subscribeBtnTextColor\",type:\"color\"},{name:\"askLaterBtnBgColor\",type:\"color\"},{name:\"askLaterBtnTextColor\",type:\"color\"}]},function(module,exports,__nested_webpack_require_511799__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var SubscribePopup_1=__nested_webpack_require_511799__(2);exports.PWSubscribePopup=SubscribePopup_1.default},function(module,exports,__nested_webpack_require_512007__){\"use strict\";var __assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var constants_1=__nested_webpack_require_512007__(0),popupTemplates_1=__nested_webpack_require_512007__(3),constants_2=__nested_webpack_require_512007__(0),helpers_1=__nested_webpack_require_512007__(4),SubscribePopup=function(){function SubscribePopup(pw){this.pw=pw,this.config=__assign({},constants_1.DEFAULT_CONFIG,this.pw.subscribePopupConfig),this.onAskLaterClick=this.onAskLaterClick.bind(this),this.onSubscribeClick=this.onSubscribeClick.bind(this)}return SubscribePopup.prototype.initPopup=function(){return __awaiter(this,void 0,void 0,function(){var isSubscribed,isManualUnsubscribed,permission,lastPopupOpen,lastPopupOpenTime,now,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.pw.isSubscribed()];case 1:return isSubscribed=_a.sent(),[4,this.pw.data.getStatusManualUnsubscribed()];case 2:return isManualUnsubscribed=_a.sent(),isSubscribed||isManualUnsubscribed?[2]:[4,this.pw.driver.getPermission()];case 3:return(permission=_a.sent())===constants_2.PERMISSION_GRANTED||permission===constants_2.PERMISSION_DENIED?[2]:(this.renderPopup(),this.appendStyles(),lastPopupOpen=localStorage.getItem(\"LAST_OPEN_SUBSCRIPTION_POPUP\"),lastPopupOpenTime=lastPopupOpen?parseInt(lastPopupOpen):0,now=(new Date).getTime(),lastPopupOpenTime+1e3*this.config.retryOffset<now&&setTimeout(function(){_this.toggle(!0)},1e3*this.config.delay),[2])}})})},SubscribePopup.prototype.toggle=function(isShown){(\"boolean\"==typeof isShown?isShown:!this.isShown)?(this.showPopup(),this.pw.eventBus.dispatchEvent(\"subscribe-popup-show\",{})):(this.closePopup(),this.pw.eventBus.dispatchEvent(\"subscribe-popup-hide\",{}))},SubscribePopup.prototype.showPopup=function(){this.isShown=!0,this.popup.classList.add(\"pw-show\"),document.body.classList.add(\"pw-popup-opened\");var event=new CustomEvent(\"showPopup\",{bubbles:!1,cancelable:!1,detail:{popup:this.popup}});if(this.popup.dispatchEvent(event),!(Math.max(document.documentElement.clientWidth,window.innerWidth||0)<541)){var _a=this.config,theme=_a.theme,viewport=_a.viewport,position=_a.position;if(\"topbar\"===theme&&\"top\"===position){var viewportElement=document.querySelector(viewport)||document.createElement(\"div\"),currentMarginTop=window.getComputedStyle(viewportElement).marginTop||\"0\";viewportElement.style.transition=\"margin-top .3s ease-out\",viewportElement.style.marginTop=parseInt(currentMarginTop)+this.popup.getBoundingClientRect().height+\"px\"}}},SubscribePopup.prototype.closePopup=function(){this.isShown=!1,this.popup.classList.remove(\"pw-show\"),document.body.classList.remove(\"pw-popup-opened\");var event=new CustomEvent(\"hidePopup\",{bubbles:!1,cancelable:!1,detail:{popup:this.popup}});this.popup.dispatchEvent(event);var now=(new Date).getTime().toString();if(localStorage.setItem(\"LAST_OPEN_SUBSCRIPTION_POPUP\",now),!(Math.max(document.documentElement.clientWidth,window.innerWidth||0)<541)){var _a=this.config,theme=_a.theme,viewport=_a.viewport,position=_a.position;if(\"topbar\"===theme&&\"top\"===position){var viewportElement=document.querySelector(viewport)||document.createElement(\"div\"),currentMarginTop=window.getComputedStyle(viewportElement).marginTop||\"0\";viewportElement.style.marginTop=parseInt(currentMarginTop)-this.popup.getBoundingClientRect().height+\"px\"}}},SubscribePopup.prototype.renderPopup=function(){this.popup=document.createElement(\"div\"),this.popup.id=\"pwSubscribePopup\";var _a=this.config,text=_a.text,askLaterButtonText=_a.askLaterButtonText,confirmSubscriptionButtonText=_a.confirmSubscriptionButtonText,iconUrl=_a.iconUrl,position=_a.position,overlay=_a.overlay,theme=_a.theme;this.popup.className=\"pw-subscribe-popup pw-position-\"+position+\" pw-subscribe-popup-\"+theme,this.popup.classList.toggle(\"pw-subscribe-popup__overlay\",overlay),this.popup.innerHTML=popupTemplates_1.innerTemplate({text:text,askLaterButtonText:askLaterButtonText,confirmSubscriptionButtonText:confirmSubscriptionButtonText,iconUrl:iconUrl}),document.body.appendChild(this.popup),this.addListeners()},SubscribePopup.prototype.appendStyles=function(){var styles=__nested_webpack_require_512007__(5),style=document.createElement(\"style\");style.innerHTML=this.configureStyle(styles),document.body.appendChild(style)},SubscribePopup.prototype.getStyleFormatter=function(style){switch(style.type){case\"size\":return(this.config[style.name]||0)+\"px\";case\"number\":return parseFloat(this.config[style.name].toString()).toString();case\"string\":return this.config[style.name].toString();case\"color\":return helpers_1.getValidColor(this.config[style.name].toString());default:return\"none\"}},SubscribePopup.prototype.configureStyle=function(styles){var _this=this,resultStyles=styles.toString();return constants_1.CONFIG_STYLES.forEach(function(style){var template=new RegExp(\"var\\\\(--\"+style.name+\"\\\\)\",\"ig\"),result=_this.getStyleFormatter(style);resultStyles=resultStyles.replace(template,result)}),resultStyles},SubscribePopup.prototype.addListeners=function(){var askLaterButton=this.popup.querySelector('button[name=\"pwAskLater\"]')||document.createElement(\"button\"),subscribeButton=this.popup.querySelector('button[name=\"pwSubscribe\"]')||document.createElement(\"button\");askLaterButton.addEventListener(\"click\",this.onAskLaterClick),subscribeButton.addEventListener(\"click\",this.onSubscribeClick)},SubscribePopup.prototype.onAskLaterClick=function(){this.toggle(!1),this.pw.eventBus.dispatchEvent(\"subscribe-popup-decline\",{})},SubscribePopup.prototype.onSubscribeClick=function(){this.toggle(!1),this.pw.eventBus.dispatchEvent(\"subscribe-popup-accept\",{}),this.pw.subscribe()},SubscribePopup}();exports.default=SubscribePopup},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.innerTemplate=function(_a){var iconUrl=_a.iconUrl,text=_a.text,askLaterButtonText=_a.askLaterButtonText,confirmSubscriptionButtonText=_a.confirmSubscriptionButtonText;return'<div class=\"pw-subscription-popup-inner\">\\n    <div class=\"pw-subscription-popup-content\">\\n      '+(iconUrl?'<div class=\"pw-subscription-popup-icon\">\\n        <img src=\"'+iconUrl+'\">\\n      </div>':\"\")+'\\n      <div class=\"pw-subscription-popup-text\">\\n        '+text+'\\n      </div>\\n    </div>\\n    <div class=\"pw-subscription-popup-controls\">\\n      <button name=\"pwSubscribe\" class=\"pw-subscribe-popup-button pw-subscribe-popup-button-active\">'+confirmSubscriptionButtonText+'</button>\\n      <button name=\"pwAskLater\" class=\"pw-subscribe-popup-button\">'+askLaterButtonText+\"</button>\\n    </div>\\n  </div>\"}},function(module,exports,__nested_webpack_require_520394__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var constants_1=__nested_webpack_require_520394__(0);exports.getValidColor=function(color){return\"transparent\"===color?color:constants_1.COLOR_TEST_REGEXP.test(color)?color:\"#333\"},exports.getGlobal=function(){return Function(\"return this\")()}},function(module,exports,__nested_webpack_require_520738__){var result=__nested_webpack_require_520738__(6);module.exports=\"string\"==typeof result?result:result.toString()},function(module,exports,__nested_webpack_require_520882__){(module.exports=__nested_webpack_require_520882__(7)(void 0)).push([module.i,\".pw-subscribe-popup {\\n  position: fixed;\\n  left: 50%;\\n  -webkit-transform: translateX(-50%);\\n      -ms-transform: translateX(-50%);\\n          transform: translateX(-50%);\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  z-index: 1000000;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-transition: all .4s ease-out;\\n  -o-transition: all .4s ease-out;\\n  transition: all .4s ease-out;\\n}\\n\\n.pw-subscribe-popup.pw-position-top {\\n  top: calc(-100% - 24px);\\n}\\n.pw-subscribe-popup.pw-position-top.pw-show {\\n  top: 0;\\n}\\n\\n.pw-subscribe-popup.pw-position-bottom {\\n  bottom: calc(-100% - 24px);\\n}\\n.pw-subscribe-popup.pw-position-bottom.pw-show {\\n  bottom: 0;\\n}\\n\\n.pw-subscribe-popup.pw-position-center {\\n  display: none;\\n}\\n.pw-subscribe-popup.pw-position-center.pw-show {\\n  top: 50%;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n}\\n\\n.pw-subscribe-popup__overlay {\\n  position: fixed;\\n  left: 0;\\n  right: 0;\\n  -webkit-transform: none;\\n      -ms-transform: none;\\n          transform: none;\\n  height: 100%;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  background: rgba(0,0,0,.4);\\n  z-index: 1000000;\\n  display: none;\\n  top: 0;\\n}\\n\\n.pw-subscribe-popup__overlay.pw-position-top {\\n  -webkit-box-align: start;\\n      -ms-flex-align: start;\\n          align-items: flex-start;\\n}\\n\\n.pw-subscribe-popup__overlay.pw-position-bottom {\\n  -webkit-box-align: end;\\n      -ms-flex-align: end;\\n          align-items: flex-end;\\n}\\n\\n.pw-subscribe-popup__overlay.pw-position-center {\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n}\\n\\n.pw-subscription-popup-inner {\\n  max-width: 400px;\\n  font-size: var(--textSize);\\n  color: var(--textColor);\\n  font-family: var(--fontFamily);\\n  border-style: solid;\\n  border-width: 1px;\\n  border-color: var(--borderColor);\\n  background: var(--bgColor);\\n  -webkit-box-shadow: var(--boxShadow);\\n          box-shadow: var(--boxShadow);\\n}\\n\\n.pw-subscription-popup-content {\\n  padding: 16px 16px 4px;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-pack: stretch;\\n      -ms-flex-pack: stretch;\\n          justify-content: stretch;\\n}\\n\\n.pw-subscription-popup-icon {\\n  -webkit-box-flex: 0;\\n      -ms-flex: 0 0 50px;\\n          flex: 0 0 50px;\\n  margin-right: 12px;\\n  padding-top: 4px;\\n}\\n\\n.pw-subscription-popup-icon img {\\n  max-width: 60px;\\n  max-height: 60px;\\n}\\n\\n.pw-subscription-popup-text {\\n  -webkit-box-flex: 1;\\n      -ms-flex: 1 1 300px;\\n          flex: 1 1 300px;\\n}\\n\\n.pw-subscription-popup-controls {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-wrap: wrap;\\n      flex-wrap: wrap;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  padding: 8px 16px 16px;\\n}\\n\\nbutton.pw-subscribe-popup-button {\\n  border: solid 1px transparent;\\n  -webkit-border-radius: 2px;\\n          border-radius: 2px;\\n  display: inline-block;\\n  height: 36px;\\n  line-height: 36px;\\n  padding: 0 16px;\\n  text-transform: uppercase;\\n  vertical-align: middle;\\n  -webkit-tap-highlight-color: transparent;\\n  font-size: 14px;\\n  outline: 0;\\n  text-decoration: none;\\n  color: var(--askLaterBtnTextColor);\\n  text-align: center;\\n  letter-spacing: .5px;\\n  cursor: pointer;\\n  background: var(--askLaterBtnBgColor);\\n  margin: 4px 8px;\\n}\\nbutton.pw-subscribe-popup-button:hover {\\n  background: rgba(0,0,0,.04);\\n}\\nbutton.pw-subscribe-popup-button:active {\\n  background: rgba(0,0,0,.12);\\n}\\n\\nbutton.pw-subscribe-popup-button.pw-subscribe-popup-button-active {\\n  color: var(--subscribeBtnTextColor);\\n  background: var(--subscribeBtnBgColor);\\n  -webkit-box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14),\\n  0 3px 1px -2px rgba(0,0,0,0.12),\\n  0 1px 5px 0 rgba(0,0,0,0.2);\\n          box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14),\\n  0 3px 1px -2px rgba(0,0,0,0.12),\\n  0 1px 5px 0 rgba(0,0,0,0.2);\\n}\\nbutton.pw-subscribe-popup-button.pw-subscribe-popup-button-active:hover {\\n  -webkit-box-shadow: 0 3px 3px 0 rgba(0,0,0,0.14),\\n  0 1px 7px 0 rgba(0,0,0,0.12),\\n  0 3px 1px -1px rgba(0,0,0,0.2);\\n          box-shadow: 0 3px 3px 0 rgba(0,0,0,0.14),\\n  0 1px 7px 0 rgba(0,0,0,0.12),\\n  0 3px 1px -1px rgba(0,0,0,0.2);\\n}\\nbutton.pw-subscribe-popup-button.pw-subscribe-popup-button-active:active {\\n  -webkit-box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14),\\n  0 3px 1px -2px rgba(0,0,0,0.12),\\n  0 1px 5px 0 rgba(0,0,0,0.2);\\n          box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14),\\n  0 3px 1px -2px rgba(0,0,0,0.12),\\n  0 1px 5px 0 rgba(0,0,0,0.2);\\n}\\n\\n@media screen and (min-width: 541px) {\\n\\n  .pw-subscribe-popup-topbar {\\n    width: 100%;\\n  }\\n\\n  .pw-subscribe-popup-topbar .pw-subscription-popup-inner {\\n    max-width: 100%;\\n    width: 100%;\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-orient: horizontal;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: row;\\n            flex-direction: row;\\n    padding: 2px 40px;\\n    -webkit-box-pack: justify;\\n        -ms-flex-pack: justify;\\n            justify-content: space-between;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n    -ms-flex-wrap: nowrap;\\n        flex-wrap: nowrap;\\n  }\\n\\n  .pw-subscribe-popup-topbar .pw-subscription-popup-content {\\n    padding: 0;\\n    -webkit-box-pack: start;\\n        -ms-flex-pack: start;\\n            justify-content: flex-start;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n    -webkit-box-flex: 1;\\n        -ms-flex: 1 1 60%;\\n            flex: 1 1 60%;\\n  }\\n\\n  .pw-subscribe-popup-topbar .pw-subscription-popup-icon img {\\n    max-width: 28px;\\n    max-height: 28px;\\n  }\\n\\n  .pw-subscribe-popup-topbar button.pw-subscribe-popup-button {\\n    height: 32px;\\n    line-height: 32px;\\n  }\\n\\n  .pw-subscribe-popup-topbar .pw-subscription-popup-controls {\\n    padding: 0 0 0 16px;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n  }\\n}\\n@media screen and (max-width: 540px) {\\n  .pw-subscribe-popup,\\n  .pw-subscribe-popup.pw-position-top,\\n  .pw-subscribe-popup.pw-position-center,\\n  .pw-subscribe-popup.pw-position-bottom {\\n    top: auto;\\n    bottom: -110%;\\n    left: 0;\\n    right: 0;\\n    -webkit-transform: none;\\n        -ms-transform: none;\\n            transform: none;\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-transition: bottom .4s ease-out;\\n    -o-transition: bottom .4s ease-out;\\n    transition: bottom .4s ease-out;\\n    -webkit-box-align: end;\\n        -ms-flex-align: end;\\n            align-items: flex-end;\\n  }\\n\\n  .pw-subscribe-popup.pw-subscribe-popup__overlay {\\n    height: 100%;\\n    -webkit-box-align: end;\\n        -ms-flex-align: end;\\n            align-items: flex-end;\\n  }\\n\\n  .pw-subscribe-popup.pw-show {\\n    bottom: 0;\\n  }\\n\\n  .pw-subscribe-popup__overlay .pw-subscription-popup-inner {\\n    -webkit-box-align: end;\\n        -ms-flex-align: end;\\n            align-items: flex-end;\\n    -webkit-box-pack: stretch;\\n        -ms-flex-pack: stretch;\\n            justify-content: stretch;\\n  }\\n\\n  .pw-subscription-popup-inner {\\n    max-width: 100%;\\n    width: 100%;\\n  }\\n}\\n\",\"\"])},function(module,exports){module.exports=function(useSourceMap){var list=[];return list.toString=function(){return this.map(function(item){var content=function(item,useSourceMap){var content=item[1]||\"\",cssMapping=item[3];if(!cssMapping)return content;if(useSourceMap&&\"function\"==typeof btoa){var sourceMapping=function(sourceMap){return\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+\" */\"}(cssMapping),sourceURLs=cssMapping.sources.map(function(source){return\"/*# sourceURL=\"+cssMapping.sourceRoot+source+\" */\"});return[content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\")}return[content].join(\"\\n\")}(item,useSourceMap);return item[2]?\"@media \"+item[2]+\"{\"+content+\"}\":content}).join(\"\")},list.i=function(modules,mediaQuery){\"string\"==typeof modules&&(modules=[[null,modules,\"\"]]);for(var alreadyImportedModules={},i=0;i<this.length;i++){var id=this[i][0];\"number\"==typeof id&&(alreadyImportedModules[id]=!0)}for(i=0;i<modules.length;i++){var item=modules[i];\"number\"==typeof item[0]&&alreadyImportedModules[item[0]]||(mediaQuery&&!item[2]?item[2]=mediaQuery:mediaQuery&&(item[2]=\"(\"+item[2]+\") and (\"+mediaQuery+\")\"),list.push(item))}},list}}])}])});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3dlYi1wdXNoLW5vdGlmaWNhdGlvbnMvbGliL2luZGV4LmpzLmpzIiwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uLy4uL25vZGVfbW9kdWxlcy93ZWItcHVzaC1ub3RpZmljYXRpb25zL2xpYi9pbmRleC5qcz9hMzI2Il0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbihyb290LGZhY3Rvcnkpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWZhY3RvcnkoKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZmFjdG9yeSk7ZWxzZXt2YXIgYT1mYWN0b3J5KCk7Zm9yKHZhciBpIGluIGEpKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHM6cm9vdClbaV09YVtpXX19KHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24obW9kdWxlcyl7dmFyIGluc3RhbGxlZE1vZHVsZXM9e307ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCl7aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pcmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7dmFyIG1vZHVsZT1pbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXT17aTptb2R1bGVJZCxsOiExLGV4cG9ydHM6e319O3JldHVybiBtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLG1vZHVsZSxtb2R1bGUuZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKSxtb2R1bGUubD0hMCxtb2R1bGUuZXhwb3J0c31yZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5tPW1vZHVsZXMsX193ZWJwYWNrX3JlcXVpcmVfXy5jPWluc3RhbGxlZE1vZHVsZXMsX193ZWJwYWNrX3JlcXVpcmVfXy5kPWZ1bmN0aW9uKGV4cG9ydHMsbmFtZSxnZXR0ZXIpe19fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLG5hbWUpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxuYW1lLHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMCxnZXQ6Z2V0dGVyfSl9LF9fd2VicGFja19yZXF1aXJlX18ucj1mdW5jdGlvbihleHBvcnRzKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sX193ZWJwYWNrX3JlcXVpcmVfXy5uPWZ1bmN0aW9uKG1vZHVsZSl7dmFyIGdldHRlcj1tb2R1bGUmJm1vZHVsZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIG1vZHVsZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBtb2R1bGV9O3JldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLFwiYVwiLGdldHRlciksZ2V0dGVyfSxfX3dlYnBhY2tfcmVxdWlyZV9fLm89ZnVuY3Rpb24ob2JqZWN0LHByb3BlcnR5KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCxwcm9wZXJ0eSl9LF9fd2VicGFja19yZXF1aXJlX18ucD1cIlwiLF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zPTc4KX0oW2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBzdXBwb3J0PV9fd2VicGFja19yZXF1aXJlX18oNyksYmFzZTY0PV9fd2VicGFja19yZXF1aXJlX18oNTcpLG5vZGVqc1V0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMjkpLHNldEltbWVkaWF0ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEwMCksZXh0ZXJuYWw9X193ZWJwYWNrX3JlcXVpcmVfXygyNCk7ZnVuY3Rpb24gaWRlbnRpdHkoaW5wdXQpe3JldHVybiBpbnB1dH1mdW5jdGlvbiBzdHJpbmdUb0FycmF5TGlrZShzdHIsYXJyYXkpe2Zvcih2YXIgaT0wO2k8c3RyLmxlbmd0aDsrK2kpYXJyYXlbaV09MjU1JnN0ci5jaGFyQ29kZUF0KGkpO3JldHVybiBhcnJheX1leHBvcnRzLm5ld0Jsb2I9ZnVuY3Rpb24ocGFydCx0eXBlKXtleHBvcnRzLmNoZWNrU3VwcG9ydChcImJsb2JcIik7dHJ5e3JldHVybiBuZXcgQmxvYihbcGFydF0se3R5cGU6dHlwZX0pfWNhdGNoKGUpe3RyeXt2YXIgYnVpbGRlcj1uZXcoc2VsZi5CbG9iQnVpbGRlcnx8c2VsZi5XZWJLaXRCbG9iQnVpbGRlcnx8c2VsZi5Nb3pCbG9iQnVpbGRlcnx8c2VsZi5NU0Jsb2JCdWlsZGVyKTtyZXR1cm4gYnVpbGRlci5hcHBlbmQocGFydCksYnVpbGRlci5nZXRCbG9iKHR5cGUpfWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcihcIkJ1ZyA6IGNhbid0IGNvbnN0cnVjdCB0aGUgQmxvYi5cIil9fX07dmFyIGFycmF5VG9TdHJpbmdIZWxwZXI9e3N0cmluZ2lmeUJ5Q2h1bms6ZnVuY3Rpb24oYXJyYXksdHlwZSxjaHVuayl7dmFyIHJlc3VsdD1bXSxrPTAsbGVuPWFycmF5Lmxlbmd0aDtpZihsZW48PWNodW5rKXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsYXJyYXkpO2Zvcig7azxsZW47KVwiYXJyYXlcIj09PXR5cGV8fFwibm9kZWJ1ZmZlclwiPT09dHlwZT9yZXN1bHQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsYXJyYXkuc2xpY2UoayxNYXRoLm1pbihrK2NodW5rLGxlbikpKSk6cmVzdWx0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGFycmF5LnN1YmFycmF5KGssTWF0aC5taW4oaytjaHVuayxsZW4pKSkpLGsrPWNodW5rO3JldHVybiByZXN1bHQuam9pbihcIlwiKX0sc3RyaW5naWZ5QnlDaGFyOmZ1bmN0aW9uKGFycmF5KXtmb3IodmFyIHJlc3VsdFN0cj1cIlwiLGk9MDtpPGFycmF5Lmxlbmd0aDtpKyspcmVzdWx0U3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGFycmF5W2ldKTtyZXR1cm4gcmVzdWx0U3RyfSxhcHBseUNhbkJlVXNlZDp7dWludDhhcnJheTpmdW5jdGlvbigpe3RyeXtyZXR1cm4gc3VwcG9ydC51aW50OGFycmF5JiYxPT09U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KDEpKS5sZW5ndGh9Y2F0Y2goZSl7cmV0dXJuITF9fSgpLG5vZGVidWZmZXI6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHN1cHBvcnQubm9kZWJ1ZmZlciYmMT09PVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxub2RlanNVdGlscy5hbGxvY0J1ZmZlcigxKSkubGVuZ3RofWNhdGNoKGUpe3JldHVybiExfX0oKX19O2Z1bmN0aW9uIGFycmF5TGlrZVRvU3RyaW5nKGFycmF5KXt2YXIgY2h1bms9NjU1MzYsdHlwZT1leHBvcnRzLmdldFR5cGVPZihhcnJheSksY2FuVXNlQXBwbHk9ITA7aWYoXCJ1aW50OGFycmF5XCI9PT10eXBlP2NhblVzZUFwcGx5PWFycmF5VG9TdHJpbmdIZWxwZXIuYXBwbHlDYW5CZVVzZWQudWludDhhcnJheTpcIm5vZGVidWZmZXJcIj09PXR5cGUmJihjYW5Vc2VBcHBseT1hcnJheVRvU3RyaW5nSGVscGVyLmFwcGx5Q2FuQmVVc2VkLm5vZGVidWZmZXIpLGNhblVzZUFwcGx5KWZvcig7Y2h1bms+MTspdHJ5e3JldHVybiBhcnJheVRvU3RyaW5nSGVscGVyLnN0cmluZ2lmeUJ5Q2h1bmsoYXJyYXksdHlwZSxjaHVuayl9Y2F0Y2goZSl7Y2h1bms9TWF0aC5mbG9vcihjaHVuay8yKX1yZXR1cm4gYXJyYXlUb1N0cmluZ0hlbHBlci5zdHJpbmdpZnlCeUNoYXIoYXJyYXkpfWZ1bmN0aW9uIGFycmF5TGlrZVRvQXJyYXlMaWtlKGFycmF5RnJvbSxhcnJheVRvKXtmb3IodmFyIGk9MDtpPGFycmF5RnJvbS5sZW5ndGg7aSsrKWFycmF5VG9baV09YXJyYXlGcm9tW2ldO3JldHVybiBhcnJheVRvfWV4cG9ydHMuYXBwbHlGcm9tQ2hhckNvZGU9YXJyYXlMaWtlVG9TdHJpbmc7dmFyIHRyYW5zZm9ybT17fTt0cmFuc2Zvcm0uc3RyaW5nPXtzdHJpbmc6aWRlbnRpdHksYXJyYXk6ZnVuY3Rpb24oaW5wdXQpe3JldHVybiBzdHJpbmdUb0FycmF5TGlrZShpbnB1dCxuZXcgQXJyYXkoaW5wdXQubGVuZ3RoKSl9LGFycmF5YnVmZmVyOmZ1bmN0aW9uKGlucHV0KXtyZXR1cm4gdHJhbnNmb3JtLnN0cmluZy51aW50OGFycmF5KGlucHV0KS5idWZmZXJ9LHVpbnQ4YXJyYXk6ZnVuY3Rpb24oaW5wdXQpe3JldHVybiBzdHJpbmdUb0FycmF5TGlrZShpbnB1dCxuZXcgVWludDhBcnJheShpbnB1dC5sZW5ndGgpKX0sbm9kZWJ1ZmZlcjpmdW5jdGlvbihpbnB1dCl7cmV0dXJuIHN0cmluZ1RvQXJyYXlMaWtlKGlucHV0LG5vZGVqc1V0aWxzLmFsbG9jQnVmZmVyKGlucHV0Lmxlbmd0aCkpfX0sdHJhbnNmb3JtLmFycmF5PXtzdHJpbmc6YXJyYXlMaWtlVG9TdHJpbmcsYXJyYXk6aWRlbnRpdHksYXJyYXlidWZmZXI6ZnVuY3Rpb24oaW5wdXQpe3JldHVybiBuZXcgVWludDhBcnJheShpbnB1dCkuYnVmZmVyfSx1aW50OGFycmF5OmZ1bmN0aW9uKGlucHV0KXtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoaW5wdXQpfSxub2RlYnVmZmVyOmZ1bmN0aW9uKGlucHV0KXtyZXR1cm4gbm9kZWpzVXRpbHMubmV3QnVmZmVyRnJvbShpbnB1dCl9fSx0cmFuc2Zvcm0uYXJyYXlidWZmZXI9e3N0cmluZzpmdW5jdGlvbihpbnB1dCl7cmV0dXJuIGFycmF5TGlrZVRvU3RyaW5nKG5ldyBVaW50OEFycmF5KGlucHV0KSl9LGFycmF5OmZ1bmN0aW9uKGlucHV0KXtyZXR1cm4gYXJyYXlMaWtlVG9BcnJheUxpa2UobmV3IFVpbnQ4QXJyYXkoaW5wdXQpLG5ldyBBcnJheShpbnB1dC5ieXRlTGVuZ3RoKSl9LGFycmF5YnVmZmVyOmlkZW50aXR5LHVpbnQ4YXJyYXk6ZnVuY3Rpb24oaW5wdXQpe3JldHVybiBuZXcgVWludDhBcnJheShpbnB1dCl9LG5vZGVidWZmZXI6ZnVuY3Rpb24oaW5wdXQpe3JldHVybiBub2RlanNVdGlscy5uZXdCdWZmZXJGcm9tKG5ldyBVaW50OEFycmF5KGlucHV0KSl9fSx0cmFuc2Zvcm0udWludDhhcnJheT17c3RyaW5nOmFycmF5TGlrZVRvU3RyaW5nLGFycmF5OmZ1bmN0aW9uKGlucHV0KXtyZXR1cm4gYXJyYXlMaWtlVG9BcnJheUxpa2UoaW5wdXQsbmV3IEFycmF5KGlucHV0Lmxlbmd0aCkpfSxhcnJheWJ1ZmZlcjpmdW5jdGlvbihpbnB1dCl7cmV0dXJuIGlucHV0LmJ1ZmZlcn0sdWludDhhcnJheTppZGVudGl0eSxub2RlYnVmZmVyOmZ1bmN0aW9uKGlucHV0KXtyZXR1cm4gbm9kZWpzVXRpbHMubmV3QnVmZmVyRnJvbShpbnB1dCl9fSx0cmFuc2Zvcm0ubm9kZWJ1ZmZlcj17c3RyaW5nOmFycmF5TGlrZVRvU3RyaW5nLGFycmF5OmZ1bmN0aW9uKGlucHV0KXtyZXR1cm4gYXJyYXlMaWtlVG9BcnJheUxpa2UoaW5wdXQsbmV3IEFycmF5KGlucHV0Lmxlbmd0aCkpfSxhcnJheWJ1ZmZlcjpmdW5jdGlvbihpbnB1dCl7cmV0dXJuIHRyYW5zZm9ybS5ub2RlYnVmZmVyLnVpbnQ4YXJyYXkoaW5wdXQpLmJ1ZmZlcn0sdWludDhhcnJheTpmdW5jdGlvbihpbnB1dCl7cmV0dXJuIGFycmF5TGlrZVRvQXJyYXlMaWtlKGlucHV0LG5ldyBVaW50OEFycmF5KGlucHV0Lmxlbmd0aCkpfSxub2RlYnVmZmVyOmlkZW50aXR5fSxleHBvcnRzLnRyYW5zZm9ybVRvPWZ1bmN0aW9uKG91dHB1dFR5cGUsaW5wdXQpe2lmKGlucHV0fHwoaW5wdXQ9XCJcIiksIW91dHB1dFR5cGUpcmV0dXJuIGlucHV0O2V4cG9ydHMuY2hlY2tTdXBwb3J0KG91dHB1dFR5cGUpO3ZhciBpbnB1dFR5cGU9ZXhwb3J0cy5nZXRUeXBlT2YoaW5wdXQpO3JldHVybiB0cmFuc2Zvcm1baW5wdXRUeXBlXVtvdXRwdXRUeXBlXShpbnB1dCl9LGV4cG9ydHMuZ2V0VHlwZU9mPWZ1bmN0aW9uKGlucHV0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgaW5wdXQ/XCJzdHJpbmdcIjpcIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpP1wiYXJyYXlcIjpzdXBwb3J0Lm5vZGVidWZmZXImJm5vZGVqc1V0aWxzLmlzQnVmZmVyKGlucHV0KT9cIm5vZGVidWZmZXJcIjpzdXBwb3J0LnVpbnQ4YXJyYXkmJmlucHV0IGluc3RhbmNlb2YgVWludDhBcnJheT9cInVpbnQ4YXJyYXlcIjpzdXBwb3J0LmFycmF5YnVmZmVyJiZpbnB1dCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP1wiYXJyYXlidWZmZXJcIjp2b2lkIDB9LGV4cG9ydHMuY2hlY2tTdXBwb3J0PWZ1bmN0aW9uKHR5cGUpe2lmKCFzdXBwb3J0W3R5cGUudG9Mb3dlckNhc2UoKV0pdGhyb3cgbmV3IEVycm9yKHR5cGUrXCIgaXMgbm90IHN1cHBvcnRlZCBieSB0aGlzIHBsYXRmb3JtXCIpfSxleHBvcnRzLk1BWF9WQUxVRV8xNkJJVFM9NjU1MzUsZXhwb3J0cy5NQVhfVkFMVUVfMzJCSVRTPS0xLGV4cG9ydHMucHJldHR5PWZ1bmN0aW9uKHN0cil7dmFyIGNvZGUsaSxyZXM9XCJcIjtmb3IoaT0wO2k8KHN0cnx8XCJcIikubGVuZ3RoO2krKylyZXMrPVwiXFxcXHhcIisoKGNvZGU9c3RyLmNoYXJDb2RlQXQoaSkpPDE2P1wiMFwiOlwiXCIpK2NvZGUudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7cmV0dXJuIHJlc30sZXhwb3J0cy5kZWxheT1mdW5jdGlvbihjYWxsYmFjayxhcmdzLHNlbGYpe3NldEltbWVkaWF0ZShmdW5jdGlvbigpe2NhbGxiYWNrLmFwcGx5KHNlbGZ8fG51bGwsYXJnc3x8W10pfSl9LGV4cG9ydHMuaW5oZXJpdHM9ZnVuY3Rpb24oY3RvcixzdXBlckN0b3Ipe3ZhciBPYmo9ZnVuY3Rpb24oKXt9O09iai5wcm90b3R5cGU9c3VwZXJDdG9yLnByb3RvdHlwZSxjdG9yLnByb3RvdHlwZT1uZXcgT2JqfSxleHBvcnRzLmV4dGVuZD1mdW5jdGlvbigpe3ZhciBpLGF0dHIscmVzdWx0PXt9O2ZvcihpPTA7aTxhcmd1bWVudHMubGVuZ3RoO2krKylmb3IoYXR0ciBpbiBhcmd1bWVudHNbaV0pYXJndW1lbnRzW2ldLmhhc093blByb3BlcnR5KGF0dHIpJiZ2b2lkIDA9PT1yZXN1bHRbYXR0cl0mJihyZXN1bHRbYXR0cl09YXJndW1lbnRzW2ldW2F0dHJdKTtyZXR1cm4gcmVzdWx0fSxleHBvcnRzLnByZXBhcmVDb250ZW50PWZ1bmN0aW9uKG5hbWUsaW5wdXREYXRhLGlzQmluYXJ5LGlzT3B0aW1pemVkQmluYXJ5U3RyaW5nLGlzQmFzZTY0KXtyZXR1cm4gZXh0ZXJuYWwuUHJvbWlzZS5yZXNvbHZlKGlucHV0RGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtyZXR1cm4gc3VwcG9ydC5ibG9iJiYoZGF0YSBpbnN0YW5jZW9mIEJsb2J8fC0xIT09W1wiW29iamVjdCBGaWxlXVwiLFwiW29iamVjdCBCbG9iXVwiXS5pbmRleE9mKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkYXRhKSkpJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgRmlsZVJlYWRlcj9uZXcgZXh0ZXJuYWwuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7dmFyIHJlYWRlcj1uZXcgRmlsZVJlYWRlcjtyZWFkZXIub25sb2FkPWZ1bmN0aW9uKGUpe3Jlc29sdmUoZS50YXJnZXQucmVzdWx0KX0scmVhZGVyLm9uZXJyb3I9ZnVuY3Rpb24oZSl7cmVqZWN0KGUudGFyZ2V0LmVycm9yKX0scmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGRhdGEpfSk6ZGF0YX0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7dmFyIGRhdGFUeXBlPWV4cG9ydHMuZ2V0VHlwZU9mKGRhdGEpO3JldHVybiBkYXRhVHlwZT8oXCJhcnJheWJ1ZmZlclwiPT09ZGF0YVR5cGU/ZGF0YT1leHBvcnRzLnRyYW5zZm9ybVRvKFwidWludDhhcnJheVwiLGRhdGEpOlwic3RyaW5nXCI9PT1kYXRhVHlwZSYmKGlzQmFzZTY0P2RhdGE9YmFzZTY0LmRlY29kZShkYXRhKTppc0JpbmFyeSYmITAhPT1pc09wdGltaXplZEJpbmFyeVN0cmluZyYmKGRhdGE9ZnVuY3Rpb24oc3RyKXtyZXR1cm4gc3RyaW5nVG9BcnJheUxpa2Uoc3RyLHN1cHBvcnQudWludDhhcnJheT9uZXcgVWludDhBcnJheShzdHIubGVuZ3RoKTpuZXcgQXJyYXkoc3RyLmxlbmd0aCkpfShkYXRhKSkpLGRhdGEpOmV4dGVybmFsLlByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkNhbid0IHJlYWQgdGhlIGRhdGEgb2YgJ1wiK25hbWUrXCInLiBJcyBpdCBpbiBhIHN1cHBvcnRlZCBKYXZhU2NyaXB0IHR5cGUgKFN0cmluZywgQmxvYiwgQXJyYXlCdWZmZXIsIGV0YykgP1wiKSl9KX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfREVGQVVMVF9DT05GSUc9ZXhwb3J0cy5TVUJTQ1JJUFRJT05fV0lER0VUX1VTRV9DQVNFX1RPUElDX0JBU0VEPWV4cG9ydHMuU1VCU0NSSVBUSU9OX1dJREdFVF9VU0VfQ0FTRV9ERUZBVUxUPWV4cG9ydHMuU1VCU0NSSVBUSU9OX1dJREdFVF9VU0VfQ0FTRV9OT1RfU0VUPWV4cG9ydHMuU1VCU0NSSVBUSU9OX1NFR01FTlRfRVZFTlQ9ZXhwb3J0cy5QQUdFX1ZJU0lURURfVVJMPWV4cG9ydHMuTUFOVUFMX1VOU1VCU0NSSUJFPWV4cG9ydHMuRVZFTlRfUFdfU0lURV9PUEVORUQ9ZXhwb3J0cy5FVkVOVF9HRFBSX0RFTEVURT1leHBvcnRzLkVWRU5UX0dEUFJfQ09OU0VOVD1leHBvcnRzLkVWRU5UX0NMSUNLX1NVQlNDUklCRV9CVVRUT049ZXhwb3J0cy5FVkVOVF9TSE9XX1NVQlNDUklCRV9CVVRUT049ZXhwb3J0cy5FVkVOVF9PTl9ISURFX1NVQlNDUklQVElPTl9XSURHRVQ9ZXhwb3J0cy5FVkVOVF9PTl9TSE9XX1NVQlNDUklQVElPTl9XSURHRVQ9ZXhwb3J0cy5FVkVOVF9PTl9ISURFX05PVElGSUNBVElPTl9QRVJNSVNTSU9OX0RJQUxPRz1leHBvcnRzLkVWRU5UX09OX1NIT1dfTk9USUZJQ0FUSU9OX1BFUk1JU1NJT05fRElBTE9HPWV4cG9ydHMuRVZFTlRfT05fVVBEQVRFX0lOQk9YX01FU1NBR0VTPWV4cG9ydHMuRVZFTlRfT05fUFVUX05FV19NRVNTQUdFX1RPX0lOQk9YX1NUT1JFPWV4cG9ydHMuRVZFTlRfT05fQ0hBTkdFX0NPTU1VTklDQVRJT05fRU5BQkxFRD1leHBvcnRzLkVWRU5UX09OX05PVElGSUNBVElPTl9DTE9TRT1leHBvcnRzLkVWRU5UX09OX05PVElGSUNBVElPTl9DTElDSz1leHBvcnRzLkVWRU5UX09OX1BVU0hfREVMSVZFUlk9ZXhwb3J0cy5FVkVOVF9PTl9TV19JTklUX0VSUk9SPWV4cG9ydHMuRVZFTlRfT05fUEVSTUlTU0lPTl9HUkFOVEVEPWV4cG9ydHMuRVZFTlRfT05fUEVSTUlTU0lPTl9ERU5JRUQ9ZXhwb3J0cy5FVkVOVF9PTl9QRVJNSVNTSU9OX1BST01QVD1leHBvcnRzLkVWRU5UX09OX1JFR0lTVEVSPWV4cG9ydHMuRVZFTlRfT05fVU5TVUJTQ1JJQkU9ZXhwb3J0cy5FVkVOVF9PTl9TVUJTQ1JJQkU9ZXhwb3J0cy5FVkVOVF9PTl9SRUFEWT1leHBvcnRzLkVWRU5UX09OX0xPQUQ9ZXhwb3J0cy5QRVJNSVNTSU9OX1BST01QVD1leHBvcnRzLlBFUk1JU1NJT05fR1JBTlRFRD1leHBvcnRzLlBFUk1JU1NJT05fREVOSUVEPWV4cG9ydHMuREVWSUNFX1JFR0lTVFJBVElPTl9TVEFUVVNfVU5SRUdJU1RFUkVEPWV4cG9ydHMuREVWSUNFX1JFR0lTVFJBVElPTl9TVEFUVVNfUkVHSVNURVJFRD1leHBvcnRzLk1BTlVBTF9TRVRfTE9HR0VSX0xFVkVMPWV4cG9ydHMuS0VZX1NBRkFSSV9QUkVWSU9VU19QRVJNSVNTSU9OPWV4cG9ydHMuS0VZX0RFVklDRV9SRUdJU1RSQVRJT05fU1RBVFVTPWV4cG9ydHMuS0VZX0NMSUNLX1NVQlNDUklCRV9XSURHRVQ9ZXhwb3J0cy5LRVlfU0hPV19TVUJTQ1JJQkVfV0lER0VUPWV4cG9ydHMuREVGQVVMVF9OT1RJRklDQVRJT05fSU1BR0U9ZXhwb3J0cy5ERUZBVUxUX05PVElGSUNBVElPTl9USVRMRT1leHBvcnRzLldBS0VfVVBfU0VSVklDRV9XT1JLRVJfSU5URVJWQUw9ZXhwb3J0cy5NQVhfTk9USUZJQ0FUSU9OX0RVUkFUSU9OPWV4cG9ydHMuTUlOX05PVElGSUNBVElPTl9EVVJBVElPTj1leHBvcnRzLkRFRkFVTFRfTk9USUZJQ0FUSU9OX0RVUkFUSU9OPWV4cG9ydHMuUEVSSU9EX0dPQUxfRVZFTlQ9ZXhwb3J0cy5QRVJJT0RfU0VORF9BUFBfT1BFTj1leHBvcnRzLkZBQ0VCT09LX0hXSURfS0VZPWV4cG9ydHMuRkFDRUJPT0tfQVBQX0lEPWV4cG9ydHMuREVGQVVMVF9BUElfVVJMPWV4cG9ydHMuREVGQVVMVF9TRVJWSUNFX1dPUktFUl9VUkw9dm9pZCAwLGV4cG9ydHMuREVGQVVMVF9TRVJWSUNFX1dPUktFUl9VUkw9XCIvcHVzaHdvb3NoLXNlcnZpY2Utd29ya2VyLmpzXCIsZXhwb3J0cy5ERUZBVUxUX0FQSV9VUkw9XCJodHRwczovL2NwLnB1c2h3b29zaC5jb20vanNvbi8xLjMvXCIsZXhwb3J0cy5GQUNFQk9PS19BUFBfSUQ9XCI0MzY3MTE3NjcwODE3OTdcIixleHBvcnRzLkZBQ0VCT09LX0hXSURfS0VZPVwiRkFDRUJPT0tfSFdJRF9LRVlcIixleHBvcnRzLlBFUklPRF9TRU5EX0FQUF9PUEVOPTM2ZTUsZXhwb3J0cy5QRVJJT0RfR09BTF9FVkVOVD04NjRlNSxleHBvcnRzLkRFRkFVTFRfTk9USUZJQ0FUSU9OX0RVUkFUSU9OPTEwLGV4cG9ydHMuTUlOX05PVElGSUNBVElPTl9EVVJBVElPTj0xMCxleHBvcnRzLk1BWF9OT1RJRklDQVRJT05fRFVSQVRJT049NTUsZXhwb3J0cy5XQUtFX1VQX1NFUlZJQ0VfV09SS0VSX0lOVEVSVkFMPTIwLGV4cG9ydHMuREVGQVVMVF9OT1RJRklDQVRJT05fVElUTEU9XCJQdXNod29vc2ggbm90aWZpY2F0aW9uXCIsZXhwb3J0cy5ERUZBVUxUX05PVElGSUNBVElPTl9JTUFHRT1cImh0dHBzOi8vY3AucHVzaHdvb3NoLmNvbS9pbWcvbG9nby1tZWRpdW0ucG5nXCIsZXhwb3J0cy5LRVlfU0hPV19TVUJTQ1JJQkVfV0lER0VUPVwiV0lER0VUX1NIT1dFRFwiLGV4cG9ydHMuS0VZX0NMSUNLX1NVQlNDUklCRV9XSURHRVQ9XCJXSURHRVRfQ0xJQ0tFRFwiLGV4cG9ydHMuS0VZX0RFVklDRV9SRUdJU1RSQVRJT05fU1RBVFVTPVwiZGV2aWNlUmVnaXN0cmF0aW9uU3RhdHVzXCIsZXhwb3J0cy5LRVlfU0FGQVJJX1BSRVZJT1VTX1BFUk1JU1NJT049XCJzYWZhcmlQcmV2aW91c1Blcm1pc3Npb25cIixleHBvcnRzLk1BTlVBTF9TRVRfTE9HR0VSX0xFVkVMPVwiUFdfU0VUX0xPR0dFUl9MRVZFTFwiLGV4cG9ydHMuREVWSUNFX1JFR0lTVFJBVElPTl9TVEFUVVNfUkVHSVNURVJFRD1cInJlZ2lzdGVyZWRcIixleHBvcnRzLkRFVklDRV9SRUdJU1RSQVRJT05fU1RBVFVTX1VOUkVHSVNURVJFRD1cInVucmVnaXN0ZXJlZFwiLGV4cG9ydHMuUEVSTUlTU0lPTl9ERU5JRUQ9XCJkZW5pZWRcIixleHBvcnRzLlBFUk1JU1NJT05fR1JBTlRFRD1cImdyYW50ZWRcIixleHBvcnRzLlBFUk1JU1NJT05fUFJPTVBUPVwiZGVmYXVsdFwiLGV4cG9ydHMuRVZFTlRfT05fTE9BRD1cIm9uTG9hZFwiLGV4cG9ydHMuRVZFTlRfT05fUkVBRFk9XCJvblJlYWR5XCIsZXhwb3J0cy5FVkVOVF9PTl9TVUJTQ1JJQkU9XCJvblN1YnNjcmliZVwiLGV4cG9ydHMuRVZFTlRfT05fVU5TVUJTQ1JJQkU9XCJvblVuc3Vic2NyaWJlXCIsZXhwb3J0cy5FVkVOVF9PTl9SRUdJU1RFUj1cIm9uUmVnaXN0ZXJcIixleHBvcnRzLkVWRU5UX09OX1BFUk1JU1NJT05fUFJPTVBUPVwib25QZXJtaXNzaW9uUHJvbXB0XCIsZXhwb3J0cy5FVkVOVF9PTl9QRVJNSVNTSU9OX0RFTklFRD1cIm9uUGVybWlzc2lvbkRlbmllZFwiLGV4cG9ydHMuRVZFTlRfT05fUEVSTUlTU0lPTl9HUkFOVEVEPVwib25QZXJtaXNzaW9uR3JhbnRlZFwiLGV4cG9ydHMuRVZFTlRfT05fU1dfSU5JVF9FUlJPUj1cIm9uU1dJbml0RXJyb3JcIixleHBvcnRzLkVWRU5UX09OX1BVU0hfREVMSVZFUlk9XCJvblB1c2hEZWxpdmVyeVwiLGV4cG9ydHMuRVZFTlRfT05fTk9USUZJQ0FUSU9OX0NMSUNLPVwib25Ob3RpZmljYXRpb25DbGlja1wiLGV4cG9ydHMuRVZFTlRfT05fTk9USUZJQ0FUSU9OX0NMT1NFPVwib25Ob3RpZmljYXRpb25DbG9zZVwiLGV4cG9ydHMuRVZFTlRfT05fQ0hBTkdFX0NPTU1VTklDQVRJT05fRU5BQkxFRD1cIm9uQ2hhbmdlQ29tbXVuaWNhdGlvbkVuYWJsZWRcIixleHBvcnRzLkVWRU5UX09OX1BVVF9ORVdfTUVTU0FHRV9UT19JTkJPWF9TVE9SRT1cIm9uUHV0TmV3TWVzc2FnZVRvSW5ib3hTdG9yZVwiLGV4cG9ydHMuRVZFTlRfT05fVVBEQVRFX0lOQk9YX01FU1NBR0VTPVwib25VcGRhdGVJbmJveE1lc3NhZ2VzXCIsZXhwb3J0cy5FVkVOVF9PTl9TSE9XX05PVElGSUNBVElPTl9QRVJNSVNTSU9OX0RJQUxPRz1cIm9uU2hvd05vdGlmaWNhdGlvblBlcm1pc3Npb25EaWFsb2dcIixleHBvcnRzLkVWRU5UX09OX0hJREVfTk9USUZJQ0FUSU9OX1BFUk1JU1NJT05fRElBTE9HPVwib25IaWRlTm90aWZpY2F0aW9uUGVybWlzc2lvbkRpYWxvZ1wiLGV4cG9ydHMuRVZFTlRfT05fU0hPV19TVUJTQ1JJUFRJT05fV0lER0VUPVwib25TaG93U3Vic2NyaXB0aW9uV2lkZ2V0XCIsZXhwb3J0cy5FVkVOVF9PTl9ISURFX1NVQlNDUklQVElPTl9XSURHRVQ9XCJvbkhpZGVTdWJzY3JpcHRpb25XaWRnZXRcIixleHBvcnRzLkVWRU5UX1NIT1dfU1VCU0NSSUJFX0JVVFRPTj1cInNob3dTdWJzY3JpYmVCdXR0b25cIixleHBvcnRzLkVWRU5UX0NMSUNLX1NVQlNDUklCRV9CVVRUT049XCJjbGlja1N1YnNjcmliZUJ1dHRvblwiLGV4cG9ydHMuRVZFTlRfR0RQUl9DT05TRU5UPVwiR0RQUkNvbnNlbnRcIixleHBvcnRzLkVWRU5UX0dEUFJfREVMRVRFPVwiR0RQUkRlbGV0ZVwiLGV4cG9ydHMuRVZFTlRfUFdfU0lURV9PUEVORUQ9XCJQV19TaXRlT3BlbmVkXCIsZXhwb3J0cy5NQU5VQUxfVU5TVUJTQ1JJQkU9XCJNQU5VQUxfVU5TVUJTQ1JJQkVcIixleHBvcnRzLlBBR0VfVklTSVRFRF9VUkw9XCJQQUdFX1ZJU0lURURfVVJMXCIsZXhwb3J0cy5TVUJTQ1JJUFRJT05fU0VHTUVOVF9FVkVOVD1cIlN1YnNjcmlwdGlvbiBTZWdtZW50c1wiLGV4cG9ydHMuU1VCU0NSSVBUSU9OX1dJREdFVF9VU0VfQ0FTRV9OT1RfU0VUPVwibm90LXNldFwiLGV4cG9ydHMuU1VCU0NSSVBUSU9OX1dJREdFVF9VU0VfQ0FTRV9ERUZBVUxUPVwiZGVmYXVsdFwiLGV4cG9ydHMuU1VCU0NSSVBUSU9OX1dJREdFVF9VU0VfQ0FTRV9UT1BJQ19CQVNFRD1cInRvcGljLWJhc2VkXCIsZXhwb3J0cy5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9ERUZBVUxUX0NPTkZJRz17aGVhZGVyVGV4dDpcIlN1YnNjcmliZSB0byBvdXIgbmV3c1wiLGhlYWRlclRleHRDb2xvcjpcIiMwMDAwMDBcIixzdWJoZWFkZXJUZXh0OlwiRG9uJ3QgbWlzcyBvdXQgb24gdGhlIGxhdGVzdCBuZXdzIGFuZCB1cGRhdGVzIVwiLHN1YmhlYWRlclRleHRDb2xvcjpcIiMwMDAwMDBcIixidXR0b25BY2NlcHRUZXh0OlwiQWdyZWVcIixidXR0b25BY2NlcHRUZXh0Q29sb3I6XCIjMUE3MkU4XCIsYnV0dG9uQWNjZXB0Um91bmQ6XCI0cHhcIixidXR0b25BY2NlcHRCYWNrZ3JvdW5kQ29sb3I6XCIjRkZGRkZGXCIsYnV0dG9uQWNjZXB0Qm9yZGVyQ29sb3I6XCIjRTNFNEU4XCIsYnV0dG9uQ2FuY2VsVGV4dDpcIkRlbnlcIixidXR0b25DYW5jZWxUZXh0Q29sb3I6XCIjMUE3MkU4XCIsYnV0dG9uQ2FuY2VsUm91bmQ6XCI0cHhcIixidXR0b25DYW5jZWxCYWNrZ3JvdW5kQ29sb3I6XCIjRkZGRkZGXCIsYnV0dG9uQ2FuY2VsQm9yZGVyQ29sb3I6XCIjRTNFNEU4XCIsY2FwcGluZ0NvdW50OjMsY2FwcGluZ0RlbGF5OjE0NGU1LGJhY2tncm91bmRDb2xvcjpcIiNGRkZGRkZcIn19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIEdlbmVyaWNXb3JrZXIobmFtZSl7dGhpcy5uYW1lPW5hbWV8fFwiZGVmYXVsdFwiLHRoaXMuc3RyZWFtSW5mbz17fSx0aGlzLmdlbmVyYXRlZEVycm9yPW51bGwsdGhpcy5leHRyYVN0cmVhbUluZm89e30sdGhpcy5pc1BhdXNlZD0hMCx0aGlzLmlzRmluaXNoZWQ9ITEsdGhpcy5pc0xvY2tlZD0hMSx0aGlzLl9saXN0ZW5lcnM9e2RhdGE6W10sZW5kOltdLGVycm9yOltdfSx0aGlzLnByZXZpb3VzPW51bGx9R2VuZXJpY1dvcmtlci5wcm90b3R5cGU9e3B1c2g6ZnVuY3Rpb24oY2h1bmspe3RoaXMuZW1pdChcImRhdGFcIixjaHVuayl9LGVuZDpmdW5jdGlvbigpe2lmKHRoaXMuaXNGaW5pc2hlZClyZXR1cm4hMTt0aGlzLmZsdXNoKCk7dHJ5e3RoaXMuZW1pdChcImVuZFwiKSx0aGlzLmNsZWFuVXAoKSx0aGlzLmlzRmluaXNoZWQ9ITB9Y2F0Y2goZSl7dGhpcy5lbWl0KFwiZXJyb3JcIixlKX1yZXR1cm4hMH0sZXJyb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIXRoaXMuaXNGaW5pc2hlZCYmKHRoaXMuaXNQYXVzZWQ/dGhpcy5nZW5lcmF0ZWRFcnJvcj1lOih0aGlzLmlzRmluaXNoZWQ9ITAsdGhpcy5lbWl0KFwiZXJyb3JcIixlKSx0aGlzLnByZXZpb3VzJiZ0aGlzLnByZXZpb3VzLmVycm9yKGUpLHRoaXMuY2xlYW5VcCgpKSwhMCl9LG9uOmZ1bmN0aW9uKG5hbWUsbGlzdGVuZXIpe3JldHVybiB0aGlzLl9saXN0ZW5lcnNbbmFtZV0ucHVzaChsaXN0ZW5lciksdGhpc30sY2xlYW5VcDpmdW5jdGlvbigpe3RoaXMuc3RyZWFtSW5mbz10aGlzLmdlbmVyYXRlZEVycm9yPXRoaXMuZXh0cmFTdHJlYW1JbmZvPW51bGwsdGhpcy5fbGlzdGVuZXJzPVtdfSxlbWl0OmZ1bmN0aW9uKG5hbWUsYXJnKXtpZih0aGlzLl9saXN0ZW5lcnNbbmFtZV0pZm9yKHZhciBpPTA7aTx0aGlzLl9saXN0ZW5lcnNbbmFtZV0ubGVuZ3RoO2krKyl0aGlzLl9saXN0ZW5lcnNbbmFtZV1baV0uY2FsbCh0aGlzLGFyZyl9LHBpcGU6ZnVuY3Rpb24obmV4dCl7cmV0dXJuIG5leHQucmVnaXN0ZXJQcmV2aW91cyh0aGlzKX0scmVnaXN0ZXJQcmV2aW91czpmdW5jdGlvbihwcmV2aW91cyl7aWYodGhpcy5pc0xvY2tlZCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3RyZWFtICdcIit0aGlzK1wiJyBoYXMgYWxyZWFkeSBiZWVuIHVzZWQuXCIpO3RoaXMuc3RyZWFtSW5mbz1wcmV2aW91cy5zdHJlYW1JbmZvLHRoaXMubWVyZ2VTdHJlYW1JbmZvKCksdGhpcy5wcmV2aW91cz1wcmV2aW91czt2YXIgc2VsZj10aGlzO3JldHVybiBwcmV2aW91cy5vbihcImRhdGFcIixmdW5jdGlvbihjaHVuayl7c2VsZi5wcm9jZXNzQ2h1bmsoY2h1bmspfSkscHJldmlvdXMub24oXCJlbmRcIixmdW5jdGlvbigpe3NlbGYuZW5kKCl9KSxwcmV2aW91cy5vbihcImVycm9yXCIsZnVuY3Rpb24oZSl7c2VsZi5lcnJvcihlKX0pLHRoaXN9LHBhdXNlOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuaXNQYXVzZWQmJiF0aGlzLmlzRmluaXNoZWQmJih0aGlzLmlzUGF1c2VkPSEwLHRoaXMucHJldmlvdXMmJnRoaXMucHJldmlvdXMucGF1c2UoKSwhMCl9LHJlc3VtZTpmdW5jdGlvbigpe2lmKCF0aGlzLmlzUGF1c2VkfHx0aGlzLmlzRmluaXNoZWQpcmV0dXJuITE7dGhpcy5pc1BhdXNlZD0hMTt2YXIgd2l0aEVycm9yPSExO3JldHVybiB0aGlzLmdlbmVyYXRlZEVycm9yJiYodGhpcy5lcnJvcih0aGlzLmdlbmVyYXRlZEVycm9yKSx3aXRoRXJyb3I9ITApLHRoaXMucHJldmlvdXMmJnRoaXMucHJldmlvdXMucmVzdW1lKCksIXdpdGhFcnJvcn0sZmx1c2g6ZnVuY3Rpb24oKXt9LHByb2Nlc3NDaHVuazpmdW5jdGlvbihjaHVuayl7dGhpcy5wdXNoKGNodW5rKX0sd2l0aFN0cmVhbUluZm86ZnVuY3Rpb24oa2V5LHZhbHVlKXtyZXR1cm4gdGhpcy5leHRyYVN0cmVhbUluZm9ba2V5XT12YWx1ZSx0aGlzLm1lcmdlU3RyZWFtSW5mbygpLHRoaXN9LG1lcmdlU3RyZWFtSW5mbzpmdW5jdGlvbigpe2Zvcih2YXIga2V5IGluIHRoaXMuZXh0cmFTdHJlYW1JbmZvKXRoaXMuZXh0cmFTdHJlYW1JbmZvLmhhc093blByb3BlcnR5KGtleSkmJih0aGlzLnN0cmVhbUluZm9ba2V5XT10aGlzLmV4dHJhU3RyZWFtSW5mb1trZXldKX0sbG9jazpmdW5jdGlvbigpe2lmKHRoaXMuaXNMb2NrZWQpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0cmVhbSAnXCIrdGhpcytcIicgaGFzIGFscmVhZHkgYmVlbiB1c2VkLlwiKTt0aGlzLmlzTG9ja2VkPSEwLHRoaXMucHJldmlvdXMmJnRoaXMucHJldmlvdXMubG9jaygpfSx0b1N0cmluZzpmdW5jdGlvbigpe3ZhciBtZT1cIldvcmtlciBcIit0aGlzLm5hbWU7cmV0dXJuIHRoaXMucHJldmlvdXM/dGhpcy5wcmV2aW91cytcIiAtPiBcIittZTptZX19LG1vZHVsZS5leHBvcnRzPUdlbmVyaWNXb3JrZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX3NwcmVhZEFycmF5cz10aGlzJiZ0aGlzLl9fc3ByZWFkQXJyYXlzfHxmdW5jdGlvbigpe2Zvcih2YXIgcz0wLGk9MCxpbD1hcmd1bWVudHMubGVuZ3RoO2k8aWw7aSsrKXMrPWFyZ3VtZW50c1tpXS5sZW5ndGg7dmFyIHI9QXJyYXkocyksaz0wO2ZvcihpPTA7aTxpbDtpKyspZm9yKHZhciBhPWFyZ3VtZW50c1tpXSxqPTAsamw9YS5sZW5ndGg7ajxqbDtqKyssaysrKXJba109YVtqXTtyZXR1cm4gcn07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5Mb2dnZXI9ZXhwb3J0cy5sb2dBbmRSZWplY3RFcnJvcj1leHBvcnRzLmxvZ0FuZFRocm93RXJyb3I9dm9pZCAwO3ZhciBzdG9yYWdlXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg1KSxsZXZlbHM9e2Vycm9yOjEsaW5mbzoyLGRlYnVnOjN9LGxpbWl0TGV2ZWw9MztfX3dlYnBhY2tfcmVxdWlyZV9fKDEwKS5wYXRjaENvbnNvbGUoKTt2YXIgTG9nZ2VyPXtzZXRMZXZlbDpmdW5jdGlvbihsZXZlbCl7bGV2ZWxzW2xldmVsXXx8KGxldmVsPVwiZXJyb3JcIiksbGltaXRMZXZlbD1sZXZlbHNbbGV2ZWxdfSx3cml0ZTpmdW5jdGlvbih0eXBlLG1lc3NhZ2UsYWRkaXRpb25hbCl7cmV0dXJuXCJlcnJvclwiPT09dHlwZT90aGlzLmVycm9yKG1lc3NhZ2UpOnRoaXMuaW5mbyhtZXNzYWdlKSxzdG9yYWdlXzEubG9nLmFkZCh0eXBlLG1lc3NhZ2UsYWRkaXRpb25hbCl9fTtleHBvcnRzLkxvZ2dlcj1Mb2dnZXIsT2JqZWN0LmtleXMobGV2ZWxzKS5mb3JFYWNoKGZ1bmN0aW9uKGxldmVsTmFtZSl7dmFyIGxldmVsTnVtYmVyPWxldmVsc1tsZXZlbE5hbWVdO0xvZ2dlcltsZXZlbE5hbWVdPWZ1bmN0aW9uKCl7Zm9yKHZhciBhcmdzPVtdLF9pPTA7X2k8YXJndW1lbnRzLmxlbmd0aDtfaSsrKWFyZ3NbX2ldPWFyZ3VtZW50c1tfaV07bGV2ZWxOdW1iZXI8PWxpbWl0TGV2ZWwmJihjb25zb2xlLmdyb3VwQ29sbGFwc2VkKGxldmVsTmFtZSksY29uc29sZS5pbmZvLmFwcGx5KGNvbnNvbGUsX19zcHJlYWRBcnJheXMoW1wiXCJdLGFyZ3MpKSxjb25zb2xlLnRyYWNlKFwidHJhY2VcIiksY29uc29sZS5ncm91cEVuZCgpKX19KSxleHBvcnRzLmxvZ0FuZFRocm93RXJyb3I9ZnVuY3Rpb24oZXJyb3Ipe3ZhciBsb2dUZXh0PW5ldyBFcnJvcihlcnJvcik7dGhyb3cgTG9nZ2VyLndyaXRlKFwiZXJyb3JcIixsb2dUZXh0LFwibG9nQW5kVGhyb3dFcnJvclwiKSxsb2dUZXh0fSxleHBvcnRzLmxvZ0FuZFJlamVjdEVycm9yPWZ1bmN0aW9uKGVycm9yLHJlamVjdCl7dmFyIGxvZ1RleHQ9bmV3IEVycm9yKGVycm9yKTtMb2dnZXIud3JpdGUoXCJlcnJvclwiLGxvZ1RleHQsXCJsb2dBbmRSZWplY3RFcnJvclwiKSxyZWplY3QobG9nVGV4dCl9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX19hc3NpZ249dGhpcyYmdGhpcy5fX2Fzc2lnbnx8ZnVuY3Rpb24oKXtyZXR1cm4oX19hc3NpZ249T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBzLGk9MSxuPWFyZ3VtZW50cy5sZW5ndGg7aTxuO2krKylmb3IodmFyIHAgaW4gcz1hcmd1bWVudHNbaV0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMscCkmJih0W3BdPXNbcF0pO3JldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxfX2F3YWl0ZXI9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKHRoaXNBcmcsX2FyZ3VtZW50cyxQLGdlbmVyYXRvcil7cmV0dXJuIG5ldyhQfHwoUD1Qcm9taXNlKSkoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2Z1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IudGhyb3codmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHN0ZXAocmVzdWx0KXtyZXN1bHQuZG9uZT9yZXNvbHZlKHJlc3VsdC52YWx1ZSk6ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFA/dmFsdWU6bmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSl7cmVzb2x2ZSh2YWx1ZSl9KX0ocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCxyZWplY3RlZCl9c3RlcCgoZ2VuZXJhdG9yPWdlbmVyYXRvci5hcHBseSh0aGlzQXJnLF9hcmd1bWVudHN8fFtdKSkubmV4dCgpKX0pfSxfX2dlbmVyYXRvcj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbih0aGlzQXJnLGJvZHkpe3ZhciBmLHksdCxnLF89e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmdFswXSl0aHJvdyB0WzFdO3JldHVybiB0WzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGc9e25leHQ6dmVyYigwKSx0aHJvdzp2ZXJiKDEpLHJldHVybjp2ZXJiKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihnW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGc7ZnVuY3Rpb24gdmVyYihuKXtyZXR1cm4gZnVuY3Rpb24odil7cmV0dXJuIGZ1bmN0aW9uKG9wKXtpZihmKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7XzspdHJ5e2lmKGY9MSx5JiYodD0yJm9wWzBdP3kucmV0dXJuOm9wWzBdP3kudGhyb3d8fCgodD15LnJldHVybikmJnQuY2FsbCh5KSwwKTp5Lm5leHQpJiYhKHQ9dC5jYWxsKHksb3BbMV0pKS5kb25lKXJldHVybiB0O3N3aXRjaCh5PTAsdCYmKG9wPVsyJm9wWzBdLHQudmFsdWVdKSxvcFswXSl7Y2FzZSAwOmNhc2UgMTp0PW9wO2JyZWFrO2Nhc2UgNDpyZXR1cm4gXy5sYWJlbCsrLHt2YWx1ZTpvcFsxXSxkb25lOiExfTtjYXNlIDU6Xy5sYWJlbCsrLHk9b3BbMV0sb3A9WzBdO2NvbnRpbnVlO2Nhc2UgNzpvcD1fLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKHQ9KHQ9Xy50cnlzKS5sZW5ndGg+MCYmdFt0Lmxlbmd0aC0xXSkmJig2PT09b3BbMF18fDI9PT1vcFswXSkpe189MDtjb250aW51ZX1pZigzPT09b3BbMF0mJighdHx8b3BbMV0+dFswXSYmb3BbMV08dFszXSkpe18ubGFiZWw9b3BbMV07YnJlYWt9aWYoNj09PW9wWzBdJiZfLmxhYmVsPHRbMV0pe18ubGFiZWw9dFsxXSx0PW9wO2JyZWFrfWlmKHQmJl8ubGFiZWw8dFsyXSl7Xy5sYWJlbD10WzJdLF8ub3BzLnB1c2gob3ApO2JyZWFrfXRbMl0mJl8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZX1vcD1ib2R5LmNhbGwodGhpc0FyZyxfKX1jYXRjaChlKXtvcD1bNixlXSx5PTB9ZmluYWxseXtmPXQ9MH1pZig1Jm9wWzBdKXRocm93IG9wWzFdO3JldHVybnt2YWx1ZTpvcFswXT9vcFsxXTp2b2lkIDAsZG9uZTohMH19KFtuLHZdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLkRhdGE9dm9pZCAwO3ZhciBzdG9yYWdlXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg1KSxDT05TVEFOVFM9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxEYXRhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gRGF0YShzdG9yZSl7dm9pZCAwPT09c3RvcmUmJihzdG9yZT1zdG9yYWdlXzEua2V5VmFsdWUpLHRoaXMuc3RvcmU9c3RvcmV9cmV0dXJuIERhdGEucHJvdG90eXBlLmNsZWFyQWxsPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuYXBwbGljYXRpb25Db2RlXCIsdm9pZCAwKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuaHdpZFwiLHZvaWQgMCldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmRldmljZVR5cGVcIix2b2lkIDApXTtjYXNlIDM6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5kZXZpY2VNb2RlbFwiLHZvaWQgMCldO2Nhc2UgNDpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmxhbmd1YWdlXCIsdm9pZCAwKV07Y2FzZSA1OnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuYXBpRW50cnlwb2ludFwiLHZvaWQgMCldO2Nhc2UgNjpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLnRva2Vuc1wiLHZvaWQgMCldO2Nhc2UgNzpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmFwcGxpY2F0aW9uU2VydmVyS2V5XCIsdm9pZCAwKV07Y2FzZSA4OnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuc2VuZGVySWRcIix2b2lkIDApXTtjYXNlIDk6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy53ZWJTaXRlUHVzaElkXCIsdm9pZCAwKV07Y2FzZSAxMDpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmRlZmF1bHROb3RpZmljYXRpb25JbWFnZVwiLHZvaWQgMCldO2Nhc2UgMTE6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5kZWZhdWx0Tm90aWZpY2F0aW9uVGl0bGVcIix2b2lkIDApXTtjYXNlIDEyOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMudXNlcklkXCIsdm9pZCAwKV07Y2FzZSAxMzpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLnVzZXJJZFdhc0NoYW5nZWRcIix2b2lkIDApXTtjYXNlIDE0OnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuaXNMYXN0UGVybWlzc2lvblN0YXR1c1wiLHZvaWQgMCldO2Nhc2UgMTU6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5pc01hbnVhbFVuc3Vic2NyaWJlZFwiLHZvaWQgMCldO2Nhc2UgMTY6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5pc0NvbW11bmljYXRpb25EaXNhYmxlZFwiLHZvaWQgMCldO2Nhc2UgMTc6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5pc0Ryb3BBbGxEYXRhXCIsdm9pZCAwKV07Y2FzZSAxODpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLnNka1ZlcnNpb25cIix2b2lkIDApXTtjYXNlIDE5OnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuc2VydmljZVdvcmtlclZlcnNpb25cIix2b2lkIDApXTtjYXNlIDIwOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuc2VydmljZVdvcmtlclVybFwiLHZvaWQgMCldO2Nhc2UgMjE6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5zZXJ2aWNlV29ya2VyU2NvcGVcIix2b2lkIDApXTtjYXNlIDIyOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMubGFzdE9wZW5NZXNzYWdlXCIsdm9pZCAwKV07Y2FzZSAyMzpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmxhc3RPcGVuQXBwbGljYXRpb25UaW1lXCIsdm9pZCAwKV07Y2FzZSAyNDpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmZlYXR1cmVzXCIsdm9pZCAwKV07Y2FzZSAyNTpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmluaXRcIix2b2lkIDApXTtjYXNlIDI2OnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJBUElfUEFSQU1TXCIsdm9pZCAwKV07Y2FzZSAyNzpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwiU0VOREVSX0lEXCIsdm9pZCAwKV07Y2FzZSAyODpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwiQ09NTVVOSUNBVElPTl9FTkFCTEVEXCIsdm9pZCAwKV07Y2FzZSAyOTpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwiREVWSUNFX0RBVEFfUkVNT1ZFRFwiLHZvaWQgMCldO2Nhc2UgMzA6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcIkxBU1RfT1BFTl9NRVNTQUdFXCIsdm9pZCAwKV07Y2FzZSAzMTpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwiREVMQVlFRF9FVkVOVFwiLHZvaWQgMCldO2Nhc2UgMzI6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0QXBwbGljYXRpb25Db2RlPWZ1bmN0aW9uKGFwcGxpY2F0aW9uKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5hcHBsaWNhdGlvbkNvZGVcIixhcHBsaWNhdGlvbildO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRBcHBsaWNhdGlvbkNvZGU9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5hcHBsaWNhdGlvbkNvZGVcIildO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LERhdGEucHJvdG90eXBlLnNldEh3aWQ9ZnVuY3Rpb24oaHdpZCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuaHdpZFwiLGh3aWQpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0SHdpZD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLmh3aWRcIildO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LERhdGEucHJvdG90eXBlLnNldERldmljZVR5cGU9ZnVuY3Rpb24odHlwZSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuZGV2aWNlVHlwZVwiLHR5cGUpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0RGV2aWNlVHlwZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLmRldmljZVR5cGVcIildO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LERhdGEucHJvdG90eXBlLnNldERldmljZU1vZGVsPWZ1bmN0aW9uKG1vZGVsKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5kZXZpY2VNb2RlbFwiLG1vZGVsKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldERldmljZU1vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuZGV2aWNlTW9kZWxcIildO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LERhdGEucHJvdG90eXBlLnNldExhbmd1YWdlPWZ1bmN0aW9uKGxhbmd1YWdlKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5sYW5ndWFnZVwiLGxhbmd1YWdlKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldExhbmd1YWdlPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMubGFuZ3VhZ2VcIixcImVuXCIpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRBcGlFbnRyeXBvaW50PWZ1bmN0aW9uKHVybCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuYXBpRW50cnlwb2ludFwiLHVybCldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRBcGlFbnRyeXBvaW50PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuYXBpRW50cnlwb2ludFwiLENPTlNUQU5UUy5ERUZBVUxUX0FQSV9VUkwpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRUb2tlbnM9ZnVuY3Rpb24odG9rZW5zKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBod2lkO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldEh3aWQoKV07Y2FzZSAxOnJldHVybiBod2lkPV9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcIkFQSV9QQVJBTVNcIixfX2Fzc2lnbih7aHdpZDpod2lkfSx0b2tlbnMpKV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMudG9rZW5zXCIsdG9rZW5zKV07Y2FzZSAzOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldFRva2Vucz1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG9sZFZhbHVlLG5ld1ZhbHVlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcIkFQSV9QQVJBTVNcIildO2Nhc2UgMTpyZXR1cm4gb2xkVmFsdWU9X2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLnRva2Vuc1wiKV07Y2FzZSAyOnJldHVyblsyLHZvaWQgMCE9PShuZXdWYWx1ZT1fYS5zZW50KCkpP25ld1ZhbHVlOm9sZFZhbHVlXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRBcHBsaWNhdGlvblNlcnZlcktleT1mdW5jdGlvbihrZXkpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmFwcGxpY2F0aW9uU2VydmVyS2V5XCIsa2V5KV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldEFwcGxpY2F0aW9uU2VydmVyS2V5PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuYXBwbGljYXRpb25TZXJ2ZXJLZXlcIildO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LERhdGEucHJvdG90eXBlLnNldFNlbmRlcklkPWZ1bmN0aW9uKHNlbmRlcklkKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcIkdDTV9TRU5ERVJfSURcIixzZW5kZXJJZCldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLnNlbmRlcklkXCIsc2VuZGVySWQpXTtjYXNlIDI6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0U2VuZGVySWQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBvbGRWYWx1ZSxuZXdWYWx1ZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJHQ01fU0VOREVSX0lEXCIpXTtjYXNlIDE6cmV0dXJuIG9sZFZhbHVlPV9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5zZW5kZXJJZFwiKV07Y2FzZSAyOnJldHVyblsyLHZvaWQgMCE9PShuZXdWYWx1ZT1fYS5zZW50KCkpP25ld1ZhbHVlOm9sZFZhbHVlXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRXZWJTaXRlUHVzaElkPWZ1bmN0aW9uKHNlbmRlcklkKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy53ZWJTaXRlUHVzaElkXCIsc2VuZGVySWQpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0V2ViU2l0ZVB1c2hJZD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLndlYlNpdGVQdXNoSWRcIildO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LERhdGEucHJvdG90eXBlLnNldERlZmF1bHROb3RpZmljYXRpb25JbWFnZT1mdW5jdGlvbih1cmwpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmRlZmF1bHROb3RpZmljYXRpb25JbWFnZVwiLHVybCldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXREZWZhdWx0Tm90aWZpY2F0aW9uSW1hZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5kZWZhdWx0Tm90aWZpY2F0aW9uSW1hZ2VcIixDT05TVEFOVFMuREVGQVVMVF9OT1RJRklDQVRJT05fSU1BR0UpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXREZWZhdWx0Tm90aWZpY2F0aW9uVGl0bGU9ZnVuY3Rpb24odGV4dCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuZGVmYXVsdE5vdGlmaWNhdGlvblRpdGxlXCIsdGV4dCldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXREZWZhdWx0Tm90aWZpY2F0aW9uVGl0bGU9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5kZWZhdWx0Tm90aWZpY2F0aW9uVGl0bGVcIixDT05TVEFOVFMuREVGQVVMVF9OT1RJRklDQVRJT05fVElUTEUpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRVc2VySWQ9ZnVuY3Rpb24odXNlcklkKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdXNlcklkP1szLDJdOls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLnVzZXJJZFwiLHZvaWQgMCldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXTtjYXNlIDI6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMudXNlcklkXCIsdXNlcklkLnRvU3RyaW5nKCkpXTtjYXNlIDM6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0VXNlcklkPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMudXNlcklkXCIpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRTdGF0dXNVc2VySWRXYXNDaGFuZ2VkPWZ1bmN0aW9uKHN0YXR1cyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMudXNlcklkV2FzQ2hhbmdlZFwiLHN0YXR1cyldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRTdGF0dXNVc2VySWRXYXNDaGFuZ2VkPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMudXNlcklkV2FzQ2hhbmdlZFwiLCExKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0TGFzdFBlcm1pc3Npb25TdGF0dXM9ZnVuY3Rpb24oc3RhdHVzKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5pc0xhc3RQZXJtaXNzaW9uU3RhdHVzXCIsc3RhdHVzKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldExhc3RQZXJtaXNzaW9uU3RhdHVzPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuaXNMYXN0UGVybWlzc2lvblN0YXR1c1wiKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0U3RhdHVzTWFudWFsVW5zdWJzY3JpYmVkPWZ1bmN0aW9uKHN0YXR1cyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJNQU5VQUxfVU5TVUJTQ1JJQkVcIixzdGF0dXMpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5pc01hbnVhbFVuc3Vic2NyaWJlZFwiLHN0YXR1cyldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRTdGF0dXNNYW51YWxVbnN1YnNjcmliZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBvbGRWYWx1ZSxuZXdWYWx1ZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJNQU5VQUxfVU5TVUJTQ1JJQkVcIiwhMSldO2Nhc2UgMTpyZXR1cm4gb2xkVmFsdWU9X2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLmlzTWFudWFsVW5zdWJzY3JpYmVkXCIsITEpXTtjYXNlIDI6cmV0dXJuWzIsdm9pZCAwIT09KG5ld1ZhbHVlPV9hLnNlbnQoKSk/bmV3VmFsdWU6b2xkVmFsdWVdfX0pfSl9LERhdGEucHJvdG90eXBlLnNldFN0YXR1c0NvbW11bmljYXRpb25EaXNhYmxlZD1mdW5jdGlvbihzdGF0dXMpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwiQ09NTVVOSUNBVElPTl9FTkFCTEVEXCIsc3RhdHVzPzA6MSldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmlzQ29tbXVuaWNhdGlvbkRpc2FibGVkXCIsc3RhdHVzKV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldFN0YXR1c0NvbW11bmljYXRpb25EaXNhYmxlZD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG9sZFZhbHVlLG5ld1ZhbHVlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcIkNPTU1VTklDQVRJT05fRU5BQkxFRFwiKV07Y2FzZSAxOnJldHVybiBvbGRWYWx1ZT1fYS5zZW50KCksWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuaXNDb21tdW5pY2F0aW9uRGlzYWJsZWRcIiwhMSldO2Nhc2UgMjpyZXR1cm5bMix2b2lkIDAhPT0obmV3VmFsdWU9X2Euc2VudCgpKT9uZXdWYWx1ZTowPT1vbGRWYWx1ZV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0U3RhdHVzRHJvcEFsbERhdGE9ZnVuY3Rpb24oc3RhdHVzKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcIkRFVklDRV9EQVRBX1JFTU9WRURcIixzdGF0dXMpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5pc0Ryb3BBbGxEYXRhXCIsc3RhdHVzKV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldFN0YXR1c0Ryb3BBbGxEYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgb2xkVmFsdWUsbmV3VmFsdWU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwiREVWSUNFX0RBVEFfUkVNT1ZFRFwiLCExKV07Y2FzZSAxOnJldHVybiBvbGRWYWx1ZT1fYS5zZW50KCksWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuaXNEcm9wQWxsRGF0YVwiLCExKV07Y2FzZSAyOnJldHVyblsyLHZvaWQgMCE9PShuZXdWYWx1ZT1fYS5zZW50KCkpP25ld1ZhbHVlOm9sZFZhbHVlXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRTZGtWZXJzaW9uPWZ1bmN0aW9uKHZlcnNpb24pe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLnNka1ZlcnNpb25cIix2ZXJzaW9uKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldFNka1ZlcnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5zZGtWZXJzaW9uXCIpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRTZXJ2aWNlV29ya2VyVmVyc2lvbj1mdW5jdGlvbih2ZXJzaW9uKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcIldPUktFUl9WRVJTSU9OXCIsdmVyc2lvbildO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLnNlcnZpY2VXb3JrZXJWZXJzaW9uXCIsdmVyc2lvbildO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRTZXJ2aWNlV29ya2VyVmVyc2lvbj1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG9sZFZhbHVlLG5ld1ZhbHVlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcIldPUktFUl9WRVJTSU9OXCIpXTtjYXNlIDE6cmV0dXJuIG9sZFZhbHVlPV9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5zZXJ2aWNlV29ya2VyVmVyc2lvblwiKV07Y2FzZSAyOnJldHVyblsyLHZvaWQgMCE9PShuZXdWYWx1ZT1fYS5zZW50KCkpP25ld1ZhbHVlOm9sZFZhbHVlXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRTZXJ2aWNlV29ya2VyVXJsPWZ1bmN0aW9uKHVybCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHVybD9bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5zZXJ2aWNlV29ya2VyVXJsXCIsdXJsKV06WzJdO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRTZXJ2aWNlV29ya2VyVXJsPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuc2VydmljZVdvcmtlclVybFwiLENPTlNUQU5UUy5ERUZBVUxUX1NFUlZJQ0VfV09SS0VSX1VSTCldO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LERhdGEucHJvdG90eXBlLnNldFNlcnZpY2VXb3JrZXJTY29wZT1mdW5jdGlvbihzY29wZSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHNjb3BlP1s0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLnNlcnZpY2VXb3JrZXJTY29wZVwiLHNjb3BlKV06WzJdO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRTZXJ2aWNlV29ya2VyU2NvcGU9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5zZXJ2aWNlV29ya2VyU2NvcGVcIildO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LERhdGEucHJvdG90eXBlLnNldExhc3RPcGVuTWVzc2FnZT1mdW5jdGlvbihtZXNzYWdlKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcIkxBU1RfT1BFTl9NRVNTQUdFXCIsbWVzc2FnZSldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmxhc3RPcGVuTWVzc2FnZVwiLG1lc3NhZ2UpXTtjYXNlIDI6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0TGFzdE9wZW5NZXNzYWdlPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgb2xkVmFsdWUsbmV3VmFsdWU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwiTEFTVF9PUEVOX01FU1NBR0VcIildO2Nhc2UgMTpyZXR1cm4gb2xkVmFsdWU9X2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLmxhc3RPcGVuTWVzc2FnZVwiKV07Y2FzZSAyOnJldHVyblsyLHZvaWQgMCE9PShuZXdWYWx1ZT1fYS5zZW50KCkpP25ld1ZhbHVlOm9sZFZhbHVlXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRMYXN0T3BlbkFwcGxpY2F0aW9uVGltZT1mdW5jdGlvbih0aW1lKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5sYXN0T3BlbkFwcGxpY2F0aW9uVGltZVwiLHRpbWUpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0TGFzdE9wZW5BcHBsaWNhdGlvblRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5sYXN0T3BlbkFwcGxpY2F0aW9uVGltZVwiKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0RmVhdHVyZXM9ZnVuY3Rpb24oZmVhdHVyZXMpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmZlYXR1cmVzXCIsZmVhdHVyZXMpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0RmVhdHVyZXM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5mZWF0dXJlc1wiKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0SW5pdFBhcmFtcz1mdW5jdGlvbihwYXJhbXMpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmluaXRcIixwYXJhbXMpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0SW5pdFBhcmFtcz1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLmluaXRcIildO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LERhdGEucHJvdG90eXBlLnNldEluYm94TGFzdFJlcXVlc3RDb2RlPWZ1bmN0aW9uKGxhc3RDb2RlKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5pbmJveC5sYXN0UmVxdWVzdENvZGVcIixsYXN0Q29kZSldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRJbmJveExhc3RSZXF1ZXN0Q29kZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLmluYm94Lmxhc3RSZXF1ZXN0Q29kZVwiLFwiXCIpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRJbmJveExhc3RSZXF1ZXN0VGltZT1mdW5jdGlvbihsYXN0UmVxdWVzdFRpbWUpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmluYm94Lmxhc3RSZXF1ZXN0VGltZVwiLGxhc3RSZXF1ZXN0VGltZSldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRJbmJveExhc3RSZXF1ZXN0VGltZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVyblsyLHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLmluYm94Lmxhc3RSZXF1ZXN0VGltZVwiLDApXX0pfSl9LERhdGEucHJvdG90eXBlLnNldEluYm94TmV3TWVzc2FnZXNDb3VudD1mdW5jdGlvbihjb3VudCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuaW5ib3gubmV3TWVzc2FnZXNDb3VudFwiLGNvdW50KV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldEluYm94TmV3TWVzc2FnZXNDb3VudD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVyblsyLHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLmluYm94Lm5ld01lc3NhZ2VzQ291bnRcIiwwKV19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXREZWxheWVkRXZlbnQ9ZnVuY3Rpb24oZXZlbnQpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwiREVMQVlFRF9FVkVOVFwiLGV2ZW50KV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuZGVsYXllZEV2ZW50XCIsZXZlbnQpXTtjYXNlIDI6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0RGVsYXllZEV2ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgb2xkVmFsdWUsbmV3VmFsdWU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwiREVMQVlFRF9FVkVOVFwiKV07Y2FzZSAxOnJldHVybiBvbGRWYWx1ZT1fYS5zZW50KCksWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuZGVsYXllZEV2ZW50XCIpXTtjYXNlIDI6cmV0dXJuWzIsdm9pZCAwIT09KG5ld1ZhbHVlPV9hLnNlbnQoKSk/bmV3VmFsdWU6b2xkVmFsdWVdfX0pfSl9LERhdGEucHJvdG90eXBlLnNldEluQXBwcz1mdW5jdGlvbihpbkFwcHMpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmluQXBwc1wiLGluQXBwcyldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRJbkFwcHM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtyZXR1cm5bMix0aGlzLnN0b3JlLmdldChcInBhcmFtcy5pbkFwcHNcIildfSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0UHJvbXB0RGlzcGxheUNvdW50PWZ1bmN0aW9uKGNvdW50KXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5wcm9tcHREaXNwbGF5Q291bnRcIixjb3VudCldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRQcm9tcHREaXNwbGF5Q291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtyZXR1cm5bMix0aGlzLnN0b3JlLmdldChcInBhcmFtcy5wcm9tcHREaXNwbGF5Q291bnRcIiwwKV19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRQcm9tcHRMYXN0U2VlblRpbWU9ZnVuY3Rpb24odGltZSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMucHJvbXB0TGFzdFNlZW5UaW1lXCIsdGltZSldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRQcm9tcHRMYXN0U2VlblRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtyZXR1cm5bMix0aGlzLnN0b3JlLmdldChcInBhcmFtcy5wcm9tcHRMYXN0U2VlblRpbWVcIiwwKV19KX0pfSxEYXRhfSgpO2V4cG9ydHMuRGF0YT1EYXRhfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX19leHRlbmRzPXRoaXMmJnRoaXMuX19leHRlbmRzfHxmdW5jdGlvbigpe3ZhciBleHRlbmRTdGF0aWNzPWZ1bmN0aW9uKGQsYil7cmV0dXJuKGV4dGVuZFN0YXRpY3M9T2JqZWN0LnNldFByb3RvdHlwZU9mfHx7X19wcm90b19fOltdfWluc3RhbmNlb2YgQXJyYXkmJmZ1bmN0aW9uKGQsYil7ZC5fX3Byb3RvX189Yn18fGZ1bmN0aW9uKGQsYil7Zm9yKHZhciBwIGluIGIpYi5oYXNPd25Qcm9wZXJ0eShwKSYmKGRbcF09YltwXSl9KShkLGIpfTtyZXR1cm4gZnVuY3Rpb24oZCxiKXtmdW5jdGlvbiBfXygpe3RoaXMuY29uc3RydWN0b3I9ZH1leHRlbmRTdGF0aWNzKGQsYiksZC5wcm90b3R5cGU9bnVsbD09PWI/T2JqZWN0LmNyZWF0ZShiKTooX18ucHJvdG90eXBlPWIucHJvdG90eXBlLG5ldyBfXyl9fSgpLF9fYXNzaWduPXRoaXMmJnRoaXMuX19hc3NpZ258fGZ1bmN0aW9uKCl7cmV0dXJuKF9fYXNzaWduPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgcyxpPTEsbj1hcmd1bWVudHMubGVuZ3RoO2k8bjtpKyspZm9yKHZhciBwIGluIHM9YXJndW1lbnRzW2ldKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLHApJiYodFtwXT1zW3BdKTtyZXR1cm4gdH0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sX19hd2FpdGVyPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbih0aGlzQXJnLF9hcmd1bWVudHMsUCxnZW5lcmF0b3Ipe3JldHVybiBuZXcoUHx8KFA9UHJvbWlzZSkpKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiByZWplY3RlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLnRocm93KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiBzdGVwKHJlc3VsdCl7cmVzdWx0LmRvbmU/cmVzb2x2ZShyZXN1bHQudmFsdWUpOmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQP3ZhbHVlOm5ldyBQKGZ1bmN0aW9uKHJlc29sdmUpe3Jlc29sdmUodmFsdWUpfSl9KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQscmVqZWN0ZWQpfXN0ZXAoKGdlbmVyYXRvcj1nZW5lcmF0b3IuYXBwbHkodGhpc0FyZyxfYXJndW1lbnRzfHxbXSkpLm5leHQoKSl9KX0sX19nZW5lcmF0b3I9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24odGhpc0FyZyxib2R5KXt2YXIgZix5LHQsZyxfPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJnRbMF0pdGhyb3cgdFsxXTtyZXR1cm4gdFsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBnPXtuZXh0OnZlcmIoMCksdGhyb3c6dmVyYigxKSxyZXR1cm46dmVyYigyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYoZ1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxnO2Z1bmN0aW9uIHZlcmIobil7cmV0dXJuIGZ1bmN0aW9uKHYpe3JldHVybiBmdW5jdGlvbihvcCl7aWYoZil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO187KXRyeXtpZihmPTEseSYmKHQ9MiZvcFswXT95LnJldHVybjpvcFswXT95LnRocm93fHwoKHQ9eS5yZXR1cm4pJiZ0LmNhbGwoeSksMCk6eS5uZXh0KSYmISh0PXQuY2FsbCh5LG9wWzFdKSkuZG9uZSlyZXR1cm4gdDtzd2l0Y2goeT0wLHQmJihvcD1bMiZvcFswXSx0LnZhbHVlXSksb3BbMF0pe2Nhc2UgMDpjYXNlIDE6dD1vcDticmVhaztjYXNlIDQ6cmV0dXJuIF8ubGFiZWwrKyx7dmFsdWU6b3BbMV0sZG9uZTohMX07Y2FzZSA1Ol8ubGFiZWwrKyx5PW9wWzFdLG9wPVswXTtjb250aW51ZTtjYXNlIDc6b3A9Xy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoISh0PSh0PV8udHJ5cykubGVuZ3RoPjAmJnRbdC5sZW5ndGgtMV0pJiYoNj09PW9wWzBdfHwyPT09b3BbMF0pKXtfPTA7Y29udGludWV9aWYoMz09PW9wWzBdJiYoIXR8fG9wWzFdPnRbMF0mJm9wWzFdPHRbM10pKXtfLmxhYmVsPW9wWzFdO2JyZWFrfWlmKDY9PT1vcFswXSYmXy5sYWJlbDx0WzFdKXtfLmxhYmVsPXRbMV0sdD1vcDticmVha31pZih0JiZfLmxhYmVsPHRbMl0pe18ubGFiZWw9dFsyXSxfLm9wcy5wdXNoKG9wKTticmVha310WzJdJiZfLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWV9b3A9Ym9keS5jYWxsKHRoaXNBcmcsXyl9Y2F0Y2goZSl7b3A9WzYsZV0seT0wfWZpbmFsbHl7Zj10PTB9aWYoNSZvcFswXSl0aHJvdyBvcFsxXTtyZXR1cm57dmFsdWU6b3BbMF0/b3BbMV06dm9pZCAwLGRvbmU6ITB9fShbbix2XSl9fX0sX19yZXN0PXRoaXMmJnRoaXMuX19yZXN0fHxmdW5jdGlvbihzLGUpe3ZhciB0PXt9O2Zvcih2YXIgcCBpbiBzKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLHApJiZlLmluZGV4T2YocCk8MCYmKHRbcF09c1twXSk7aWYobnVsbCE9cyYmXCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIGk9MDtmb3IocD1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpO2k8cC5sZW5ndGg7aSsrKWUuaW5kZXhPZihwW2ldKTwwJiZPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocyxwW2ldKSYmKHRbcFtpXV09c1twW2ldXSl9cmV0dXJuIHR9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMubWVzc2FnZT1leHBvcnRzLmxvZz1leHBvcnRzLmtleVZhbHVlPWV4cG9ydHMuTG9nTWVzc2FnZT1leHBvcnRzLkxvZ0xvZz1leHBvcnRzLkxvZ0Jhc2U9ZXhwb3J0cy5nZXRJbnN0YW5jZT12b2lkIDA7dmFyIGRhdGFiYXNlUHJvbWlzZSx2ZXJzaW9uXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxOCksTWlncmF0aW9uRXhlY3V0b3JfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE5KSxjb25zdGFudHNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDkpO2Z1bmN0aW9uIG9udmVyc2lvbmNoYW5nZShkYXRhYmFzZSxldmVudCl7Y29uc29sZS5pbmZvKFwib252ZXJzaW9uY2hhbmdlXCIsZXZlbnQpLGRhdGFiYXNlLmNsb3NlKCl9ZnVuY3Rpb24gZ2V0SW5zdGFuY2UoKXtyZXR1cm4gZGF0YWJhc2VQcm9taXNlfHwoZGF0YWJhc2VQcm9taXNlPW5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXt2YXIgcmVxdWVzdD1pbmRleGVkREIub3BlbihcIlBVU0hXT09TSF9TREtfU1RPUkVcIix2ZXJzaW9uXzEuZGVmYXVsdCk7cmVxdWVzdC5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZXZlbnQpe3ZhciBkYXRhYmFzZT1ldmVudC50YXJnZXQucmVzdWx0O2RhdGFiYXNlLm9udmVyc2lvbmNoYW5nZT1vbnZlcnNpb25jaGFuZ2UuYmluZChudWxsLGRhdGFiYXNlLHJlamVjdCkscmVzb2x2ZShkYXRhYmFzZSl9LHJlcXVlc3Qub25lcnJvcj1mdW5jdGlvbigpe3JldHVybiByZWplY3QocmVxdWVzdC5lcnJvcil9LHJlcXVlc3Qub251cGdyYWRlbmVlZGVkPWZ1bmN0aW9uKGV2ZW50KXt2YXIgZGF0YWJhc2U9ZXZlbnQudGFyZ2V0LnJlc3VsdDtkYXRhYmFzZS5vbnZlcnNpb25jaGFuZ2U9b252ZXJzaW9uY2hhbmdlLmJpbmQobnVsbCxkYXRhYmFzZSxyZWplY3QpLG5ldyBNaWdyYXRpb25FeGVjdXRvcl8xLmRlZmF1bHQoZGF0YWJhc2UpLmFwcGx5TWlncmF0aW9ucygpfX0pKSxkYXRhYmFzZVByb21pc2V9ZnVuY3Rpb24gZ2V0SW5zdGFuY2VXaXRoUHJvbWlzZShleGVjdXRvcil7cmV0dXJuIGdldEluc3RhbmNlKCkudGhlbihmdW5jdGlvbihkYXRhYmFzZSl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtyZXR1cm4gZXhlY3V0b3IoZGF0YWJhc2UscmVzb2x2ZSxyZWplY3QpfSl9KX1leHBvcnRzLmdldEluc3RhbmNlPWdldEluc3RhbmNlO3ZhciBMb2dCYXNlPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gTG9nQmFzZSgpe31yZXR1cm4gTG9nQmFzZS5wcm90b3R5cGUuX2FkZD1mdW5jdGlvbihvYmope3ZhciBfdGhpcz10aGlzO3JldHVybiBnZXRJbnN0YW5jZVdpdGhQcm9taXNlKGZ1bmN0aW9uKGRhdGFiYXNlLHJlc29sdmUscmVqZWN0KXt2YXIgcmVxdWVzdD1kYXRhYmFzZS50cmFuc2FjdGlvbihbX3RoaXMubmFtZV0sXCJyZWFkd3JpdGVcIikub2JqZWN0U3RvcmUoX3RoaXMubmFtZSkuYWRkKG9iaik7cmVxdWVzdC5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXtyZXNvbHZlKG9iail9LHJlcXVlc3Qub25lcnJvcj1mdW5jdGlvbigpe3JlamVjdChyZXF1ZXN0LmVycm9yKX19KS50aGVuKGZ1bmN0aW9uKG9iail7cmV0dXJuIF90aGlzLmdldEFsbCgpLnRoZW4oZnVuY3Rpb24oaXRlbXMpe2lmKEFycmF5LmlzQXJyYXkoaXRlbXMpKXt2YXIgaWRzPWl0ZW1zLm1hcChmdW5jdGlvbihpKXtyZXR1cm4gaS5pZH0pLnNvcnQoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYT09Yj8wOmE8Yj8xOi0xfSk7aWYoaWRzLmxlbmd0aD5fdGhpcy5tYXhJdGVtcylyZXR1cm4gUHJvbWlzZS5hbGwoaWRzLnNsaWNlKF90aGlzLm1heEl0ZW1zKS5tYXAoZnVuY3Rpb24oaWQpe3JldHVybiBfdGhpcy5kZWxldGUoaWQpfSkpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gb2JqfSl9cmV0dXJuIG9ian0pfSl9LExvZ0Jhc2UucHJvdG90eXBlLmRlbGV0ZT1mdW5jdGlvbihrZXkpe3ZhciBfdGhpcz10aGlzO3JldHVybiBnZXRJbnN0YW5jZVdpdGhQcm9taXNlKGZ1bmN0aW9uKGRhdGFiYXNlLHJlc29sdmUscmVqZWN0KXt2YXIgcmVxdWVzdD1kYXRhYmFzZS50cmFuc2FjdGlvbihbX3RoaXMubmFtZV0sXCJyZWFkd3JpdGVcIikub2JqZWN0U3RvcmUoX3RoaXMubmFtZSkuZGVsZXRlKGtleSk7cmVxdWVzdC5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXtyZXNvbHZlKHJlcXVlc3QucmVzdWx0KX0scmVxdWVzdC5vbmVycm9yPWZ1bmN0aW9uKCl7cmVqZWN0KHJlcXVlc3QuZXJyb3IpfX0pfSxMb2dCYXNlLnByb3RvdHlwZS5nZXRBbGw9ZnVuY3Rpb24oKXt2YXIgX3RoaXM9dGhpcztyZXR1cm4gZ2V0SW5zdGFuY2VXaXRoUHJvbWlzZShmdW5jdGlvbihkYXRhYmFzZSxyZXNvbHZlLHJlamVjdCl7dmFyIHJlc3VsdD1bXSxjdXJzb3I9ZGF0YWJhc2UudHJhbnNhY3Rpb24oX3RoaXMubmFtZSkub2JqZWN0U3RvcmUoX3RoaXMubmFtZSkub3BlbkN1cnNvcigpO2N1cnNvci5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZXYpe3ZhciBjdXJzb3JSZXN1bHQ9ZXYudGFyZ2V0LnJlc3VsdDtjdXJzb3JSZXN1bHQ/KGN1cnNvclJlc3VsdC52YWx1ZSYmcmVzdWx0LnB1c2goY3Vyc29yUmVzdWx0LnZhbHVlKSxjdXJzb3JSZXN1bHQuY29udGludWUoKSk6cmVzb2x2ZShyZXN1bHQpfSxjdXJzb3Iub25lcnJvcj1mdW5jdGlvbigpe3JlamVjdChjdXJzb3IuZXJyb3IpfX0pfSxMb2dCYXNlfSgpO2V4cG9ydHMuTG9nQmFzZT1Mb2dCYXNlO3ZhciBMb2dMb2c9ZnVuY3Rpb24oX3N1cGVyKXtmdW5jdGlvbiBMb2dMb2coKXt2YXIgX3RoaXM9bnVsbCE9PV9zdXBlciYmX3N1cGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKXx8dGhpcztyZXR1cm4gX3RoaXMubmFtZT1jb25zdGFudHNfMS5TVE9SRV9OQU1FX01BSU5fTE9HLF90aGlzLm1heEl0ZW1zPTEwMCxfdGhpcy5lbnZpcm9ubWVudD1cInVuZGVmaW5lZFwiIT10eXBlb2Ygc2VsZiYmc2VsZi5yZWdpc3RyYXRpb24/XCJ3b3JrZXJcIjpcImJyb3dzZXJcIixfdGhpc31yZXR1cm4gX19leHRlbmRzKExvZ0xvZyxfc3VwZXIpLExvZ0xvZy5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKHR5cGUsbWVzc2FnZSxhZGRpdGlvbmFsKXt2YXIgb2JqPXt0eXBlOnR5cGUsZW52aXJvbm1lbnQ6dGhpcy5lbnZpcm9ubWVudCxtZXNzYWdlOlwiXCIrbWVzc2FnZSxkYXRlOm5ldyBEYXRlfTtyZXR1cm4gbWVzc2FnZSBpbnN0YW5jZW9mIEVycm9yJiYob2JqLnN0YWNrPW1lc3NhZ2Uuc3RhY2spLGFkZGl0aW9uYWwmJihvYmouYWRkaXRpb25hbD1hZGRpdGlvbmFsKSx0aGlzLl9hZGQob2JqKX0sTG9nTG9nfShMb2dCYXNlKTtleHBvcnRzLkxvZ0xvZz1Mb2dMb2c7dmFyIExvZ01lc3NhZ2U9ZnVuY3Rpb24oX3N1cGVyKXtmdW5jdGlvbiBMb2dNZXNzYWdlKCl7dmFyIF90aGlzPW51bGwhPT1fc3VwZXImJl9zdXBlci5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIF90aGlzLm5hbWU9Y29uc3RhbnRzXzEuU1RPUkVfTkFNRV9NRVNTQUdFX0xPRyxfdGhpcy5tYXhJdGVtcz0yNSxfdGhpc31yZXR1cm4gX19leHRlbmRzKExvZ01lc3NhZ2UsX3N1cGVyKSxMb2dNZXNzYWdlLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24obG9nKXtyZXR1cm4gdGhpcy5fYWRkKF9fYXNzaWduKF9fYXNzaWduKHt9LGxvZykse2RhdGU6bmV3IERhdGV9KSl9LExvZ01lc3NhZ2V9KExvZ0Jhc2UpO2V4cG9ydHMuTG9nTWVzc2FnZT1Mb2dNZXNzYWdlLGV4cG9ydHMua2V5VmFsdWU9ZnVuY3Rpb24obmFtZSl7cmV0dXJue2dldDpmdW5jdGlvbihrZXksZGVmYXVsdFZhbHVlKXtyZXR1cm4gZ2V0SW5zdGFuY2VXaXRoUHJvbWlzZShmdW5jdGlvbihkYXRhYmFzZSxyZXNvbHZlLHJlamVjdCl7dmFyIHRpbWVvdXQscmVxdWVzdD1kYXRhYmFzZS50cmFuc2FjdGlvbihuYW1lKS5vYmplY3RTdG9yZShuYW1lKS5nZXQoa2V5KSxpc0NvbXBsZXRlPSExLGlzRXJyb3I9ITEsY2hlY2s9ZnVuY3Rpb24oKXtpZihjbGVhclRpbWVvdXQodGltZW91dCksaXNDb21wbGV0ZSl7dmFyIHJlc3VsdD1yZXF1ZXN0LnJlc3VsdDtyZXNvbHZlKHJlc3VsdCYmcmVzdWx0LnZhbHVlfHxkZWZhdWx0VmFsdWUpfWVsc2UgaXNFcnJvcj9yZWplY3QocmVxdWVzdC5lcnJvcik6dGltZW91dD1zZXRUaW1lb3V0KGNoZWNrLDApfTtyZXF1ZXN0Lm9uc3VjY2Vzcz1mdW5jdGlvbigpe3JldHVybiBpc0NvbXBsZXRlPSEwfSxyZXF1ZXN0Lm9uZXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gaXNFcnJvcj0hMH0sY2hlY2soKX0pfSxnZXRBbGw6ZnVuY3Rpb24oKXtyZXR1cm4gZ2V0SW5zdGFuY2VXaXRoUHJvbWlzZShmdW5jdGlvbihkYXRhYmFzZSxyZXNvbHZlLHJlamVjdCl7dmFyIHRpbWVvdXQscmVzdWx0PXt9LGN1cnNvcj1kYXRhYmFzZS50cmFuc2FjdGlvbihuYW1lKS5vYmplY3RTdG9yZShuYW1lKS5vcGVuQ3Vyc29yKCksaXNDb21wbGV0ZT0hMSxpc0Vycm9yPSExLGNoZWNrPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRpbWVvdXQpLGlzQ29tcGxldGU/cmVzb2x2ZShyZXN1bHQpOmlzRXJyb3I/cmVqZWN0KGN1cnNvci5lcnJvcik6dGltZW91dD1zZXRUaW1lb3V0KGNoZWNrLDApfTtjdXJzb3Iub25zdWNjZXNzPWZ1bmN0aW9uKGV2ZW50KXt2YXIgY3Vyc29yUmVzdWx0PWV2ZW50LnRhcmdldC5yZXN1bHQ7Y3Vyc29yUmVzdWx0PyhyZXN1bHRbY3Vyc29yUmVzdWx0LmtleV09Y3Vyc29yUmVzdWx0LnZhbHVlLnZhbHVlLGN1cnNvclJlc3VsdC5jb250aW51ZSgpKTppc0NvbXBsZXRlPSEwfSxjdXJzb3Iub25lcnJvcj1mdW5jdGlvbigpe3JldHVybiBpc0Vycm9yPSEwfSxjaGVjaygpfSl9LGV4dGVuZDpmdW5jdGlvbihrZXksdmFsdWUpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG9sZFZhbHVlcyxuZXdWYWx1ZXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0KGtleSldO2Nhc2UgMTpyZXR1cm4gb2xkVmFsdWVzPV9hLnNlbnQoKSxuZXdWYWx1ZXM9X19yZXN0KHZhbHVlLFtdKSxbNCx0aGlzLnNldChrZXksX19hc3NpZ24oX19hc3NpZ24oe30sb2xkVmFsdWVzKSxuZXdWYWx1ZXMpKV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LHNldDpmdW5jdGlvbihrZXksdmFsdWUpe3JldHVybiBnZXRJbnN0YW5jZVdpdGhQcm9taXNlKGZ1bmN0aW9uKGRhdGFiYXNlLHJlc29sdmUscmVqZWN0KXt2YXIgdGltZW91dCxyZXF1ZXN0PWRhdGFiYXNlLnRyYW5zYWN0aW9uKFtuYW1lXSxcInJlYWR3cml0ZVwiKS5vYmplY3RTdG9yZShuYW1lKS5wdXQoe2tleTprZXksdmFsdWU6dmFsdWV9KSxpc0NvbXBsZXRlPSExLGlzRXJyb3I9ITEsY2hlY2s9ZnVuY3Rpb24oKXtjbGVhclRpbWVvdXQodGltZW91dCksaXNDb21wbGV0ZT9yZXNvbHZlKGtleSk6aXNFcnJvcj9yZWplY3QocmVxdWVzdC5lcnJvcik6dGltZW91dD1zZXRUaW1lb3V0KGNoZWNrLDApfTtyZXF1ZXN0Lm9uc3VjY2Vzcz1mdW5jdGlvbigpe3JldHVybiBpc0NvbXBsZXRlPSEwfSxyZXF1ZXN0Lm9uZXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gaXNFcnJvcj0hMH0sY2hlY2soKX0pfX19KGNvbnN0YW50c18xLlNUT1JFX05BTUVfS0VZX1ZBTFVFKSxleHBvcnRzLmxvZz1uZXcgTG9nTG9nLGV4cG9ydHMubWVzc2FnZT1uZXcgTG9nTWVzc2FnZX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIERhdGVNb2R1bGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBEYXRlTW9kdWxlKGRhdGUpe3ZvaWQgMD09PWRhdGUmJihkYXRlPW5ldyBEYXRlKSx0aGlzLl9kYXRlPWRhdGV9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEYXRlTW9kdWxlLnByb3RvdHlwZSxcImRhdGVcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGV9LHNldDpmdW5jdGlvbihkYXRlKXt0aGlzLl9kYXRlPWRhdGV9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksRGF0ZU1vZHVsZS5wcm90b3R5cGUuZ2V0VXRjVGltZXN0YW1wPWZ1bmN0aW9uKCl7cmV0dXJuIE1hdGguZmxvb3IoKHRoaXMuZGF0ZS5nZXRUaW1lKCkrNjAqdGhpcy5kYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkqMWUzKS8xZTMpfSxEYXRlTW9kdWxlLnByb3RvdHlwZS5nZXRUaW1lc3RhbXA9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5yb3VuZCh0aGlzLmRhdGUuZ2V0VGltZSgpLzFlMyl9LERhdGVNb2R1bGUucHJvdG90eXBlLnNldExvY2FsPWZ1bmN0aW9uKCl7dmFyIG5ld0RhdGVUaW1lc3RhbXA9dGhpcy5fZGF0ZS5nZXRUaW1lKCktNjAqdGhpcy5kYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkqMWUzO3RoaXMuX2RhdGU9bmV3IERhdGUobmV3RGF0ZVRpbWVzdGFtcCl9LERhdGVNb2R1bGUucHJvdG90eXBlLmFkZERheXM9ZnVuY3Rpb24oZGF5cyl7dmFyIG5ld0RhdGVUaW1lc3RhbXA9dGhpcy5fZGF0ZS5nZXRUaW1lKCkrMjQqZGF5cyo2MCo2MCoxZTM7dGhpcy5fZGF0ZT1uZXcgRGF0ZShuZXdEYXRlVGltZXN0YW1wKX0sRGF0ZU1vZHVsZS5wcm90b3R5cGUuZ2V0SW5ib3hGYWtlT3JkZXI9ZnVuY3Rpb24oKXtyZXR1cm4oMTAwKnRoaXMuX2RhdGUuZ2V0VGltZSgpKzllOSkudG9TdHJpbmcoKX0sRGF0ZU1vZHVsZX0oKTtleHBvcnRzLmRlZmF1bHQ9RGF0ZU1vZHVsZX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKEJ1ZmZlcil7aWYoZXhwb3J0cy5iYXNlNjQ9ITAsZXhwb3J0cy5hcnJheT0hMCxleHBvcnRzLnN0cmluZz0hMCxleHBvcnRzLmFycmF5YnVmZmVyPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXksZXhwb3J0cy5ub2RlYnVmZmVyPXZvaWQgMCE9PUJ1ZmZlcixleHBvcnRzLnVpbnQ4YXJyYXk9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXksXCJ1bmRlZmluZWRcIj09dHlwZW9mIEFycmF5QnVmZmVyKWV4cG9ydHMuYmxvYj0hMTtlbHNle3ZhciBidWZmZXI9bmV3IEFycmF5QnVmZmVyKDApO3RyeXtleHBvcnRzLmJsb2I9MD09PW5ldyBCbG9iKFtidWZmZXJdLHt0eXBlOlwiYXBwbGljYXRpb24vemlwXCJ9KS5zaXplfWNhdGNoKGUpe3RyeXt2YXIgYnVpbGRlcj1uZXcoc2VsZi5CbG9iQnVpbGRlcnx8c2VsZi5XZWJLaXRCbG9iQnVpbGRlcnx8c2VsZi5Nb3pCbG9iQnVpbGRlcnx8c2VsZi5NU0Jsb2JCdWlsZGVyKTtidWlsZGVyLmFwcGVuZChidWZmZXIpLGV4cG9ydHMuYmxvYj0wPT09YnVpbGRlci5nZXRCbG9iKFwiYXBwbGljYXRpb24vemlwXCIpLnNpemV9Y2F0Y2goZSl7ZXhwb3J0cy5ibG9iPSExfX19dHJ5e2V4cG9ydHMubm9kZXN0cmVhbT0hIV9fd2VicGFja19yZXF1aXJlX18oNTApLlJlYWRhYmxlfWNhdGNoKGUpe2V4cG9ydHMubm9kZXN0cmVhbT0hMX19KS5jYWxsKHRoaXMsX193ZWJwYWNrX3JlcXVpcmVfXygyMSkuQnVmZmVyKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIFRZUEVEX09LPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50OEFycmF5JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDE2QXJyYXkmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBJbnQzMkFycmF5O2Z1bmN0aW9uIF9oYXMob2JqLGtleSl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosa2V5KX1leHBvcnRzLmFzc2lnbj1mdW5jdGlvbihvYmope2Zvcih2YXIgc291cmNlcz1BcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsMSk7c291cmNlcy5sZW5ndGg7KXt2YXIgc291cmNlPXNvdXJjZXMuc2hpZnQoKTtpZihzb3VyY2Upe2lmKFwib2JqZWN0XCIhPXR5cGVvZiBzb3VyY2UpdGhyb3cgbmV3IFR5cGVFcnJvcihzb3VyY2UrXCJtdXN0IGJlIG5vbi1vYmplY3RcIik7Zm9yKHZhciBwIGluIHNvdXJjZSlfaGFzKHNvdXJjZSxwKSYmKG9ialtwXT1zb3VyY2VbcF0pfX1yZXR1cm4gb2JqfSxleHBvcnRzLnNocmlua0J1Zj1mdW5jdGlvbihidWYsc2l6ZSl7cmV0dXJuIGJ1Zi5sZW5ndGg9PT1zaXplP2J1ZjpidWYuc3ViYXJyYXk/YnVmLnN1YmFycmF5KDAsc2l6ZSk6KGJ1Zi5sZW5ndGg9c2l6ZSxidWYpfTt2YXIgZm5UeXBlZD17YXJyYXlTZXQ6ZnVuY3Rpb24oZGVzdCxzcmMsc3JjX29mZnMsbGVuLGRlc3Rfb2Zmcyl7aWYoc3JjLnN1YmFycmF5JiZkZXN0LnN1YmFycmF5KWRlc3Quc2V0KHNyYy5zdWJhcnJheShzcmNfb2ZmcyxzcmNfb2ZmcytsZW4pLGRlc3Rfb2Zmcyk7ZWxzZSBmb3IodmFyIGk9MDtpPGxlbjtpKyspZGVzdFtkZXN0X29mZnMraV09c3JjW3NyY19vZmZzK2ldfSxmbGF0dGVuQ2h1bmtzOmZ1bmN0aW9uKGNodW5rcyl7dmFyIGksbCxsZW4scG9zLGNodW5rLHJlc3VsdDtmb3IobGVuPTAsaT0wLGw9Y2h1bmtzLmxlbmd0aDtpPGw7aSsrKWxlbis9Y2h1bmtzW2ldLmxlbmd0aDtmb3IocmVzdWx0PW5ldyBVaW50OEFycmF5KGxlbikscG9zPTAsaT0wLGw9Y2h1bmtzLmxlbmd0aDtpPGw7aSsrKWNodW5rPWNodW5rc1tpXSxyZXN1bHQuc2V0KGNodW5rLHBvcykscG9zKz1jaHVuay5sZW5ndGg7cmV0dXJuIHJlc3VsdH19LGZuVW50eXBlZD17YXJyYXlTZXQ6ZnVuY3Rpb24oZGVzdCxzcmMsc3JjX29mZnMsbGVuLGRlc3Rfb2Zmcyl7Zm9yKHZhciBpPTA7aTxsZW47aSsrKWRlc3RbZGVzdF9vZmZzK2ldPXNyY1tzcmNfb2ZmcytpXX0sZmxhdHRlbkNodW5rczpmdW5jdGlvbihjaHVua3Mpe3JldHVybltdLmNvbmNhdC5hcHBseShbXSxjaHVua3MpfX07ZXhwb3J0cy5zZXRUeXBlZD1mdW5jdGlvbihvbil7b24/KGV4cG9ydHMuQnVmOD1VaW50OEFycmF5LGV4cG9ydHMuQnVmMTY9VWludDE2QXJyYXksZXhwb3J0cy5CdWYzMj1JbnQzMkFycmF5LGV4cG9ydHMuYXNzaWduKGV4cG9ydHMsZm5UeXBlZCkpOihleHBvcnRzLkJ1Zjg9QXJyYXksZXhwb3J0cy5CdWYxNj1BcnJheSxleHBvcnRzLkJ1ZjMyPUFycmF5LGV4cG9ydHMuYXNzaWduKGV4cG9ydHMsZm5VbnR5cGVkKSl9LGV4cG9ydHMuc2V0VHlwZWQoVFlQRURfT0spfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLktFWV9QQVRIX0JBU0VfSU5DUkVNRU5UPWV4cG9ydHMuU1RPUkVfTkFNRV9JTkJPWF9NRVNTQUdFUz1leHBvcnRzLlNUT1JFX05BTUVfTUFJTl9MT0c9ZXhwb3J0cy5TVE9SRV9OQU1FX01FU1NBR0VfTE9HPWV4cG9ydHMuU1RPUkVfTkFNRV9LRVlfVkFMVUU9dm9pZCAwLGV4cG9ydHMuU1RPUkVfTkFNRV9LRVlfVkFMVUU9XCJrZXlWYWx1ZVwiLGV4cG9ydHMuU1RPUkVfTkFNRV9NRVNTQUdFX0xPRz1cIm1lc3NhZ2VzXCIsZXhwb3J0cy5TVE9SRV9OQU1FX01BSU5fTE9HPVwibG9nXCIsZXhwb3J0cy5TVE9SRV9OQU1FX0lOQk9YX01FU1NBR0VTPVwiaW5ib3hNZXNzYWdlc1wiLGV4cG9ydHMuS0VZX1BBVEhfQkFTRV9JTkNSRU1FTlQ9XCJpZFwifSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBnZXRHbG9iYWwoKXtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgZ2xvYmFsVGhpcz9nbG9iYWxUaGlzOkZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmdlbmVyYXRlVVVJRD1leHBvcnRzLmNsZWFyTG9jYXRpb25IYXNoPWV4cG9ydHMucGF0Y2hDb25zb2xlPWV4cG9ydHMucGFyc2VTZXJpYWxpemVkTm90aWZpY2F0aW9uUGFyYW1zPWV4cG9ydHMuZ2V0VmVyc2lvbj1leHBvcnRzLmdldEdsb2JhbD12b2lkIDAsZXhwb3J0cy5nZXRHbG9iYWw9Z2V0R2xvYmFsLGV4cG9ydHMuZ2V0VmVyc2lvbj1mdW5jdGlvbigpe3JldHVyblwiMy4yNi4wXCJ9LGV4cG9ydHMucGFyc2VTZXJpYWxpemVkTm90aWZpY2F0aW9uUGFyYW1zPWZ1bmN0aW9uKHBhcmFtLGRlZmF1bHRWYWx1ZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHBhcmFtKXRyeXtyZXR1cm4gSlNPTi5wYXJzZShwYXJhbSl9Y2F0Y2goZSl7Y29uc29sZS5sb2coZSl9cmV0dXJuIHZvaWQgMD09PXBhcmFtJiZ2b2lkIDAhPT1kZWZhdWx0VmFsdWU/ZGVmYXVsdFZhbHVlOnBhcmFtfSxleHBvcnRzLnBhdGNoQ29uc29sZT1mdW5jdGlvbigpe2Zvcih2YXIgbWV0aG9kLG5vb3A9ZnVuY3Rpb24oKXt9LG1ldGhvZHM9W1wiYXNzZXJ0XCIsXCJjbGVhclwiLFwiY291bnRcIixcImRlYnVnXCIsXCJkaXJcIixcImRpcnhtbFwiLFwiZXJyb3JcIixcImV4Y2VwdGlvblwiLFwiZ3JvdXBcIixcImdyb3VwQ29sbGFwc2VkXCIsXCJncm91cEVuZFwiLFwiaW5mb1wiLFwibG9nXCIsXCJtYXJrVGltZWxpbmVcIixcInByb2ZpbGVcIixcInByb2ZpbGVFbmRcIixcInRhYmxlXCIsXCJ0aW1lXCIsXCJ0aW1lRW5kXCIsXCJ0aW1lU3RhbXBcIixcInRyYWNlXCIsXCJ3YXJuXCJdLGxlbj1tZXRob2RzLmxlbmd0aCxnbG9iYWw9Z2V0R2xvYmFsKCksY29uc29sZT1nbG9iYWwuY29uc29sZT1nbG9iYWwuY29uc29sZXx8e307bGVuLS07KWNvbnNvbGVbbWV0aG9kPW1ldGhvZHNbbGVuXV18fChjb25zb2xlW21ldGhvZF09bm9vcCl9LGV4cG9ydHMuY2xlYXJMb2NhdGlvbkhhc2g9ZnVuY3Rpb24oKXtcImhpc3RvcnlcImluIGdldEdsb2JhbCgpJiZoaXN0b3J5LnB1c2hTdGF0ZT9oaXN0b3J5LnB1c2hTdGF0ZShudWxsLFwiXCIsXCIjXCIpOmxvY2F0aW9uLmhhc2g9XCIjXCJ9LGV4cG9ydHMuZ2VuZXJhdGVVVUlEPWZ1bmN0aW9uKCl7dmFyIGQ9KG5ldyBEYXRlKS5nZXRUaW1lKCk7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHBlcmZvcm1hbmNlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBwZXJmb3JtYW5jZS5ub3cmJihkKz1wZXJmb3JtYW5jZS5ub3coKSksXCJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHhcIi5yZXBsYWNlKC9beHldL2csZnVuY3Rpb24oYyl7dmFyIHI9KGQrMTYqTWF0aC5yYW5kb20oKSklMTZ8MDtyZXR1cm4gZD1NYXRoLmZsb29yKGQvMTYpLChcInhcIj09PWM/cjozJnJ8OCkudG9TdHJpbmcoMTYpfSl9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIGc7Zz1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpO3RyeXtnPWd8fEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKXx8KDAsZXZhbCkoXCJ0aGlzXCIpfWNhdGNoKGUpe1wib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJihnPXdpbmRvdyl9bW9kdWxlLmV4cG9ydHM9Z30sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHBuYT1fX3dlYnBhY2tfcmVxdWlyZV9fKDI3KSxvYmplY3RLZXlzPU9iamVjdC5rZXlzfHxmdW5jdGlvbihvYmope3ZhciBrZXlzPVtdO2Zvcih2YXIga2V5IGluIG9iailrZXlzLnB1c2goa2V5KTtyZXR1cm4ga2V5c307bW9kdWxlLmV4cG9ydHM9RHVwbGV4O3ZhciB1dGlsPU9iamVjdC5jcmVhdGUoX193ZWJwYWNrX3JlcXVpcmVfXygyMykpO3V0aWwuaW5oZXJpdHM9X193ZWJwYWNrX3JlcXVpcmVfXygxNSk7dmFyIFJlYWRhYmxlPV9fd2VicGFja19yZXF1aXJlX18oNTEpLFdyaXRhYmxlPV9fd2VicGFja19yZXF1aXJlX18oNDEpO3V0aWwuaW5oZXJpdHMoRHVwbGV4LFJlYWRhYmxlKTtmb3IodmFyIGtleXM9b2JqZWN0S2V5cyhXcml0YWJsZS5wcm90b3R5cGUpLHY9MDt2PGtleXMubGVuZ3RoO3YrKyl7dmFyIG1ldGhvZD1rZXlzW3ZdO0R1cGxleC5wcm90b3R5cGVbbWV0aG9kXXx8KER1cGxleC5wcm90b3R5cGVbbWV0aG9kXT1Xcml0YWJsZS5wcm90b3R5cGVbbWV0aG9kXSl9ZnVuY3Rpb24gRHVwbGV4KG9wdGlvbnMpe2lmKCEodGhpcyBpbnN0YW5jZW9mIER1cGxleCkpcmV0dXJuIG5ldyBEdXBsZXgob3B0aW9ucyk7UmVhZGFibGUuY2FsbCh0aGlzLG9wdGlvbnMpLFdyaXRhYmxlLmNhbGwodGhpcyxvcHRpb25zKSxvcHRpb25zJiYhMT09PW9wdGlvbnMucmVhZGFibGUmJih0aGlzLnJlYWRhYmxlPSExKSxvcHRpb25zJiYhMT09PW9wdGlvbnMud3JpdGFibGUmJih0aGlzLndyaXRhYmxlPSExKSx0aGlzLmFsbG93SGFsZk9wZW49ITAsb3B0aW9ucyYmITE9PT1vcHRpb25zLmFsbG93SGFsZk9wZW4mJih0aGlzLmFsbG93SGFsZk9wZW49ITEpLHRoaXMub25jZShcImVuZFwiLG9uZW5kKX1mdW5jdGlvbiBvbmVuZCgpe3RoaXMuYWxsb3dIYWxmT3Blbnx8dGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRlZHx8cG5hLm5leHRUaWNrKG9uRW5kTlQsdGhpcyl9ZnVuY3Rpb24gb25FbmROVChzZWxmKXtzZWxmLmVuZCgpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShEdXBsZXgucHJvdG90eXBlLFwid3JpdGFibGVIaWdoV2F0ZXJNYXJrXCIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUuaGlnaFdhdGVyTWFya319KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoRHVwbGV4LnByb3RvdHlwZSxcImRlc3Ryb3llZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5fcmVhZGFibGVTdGF0ZSYmdm9pZCAwIT09dGhpcy5fd3JpdGFibGVTdGF0ZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkJiZ0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZCl9LHNldDpmdW5jdGlvbih2YWx1ZSl7dm9pZCAwIT09dGhpcy5fcmVhZGFibGVTdGF0ZSYmdm9pZCAwIT09dGhpcy5fd3JpdGFibGVTdGF0ZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkPXZhbHVlLHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkPXZhbHVlKX19KSxEdXBsZXgucHJvdG90eXBlLl9kZXN0cm95PWZ1bmN0aW9uKGVycixjYil7dGhpcy5wdXNoKG51bGwpLHRoaXMuZW5kKCkscG5hLm5leHRUaWNrKGNiLGVycil9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgdjE9X193ZWJwYWNrX3JlcXVpcmVfXygzMCksdjQ9X193ZWJwYWNrX3JlcXVpcmVfXygzMSksdXVpZD12NDt1dWlkLnYxPXYxLHV1aWQudjQ9djQsbW9kdWxlLmV4cG9ydHM9dXVpZH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7Zm9yKHZhciB1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLHN1cHBvcnQ9X193ZWJwYWNrX3JlcXVpcmVfXyg3KSxub2RlanNVdGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDI5KSxHZW5lcmljV29ya2VyPV9fd2VicGFja19yZXF1aXJlX18oMiksX3V0ZjhsZW49bmV3IEFycmF5KDI1NiksaT0wO2k8MjU2O2krKylfdXRmOGxlbltpXT1pPj0yNTI/NjppPj0yNDg/NTppPj0yNDA/NDppPj0yMjQ/MzppPj0xOTI/MjoxO191dGY4bGVuWzI1NF09X3V0ZjhsZW5bMjU0XT0xO2Z1bmN0aW9uIFV0ZjhEZWNvZGVXb3JrZXIoKXtHZW5lcmljV29ya2VyLmNhbGwodGhpcyxcInV0Zi04IGRlY29kZVwiKSx0aGlzLmxlZnRPdmVyPW51bGx9ZnVuY3Rpb24gVXRmOEVuY29kZVdvcmtlcigpe0dlbmVyaWNXb3JrZXIuY2FsbCh0aGlzLFwidXRmLTggZW5jb2RlXCIpfWV4cG9ydHMudXRmOGVuY29kZT1mdW5jdGlvbihzdHIpe3JldHVybiBzdXBwb3J0Lm5vZGVidWZmZXI/bm9kZWpzVXRpbHMubmV3QnVmZmVyRnJvbShzdHIsXCJ1dGYtOFwiKTpmdW5jdGlvbihzdHIpe3ZhciBidWYsYyxjMixtX3BvcyxpLHN0cl9sZW49c3RyLmxlbmd0aCxidWZfbGVuPTA7Zm9yKG1fcG9zPTA7bV9wb3M8c3RyX2xlbjttX3BvcysrKTU1Mjk2PT0oNjQ1MTImKGM9c3RyLmNoYXJDb2RlQXQobV9wb3MpKSkmJm1fcG9zKzE8c3RyX2xlbiYmNTYzMjA9PSg2NDUxMiYoYzI9c3RyLmNoYXJDb2RlQXQobV9wb3MrMSkpKSYmKGM9NjU1MzYrKGMtNTUyOTY8PDEwKSsoYzItNTYzMjApLG1fcG9zKyspLGJ1Zl9sZW4rPWM8MTI4PzE6YzwyMDQ4PzI6Yzw2NTUzNj8zOjQ7Zm9yKGJ1Zj1zdXBwb3J0LnVpbnQ4YXJyYXk/bmV3IFVpbnQ4QXJyYXkoYnVmX2xlbik6bmV3IEFycmF5KGJ1Zl9sZW4pLGk9MCxtX3Bvcz0wO2k8YnVmX2xlbjttX3BvcysrKTU1Mjk2PT0oNjQ1MTImKGM9c3RyLmNoYXJDb2RlQXQobV9wb3MpKSkmJm1fcG9zKzE8c3RyX2xlbiYmNTYzMjA9PSg2NDUxMiYoYzI9c3RyLmNoYXJDb2RlQXQobV9wb3MrMSkpKSYmKGM9NjU1MzYrKGMtNTUyOTY8PDEwKSsoYzItNTYzMjApLG1fcG9zKyspLGM8MTI4P2J1ZltpKytdPWM6YzwyMDQ4PyhidWZbaSsrXT0xOTJ8Yz4+PjYsYnVmW2krK109MTI4fDYzJmMpOmM8NjU1MzY/KGJ1ZltpKytdPTIyNHxjPj4+MTIsYnVmW2krK109MTI4fGM+Pj42JjYzLGJ1ZltpKytdPTEyOHw2MyZjKTooYnVmW2krK109MjQwfGM+Pj4xOCxidWZbaSsrXT0xMjh8Yz4+PjEyJjYzLGJ1ZltpKytdPTEyOHxjPj4+NiY2MyxidWZbaSsrXT0xMjh8NjMmYyk7cmV0dXJuIGJ1Zn0oc3RyKX0sZXhwb3J0cy51dGY4ZGVjb2RlPWZ1bmN0aW9uKGJ1Zil7cmV0dXJuIHN1cHBvcnQubm9kZWJ1ZmZlcj91dGlscy50cmFuc2Zvcm1UbyhcIm5vZGVidWZmZXJcIixidWYpLnRvU3RyaW5nKFwidXRmLThcIik6ZnVuY3Rpb24oYnVmKXt2YXIgaSxvdXQsYyxjX2xlbixsZW49YnVmLmxlbmd0aCx1dGYxNmJ1Zj1uZXcgQXJyYXkoMipsZW4pO2ZvcihvdXQ9MCxpPTA7aTxsZW47KWlmKChjPWJ1ZltpKytdKTwxMjgpdXRmMTZidWZbb3V0KytdPWM7ZWxzZSBpZigoY19sZW49X3V0ZjhsZW5bY10pPjQpdXRmMTZidWZbb3V0KytdPTY1NTMzLGkrPWNfbGVuLTE7ZWxzZXtmb3IoYyY9Mj09PWNfbGVuPzMxOjM9PT1jX2xlbj8xNTo3O2NfbGVuPjEmJmk8bGVuOyljPWM8PDZ8NjMmYnVmW2krK10sY19sZW4tLTtjX2xlbj4xP3V0ZjE2YnVmW291dCsrXT02NTUzMzpjPDY1NTM2P3V0ZjE2YnVmW291dCsrXT1jOihjLT02NTUzNix1dGYxNmJ1ZltvdXQrK109NTUyOTZ8Yz4+MTAmMTAyMyx1dGYxNmJ1ZltvdXQrK109NTYzMjB8MTAyMyZjKX1yZXR1cm4gdXRmMTZidWYubGVuZ3RoIT09b3V0JiYodXRmMTZidWYuc3ViYXJyYXk/dXRmMTZidWY9dXRmMTZidWYuc3ViYXJyYXkoMCxvdXQpOnV0ZjE2YnVmLmxlbmd0aD1vdXQpLHV0aWxzLmFwcGx5RnJvbUNoYXJDb2RlKHV0ZjE2YnVmKX0oYnVmPXV0aWxzLnRyYW5zZm9ybVRvKHN1cHBvcnQudWludDhhcnJheT9cInVpbnQ4YXJyYXlcIjpcImFycmF5XCIsYnVmKSl9LHV0aWxzLmluaGVyaXRzKFV0ZjhEZWNvZGVXb3JrZXIsR2VuZXJpY1dvcmtlciksVXRmOERlY29kZVdvcmtlci5wcm90b3R5cGUucHJvY2Vzc0NodW5rPWZ1bmN0aW9uKGNodW5rKXt2YXIgZGF0YT11dGlscy50cmFuc2Zvcm1UbyhzdXBwb3J0LnVpbnQ4YXJyYXk/XCJ1aW50OGFycmF5XCI6XCJhcnJheVwiLGNodW5rLmRhdGEpO2lmKHRoaXMubGVmdE92ZXImJnRoaXMubGVmdE92ZXIubGVuZ3RoKXtpZihzdXBwb3J0LnVpbnQ4YXJyYXkpe3ZhciBwcmV2aW91c0RhdGE9ZGF0YTsoZGF0YT1uZXcgVWludDhBcnJheShwcmV2aW91c0RhdGEubGVuZ3RoK3RoaXMubGVmdE92ZXIubGVuZ3RoKSkuc2V0KHRoaXMubGVmdE92ZXIsMCksZGF0YS5zZXQocHJldmlvdXNEYXRhLHRoaXMubGVmdE92ZXIubGVuZ3RoKX1lbHNlIGRhdGE9dGhpcy5sZWZ0T3Zlci5jb25jYXQoZGF0YSk7dGhpcy5sZWZ0T3Zlcj1udWxsfXZhciBuZXh0Qm91bmRhcnk9ZnVuY3Rpb24oYnVmLG1heCl7dmFyIHBvcztmb3IoKG1heD1tYXh8fGJ1Zi5sZW5ndGgpPmJ1Zi5sZW5ndGgmJihtYXg9YnVmLmxlbmd0aCkscG9zPW1heC0xO3Bvcz49MCYmMTI4PT0oMTkyJmJ1Zltwb3NdKTspcG9zLS07cmV0dXJuIHBvczwwP21heDowPT09cG9zP21heDpwb3MrX3V0ZjhsZW5bYnVmW3Bvc11dPm1heD9wb3M6bWF4fShkYXRhKSx1c2FibGVEYXRhPWRhdGE7bmV4dEJvdW5kYXJ5IT09ZGF0YS5sZW5ndGgmJihzdXBwb3J0LnVpbnQ4YXJyYXk/KHVzYWJsZURhdGE9ZGF0YS5zdWJhcnJheSgwLG5leHRCb3VuZGFyeSksdGhpcy5sZWZ0T3Zlcj1kYXRhLnN1YmFycmF5KG5leHRCb3VuZGFyeSxkYXRhLmxlbmd0aCkpOih1c2FibGVEYXRhPWRhdGEuc2xpY2UoMCxuZXh0Qm91bmRhcnkpLHRoaXMubGVmdE92ZXI9ZGF0YS5zbGljZShuZXh0Qm91bmRhcnksZGF0YS5sZW5ndGgpKSksdGhpcy5wdXNoKHtkYXRhOmV4cG9ydHMudXRmOGRlY29kZSh1c2FibGVEYXRhKSxtZXRhOmNodW5rLm1ldGF9KX0sVXRmOERlY29kZVdvcmtlci5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oKXt0aGlzLmxlZnRPdmVyJiZ0aGlzLmxlZnRPdmVyLmxlbmd0aCYmKHRoaXMucHVzaCh7ZGF0YTpleHBvcnRzLnV0ZjhkZWNvZGUodGhpcy5sZWZ0T3ZlciksbWV0YTp7fX0pLHRoaXMubGVmdE92ZXI9bnVsbCl9LGV4cG9ydHMuVXRmOERlY29kZVdvcmtlcj1VdGY4RGVjb2RlV29ya2VyLHV0aWxzLmluaGVyaXRzKFV0ZjhFbmNvZGVXb3JrZXIsR2VuZXJpY1dvcmtlciksVXRmOEVuY29kZVdvcmtlci5wcm90b3R5cGUucHJvY2Vzc0NodW5rPWZ1bmN0aW9uKGNodW5rKXt0aGlzLnB1c2goe2RhdGE6ZXhwb3J0cy51dGY4ZW5jb2RlKGNodW5rLmRhdGEpLG1ldGE6Y2h1bmsubWV0YX0pfSxleHBvcnRzLlV0ZjhFbmNvZGVXb3JrZXI9VXRmOEVuY29kZVdvcmtlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe1wiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5jcmVhdGU/bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oY3RvcixzdXBlckN0b3Ipe3N1cGVyQ3RvciYmKGN0b3Iuc3VwZXJfPXN1cGVyQ3RvcixjdG9yLnByb3RvdHlwZT1PYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUse2NvbnN0cnVjdG9yOnt2YWx1ZTpjdG9yLGVudW1lcmFibGU6ITEsd3JpdGFibGU6ITAsY29uZmlndXJhYmxlOiEwfX0pKX06bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oY3RvcixzdXBlckN0b3Ipe2lmKHN1cGVyQ3Rvcil7Y3Rvci5zdXBlcl89c3VwZXJDdG9yO3ZhciBUZW1wQ3Rvcj1mdW5jdGlvbigpe307VGVtcEN0b3IucHJvdG90eXBlPXN1cGVyQ3Rvci5wcm90b3R5cGUsY3Rvci5wcm90b3R5cGU9bmV3IFRlbXBDdG9yLGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yPWN0b3J9fX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBnZXRSYW5kb21WYWx1ZXM9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGNyeXB0byYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcyYmY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0byl8fFwidW5kZWZpbmVkXCIhPXR5cGVvZiBtc0NyeXB0byYmXCJmdW5jdGlvblwiPT10eXBlb2Ygd2luZG93Lm1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcyYmbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQobXNDcnlwdG8pO2lmKGdldFJhbmRvbVZhbHVlcyl7dmFyIHJuZHM4PW5ldyBVaW50OEFycmF5KDE2KTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbigpe3JldHVybiBnZXRSYW5kb21WYWx1ZXMocm5kczgpLHJuZHM4fX1lbHNle3ZhciBybmRzPW5ldyBBcnJheSgxNik7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmb3IodmFyIHIsaT0wO2k8MTY7aSsrKTA9PSgzJmkpJiYocj00Mjk0OTY3Mjk2Kk1hdGgucmFuZG9tKCkpLHJuZHNbaV09cj4+PigoMyZpKTw8MykmMjU1O3JldHVybiBybmRzfX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXtmb3IodmFyIGJ5dGVUb0hleD1bXSxpPTA7aTwyNTY7KytpKWJ5dGVUb0hleFtpXT0oaSsyNTYpLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSk7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oYnVmLG9mZnNldCl7dmFyIGk9b2Zmc2V0fHwwLGJ0aD1ieXRlVG9IZXg7cmV0dXJuW2J0aFtidWZbaSsrXV0sYnRoW2J1ZltpKytdXSxidGhbYnVmW2krK11dLGJ0aFtidWZbaSsrXV0sXCItXCIsYnRoW2J1ZltpKytdXSxidGhbYnVmW2krK11dLFwiLVwiLGJ0aFtidWZbaSsrXV0sYnRoW2J1ZltpKytdXSxcIi1cIixidGhbYnVmW2krK11dLGJ0aFtidWZbaSsrXV0sXCItXCIsYnRoW2J1ZltpKytdXSxidGhbYnVmW2krK11dLGJ0aFtidWZbaSsrXV0sYnRoW2J1ZltpKytdXSxidGhbYnVmW2krK11dLGJ0aFtidWZbaSsrXV1dLmpvaW4oXCJcIil9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmRlZmF1bHQ9N30sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIE1pZ3JhdGlvbnNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDM1KSxNaWdyYXRpb25FeGVjdXRvcj1mdW5jdGlvbigpe2Z1bmN0aW9uIE1pZ3JhdGlvbkV4ZWN1dG9yKGRiLG1pZ3JhdGlvbnNCdWlsZGVyKXt2b2lkIDA9PT1taWdyYXRpb25zQnVpbGRlciYmKG1pZ3JhdGlvbnNCdWlsZGVyPW5ldyBNaWdyYXRpb25zXzEuZGVmYXVsdCksdGhpcy5kYj1kYix0aGlzLm1pZ3JhdGlvbnNCdWlsZGVyPW1pZ3JhdGlvbnNCdWlsZGVyfXJldHVybiBNaWdyYXRpb25FeGVjdXRvci5wcm90b3R5cGUuYXBwbHlNaWdyYXRpb25zPWZ1bmN0aW9uKCl7dmFyIF90aGlzPXRoaXM7dGhpcy5hcHBseU1pZ3JhdGlvbnNQYWNrKHRoaXMubWlncmF0aW9uc0J1aWxkZXIuaW5pdGlhbCksdGhpcy5taWdyYXRpb25zQnVpbGRlci5kYXRlU29ydGVkLmZvckVhY2goZnVuY3Rpb24obWlncmF0aW9uc1BhY2spe190aGlzLmFwcGx5TWlncmF0aW9uc1BhY2sobWlncmF0aW9uc1BhY2spfSl9LE1pZ3JhdGlvbkV4ZWN1dG9yLnByb3RvdHlwZS5hcHBseU1pZ3JhdGlvbnNQYWNrPWZ1bmN0aW9uKG1pZ3JhdGlvbnNQYWNrKXt2YXIgX3RoaXM9dGhpczttaWdyYXRpb25zUGFjay5mb3JFYWNoKGZ1bmN0aW9uKG1pZ3JhdGlvbil7bWlncmF0aW9uKF90aGlzLmRiKX0pfSxNaWdyYXRpb25FeGVjdXRvcn0oKTtleHBvcnRzLmRlZmF1bHQ9TWlncmF0aW9uRXhlY3V0b3J9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuc3RvcmVDcmVhdG9yRGVjb3JhdG9yPXZvaWQgMCxleHBvcnRzLnN0b3JlQ3JlYXRvckRlY29yYXRvcj1mdW5jdGlvbihuYW1lLHN0b3JlQ3JlYXRvcil7cmV0dXJuIGZ1bmN0aW9uKGRhdGFiYXNlKXtkYXRhYmFzZS5vYmplY3RTdG9yZU5hbWVzLmNvbnRhaW5zKG5hbWUpfHxzdG9yZUNyZWF0b3IoZGF0YWJhc2UpfX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihnbG9iYWwpe1xuLyohXG4gKiBUaGUgYnVmZmVyIG1vZHVsZSBmcm9tIG5vZGUuanMsIGZvciB0aGUgYnJvd3Nlci5cbiAqXG4gKiBAYXV0aG9yICAgRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cDovL2Zlcm9zcy5vcmc+XG4gKiBAbGljZW5zZSAgTUlUXG4gKi9cbnZhciBiYXNlNjQ9X193ZWJwYWNrX3JlcXVpcmVfXyg4NyksaWVlZTc1ND1fX3dlYnBhY2tfcmVxdWlyZV9fKDg4KSxpc0FycmF5PV9fd2VicGFja19yZXF1aXJlX18oNDkpO2Z1bmN0aW9uIGtNYXhMZW5ndGgoKXtyZXR1cm4gQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQ/MjE0NzQ4MzY0NzoxMDczNzQxODIzfWZ1bmN0aW9uIGNyZWF0ZUJ1ZmZlcih0aGF0LGxlbmd0aCl7aWYoa01heExlbmd0aCgpPGxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkludmFsaWQgdHlwZWQgYXJyYXkgbGVuZ3RoXCIpO3JldHVybiBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhhdD1uZXcgVWludDhBcnJheShsZW5ndGgpKS5fX3Byb3RvX189QnVmZmVyLnByb3RvdHlwZToobnVsbD09PXRoYXQmJih0aGF0PW5ldyBCdWZmZXIobGVuZ3RoKSksdGhhdC5sZW5ndGg9bGVuZ3RoKSx0aGF0fWZ1bmN0aW9uIEJ1ZmZlcihhcmcsZW5jb2RpbmdPck9mZnNldCxsZW5ndGgpe2lmKCEoQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlR8fHRoaXMgaW5zdGFuY2VvZiBCdWZmZXIpKXJldHVybiBuZXcgQnVmZmVyKGFyZyxlbmNvZGluZ09yT2Zmc2V0LGxlbmd0aCk7aWYoXCJudW1iZXJcIj09dHlwZW9mIGFyZyl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGVuY29kaW5nT3JPZmZzZXQpdGhyb3cgbmV3IEVycm9yKFwiSWYgZW5jb2RpbmcgaXMgc3BlY2lmaWVkIHRoZW4gdGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmdcIik7cmV0dXJuIGFsbG9jVW5zYWZlKHRoaXMsYXJnKX1yZXR1cm4gZnJvbSh0aGlzLGFyZyxlbmNvZGluZ09yT2Zmc2V0LGxlbmd0aCl9ZnVuY3Rpb24gZnJvbSh0aGF0LHZhbHVlLGVuY29kaW5nT3JPZmZzZXQsbGVuZ3RoKXtpZihcIm51bWJlclwiPT10eXBlb2YgdmFsdWUpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIGEgbnVtYmVyJyk7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZ2YWx1ZSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP2Z1bmN0aW9uKHRoYXQsYXJyYXksYnl0ZU9mZnNldCxsZW5ndGgpe2lmKGFycmF5LmJ5dGVMZW5ndGgsYnl0ZU9mZnNldDwwfHxhcnJheS5ieXRlTGVuZ3RoPGJ5dGVPZmZzZXQpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCInb2Zmc2V0JyBpcyBvdXQgb2YgYm91bmRzXCIpO2lmKGFycmF5LmJ5dGVMZW5ndGg8Ynl0ZU9mZnNldCsobGVuZ3RofHwwKSl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIidsZW5ndGgnIGlzIG91dCBvZiBib3VuZHNcIik7YXJyYXk9dm9pZCAwPT09Ynl0ZU9mZnNldCYmdm9pZCAwPT09bGVuZ3RoP25ldyBVaW50OEFycmF5KGFycmF5KTp2b2lkIDA9PT1sZW5ndGg/bmV3IFVpbnQ4QXJyYXkoYXJyYXksYnl0ZU9mZnNldCk6bmV3IFVpbnQ4QXJyYXkoYXJyYXksYnl0ZU9mZnNldCxsZW5ndGgpO0J1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGF0PWFycmF5KS5fX3Byb3RvX189QnVmZmVyLnByb3RvdHlwZTp0aGF0PWZyb21BcnJheUxpa2UodGhhdCxhcnJheSk7cmV0dXJuIHRoYXR9KHRoYXQsdmFsdWUsZW5jb2RpbmdPck9mZnNldCxsZW5ndGgpOlwic3RyaW5nXCI9PXR5cGVvZiB2YWx1ZT9mdW5jdGlvbih0aGF0LHN0cmluZyxlbmNvZGluZyl7XCJzdHJpbmdcIj09dHlwZW9mIGVuY29kaW5nJiZcIlwiIT09ZW5jb2Rpbmd8fChlbmNvZGluZz1cInV0ZjhcIik7aWYoIUJ1ZmZlci5pc0VuY29kaW5nKGVuY29kaW5nKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImVuY29kaW5nXCIgbXVzdCBiZSBhIHZhbGlkIHN0cmluZyBlbmNvZGluZycpO3ZhciBsZW5ndGg9MHxieXRlTGVuZ3RoKHN0cmluZyxlbmNvZGluZyksYWN0dWFsPSh0aGF0PWNyZWF0ZUJ1ZmZlcih0aGF0LGxlbmd0aCkpLndyaXRlKHN0cmluZyxlbmNvZGluZyk7YWN0dWFsIT09bGVuZ3RoJiYodGhhdD10aGF0LnNsaWNlKDAsYWN0dWFsKSk7cmV0dXJuIHRoYXR9KHRoYXQsdmFsdWUsZW5jb2RpbmdPck9mZnNldCk6ZnVuY3Rpb24odGhhdCxvYmope2lmKEJ1ZmZlci5pc0J1ZmZlcihvYmopKXt2YXIgbGVuPTB8Y2hlY2tlZChvYmoubGVuZ3RoKTtyZXR1cm4gMD09PSh0aGF0PWNyZWF0ZUJ1ZmZlcih0aGF0LGxlbikpLmxlbmd0aD90aGF0OihvYmouY29weSh0aGF0LDAsMCxsZW4pLHRoYXQpfWlmKG9iail7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZvYmouYnVmZmVyIGluc3RhbmNlb2YgQXJyYXlCdWZmZXJ8fFwibGVuZ3RoXCJpbiBvYmopcmV0dXJuXCJudW1iZXJcIiE9dHlwZW9mIG9iai5sZW5ndGh8fGZ1bmN0aW9uKHZhbCl7cmV0dXJuIHZhbCE9dmFsfShvYmoubGVuZ3RoKT9jcmVhdGVCdWZmZXIodGhhdCwwKTpmcm9tQXJyYXlMaWtlKHRoYXQsb2JqKTtpZihcIkJ1ZmZlclwiPT09b2JqLnR5cGUmJmlzQXJyYXkob2JqLmRhdGEpKXJldHVybiBmcm9tQXJyYXlMaWtlKHRoYXQsb2JqLmRhdGEpfXRocm93IG5ldyBUeXBlRXJyb3IoXCJGaXJzdCBhcmd1bWVudCBtdXN0IGJlIGEgc3RyaW5nLCBCdWZmZXIsIEFycmF5QnVmZmVyLCBBcnJheSwgb3IgYXJyYXktbGlrZSBvYmplY3QuXCIpfSh0aGF0LHZhbHVlKX1mdW5jdGlvbiBhc3NlcnRTaXplKHNpemUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBzaXplKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXInKTtpZihzaXplPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1wic2l6ZVwiIGFyZ3VtZW50IG11c3Qgbm90IGJlIG5lZ2F0aXZlJyl9ZnVuY3Rpb24gYWxsb2NVbnNhZmUodGhhdCxzaXplKXtpZihhc3NlcnRTaXplKHNpemUpLHRoYXQ9Y3JlYXRlQnVmZmVyKHRoYXQsc2l6ZTwwPzA6MHxjaGVja2VkKHNpemUpKSwhQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpZm9yKHZhciBpPTA7aTxzaXplOysraSl0aGF0W2ldPTA7cmV0dXJuIHRoYXR9ZnVuY3Rpb24gZnJvbUFycmF5TGlrZSh0aGF0LGFycmF5KXt2YXIgbGVuZ3RoPWFycmF5Lmxlbmd0aDwwPzA6MHxjaGVja2VkKGFycmF5Lmxlbmd0aCk7dGhhdD1jcmVhdGVCdWZmZXIodGhhdCxsZW5ndGgpO2Zvcih2YXIgaT0wO2k8bGVuZ3RoO2krPTEpdGhhdFtpXT0yNTUmYXJyYXlbaV07cmV0dXJuIHRoYXR9ZnVuY3Rpb24gY2hlY2tlZChsZW5ndGgpe2lmKGxlbmd0aD49a01heExlbmd0aCgpKXRocm93IG5ldyBSYW5nZUVycm9yKFwiQXR0ZW1wdCB0byBhbGxvY2F0ZSBCdWZmZXIgbGFyZ2VyIHRoYW4gbWF4aW11bSBzaXplOiAweFwiK2tNYXhMZW5ndGgoKS50b1N0cmluZygxNikrXCIgYnl0ZXNcIik7cmV0dXJuIDB8bGVuZ3RofWZ1bmN0aW9uIGJ5dGVMZW5ndGgoc3RyaW5nLGVuY29kaW5nKXtpZihCdWZmZXIuaXNCdWZmZXIoc3RyaW5nKSlyZXR1cm4gc3RyaW5nLmxlbmd0aDtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgQXJyYXlCdWZmZXImJlwiZnVuY3Rpb25cIj09dHlwZW9mIEFycmF5QnVmZmVyLmlzVmlldyYmKEFycmF5QnVmZmVyLmlzVmlldyhzdHJpbmcpfHxzdHJpbmcgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikpcmV0dXJuIHN0cmluZy5ieXRlTGVuZ3RoO1wic3RyaW5nXCIhPXR5cGVvZiBzdHJpbmcmJihzdHJpbmc9XCJcIitzdHJpbmcpO3ZhciBsZW49c3RyaW5nLmxlbmd0aDtpZigwPT09bGVuKXJldHVybiAwO2Zvcih2YXIgbG93ZXJlZENhc2U9ITE7Oylzd2l0Y2goZW5jb2Rpbmcpe2Nhc2VcImFzY2lpXCI6Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIGxlbjtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpjYXNlIHZvaWQgMDpyZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGg7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuIDIqbGVuO2Nhc2VcImhleFwiOnJldHVybiBsZW4+Pj4xO2Nhc2VcImJhc2U2NFwiOnJldHVybiBiYXNlNjRUb0J5dGVzKHN0cmluZykubGVuZ3RoO2RlZmF1bHQ6aWYobG93ZXJlZENhc2UpcmV0dXJuIHV0ZjhUb0J5dGVzKHN0cmluZykubGVuZ3RoO2VuY29kaW5nPShcIlwiK2VuY29kaW5nKS50b0xvd2VyQ2FzZSgpLGxvd2VyZWRDYXNlPSEwfX1mdW5jdGlvbiBzd2FwKGIsbixtKXt2YXIgaT1iW25dO2Jbbl09YlttXSxiW21dPWl9ZnVuY3Rpb24gYmlkaXJlY3Rpb25hbEluZGV4T2YoYnVmZmVyLHZhbCxieXRlT2Zmc2V0LGVuY29kaW5nLGRpcil7aWYoMD09PWJ1ZmZlci5sZW5ndGgpcmV0dXJuLTE7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGJ5dGVPZmZzZXQ/KGVuY29kaW5nPWJ5dGVPZmZzZXQsYnl0ZU9mZnNldD0wKTpieXRlT2Zmc2V0PjIxNDc0ODM2NDc/Ynl0ZU9mZnNldD0yMTQ3NDgzNjQ3OmJ5dGVPZmZzZXQ8LTIxNDc0ODM2NDgmJihieXRlT2Zmc2V0PS0yMTQ3NDgzNjQ4KSxieXRlT2Zmc2V0PStieXRlT2Zmc2V0LGlzTmFOKGJ5dGVPZmZzZXQpJiYoYnl0ZU9mZnNldD1kaXI/MDpidWZmZXIubGVuZ3RoLTEpLGJ5dGVPZmZzZXQ8MCYmKGJ5dGVPZmZzZXQ9YnVmZmVyLmxlbmd0aCtieXRlT2Zmc2V0KSxieXRlT2Zmc2V0Pj1idWZmZXIubGVuZ3RoKXtpZihkaXIpcmV0dXJuLTE7Ynl0ZU9mZnNldD1idWZmZXIubGVuZ3RoLTF9ZWxzZSBpZihieXRlT2Zmc2V0PDApe2lmKCFkaXIpcmV0dXJuLTE7Ynl0ZU9mZnNldD0wfWlmKFwic3RyaW5nXCI9PXR5cGVvZiB2YWwmJih2YWw9QnVmZmVyLmZyb20odmFsLGVuY29kaW5nKSksQnVmZmVyLmlzQnVmZmVyKHZhbCkpcmV0dXJuIDA9PT12YWwubGVuZ3RoPy0xOmFycmF5SW5kZXhPZihidWZmZXIsdmFsLGJ5dGVPZmZzZXQsZW5jb2RpbmcsZGlyKTtpZihcIm51bWJlclwiPT10eXBlb2YgdmFsKXJldHVybiB2YWwmPTI1NSxCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVCYmXCJmdW5jdGlvblwiPT10eXBlb2YgVWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZj9kaXI/VWludDhBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGJ1ZmZlcix2YWwsYnl0ZU9mZnNldCk6VWludDhBcnJheS5wcm90b3R5cGUubGFzdEluZGV4T2YuY2FsbChidWZmZXIsdmFsLGJ5dGVPZmZzZXQpOmFycmF5SW5kZXhPZihidWZmZXIsW3ZhbF0sYnl0ZU9mZnNldCxlbmNvZGluZyxkaXIpO3Rocm93IG5ldyBUeXBlRXJyb3IoXCJ2YWwgbXVzdCBiZSBzdHJpbmcsIG51bWJlciBvciBCdWZmZXJcIil9ZnVuY3Rpb24gYXJyYXlJbmRleE9mKGFycix2YWwsYnl0ZU9mZnNldCxlbmNvZGluZyxkaXIpe3ZhciBpLGluZGV4U2l6ZT0xLGFyckxlbmd0aD1hcnIubGVuZ3RoLHZhbExlbmd0aD12YWwubGVuZ3RoO2lmKHZvaWQgMCE9PWVuY29kaW5nJiYoXCJ1Y3MyXCI9PT0oZW5jb2Rpbmc9U3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpKXx8XCJ1Y3MtMlwiPT09ZW5jb2Rpbmd8fFwidXRmMTZsZVwiPT09ZW5jb2Rpbmd8fFwidXRmLTE2bGVcIj09PWVuY29kaW5nKSl7aWYoYXJyLmxlbmd0aDwyfHx2YWwubGVuZ3RoPDIpcmV0dXJuLTE7aW5kZXhTaXplPTIsYXJyTGVuZ3RoLz0yLHZhbExlbmd0aC89MixieXRlT2Zmc2V0Lz0yfWZ1bmN0aW9uIHJlYWQoYnVmLGkpe3JldHVybiAxPT09aW5kZXhTaXplP2J1ZltpXTpidWYucmVhZFVJbnQxNkJFKGkqaW5kZXhTaXplKX1pZihkaXIpe3ZhciBmb3VuZEluZGV4PS0xO2ZvcihpPWJ5dGVPZmZzZXQ7aTxhcnJMZW5ndGg7aSsrKWlmKHJlYWQoYXJyLGkpPT09cmVhZCh2YWwsLTE9PT1mb3VuZEluZGV4PzA6aS1mb3VuZEluZGV4KSl7aWYoLTE9PT1mb3VuZEluZGV4JiYoZm91bmRJbmRleD1pKSxpLWZvdW5kSW5kZXgrMT09PXZhbExlbmd0aClyZXR1cm4gZm91bmRJbmRleCppbmRleFNpemV9ZWxzZS0xIT09Zm91bmRJbmRleCYmKGktPWktZm91bmRJbmRleCksZm91bmRJbmRleD0tMX1lbHNlIGZvcihieXRlT2Zmc2V0K3ZhbExlbmd0aD5hcnJMZW5ndGgmJihieXRlT2Zmc2V0PWFyckxlbmd0aC12YWxMZW5ndGgpLGk9Ynl0ZU9mZnNldDtpPj0wO2ktLSl7Zm9yKHZhciBmb3VuZD0hMCxqPTA7ajx2YWxMZW5ndGg7aisrKWlmKHJlYWQoYXJyLGkraikhPT1yZWFkKHZhbCxqKSl7Zm91bmQ9ITE7YnJlYWt9aWYoZm91bmQpcmV0dXJuIGl9cmV0dXJuLTF9ZnVuY3Rpb24gaGV4V3JpdGUoYnVmLHN0cmluZyxvZmZzZXQsbGVuZ3RoKXtvZmZzZXQ9TnVtYmVyKG9mZnNldCl8fDA7dmFyIHJlbWFpbmluZz1idWYubGVuZ3RoLW9mZnNldDtsZW5ndGg/KGxlbmd0aD1OdW1iZXIobGVuZ3RoKSk+cmVtYWluaW5nJiYobGVuZ3RoPXJlbWFpbmluZyk6bGVuZ3RoPXJlbWFpbmluZzt2YXIgc3RyTGVuPXN0cmluZy5sZW5ndGg7aWYoc3RyTGVuJTIhPTApdGhyb3cgbmV3IFR5cGVFcnJvcihcIkludmFsaWQgaGV4IHN0cmluZ1wiKTtsZW5ndGg+c3RyTGVuLzImJihsZW5ndGg9c3RyTGVuLzIpO2Zvcih2YXIgaT0wO2k8bGVuZ3RoOysraSl7dmFyIHBhcnNlZD1wYXJzZUludChzdHJpbmcuc3Vic3RyKDIqaSwyKSwxNik7aWYoaXNOYU4ocGFyc2VkKSlyZXR1cm4gaTtidWZbb2Zmc2V0K2ldPXBhcnNlZH1yZXR1cm4gaX1mdW5jdGlvbiB1dGY4V3JpdGUoYnVmLHN0cmluZyxvZmZzZXQsbGVuZ3RoKXtyZXR1cm4gYmxpdEJ1ZmZlcih1dGY4VG9CeXRlcyhzdHJpbmcsYnVmLmxlbmd0aC1vZmZzZXQpLGJ1ZixvZmZzZXQsbGVuZ3RoKX1mdW5jdGlvbiBhc2NpaVdyaXRlKGJ1ZixzdHJpbmcsb2Zmc2V0LGxlbmd0aCl7cmV0dXJuIGJsaXRCdWZmZXIoZnVuY3Rpb24oc3RyKXtmb3IodmFyIGJ5dGVBcnJheT1bXSxpPTA7aTxzdHIubGVuZ3RoOysraSlieXRlQXJyYXkucHVzaCgyNTUmc3RyLmNoYXJDb2RlQXQoaSkpO3JldHVybiBieXRlQXJyYXl9KHN0cmluZyksYnVmLG9mZnNldCxsZW5ndGgpfWZ1bmN0aW9uIGxhdGluMVdyaXRlKGJ1ZixzdHJpbmcsb2Zmc2V0LGxlbmd0aCl7cmV0dXJuIGFzY2lpV3JpdGUoYnVmLHN0cmluZyxvZmZzZXQsbGVuZ3RoKX1mdW5jdGlvbiBiYXNlNjRXcml0ZShidWYsc3RyaW5nLG9mZnNldCxsZW5ndGgpe3JldHVybiBibGl0QnVmZmVyKGJhc2U2NFRvQnl0ZXMoc3RyaW5nKSxidWYsb2Zmc2V0LGxlbmd0aCl9ZnVuY3Rpb24gdWNzMldyaXRlKGJ1ZixzdHJpbmcsb2Zmc2V0LGxlbmd0aCl7cmV0dXJuIGJsaXRCdWZmZXIoZnVuY3Rpb24oc3RyLHVuaXRzKXtmb3IodmFyIGMsaGksbG8sYnl0ZUFycmF5PVtdLGk9MDtpPHN0ci5sZW5ndGgmJiEoKHVuaXRzLT0yKTwwKTsrK2kpYz1zdHIuY2hhckNvZGVBdChpKSxoaT1jPj44LGxvPWMlMjU2LGJ5dGVBcnJheS5wdXNoKGxvKSxieXRlQXJyYXkucHVzaChoaSk7cmV0dXJuIGJ5dGVBcnJheX0oc3RyaW5nLGJ1Zi5sZW5ndGgtb2Zmc2V0KSxidWYsb2Zmc2V0LGxlbmd0aCl9ZnVuY3Rpb24gYmFzZTY0U2xpY2UoYnVmLHN0YXJ0LGVuZCl7cmV0dXJuIDA9PT1zdGFydCYmZW5kPT09YnVmLmxlbmd0aD9iYXNlNjQuZnJvbUJ5dGVBcnJheShidWYpOmJhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1Zi5zbGljZShzdGFydCxlbmQpKX1mdW5jdGlvbiB1dGY4U2xpY2UoYnVmLHN0YXJ0LGVuZCl7ZW5kPU1hdGgubWluKGJ1Zi5sZW5ndGgsZW5kKTtmb3IodmFyIHJlcz1bXSxpPXN0YXJ0O2k8ZW5kOyl7dmFyIHNlY29uZEJ5dGUsdGhpcmRCeXRlLGZvdXJ0aEJ5dGUsdGVtcENvZGVQb2ludCxmaXJzdEJ5dGU9YnVmW2ldLGNvZGVQb2ludD1udWxsLGJ5dGVzUGVyU2VxdWVuY2U9Zmlyc3RCeXRlPjIzOT80OmZpcnN0Qnl0ZT4yMjM/MzpmaXJzdEJ5dGU+MTkxPzI6MTtpZihpK2J5dGVzUGVyU2VxdWVuY2U8PWVuZClzd2l0Y2goYnl0ZXNQZXJTZXF1ZW5jZSl7Y2FzZSAxOmZpcnN0Qnl0ZTwxMjgmJihjb2RlUG9pbnQ9Zmlyc3RCeXRlKTticmVhaztjYXNlIDI6MTI4PT0oMTkyJihzZWNvbmRCeXRlPWJ1ZltpKzFdKSkmJih0ZW1wQ29kZVBvaW50PSgzMSZmaXJzdEJ5dGUpPDw2fDYzJnNlY29uZEJ5dGUpPjEyNyYmKGNvZGVQb2ludD10ZW1wQ29kZVBvaW50KTticmVhaztjYXNlIDM6c2Vjb25kQnl0ZT1idWZbaSsxXSx0aGlyZEJ5dGU9YnVmW2krMl0sMTI4PT0oMTkyJnNlY29uZEJ5dGUpJiYxMjg9PSgxOTImdGhpcmRCeXRlKSYmKHRlbXBDb2RlUG9pbnQ9KDE1JmZpcnN0Qnl0ZSk8PDEyfCg2MyZzZWNvbmRCeXRlKTw8Nnw2MyZ0aGlyZEJ5dGUpPjIwNDcmJih0ZW1wQ29kZVBvaW50PDU1Mjk2fHx0ZW1wQ29kZVBvaW50PjU3MzQzKSYmKGNvZGVQb2ludD10ZW1wQ29kZVBvaW50KTticmVhaztjYXNlIDQ6c2Vjb25kQnl0ZT1idWZbaSsxXSx0aGlyZEJ5dGU9YnVmW2krMl0sZm91cnRoQnl0ZT1idWZbaSszXSwxMjg9PSgxOTImc2Vjb25kQnl0ZSkmJjEyOD09KDE5MiZ0aGlyZEJ5dGUpJiYxMjg9PSgxOTImZm91cnRoQnl0ZSkmJih0ZW1wQ29kZVBvaW50PSgxNSZmaXJzdEJ5dGUpPDwxOHwoNjMmc2Vjb25kQnl0ZSk8PDEyfCg2MyZ0aGlyZEJ5dGUpPDw2fDYzJmZvdXJ0aEJ5dGUpPjY1NTM1JiZ0ZW1wQ29kZVBvaW50PDExMTQxMTImJihjb2RlUG9pbnQ9dGVtcENvZGVQb2ludCl9bnVsbD09PWNvZGVQb2ludD8oY29kZVBvaW50PTY1NTMzLGJ5dGVzUGVyU2VxdWVuY2U9MSk6Y29kZVBvaW50PjY1NTM1JiYoY29kZVBvaW50LT02NTUzNixyZXMucHVzaChjb2RlUG9pbnQ+Pj4xMCYxMDIzfDU1Mjk2KSxjb2RlUG9pbnQ9NTYzMjB8MTAyMyZjb2RlUG9pbnQpLHJlcy5wdXNoKGNvZGVQb2ludCksaSs9Ynl0ZXNQZXJTZXF1ZW5jZX1yZXR1cm4gZnVuY3Rpb24oY29kZVBvaW50cyl7dmFyIGxlbj1jb2RlUG9pbnRzLmxlbmd0aDtpZihsZW48PU1BWF9BUkdVTUVOVFNfTEVOR1RIKXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxjb2RlUG9pbnRzKTt2YXIgcmVzPVwiXCIsaT0wO2Zvcig7aTxsZW47KXJlcys9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsY29kZVBvaW50cy5zbGljZShpLGkrPU1BWF9BUkdVTUVOVFNfTEVOR1RIKSk7cmV0dXJuIHJlc30ocmVzKX1leHBvcnRzLkJ1ZmZlcj1CdWZmZXIsZXhwb3J0cy5TbG93QnVmZmVyPWZ1bmN0aW9uKGxlbmd0aCl7K2xlbmd0aCE9bGVuZ3RoJiYobGVuZ3RoPTApO3JldHVybiBCdWZmZXIuYWxsb2MoK2xlbmd0aCl9LGV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVM9NTAsQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQ9dm9pZCAwIT09Z2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlQ/Z2xvYmFsLlRZUEVEX0FSUkFZX1NVUFBPUlQ6ZnVuY3Rpb24oKXt0cnl7dmFyIGFycj1uZXcgVWludDhBcnJheSgxKTtyZXR1cm4gYXJyLl9fcHJvdG9fXz17X19wcm90b19fOlVpbnQ4QXJyYXkucHJvdG90eXBlLGZvbzpmdW5jdGlvbigpe3JldHVybiA0Mn19LDQyPT09YXJyLmZvbygpJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBhcnIuc3ViYXJyYXkmJjA9PT1hcnIuc3ViYXJyYXkoMSwxKS5ieXRlTGVuZ3RofWNhdGNoKGUpe3JldHVybiExfX0oKSxleHBvcnRzLmtNYXhMZW5ndGg9a01heExlbmd0aCgpLEJ1ZmZlci5wb29sU2l6ZT04MTkyLEJ1ZmZlci5fYXVnbWVudD1mdW5jdGlvbihhcnIpe3JldHVybiBhcnIuX19wcm90b19fPUJ1ZmZlci5wcm90b3R5cGUsYXJyfSxCdWZmZXIuZnJvbT1mdW5jdGlvbih2YWx1ZSxlbmNvZGluZ09yT2Zmc2V0LGxlbmd0aCl7cmV0dXJuIGZyb20obnVsbCx2YWx1ZSxlbmNvZGluZ09yT2Zmc2V0LGxlbmd0aCl9LEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUJiYoQnVmZmVyLnByb3RvdHlwZS5fX3Byb3RvX189VWludDhBcnJheS5wcm90b3R5cGUsQnVmZmVyLl9fcHJvdG9fXz1VaW50OEFycmF5LFwidW5kZWZpbmVkXCIhPXR5cGVvZiBTeW1ib2wmJlN5bWJvbC5zcGVjaWVzJiZCdWZmZXJbU3ltYm9sLnNwZWNpZXNdPT09QnVmZmVyJiZPYmplY3QuZGVmaW5lUHJvcGVydHkoQnVmZmVyLFN5bWJvbC5zcGVjaWVzLHt2YWx1ZTpudWxsLGNvbmZpZ3VyYWJsZTohMH0pKSxCdWZmZXIuYWxsb2M9ZnVuY3Rpb24oc2l6ZSxmaWxsLGVuY29kaW5nKXtyZXR1cm4gZnVuY3Rpb24odGhhdCxzaXplLGZpbGwsZW5jb2Rpbmcpe3JldHVybiBhc3NlcnRTaXplKHNpemUpLHNpemU8PTA/Y3JlYXRlQnVmZmVyKHRoYXQsc2l6ZSk6dm9pZCAwIT09ZmlsbD9cInN0cmluZ1wiPT10eXBlb2YgZW5jb2Rpbmc/Y3JlYXRlQnVmZmVyKHRoYXQsc2l6ZSkuZmlsbChmaWxsLGVuY29kaW5nKTpjcmVhdGVCdWZmZXIodGhhdCxzaXplKS5maWxsKGZpbGwpOmNyZWF0ZUJ1ZmZlcih0aGF0LHNpemUpfShudWxsLHNpemUsZmlsbCxlbmNvZGluZyl9LEJ1ZmZlci5hbGxvY1Vuc2FmZT1mdW5jdGlvbihzaXplKXtyZXR1cm4gYWxsb2NVbnNhZmUobnVsbCxzaXplKX0sQnVmZmVyLmFsbG9jVW5zYWZlU2xvdz1mdW5jdGlvbihzaXplKXtyZXR1cm4gYWxsb2NVbnNhZmUobnVsbCxzaXplKX0sQnVmZmVyLmlzQnVmZmVyPWZ1bmN0aW9uKGIpe3JldHVybiEobnVsbD09Ynx8IWIuX2lzQnVmZmVyKX0sQnVmZmVyLmNvbXBhcmU9ZnVuY3Rpb24oYSxiKXtpZighQnVmZmVyLmlzQnVmZmVyKGEpfHwhQnVmZmVyLmlzQnVmZmVyKGIpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudHMgbXVzdCBiZSBCdWZmZXJzXCIpO2lmKGE9PT1iKXJldHVybiAwO2Zvcih2YXIgeD1hLmxlbmd0aCx5PWIubGVuZ3RoLGk9MCxsZW49TWF0aC5taW4oeCx5KTtpPGxlbjsrK2kpaWYoYVtpXSE9PWJbaV0pe3g9YVtpXSx5PWJbaV07YnJlYWt9cmV0dXJuIHg8eT8tMTp5PHg/MTowfSxCdWZmZXIuaXNFbmNvZGluZz1mdW5jdGlvbihlbmNvZGluZyl7c3dpdGNoKFN0cmluZyhlbmNvZGluZykudG9Mb3dlckNhc2UoKSl7Y2FzZVwiaGV4XCI6Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6Y2FzZVwiYXNjaWlcIjpjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpjYXNlXCJiYXNlNjRcIjpjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4hMDtkZWZhdWx0OnJldHVybiExfX0sQnVmZmVyLmNvbmNhdD1mdW5jdGlvbihsaXN0LGxlbmd0aCl7aWYoIWlzQXJyYXkobGlzdCkpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyk7aWYoMD09PWxpc3QubGVuZ3RoKXJldHVybiBCdWZmZXIuYWxsb2MoMCk7dmFyIGk7aWYodm9pZCAwPT09bGVuZ3RoKWZvcihsZW5ndGg9MCxpPTA7aTxsaXN0Lmxlbmd0aDsrK2kpbGVuZ3RoKz1saXN0W2ldLmxlbmd0aDt2YXIgYnVmZmVyPUJ1ZmZlci5hbGxvY1Vuc2FmZShsZW5ndGgpLHBvcz0wO2ZvcihpPTA7aTxsaXN0Lmxlbmd0aDsrK2kpe3ZhciBidWY9bGlzdFtpXTtpZighQnVmZmVyLmlzQnVmZmVyKGJ1ZikpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJsaXN0XCIgYXJndW1lbnQgbXVzdCBiZSBhbiBBcnJheSBvZiBCdWZmZXJzJyk7YnVmLmNvcHkoYnVmZmVyLHBvcykscG9zKz1idWYubGVuZ3RofXJldHVybiBidWZmZXJ9LEJ1ZmZlci5ieXRlTGVuZ3RoPWJ5dGVMZW5ndGgsQnVmZmVyLnByb3RvdHlwZS5faXNCdWZmZXI9ITAsQnVmZmVyLnByb3RvdHlwZS5zd2FwMTY9ZnVuY3Rpb24oKXt2YXIgbGVuPXRoaXMubGVuZ3RoO2lmKGxlbiUyIT0wKXRocm93IG5ldyBSYW5nZUVycm9yKFwiQnVmZmVyIHNpemUgbXVzdCBiZSBhIG11bHRpcGxlIG9mIDE2LWJpdHNcIik7Zm9yKHZhciBpPTA7aTxsZW47aSs9Milzd2FwKHRoaXMsaSxpKzEpO3JldHVybiB0aGlzfSxCdWZmZXIucHJvdG90eXBlLnN3YXAzMj1mdW5jdGlvbigpe3ZhciBsZW49dGhpcy5sZW5ndGg7aWYobGVuJTQhPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMzItYml0c1wiKTtmb3IodmFyIGk9MDtpPGxlbjtpKz00KXN3YXAodGhpcyxpLGkrMyksc3dhcCh0aGlzLGkrMSxpKzIpO3JldHVybiB0aGlzfSxCdWZmZXIucHJvdG90eXBlLnN3YXA2ND1mdW5jdGlvbigpe3ZhciBsZW49dGhpcy5sZW5ndGg7aWYobGVuJTghPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNjQtYml0c1wiKTtmb3IodmFyIGk9MDtpPGxlbjtpKz04KXN3YXAodGhpcyxpLGkrNyksc3dhcCh0aGlzLGkrMSxpKzYpLHN3YXAodGhpcyxpKzIsaSs1KSxzd2FwKHRoaXMsaSszLGkrNCk7cmV0dXJuIHRoaXN9LEJ1ZmZlci5wcm90b3R5cGUudG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgbGVuZ3RoPTB8dGhpcy5sZW5ndGg7cmV0dXJuIDA9PT1sZW5ndGg/XCJcIjowPT09YXJndW1lbnRzLmxlbmd0aD91dGY4U2xpY2UodGhpcywwLGxlbmd0aCk6ZnVuY3Rpb24oZW5jb2Rpbmcsc3RhcnQsZW5kKXt2YXIgbG93ZXJlZENhc2U9ITE7aWYoKHZvaWQgMD09PXN0YXJ0fHxzdGFydDwwKSYmKHN0YXJ0PTApLHN0YXJ0PnRoaXMubGVuZ3RoKXJldHVyblwiXCI7aWYoKHZvaWQgMD09PWVuZHx8ZW5kPnRoaXMubGVuZ3RoKSYmKGVuZD10aGlzLmxlbmd0aCksZW5kPD0wKXJldHVyblwiXCI7aWYoKGVuZD4+Pj0wKTw9KHN0YXJ0Pj4+PTApKXJldHVyblwiXCI7Zm9yKGVuY29kaW5nfHwoZW5jb2Rpbmc9XCJ1dGY4XCIpOzspc3dpdGNoKGVuY29kaW5nKXtjYXNlXCJoZXhcIjpyZXR1cm4gaGV4U2xpY2UodGhpcyxzdGFydCxlbmQpO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiB1dGY4U2xpY2UodGhpcyxzdGFydCxlbmQpO2Nhc2VcImFzY2lpXCI6cmV0dXJuIGFzY2lpU2xpY2UodGhpcyxzdGFydCxlbmQpO2Nhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOnJldHVybiBsYXRpbjFTbGljZSh0aGlzLHN0YXJ0LGVuZCk7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIGJhc2U2NFNsaWNlKHRoaXMsc3RhcnQsZW5kKTtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gdXRmMTZsZVNsaWNlKHRoaXMsc3RhcnQsZW5kKTtkZWZhdWx0OmlmKGxvd2VyZWRDYXNlKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIitlbmNvZGluZyk7ZW5jb2Rpbmc9KGVuY29kaW5nK1wiXCIpLnRvTG93ZXJDYXNlKCksbG93ZXJlZENhc2U9ITB9fS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LEJ1ZmZlci5wcm90b3R5cGUuZXF1YWxzPWZ1bmN0aW9uKGIpe2lmKCFCdWZmZXIuaXNCdWZmZXIoYikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXJcIik7cmV0dXJuIHRoaXM9PT1ifHwwPT09QnVmZmVyLmNvbXBhcmUodGhpcyxiKX0sQnVmZmVyLnByb3RvdHlwZS5pbnNwZWN0PWZ1bmN0aW9uKCl7dmFyIHN0cj1cIlwiLG1heD1leHBvcnRzLklOU1BFQ1RfTUFYX0JZVEVTO3JldHVybiB0aGlzLmxlbmd0aD4wJiYoc3RyPXRoaXMudG9TdHJpbmcoXCJoZXhcIiwwLG1heCkubWF0Y2goLy57Mn0vZykuam9pbihcIiBcIiksdGhpcy5sZW5ndGg+bWF4JiYoc3RyKz1cIiAuLi4gXCIpKSxcIjxCdWZmZXIgXCIrc3RyK1wiPlwifSxCdWZmZXIucHJvdG90eXBlLmNvbXBhcmU9ZnVuY3Rpb24odGFyZ2V0LHN0YXJ0LGVuZCx0aGlzU3RhcnQsdGhpc0VuZCl7aWYoIUJ1ZmZlci5pc0J1ZmZlcih0YXJnZXQpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IGJlIGEgQnVmZmVyXCIpO2lmKHZvaWQgMD09PXN0YXJ0JiYoc3RhcnQ9MCksdm9pZCAwPT09ZW5kJiYoZW5kPXRhcmdldD90YXJnZXQubGVuZ3RoOjApLHZvaWQgMD09PXRoaXNTdGFydCYmKHRoaXNTdGFydD0wKSx2b2lkIDA9PT10aGlzRW5kJiYodGhpc0VuZD10aGlzLmxlbmd0aCksc3RhcnQ8MHx8ZW5kPnRhcmdldC5sZW5ndGh8fHRoaXNTdGFydDwwfHx0aGlzRW5kPnRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwib3V0IG9mIHJhbmdlIGluZGV4XCIpO2lmKHRoaXNTdGFydD49dGhpc0VuZCYmc3RhcnQ+PWVuZClyZXR1cm4gMDtpZih0aGlzU3RhcnQ+PXRoaXNFbmQpcmV0dXJuLTE7aWYoc3RhcnQ+PWVuZClyZXR1cm4gMTtpZihzdGFydD4+Pj0wLGVuZD4+Pj0wLHRoaXNTdGFydD4+Pj0wLHRoaXNFbmQ+Pj49MCx0aGlzPT09dGFyZ2V0KXJldHVybiAwO2Zvcih2YXIgeD10aGlzRW5kLXRoaXNTdGFydCx5PWVuZC1zdGFydCxsZW49TWF0aC5taW4oeCx5KSx0aGlzQ29weT10aGlzLnNsaWNlKHRoaXNTdGFydCx0aGlzRW5kKSx0YXJnZXRDb3B5PXRhcmdldC5zbGljZShzdGFydCxlbmQpLGk9MDtpPGxlbjsrK2kpaWYodGhpc0NvcHlbaV0hPT10YXJnZXRDb3B5W2ldKXt4PXRoaXNDb3B5W2ldLHk9dGFyZ2V0Q29weVtpXTticmVha31yZXR1cm4geDx5Py0xOnk8eD8xOjB9LEJ1ZmZlci5wcm90b3R5cGUuaW5jbHVkZXM9ZnVuY3Rpb24odmFsLGJ5dGVPZmZzZXQsZW5jb2Rpbmcpe3JldHVybi0xIT09dGhpcy5pbmRleE9mKHZhbCxieXRlT2Zmc2V0LGVuY29kaW5nKX0sQnVmZmVyLnByb3RvdHlwZS5pbmRleE9mPWZ1bmN0aW9uKHZhbCxieXRlT2Zmc2V0LGVuY29kaW5nKXtyZXR1cm4gYmlkaXJlY3Rpb25hbEluZGV4T2YodGhpcyx2YWwsYnl0ZU9mZnNldCxlbmNvZGluZywhMCl9LEJ1ZmZlci5wcm90b3R5cGUubGFzdEluZGV4T2Y9ZnVuY3Rpb24odmFsLGJ5dGVPZmZzZXQsZW5jb2Rpbmcpe3JldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLHZhbCxieXRlT2Zmc2V0LGVuY29kaW5nLCExKX0sQnVmZmVyLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihzdHJpbmcsb2Zmc2V0LGxlbmd0aCxlbmNvZGluZyl7aWYodm9pZCAwPT09b2Zmc2V0KWVuY29kaW5nPVwidXRmOFwiLGxlbmd0aD10aGlzLmxlbmd0aCxvZmZzZXQ9MDtlbHNlIGlmKHZvaWQgMD09PWxlbmd0aCYmXCJzdHJpbmdcIj09dHlwZW9mIG9mZnNldCllbmNvZGluZz1vZmZzZXQsbGVuZ3RoPXRoaXMubGVuZ3RoLG9mZnNldD0wO2Vsc2V7aWYoIWlzRmluaXRlKG9mZnNldCkpdGhyb3cgbmV3IEVycm9yKFwiQnVmZmVyLndyaXRlKHN0cmluZywgZW5jb2RpbmcsIG9mZnNldFssIGxlbmd0aF0pIGlzIG5vIGxvbmdlciBzdXBwb3J0ZWRcIik7b2Zmc2V0fD0wLGlzRmluaXRlKGxlbmd0aCk/KGxlbmd0aHw9MCx2b2lkIDA9PT1lbmNvZGluZyYmKGVuY29kaW5nPVwidXRmOFwiKSk6KGVuY29kaW5nPWxlbmd0aCxsZW5ndGg9dm9pZCAwKX12YXIgcmVtYWluaW5nPXRoaXMubGVuZ3RoLW9mZnNldDtpZigodm9pZCAwPT09bGVuZ3RofHxsZW5ndGg+cmVtYWluaW5nKSYmKGxlbmd0aD1yZW1haW5pbmcpLHN0cmluZy5sZW5ndGg+MCYmKGxlbmd0aDwwfHxvZmZzZXQ8MCl8fG9mZnNldD50aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkF0dGVtcHQgdG8gd3JpdGUgb3V0c2lkZSBidWZmZXIgYm91bmRzXCIpO2VuY29kaW5nfHwoZW5jb2Rpbmc9XCJ1dGY4XCIpO2Zvcih2YXIgbG93ZXJlZENhc2U9ITE7Oylzd2l0Y2goZW5jb2Rpbmcpe2Nhc2VcImhleFwiOnJldHVybiBoZXhXcml0ZSh0aGlzLHN0cmluZyxvZmZzZXQsbGVuZ3RoKTtjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpyZXR1cm4gdXRmOFdyaXRlKHRoaXMsc3RyaW5nLG9mZnNldCxsZW5ndGgpO2Nhc2VcImFzY2lpXCI6cmV0dXJuIGFzY2lpV3JpdGUodGhpcyxzdHJpbmcsb2Zmc2V0LGxlbmd0aCk7Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIGxhdGluMVdyaXRlKHRoaXMsc3RyaW5nLG9mZnNldCxsZW5ndGgpO2Nhc2VcImJhc2U2NFwiOnJldHVybiBiYXNlNjRXcml0ZSh0aGlzLHN0cmluZyxvZmZzZXQsbGVuZ3RoKTtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gdWNzMldyaXRlKHRoaXMsc3RyaW5nLG9mZnNldCxsZW5ndGgpO2RlZmF1bHQ6aWYobG93ZXJlZENhc2UpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK2VuY29kaW5nKTtlbmNvZGluZz0oXCJcIitlbmNvZGluZykudG9Mb3dlckNhc2UoKSxsb3dlcmVkQ2FzZT0hMH19LEJ1ZmZlci5wcm90b3R5cGUudG9KU09OPWZ1bmN0aW9uKCl7cmV0dXJue3R5cGU6XCJCdWZmZXJcIixkYXRhOkFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKHRoaXMuX2Fycnx8dGhpcywwKX19O3ZhciBNQVhfQVJHVU1FTlRTX0xFTkdUSD00MDk2O2Z1bmN0aW9uIGFzY2lpU2xpY2UoYnVmLHN0YXJ0LGVuZCl7dmFyIHJldD1cIlwiO2VuZD1NYXRoLm1pbihidWYubGVuZ3RoLGVuZCk7Zm9yKHZhciBpPXN0YXJ0O2k8ZW5kOysraSlyZXQrPVN0cmluZy5mcm9tQ2hhckNvZGUoMTI3JmJ1ZltpXSk7cmV0dXJuIHJldH1mdW5jdGlvbiBsYXRpbjFTbGljZShidWYsc3RhcnQsZW5kKXt2YXIgcmV0PVwiXCI7ZW5kPU1hdGgubWluKGJ1Zi5sZW5ndGgsZW5kKTtmb3IodmFyIGk9c3RhcnQ7aTxlbmQ7KytpKXJldCs9U3RyaW5nLmZyb21DaGFyQ29kZShidWZbaV0pO3JldHVybiByZXR9ZnVuY3Rpb24gaGV4U2xpY2UoYnVmLHN0YXJ0LGVuZCl7dmFyIGxlbj1idWYubGVuZ3RoOyghc3RhcnR8fHN0YXJ0PDApJiYoc3RhcnQ9MCksKCFlbmR8fGVuZDwwfHxlbmQ+bGVuKSYmKGVuZD1sZW4pO2Zvcih2YXIgb3V0PVwiXCIsaT1zdGFydDtpPGVuZDsrK2kpb3V0Kz10b0hleChidWZbaV0pO3JldHVybiBvdXR9ZnVuY3Rpb24gdXRmMTZsZVNsaWNlKGJ1ZixzdGFydCxlbmQpe2Zvcih2YXIgYnl0ZXM9YnVmLnNsaWNlKHN0YXJ0LGVuZCkscmVzPVwiXCIsaT0wO2k8Ynl0ZXMubGVuZ3RoO2krPTIpcmVzKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldKzI1NipieXRlc1tpKzFdKTtyZXR1cm4gcmVzfWZ1bmN0aW9uIGNoZWNrT2Zmc2V0KG9mZnNldCxleHQsbGVuZ3RoKXtpZihvZmZzZXQlMSE9MHx8b2Zmc2V0PDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJvZmZzZXQgaXMgbm90IHVpbnRcIik7aWYob2Zmc2V0K2V4dD5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJUcnlpbmcgdG8gYWNjZXNzIGJleW9uZCBidWZmZXIgbGVuZ3RoXCIpfWZ1bmN0aW9uIGNoZWNrSW50KGJ1Zix2YWx1ZSxvZmZzZXQsZXh0LG1heCxtaW4pe2lmKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImJ1ZmZlclwiIGFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXIgaW5zdGFuY2UnKTtpZih2YWx1ZT5tYXh8fHZhbHVlPG1pbil0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJ2YWx1ZVwiIGFyZ3VtZW50IGlzIG91dCBvZiBib3VuZHMnKTtpZihvZmZzZXQrZXh0PmJ1Zi5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJJbmRleCBvdXQgb2YgcmFuZ2VcIil9ZnVuY3Rpb24gb2JqZWN0V3JpdGVVSW50MTYoYnVmLHZhbHVlLG9mZnNldCxsaXR0bGVFbmRpYW4pe3ZhbHVlPDAmJih2YWx1ZT02NTUzNSt2YWx1ZSsxKTtmb3IodmFyIGk9MCxqPU1hdGgubWluKGJ1Zi5sZW5ndGgtb2Zmc2V0LDIpO2k8ajsrK2kpYnVmW29mZnNldCtpXT0odmFsdWUmMjU1PDw4KihsaXR0bGVFbmRpYW4/aToxLWkpKT4+PjgqKGxpdHRsZUVuZGlhbj9pOjEtaSl9ZnVuY3Rpb24gb2JqZWN0V3JpdGVVSW50MzIoYnVmLHZhbHVlLG9mZnNldCxsaXR0bGVFbmRpYW4pe3ZhbHVlPDAmJih2YWx1ZT00Mjk0OTY3Mjk1K3ZhbHVlKzEpO2Zvcih2YXIgaT0wLGo9TWF0aC5taW4oYnVmLmxlbmd0aC1vZmZzZXQsNCk7aTxqOysraSlidWZbb2Zmc2V0K2ldPXZhbHVlPj4+OCoobGl0dGxlRW5kaWFuP2k6My1pKSYyNTV9ZnVuY3Rpb24gY2hlY2tJRUVFNzU0KGJ1Zix2YWx1ZSxvZmZzZXQsZXh0LG1heCxtaW4pe2lmKG9mZnNldCtleHQ+YnVmLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKTtpZihvZmZzZXQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKX1mdW5jdGlvbiB3cml0ZUZsb2F0KGJ1Zix2YWx1ZSxvZmZzZXQsbGl0dGxlRW5kaWFuLG5vQXNzZXJ0KXtyZXR1cm4gbm9Bc3NlcnR8fGNoZWNrSUVFRTc1NChidWYsMCxvZmZzZXQsNCksaWVlZTc1NC53cml0ZShidWYsdmFsdWUsb2Zmc2V0LGxpdHRsZUVuZGlhbiwyMyw0KSxvZmZzZXQrNH1mdW5jdGlvbiB3cml0ZURvdWJsZShidWYsdmFsdWUsb2Zmc2V0LGxpdHRsZUVuZGlhbixub0Fzc2VydCl7cmV0dXJuIG5vQXNzZXJ0fHxjaGVja0lFRUU3NTQoYnVmLDAsb2Zmc2V0LDgpLGllZWU3NTQud3JpdGUoYnVmLHZhbHVlLG9mZnNldCxsaXR0bGVFbmRpYW4sNTIsOCksb2Zmc2V0Kzh9QnVmZmVyLnByb3RvdHlwZS5zbGljZT1mdW5jdGlvbihzdGFydCxlbmQpe3ZhciBuZXdCdWYsbGVuPXRoaXMubGVuZ3RoO2lmKHN0YXJ0PX5+c3RhcnQsZW5kPXZvaWQgMD09PWVuZD9sZW46fn5lbmQsc3RhcnQ8MD8oc3RhcnQrPWxlbik8MCYmKHN0YXJ0PTApOnN0YXJ0PmxlbiYmKHN0YXJ0PWxlbiksZW5kPDA/KGVuZCs9bGVuKTwwJiYoZW5kPTApOmVuZD5sZW4mJihlbmQ9bGVuKSxlbmQ8c3RhcnQmJihlbmQ9c3RhcnQpLEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKShuZXdCdWY9dGhpcy5zdWJhcnJheShzdGFydCxlbmQpKS5fX3Byb3RvX189QnVmZmVyLnByb3RvdHlwZTtlbHNle3ZhciBzbGljZUxlbj1lbmQtc3RhcnQ7bmV3QnVmPW5ldyBCdWZmZXIoc2xpY2VMZW4sdm9pZCAwKTtmb3IodmFyIGk9MDtpPHNsaWNlTGVuOysraSluZXdCdWZbaV09dGhpc1tpK3N0YXJ0XX1yZXR1cm4gbmV3QnVmfSxCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50TEU9ZnVuY3Rpb24ob2Zmc2V0LGJ5dGVMZW5ndGgsbm9Bc3NlcnQpe29mZnNldHw9MCxieXRlTGVuZ3RofD0wLG5vQXNzZXJ0fHxjaGVja09mZnNldChvZmZzZXQsYnl0ZUxlbmd0aCx0aGlzLmxlbmd0aCk7Zm9yKHZhciB2YWw9dGhpc1tvZmZzZXRdLG11bD0xLGk9MDsrK2k8Ynl0ZUxlbmd0aCYmKG11bCo9MjU2KTspdmFsKz10aGlzW29mZnNldCtpXSptdWw7cmV0dXJuIHZhbH0sQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludEJFPWZ1bmN0aW9uKG9mZnNldCxieXRlTGVuZ3RoLG5vQXNzZXJ0KXtvZmZzZXR8PTAsYnl0ZUxlbmd0aHw9MCxub0Fzc2VydHx8Y2hlY2tPZmZzZXQob2Zmc2V0LGJ5dGVMZW5ndGgsdGhpcy5sZW5ndGgpO2Zvcih2YXIgdmFsPXRoaXNbb2Zmc2V0Ky0tYnl0ZUxlbmd0aF0sbXVsPTE7Ynl0ZUxlbmd0aD4wJiYobXVsKj0yNTYpOyl2YWwrPXRoaXNbb2Zmc2V0Ky0tYnl0ZUxlbmd0aF0qbXVsO3JldHVybiB2YWx9LEJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQ4PWZ1bmN0aW9uKG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIG5vQXNzZXJ0fHxjaGVja09mZnNldChvZmZzZXQsMSx0aGlzLmxlbmd0aCksdGhpc1tvZmZzZXRdfSxCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZMRT1mdW5jdGlvbihvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiBub0Fzc2VydHx8Y2hlY2tPZmZzZXQob2Zmc2V0LDIsdGhpcy5sZW5ndGgpLHRoaXNbb2Zmc2V0XXx0aGlzW29mZnNldCsxXTw8OH0sQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDE2QkU9ZnVuY3Rpb24ob2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gbm9Bc3NlcnR8fGNoZWNrT2Zmc2V0KG9mZnNldCwyLHRoaXMubGVuZ3RoKSx0aGlzW29mZnNldF08PDh8dGhpc1tvZmZzZXQrMV19LEJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkxFPWZ1bmN0aW9uKG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIG5vQXNzZXJ0fHxjaGVja09mZnNldChvZmZzZXQsNCx0aGlzLmxlbmd0aCksKHRoaXNbb2Zmc2V0XXx0aGlzW29mZnNldCsxXTw8OHx0aGlzW29mZnNldCsyXTw8MTYpKzE2Nzc3MjE2KnRoaXNbb2Zmc2V0KzNdfSxCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MzJCRT1mdW5jdGlvbihvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiBub0Fzc2VydHx8Y2hlY2tPZmZzZXQob2Zmc2V0LDQsdGhpcy5sZW5ndGgpLDE2Nzc3MjE2KnRoaXNbb2Zmc2V0XSsodGhpc1tvZmZzZXQrMV08PDE2fHRoaXNbb2Zmc2V0KzJdPDw4fHRoaXNbb2Zmc2V0KzNdKX0sQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50TEU9ZnVuY3Rpb24ob2Zmc2V0LGJ5dGVMZW5ndGgsbm9Bc3NlcnQpe29mZnNldHw9MCxieXRlTGVuZ3RofD0wLG5vQXNzZXJ0fHxjaGVja09mZnNldChvZmZzZXQsYnl0ZUxlbmd0aCx0aGlzLmxlbmd0aCk7Zm9yKHZhciB2YWw9dGhpc1tvZmZzZXRdLG11bD0xLGk9MDsrK2k8Ynl0ZUxlbmd0aCYmKG11bCo9MjU2KTspdmFsKz10aGlzW29mZnNldCtpXSptdWw7cmV0dXJuIHZhbD49KG11bCo9MTI4KSYmKHZhbC09TWF0aC5wb3coMiw4KmJ5dGVMZW5ndGgpKSx2YWx9LEJ1ZmZlci5wcm90b3R5cGUucmVhZEludEJFPWZ1bmN0aW9uKG9mZnNldCxieXRlTGVuZ3RoLG5vQXNzZXJ0KXtvZmZzZXR8PTAsYnl0ZUxlbmd0aHw9MCxub0Fzc2VydHx8Y2hlY2tPZmZzZXQob2Zmc2V0LGJ5dGVMZW5ndGgsdGhpcy5sZW5ndGgpO2Zvcih2YXIgaT1ieXRlTGVuZ3RoLG11bD0xLHZhbD10aGlzW29mZnNldCstLWldO2k+MCYmKG11bCo9MjU2KTspdmFsKz10aGlzW29mZnNldCstLWldKm11bDtyZXR1cm4gdmFsPj0obXVsKj0xMjgpJiYodmFsLT1NYXRoLnBvdygyLDgqYnl0ZUxlbmd0aCkpLHZhbH0sQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50OD1mdW5jdGlvbihvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiBub0Fzc2VydHx8Y2hlY2tPZmZzZXQob2Zmc2V0LDEsdGhpcy5sZW5ndGgpLDEyOCZ0aGlzW29mZnNldF0/LTEqKDI1NS10aGlzW29mZnNldF0rMSk6dGhpc1tvZmZzZXRdfSxCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkxFPWZ1bmN0aW9uKG9mZnNldCxub0Fzc2VydCl7bm9Bc3NlcnR8fGNoZWNrT2Zmc2V0KG9mZnNldCwyLHRoaXMubGVuZ3RoKTt2YXIgdmFsPXRoaXNbb2Zmc2V0XXx0aGlzW29mZnNldCsxXTw8ODtyZXR1cm4gMzI3NjgmdmFsPzQyOTQ5MDE3NjB8dmFsOnZhbH0sQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MTZCRT1mdW5jdGlvbihvZmZzZXQsbm9Bc3NlcnQpe25vQXNzZXJ0fHxjaGVja09mZnNldChvZmZzZXQsMix0aGlzLmxlbmd0aCk7dmFyIHZhbD10aGlzW29mZnNldCsxXXx0aGlzW29mZnNldF08PDg7cmV0dXJuIDMyNzY4JnZhbD80Mjk0OTAxNzYwfHZhbDp2YWx9LEJ1ZmZlci5wcm90b3R5cGUucmVhZEludDMyTEU9ZnVuY3Rpb24ob2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gbm9Bc3NlcnR8fGNoZWNrT2Zmc2V0KG9mZnNldCw0LHRoaXMubGVuZ3RoKSx0aGlzW29mZnNldF18dGhpc1tvZmZzZXQrMV08PDh8dGhpc1tvZmZzZXQrMl08PDE2fHRoaXNbb2Zmc2V0KzNdPDwyNH0sQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJCRT1mdW5jdGlvbihvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiBub0Fzc2VydHx8Y2hlY2tPZmZzZXQob2Zmc2V0LDQsdGhpcy5sZW5ndGgpLHRoaXNbb2Zmc2V0XTw8MjR8dGhpc1tvZmZzZXQrMV08PDE2fHRoaXNbb2Zmc2V0KzJdPDw4fHRoaXNbb2Zmc2V0KzNdfSxCdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdExFPWZ1bmN0aW9uKG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIG5vQXNzZXJ0fHxjaGVja09mZnNldChvZmZzZXQsNCx0aGlzLmxlbmd0aCksaWVlZTc1NC5yZWFkKHRoaXMsb2Zmc2V0LCEwLDIzLDQpfSxCdWZmZXIucHJvdG90eXBlLnJlYWRGbG9hdEJFPWZ1bmN0aW9uKG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIG5vQXNzZXJ0fHxjaGVja09mZnNldChvZmZzZXQsNCx0aGlzLmxlbmd0aCksaWVlZTc1NC5yZWFkKHRoaXMsb2Zmc2V0LCExLDIzLDQpfSxCdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVMRT1mdW5jdGlvbihvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiBub0Fzc2VydHx8Y2hlY2tPZmZzZXQob2Zmc2V0LDgsdGhpcy5sZW5ndGgpLGllZWU3NTQucmVhZCh0aGlzLG9mZnNldCwhMCw1Miw4KX0sQnVmZmVyLnByb3RvdHlwZS5yZWFkRG91YmxlQkU9ZnVuY3Rpb24ob2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gbm9Bc3NlcnR8fGNoZWNrT2Zmc2V0KG9mZnNldCw4LHRoaXMubGVuZ3RoKSxpZWVlNzU0LnJlYWQodGhpcyxvZmZzZXQsITEsNTIsOCl9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50TEU9ZnVuY3Rpb24odmFsdWUsb2Zmc2V0LGJ5dGVMZW5ndGgsbm9Bc3NlcnQpeyh2YWx1ZT0rdmFsdWUsb2Zmc2V0fD0wLGJ5dGVMZW5ndGh8PTAsbm9Bc3NlcnQpfHxjaGVja0ludCh0aGlzLHZhbHVlLG9mZnNldCxieXRlTGVuZ3RoLE1hdGgucG93KDIsOCpieXRlTGVuZ3RoKS0xLDApO3ZhciBtdWw9MSxpPTA7Zm9yKHRoaXNbb2Zmc2V0XT0yNTUmdmFsdWU7KytpPGJ5dGVMZW5ndGgmJihtdWwqPTI1Nik7KXRoaXNbb2Zmc2V0K2ldPXZhbHVlL211bCYyNTU7cmV0dXJuIG9mZnNldCtieXRlTGVuZ3RofSxCdWZmZXIucHJvdG90eXBlLndyaXRlVUludEJFPWZ1bmN0aW9uKHZhbHVlLG9mZnNldCxieXRlTGVuZ3RoLG5vQXNzZXJ0KXsodmFsdWU9K3ZhbHVlLG9mZnNldHw9MCxieXRlTGVuZ3RofD0wLG5vQXNzZXJ0KXx8Y2hlY2tJbnQodGhpcyx2YWx1ZSxvZmZzZXQsYnl0ZUxlbmd0aCxNYXRoLnBvdygyLDgqYnl0ZUxlbmd0aCktMSwwKTt2YXIgaT1ieXRlTGVuZ3RoLTEsbXVsPTE7Zm9yKHRoaXNbb2Zmc2V0K2ldPTI1NSZ2YWx1ZTstLWk+PTAmJihtdWwqPTI1Nik7KXRoaXNbb2Zmc2V0K2ldPXZhbHVlL211bCYyNTU7cmV0dXJuIG9mZnNldCtieXRlTGVuZ3RofSxCdWZmZXIucHJvdG90eXBlLndyaXRlVUludDg9ZnVuY3Rpb24odmFsdWUsb2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gdmFsdWU9K3ZhbHVlLG9mZnNldHw9MCxub0Fzc2VydHx8Y2hlY2tJbnQodGhpcyx2YWx1ZSxvZmZzZXQsMSwyNTUsMCksQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlR8fCh2YWx1ZT1NYXRoLmZsb29yKHZhbHVlKSksdGhpc1tvZmZzZXRdPTI1NSZ2YWx1ZSxvZmZzZXQrMX0sQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkxFPWZ1bmN0aW9uKHZhbHVlLG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIHZhbHVlPSt2YWx1ZSxvZmZzZXR8PTAsbm9Bc3NlcnR8fGNoZWNrSW50KHRoaXMsdmFsdWUsb2Zmc2V0LDIsNjU1MzUsMCksQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbb2Zmc2V0XT0yNTUmdmFsdWUsdGhpc1tvZmZzZXQrMV09dmFsdWU+Pj44KTpvYmplY3RXcml0ZVVJbnQxNih0aGlzLHZhbHVlLG9mZnNldCwhMCksb2Zmc2V0KzJ9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MTZCRT1mdW5jdGlvbih2YWx1ZSxvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiB2YWx1ZT0rdmFsdWUsb2Zmc2V0fD0wLG5vQXNzZXJ0fHxjaGVja0ludCh0aGlzLHZhbHVlLG9mZnNldCwyLDY1NTM1LDApLEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW29mZnNldF09dmFsdWU+Pj44LHRoaXNbb2Zmc2V0KzFdPTI1NSZ2YWx1ZSk6b2JqZWN0V3JpdGVVSW50MTYodGhpcyx2YWx1ZSxvZmZzZXQsITEpLG9mZnNldCsyfSxCdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyTEU9ZnVuY3Rpb24odmFsdWUsb2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gdmFsdWU9K3ZhbHVlLG9mZnNldHw9MCxub0Fzc2VydHx8Y2hlY2tJbnQodGhpcyx2YWx1ZSxvZmZzZXQsNCw0Mjk0OTY3Mjk1LDApLEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW29mZnNldCszXT12YWx1ZT4+PjI0LHRoaXNbb2Zmc2V0KzJdPXZhbHVlPj4+MTYsdGhpc1tvZmZzZXQrMV09dmFsdWU+Pj44LHRoaXNbb2Zmc2V0XT0yNTUmdmFsdWUpOm9iamVjdFdyaXRlVUludDMyKHRoaXMsdmFsdWUsb2Zmc2V0LCEwKSxvZmZzZXQrNH0sQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQzMkJFPWZ1bmN0aW9uKHZhbHVlLG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIHZhbHVlPSt2YWx1ZSxvZmZzZXR8PTAsbm9Bc3NlcnR8fGNoZWNrSW50KHRoaXMsdmFsdWUsb2Zmc2V0LDQsNDI5NDk2NzI5NSwwKSxCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1tvZmZzZXRdPXZhbHVlPj4+MjQsdGhpc1tvZmZzZXQrMV09dmFsdWU+Pj4xNix0aGlzW29mZnNldCsyXT12YWx1ZT4+PjgsdGhpc1tvZmZzZXQrM109MjU1JnZhbHVlKTpvYmplY3RXcml0ZVVJbnQzMih0aGlzLHZhbHVlLG9mZnNldCwhMSksb2Zmc2V0KzR9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnRMRT1mdW5jdGlvbih2YWx1ZSxvZmZzZXQsYnl0ZUxlbmd0aCxub0Fzc2VydCl7aWYodmFsdWU9K3ZhbHVlLG9mZnNldHw9MCwhbm9Bc3NlcnQpe3ZhciBsaW1pdD1NYXRoLnBvdygyLDgqYnl0ZUxlbmd0aC0xKTtjaGVja0ludCh0aGlzLHZhbHVlLG9mZnNldCxieXRlTGVuZ3RoLGxpbWl0LTEsLWxpbWl0KX12YXIgaT0wLG11bD0xLHN1Yj0wO2Zvcih0aGlzW29mZnNldF09MjU1JnZhbHVlOysraTxieXRlTGVuZ3RoJiYobXVsKj0yNTYpOyl2YWx1ZTwwJiYwPT09c3ViJiYwIT09dGhpc1tvZmZzZXQraS0xXSYmKHN1Yj0xKSx0aGlzW29mZnNldCtpXT0odmFsdWUvbXVsPj4wKS1zdWImMjU1O3JldHVybiBvZmZzZXQrYnl0ZUxlbmd0aH0sQnVmZmVyLnByb3RvdHlwZS53cml0ZUludEJFPWZ1bmN0aW9uKHZhbHVlLG9mZnNldCxieXRlTGVuZ3RoLG5vQXNzZXJ0KXtpZih2YWx1ZT0rdmFsdWUsb2Zmc2V0fD0wLCFub0Fzc2VydCl7dmFyIGxpbWl0PU1hdGgucG93KDIsOCpieXRlTGVuZ3RoLTEpO2NoZWNrSW50KHRoaXMsdmFsdWUsb2Zmc2V0LGJ5dGVMZW5ndGgsbGltaXQtMSwtbGltaXQpfXZhciBpPWJ5dGVMZW5ndGgtMSxtdWw9MSxzdWI9MDtmb3IodGhpc1tvZmZzZXQraV09MjU1JnZhbHVlOy0taT49MCYmKG11bCo9MjU2KTspdmFsdWU8MCYmMD09PXN1YiYmMCE9PXRoaXNbb2Zmc2V0K2krMV0mJihzdWI9MSksdGhpc1tvZmZzZXQraV09KHZhbHVlL211bD4+MCktc3ViJjI1NTtyZXR1cm4gb2Zmc2V0K2J5dGVMZW5ndGh9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQ4PWZ1bmN0aW9uKHZhbHVlLG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIHZhbHVlPSt2YWx1ZSxvZmZzZXR8PTAsbm9Bc3NlcnR8fGNoZWNrSW50KHRoaXMsdmFsdWUsb2Zmc2V0LDEsMTI3LC0xMjgpLEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUfHwodmFsdWU9TWF0aC5mbG9vcih2YWx1ZSkpLHZhbHVlPDAmJih2YWx1ZT0yNTUrdmFsdWUrMSksdGhpc1tvZmZzZXRdPTI1NSZ2YWx1ZSxvZmZzZXQrMX0sQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDE2TEU9ZnVuY3Rpb24odmFsdWUsb2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gdmFsdWU9K3ZhbHVlLG9mZnNldHw9MCxub0Fzc2VydHx8Y2hlY2tJbnQodGhpcyx2YWx1ZSxvZmZzZXQsMiwzMjc2NywtMzI3NjgpLEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW29mZnNldF09MjU1JnZhbHVlLHRoaXNbb2Zmc2V0KzFdPXZhbHVlPj4+OCk6b2JqZWN0V3JpdGVVSW50MTYodGhpcyx2YWx1ZSxvZmZzZXQsITApLG9mZnNldCsyfSxCdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZCRT1mdW5jdGlvbih2YWx1ZSxvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiB2YWx1ZT0rdmFsdWUsb2Zmc2V0fD0wLG5vQXNzZXJ0fHxjaGVja0ludCh0aGlzLHZhbHVlLG9mZnNldCwyLDMyNzY3LC0zMjc2OCksQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbb2Zmc2V0XT12YWx1ZT4+PjgsdGhpc1tvZmZzZXQrMV09MjU1JnZhbHVlKTpvYmplY3RXcml0ZVVJbnQxNih0aGlzLHZhbHVlLG9mZnNldCwhMSksb2Zmc2V0KzJ9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkxFPWZ1bmN0aW9uKHZhbHVlLG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIHZhbHVlPSt2YWx1ZSxvZmZzZXR8PTAsbm9Bc3NlcnR8fGNoZWNrSW50KHRoaXMsdmFsdWUsb2Zmc2V0LDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbb2Zmc2V0XT0yNTUmdmFsdWUsdGhpc1tvZmZzZXQrMV09dmFsdWU+Pj44LHRoaXNbb2Zmc2V0KzJdPXZhbHVlPj4+MTYsdGhpc1tvZmZzZXQrM109dmFsdWU+Pj4yNCk6b2JqZWN0V3JpdGVVSW50MzIodGhpcyx2YWx1ZSxvZmZzZXQsITApLG9mZnNldCs0fSxCdWZmZXIucHJvdG90eXBlLndyaXRlSW50MzJCRT1mdW5jdGlvbih2YWx1ZSxvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiB2YWx1ZT0rdmFsdWUsb2Zmc2V0fD0wLG5vQXNzZXJ0fHxjaGVja0ludCh0aGlzLHZhbHVlLG9mZnNldCw0LDIxNDc0ODM2NDcsLTIxNDc0ODM2NDgpLHZhbHVlPDAmJih2YWx1ZT00Mjk0OTY3Mjk1K3ZhbHVlKzEpLEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW29mZnNldF09dmFsdWU+Pj4yNCx0aGlzW29mZnNldCsxXT12YWx1ZT4+PjE2LHRoaXNbb2Zmc2V0KzJdPXZhbHVlPj4+OCx0aGlzW29mZnNldCszXT0yNTUmdmFsdWUpOm9iamVjdFdyaXRlVUludDMyKHRoaXMsdmFsdWUsb2Zmc2V0LCExKSxvZmZzZXQrNH0sQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0TEU9ZnVuY3Rpb24odmFsdWUsb2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gd3JpdGVGbG9hdCh0aGlzLHZhbHVlLG9mZnNldCwhMCxub0Fzc2VydCl9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVGbG9hdEJFPWZ1bmN0aW9uKHZhbHVlLG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIHdyaXRlRmxvYXQodGhpcyx2YWx1ZSxvZmZzZXQsITEsbm9Bc3NlcnQpfSxCdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlTEU9ZnVuY3Rpb24odmFsdWUsb2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gd3JpdGVEb3VibGUodGhpcyx2YWx1ZSxvZmZzZXQsITAsbm9Bc3NlcnQpfSxCdWZmZXIucHJvdG90eXBlLndyaXRlRG91YmxlQkU9ZnVuY3Rpb24odmFsdWUsb2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gd3JpdGVEb3VibGUodGhpcyx2YWx1ZSxvZmZzZXQsITEsbm9Bc3NlcnQpfSxCdWZmZXIucHJvdG90eXBlLmNvcHk9ZnVuY3Rpb24odGFyZ2V0LHRhcmdldFN0YXJ0LHN0YXJ0LGVuZCl7aWYoc3RhcnR8fChzdGFydD0wKSxlbmR8fDA9PT1lbmR8fChlbmQ9dGhpcy5sZW5ndGgpLHRhcmdldFN0YXJ0Pj10YXJnZXQubGVuZ3RoJiYodGFyZ2V0U3RhcnQ9dGFyZ2V0Lmxlbmd0aCksdGFyZ2V0U3RhcnR8fCh0YXJnZXRTdGFydD0wKSxlbmQ+MCYmZW5kPHN0YXJ0JiYoZW5kPXN0YXJ0KSxlbmQ9PT1zdGFydClyZXR1cm4gMDtpZigwPT09dGFyZ2V0Lmxlbmd0aHx8MD09PXRoaXMubGVuZ3RoKXJldHVybiAwO2lmKHRhcmdldFN0YXJ0PDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJ0YXJnZXRTdGFydCBvdXQgb2YgYm91bmRzXCIpO2lmKHN0YXJ0PDB8fHN0YXJ0Pj10aGlzLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInNvdXJjZVN0YXJ0IG91dCBvZiBib3VuZHNcIik7aWYoZW5kPDApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJzb3VyY2VFbmQgb3V0IG9mIGJvdW5kc1wiKTtlbmQ+dGhpcy5sZW5ndGgmJihlbmQ9dGhpcy5sZW5ndGgpLHRhcmdldC5sZW5ndGgtdGFyZ2V0U3RhcnQ8ZW5kLXN0YXJ0JiYoZW5kPXRhcmdldC5sZW5ndGgtdGFyZ2V0U3RhcnQrc3RhcnQpO3ZhciBpLGxlbj1lbmQtc3RhcnQ7aWYodGhpcz09PXRhcmdldCYmc3RhcnQ8dGFyZ2V0U3RhcnQmJnRhcmdldFN0YXJ0PGVuZClmb3IoaT1sZW4tMTtpPj0wOy0taSl0YXJnZXRbaSt0YXJnZXRTdGFydF09dGhpc1tpK3N0YXJ0XTtlbHNlIGlmKGxlbjwxZTN8fCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVClmb3IoaT0wO2k8bGVuOysraSl0YXJnZXRbaSt0YXJnZXRTdGFydF09dGhpc1tpK3N0YXJ0XTtlbHNlIFVpbnQ4QXJyYXkucHJvdG90eXBlLnNldC5jYWxsKHRhcmdldCx0aGlzLnN1YmFycmF5KHN0YXJ0LHN0YXJ0K2xlbiksdGFyZ2V0U3RhcnQpO3JldHVybiBsZW59LEJ1ZmZlci5wcm90b3R5cGUuZmlsbD1mdW5jdGlvbih2YWwsc3RhcnQsZW5kLGVuY29kaW5nKXtpZihcInN0cmluZ1wiPT10eXBlb2YgdmFsKXtpZihcInN0cmluZ1wiPT10eXBlb2Ygc3RhcnQ/KGVuY29kaW5nPXN0YXJ0LHN0YXJ0PTAsZW5kPXRoaXMubGVuZ3RoKTpcInN0cmluZ1wiPT10eXBlb2YgZW5kJiYoZW5jb2Rpbmc9ZW5kLGVuZD10aGlzLmxlbmd0aCksMT09PXZhbC5sZW5ndGgpe3ZhciBjb2RlPXZhbC5jaGFyQ29kZUF0KDApO2NvZGU8MjU2JiYodmFsPWNvZGUpfWlmKHZvaWQgMCE9PWVuY29kaW5nJiZcInN0cmluZ1wiIT10eXBlb2YgZW5jb2RpbmcpdGhyb3cgbmV3IFR5cGVFcnJvcihcImVuY29kaW5nIG11c3QgYmUgYSBzdHJpbmdcIik7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGVuY29kaW5nJiYhQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIitlbmNvZGluZyl9ZWxzZVwibnVtYmVyXCI9PXR5cGVvZiB2YWwmJih2YWwmPTI1NSk7aWYoc3RhcnQ8MHx8dGhpcy5sZW5ndGg8c3RhcnR8fHRoaXMubGVuZ3RoPGVuZCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIk91dCBvZiByYW5nZSBpbmRleFwiKTtpZihlbmQ8PXN0YXJ0KXJldHVybiB0aGlzO3ZhciBpO2lmKHN0YXJ0Pj4+PTAsZW5kPXZvaWQgMD09PWVuZD90aGlzLmxlbmd0aDplbmQ+Pj4wLHZhbHx8KHZhbD0wKSxcIm51bWJlclwiPT10eXBlb2YgdmFsKWZvcihpPXN0YXJ0O2k8ZW5kOysraSl0aGlzW2ldPXZhbDtlbHNle3ZhciBieXRlcz1CdWZmZXIuaXNCdWZmZXIodmFsKT92YWw6dXRmOFRvQnl0ZXMobmV3IEJ1ZmZlcih2YWwsZW5jb2RpbmcpLnRvU3RyaW5nKCkpLGxlbj1ieXRlcy5sZW5ndGg7Zm9yKGk9MDtpPGVuZC1zdGFydDsrK2kpdGhpc1tpK3N0YXJ0XT1ieXRlc1tpJWxlbl19cmV0dXJuIHRoaXN9O3ZhciBJTlZBTElEX0JBU0U2NF9SRT0vW14rXFwvMC05QS1aYS16LV9dL2c7ZnVuY3Rpb24gdG9IZXgobil7cmV0dXJuIG48MTY/XCIwXCIrbi50b1N0cmluZygxNik6bi50b1N0cmluZygxNil9ZnVuY3Rpb24gdXRmOFRvQnl0ZXMoc3RyaW5nLHVuaXRzKXt2YXIgY29kZVBvaW50O3VuaXRzPXVuaXRzfHwxLzA7Zm9yKHZhciBsZW5ndGg9c3RyaW5nLmxlbmd0aCxsZWFkU3Vycm9nYXRlPW51bGwsYnl0ZXM9W10saT0wO2k8bGVuZ3RoOysraSl7aWYoKGNvZGVQb2ludD1zdHJpbmcuY2hhckNvZGVBdChpKSk+NTUyOTUmJmNvZGVQb2ludDw1NzM0NCl7aWYoIWxlYWRTdXJyb2dhdGUpe2lmKGNvZGVQb2ludD41NjMxOSl7KHVuaXRzLT0zKT4tMSYmYnl0ZXMucHVzaCgyMzksMTkxLDE4OSk7Y29udGludWV9aWYoaSsxPT09bGVuZ3RoKXsodW5pdHMtPTMpPi0xJiZieXRlcy5wdXNoKDIzOSwxOTEsMTg5KTtjb250aW51ZX1sZWFkU3Vycm9nYXRlPWNvZGVQb2ludDtjb250aW51ZX1pZihjb2RlUG9pbnQ8NTYzMjApeyh1bml0cy09Myk+LTEmJmJ5dGVzLnB1c2goMjM5LDE5MSwxODkpLGxlYWRTdXJyb2dhdGU9Y29kZVBvaW50O2NvbnRpbnVlfWNvZGVQb2ludD02NTUzNisobGVhZFN1cnJvZ2F0ZS01NTI5Njw8MTB8Y29kZVBvaW50LTU2MzIwKX1lbHNlIGxlYWRTdXJyb2dhdGUmJih1bml0cy09Myk+LTEmJmJ5dGVzLnB1c2goMjM5LDE5MSwxODkpO2lmKGxlYWRTdXJyb2dhdGU9bnVsbCxjb2RlUG9pbnQ8MTI4KXtpZigodW5pdHMtPTEpPDApYnJlYWs7Ynl0ZXMucHVzaChjb2RlUG9pbnQpfWVsc2UgaWYoY29kZVBvaW50PDIwNDgpe2lmKCh1bml0cy09Mik8MClicmVhaztieXRlcy5wdXNoKGNvZGVQb2ludD4+NnwxOTIsNjMmY29kZVBvaW50fDEyOCl9ZWxzZSBpZihjb2RlUG9pbnQ8NjU1MzYpe2lmKCh1bml0cy09Myk8MClicmVhaztieXRlcy5wdXNoKGNvZGVQb2ludD4+MTJ8MjI0LGNvZGVQb2ludD4+NiY2M3wxMjgsNjMmY29kZVBvaW50fDEyOCl9ZWxzZXtpZighKGNvZGVQb2ludDwxMTE0MTEyKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNvZGUgcG9pbnRcIik7aWYoKHVuaXRzLT00KTwwKWJyZWFrO2J5dGVzLnB1c2goY29kZVBvaW50Pj4xOHwyNDAsY29kZVBvaW50Pj4xMiY2M3wxMjgsY29kZVBvaW50Pj42JjYzfDEyOCw2MyZjb2RlUG9pbnR8MTI4KX19cmV0dXJuIGJ5dGVzfWZ1bmN0aW9uIGJhc2U2NFRvQnl0ZXMoc3RyKXtyZXR1cm4gYmFzZTY0LnRvQnl0ZUFycmF5KGZ1bmN0aW9uKHN0cil7aWYoKHN0cj1mdW5jdGlvbihzdHIpe3JldHVybiBzdHIudHJpbT9zdHIudHJpbSgpOnN0ci5yZXBsYWNlKC9eXFxzK3xcXHMrJC9nLFwiXCIpfShzdHIpLnJlcGxhY2UoSU5WQUxJRF9CQVNFNjRfUkUsXCJcIikpLmxlbmd0aDwyKXJldHVyblwiXCI7Zm9yKDtzdHIubGVuZ3RoJTQhPTA7KXN0cis9XCI9XCI7cmV0dXJuIHN0cn0oc3RyKSl9ZnVuY3Rpb24gYmxpdEJ1ZmZlcihzcmMsZHN0LG9mZnNldCxsZW5ndGgpe2Zvcih2YXIgaT0wO2k8bGVuZ3RoJiYhKGkrb2Zmc2V0Pj1kc3QubGVuZ3RofHxpPj1zcmMubGVuZ3RoKTsrK2kpZHN0W2krb2Zmc2V0XT1zcmNbaV07cmV0dXJuIGl9fSkuY2FsbCh0aGlzLF9fd2VicGFja19yZXF1aXJlX18oMTEpKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe3ZhciBjYWNoZWRTZXRUaW1lb3V0LGNhY2hlZENsZWFyVGltZW91dCxwcm9jZXNzPW1vZHVsZS5leHBvcnRzPXt9O2Z1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKXt0aHJvdyBuZXcgRXJyb3IoXCJzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkXCIpfWZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQoKXt0aHJvdyBuZXcgRXJyb3IoXCJjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gcnVuVGltZW91dChmdW4pe2lmKGNhY2hlZFNldFRpbWVvdXQ9PT1zZXRUaW1lb3V0KXJldHVybiBzZXRUaW1lb3V0KGZ1biwwKTtpZigoY2FjaGVkU2V0VGltZW91dD09PWRlZmF1bHRTZXRUaW1vdXR8fCFjYWNoZWRTZXRUaW1lb3V0KSYmc2V0VGltZW91dClyZXR1cm4gY2FjaGVkU2V0VGltZW91dD1zZXRUaW1lb3V0LHNldFRpbWVvdXQoZnVuLDApO3RyeXtyZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sMCl9Y2F0Y2goZSl7dHJ5e3JldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCxmdW4sMCl9Y2F0Y2goZSl7cmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLGZ1biwwKX19fSFmdW5jdGlvbigpe3RyeXtjYWNoZWRTZXRUaW1lb3V0PVwiZnVuY3Rpb25cIj09dHlwZW9mIHNldFRpbWVvdXQ/c2V0VGltZW91dDpkZWZhdWx0U2V0VGltb3V0fWNhdGNoKGUpe2NhY2hlZFNldFRpbWVvdXQ9ZGVmYXVsdFNldFRpbW91dH10cnl7Y2FjaGVkQ2xlYXJUaW1lb3V0PVwiZnVuY3Rpb25cIj09dHlwZW9mIGNsZWFyVGltZW91dD9jbGVhclRpbWVvdXQ6ZGVmYXVsdENsZWFyVGltZW91dH1jYXRjaChlKXtjYWNoZWRDbGVhclRpbWVvdXQ9ZGVmYXVsdENsZWFyVGltZW91dH19KCk7dmFyIGN1cnJlbnRRdWV1ZSxxdWV1ZT1bXSxkcmFpbmluZz0hMSxxdWV1ZUluZGV4PS0xO2Z1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpe2RyYWluaW5nJiZjdXJyZW50UXVldWUmJihkcmFpbmluZz0hMSxjdXJyZW50UXVldWUubGVuZ3RoP3F1ZXVlPWN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpOnF1ZXVlSW5kZXg9LTEscXVldWUubGVuZ3RoJiZkcmFpblF1ZXVlKCkpfWZ1bmN0aW9uIGRyYWluUXVldWUoKXtpZighZHJhaW5pbmcpe3ZhciB0aW1lb3V0PXJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtkcmFpbmluZz0hMDtmb3IodmFyIGxlbj1xdWV1ZS5sZW5ndGg7bGVuOyl7Zm9yKGN1cnJlbnRRdWV1ZT1xdWV1ZSxxdWV1ZT1bXTsrK3F1ZXVlSW5kZXg8bGVuOyljdXJyZW50UXVldWUmJmN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtxdWV1ZUluZGV4PS0xLGxlbj1xdWV1ZS5sZW5ndGh9Y3VycmVudFF1ZXVlPW51bGwsZHJhaW5pbmc9ITEsZnVuY3Rpb24obWFya2VyKXtpZihjYWNoZWRDbGVhclRpbWVvdXQ9PT1jbGVhclRpbWVvdXQpcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO2lmKChjYWNoZWRDbGVhclRpbWVvdXQ9PT1kZWZhdWx0Q2xlYXJUaW1lb3V0fHwhY2FjaGVkQ2xlYXJUaW1lb3V0KSYmY2xlYXJUaW1lb3V0KXJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQ9Y2xlYXJUaW1lb3V0LGNsZWFyVGltZW91dChtYXJrZXIpO3RyeXtjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKX1jYXRjaChlKXt0cnl7cmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsbWFya2VyKX1jYXRjaChlKXtyZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcyxtYXJrZXIpfX19KHRpbWVvdXQpfX1mdW5jdGlvbiBJdGVtKGZ1bixhcnJheSl7dGhpcy5mdW49ZnVuLHRoaXMuYXJyYXk9YXJyYXl9ZnVuY3Rpb24gbm9vcCgpe31wcm9jZXNzLm5leHRUaWNrPWZ1bmN0aW9uKGZ1bil7dmFyIGFyZ3M9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSk7aWYoYXJndW1lbnRzLmxlbmd0aD4xKWZvcih2YXIgaT0xO2k8YXJndW1lbnRzLmxlbmd0aDtpKyspYXJnc1tpLTFdPWFyZ3VtZW50c1tpXTtxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1bixhcmdzKSksMSE9PXF1ZXVlLmxlbmd0aHx8ZHJhaW5pbmd8fHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSl9LEl0ZW0ucHJvdG90eXBlLnJ1bj1mdW5jdGlvbigpe3RoaXMuZnVuLmFwcGx5KG51bGwsdGhpcy5hcnJheSl9LHByb2Nlc3MudGl0bGU9XCJicm93c2VyXCIscHJvY2Vzcy5icm93c2VyPSEwLHByb2Nlc3MuZW52PXt9LHByb2Nlc3MuYXJndj1bXSxwcm9jZXNzLnZlcnNpb249XCJcIixwcm9jZXNzLnZlcnNpb25zPXt9LHByb2Nlc3Mub249bm9vcCxwcm9jZXNzLmFkZExpc3RlbmVyPW5vb3AscHJvY2Vzcy5vbmNlPW5vb3AscHJvY2Vzcy5vZmY9bm9vcCxwcm9jZXNzLnJlbW92ZUxpc3RlbmVyPW5vb3AscHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnM9bm9vcCxwcm9jZXNzLmVtaXQ9bm9vcCxwcm9jZXNzLnByZXBlbmRMaXN0ZW5lcj1ub29wLHByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lcj1ub29wLHByb2Nlc3MubGlzdGVuZXJzPWZ1bmN0aW9uKG5hbWUpe3JldHVybltdfSxwcm9jZXNzLmJpbmRpbmc9ZnVuY3Rpb24obmFtZSl7dGhyb3cgbmV3IEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWRcIil9LHByb2Nlc3MuY3dkPWZ1bmN0aW9uKCl7cmV0dXJuXCIvXCJ9LHByb2Nlc3MuY2hkaXI9ZnVuY3Rpb24oZGlyKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWRcIil9LHByb2Nlc3MudW1hc2s9ZnVuY3Rpb24oKXtyZXR1cm4gMH19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe2Z1bmN0aW9uIG9iamVjdFRvU3RyaW5nKG8pe3JldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobyl9ZXhwb3J0cy5pc0FycmF5PWZ1bmN0aW9uKGFyZyl7cmV0dXJuIEFycmF5LmlzQXJyYXk/QXJyYXkuaXNBcnJheShhcmcpOlwiW29iamVjdCBBcnJheV1cIj09PW9iamVjdFRvU3RyaW5nKGFyZyl9LGV4cG9ydHMuaXNCb29sZWFuPWZ1bmN0aW9uKGFyZyl7cmV0dXJuXCJib29sZWFuXCI9PXR5cGVvZiBhcmd9LGV4cG9ydHMuaXNOdWxsPWZ1bmN0aW9uKGFyZyl7cmV0dXJuIG51bGw9PT1hcmd9LGV4cG9ydHMuaXNOdWxsT3JVbmRlZmluZWQ9ZnVuY3Rpb24oYXJnKXtyZXR1cm4gbnVsbD09YXJnfSxleHBvcnRzLmlzTnVtYmVyPWZ1bmN0aW9uKGFyZyl7cmV0dXJuXCJudW1iZXJcIj09dHlwZW9mIGFyZ30sZXhwb3J0cy5pc1N0cmluZz1mdW5jdGlvbihhcmcpe3JldHVyblwic3RyaW5nXCI9PXR5cGVvZiBhcmd9LGV4cG9ydHMuaXNTeW1ib2w9ZnVuY3Rpb24oYXJnKXtyZXR1cm5cInN5bWJvbFwiPT10eXBlb2YgYXJnfSxleHBvcnRzLmlzVW5kZWZpbmVkPWZ1bmN0aW9uKGFyZyl7cmV0dXJuIHZvaWQgMD09PWFyZ30sZXhwb3J0cy5pc1JlZ0V4cD1mdW5jdGlvbihyZSl7cmV0dXJuXCJbb2JqZWN0IFJlZ0V4cF1cIj09PW9iamVjdFRvU3RyaW5nKHJlKX0sZXhwb3J0cy5pc09iamVjdD1mdW5jdGlvbihhcmcpe3JldHVyblwib2JqZWN0XCI9PXR5cGVvZiBhcmcmJm51bGwhPT1hcmd9LGV4cG9ydHMuaXNEYXRlPWZ1bmN0aW9uKGQpe3JldHVyblwiW29iamVjdCBEYXRlXVwiPT09b2JqZWN0VG9TdHJpbmcoZCl9LGV4cG9ydHMuaXNFcnJvcj1mdW5jdGlvbihlKXtyZXR1cm5cIltvYmplY3QgRXJyb3JdXCI9PT1vYmplY3RUb1N0cmluZyhlKXx8ZSBpbnN0YW5jZW9mIEVycm9yfSxleHBvcnRzLmlzRnVuY3Rpb249ZnVuY3Rpb24oYXJnKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBhcmd9LGV4cG9ydHMuaXNQcmltaXRpdmU9ZnVuY3Rpb24oYXJnKXtyZXR1cm4gbnVsbD09PWFyZ3x8XCJib29sZWFuXCI9PXR5cGVvZiBhcmd8fFwibnVtYmVyXCI9PXR5cGVvZiBhcmd8fFwic3RyaW5nXCI9PXR5cGVvZiBhcmd8fFwic3ltYm9sXCI9PXR5cGVvZiBhcmd8fHZvaWQgMD09PWFyZ30sZXhwb3J0cy5pc0J1ZmZlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIxKS5CdWZmZXIuaXNCdWZmZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBFUzZQcm9taXNlPW51bGw7RVM2UHJvbWlzZT1cInVuZGVmaW5lZFwiIT10eXBlb2YgUHJvbWlzZT9Qcm9taXNlOl9fd2VicGFja19yZXF1aXJlX18oMTAxKSxtb2R1bGUuZXhwb3J0cz17UHJvbWlzZTpFUzZQcm9taXNlfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXdhaXRlcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24odGhpc0FyZyxfYXJndW1lbnRzLFAsZ2VuZXJhdG9yKXtyZXR1cm4gbmV3KFB8fChQPVByb21pc2UpKShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gc3RlcChyZXN1bHQpe3Jlc3VsdC5kb25lP3Jlc29sdmUocmVzdWx0LnZhbHVlKTpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUD92YWx1ZTpuZXcgUChmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKHZhbHVlKX0pfShyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLHJlamVjdGVkKX1zdGVwKChnZW5lcmF0b3I9Z2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsX2FyZ3VtZW50c3x8W10pKS5uZXh0KCkpfSl9LF9fZ2VuZXJhdG9yPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKHRoaXNBcmcsYm9keSl7dmFyIGYseSx0LGcsXz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZ0WzBdKXRocm93IHRbMV07cmV0dXJuIHRbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gZz17bmV4dDp2ZXJiKDApLHRocm93OnZlcmIoMSkscmV0dXJuOnZlcmIoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGdbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksZztmdW5jdGlvbiB2ZXJiKG4pe3JldHVybiBmdW5jdGlvbih2KXtyZXR1cm4gZnVuY3Rpb24ob3Ape2lmKGYpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtfOyl0cnl7aWYoZj0xLHkmJih0PTImb3BbMF0/eS5yZXR1cm46b3BbMF0/eS50aHJvd3x8KCh0PXkucmV0dXJuKSYmdC5jYWxsKHkpLDApOnkubmV4dCkmJiEodD10LmNhbGwoeSxvcFsxXSkpLmRvbmUpcmV0dXJuIHQ7c3dpdGNoKHk9MCx0JiYob3A9WzImb3BbMF0sdC52YWx1ZV0pLG9wWzBdKXtjYXNlIDA6Y2FzZSAxOnQ9b3A7YnJlYWs7Y2FzZSA0OnJldHVybiBfLmxhYmVsKysse3ZhbHVlOm9wWzFdLGRvbmU6ITF9O2Nhc2UgNTpfLmxhYmVsKysseT1vcFsxXSxvcD1bMF07Y29udGludWU7Y2FzZSA3Om9wPV8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEodD0odD1fLnRyeXMpLmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdKSYmKDY9PT1vcFswXXx8Mj09PW9wWzBdKSl7Xz0wO2NvbnRpbnVlfWlmKDM9PT1vcFswXSYmKCF0fHxvcFsxXT50WzBdJiZvcFsxXTx0WzNdKSl7Xy5sYWJlbD1vcFsxXTticmVha31pZig2PT09b3BbMF0mJl8ubGFiZWw8dFsxXSl7Xy5sYWJlbD10WzFdLHQ9b3A7YnJlYWt9aWYodCYmXy5sYWJlbDx0WzJdKXtfLmxhYmVsPXRbMl0sXy5vcHMucHVzaChvcCk7YnJlYWt9dFsyXSYmXy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlfW9wPWJvZHkuY2FsbCh0aGlzQXJnLF8pfWNhdGNoKGUpe29wPVs2LGVdLHk9MH1maW5hbGx5e2Y9dD0wfWlmKDUmb3BbMF0pdGhyb3cgb3BbMV07cmV0dXJue3ZhbHVlOm9wWzBdP29wWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sdl0pfX19LF9fc3ByZWFkQXJyYXlzPXRoaXMmJnRoaXMuX19zcHJlYWRBcnJheXN8fGZ1bmN0aW9uKCl7Zm9yKHZhciBzPTAsaT0wLGlsPWFyZ3VtZW50cy5sZW5ndGg7aTxpbDtpKyspcys9YXJndW1lbnRzW2ldLmxlbmd0aDt2YXIgcj1BcnJheShzKSxrPTA7Zm9yKGk9MDtpPGlsO2krKylmb3IodmFyIGE9YXJndW1lbnRzW2ldLGo9MCxqbD1hLmxlbmd0aDtqPGpsO2orKyxrKyspcltrXT1hW2pdO3JldHVybiByfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgRGF0ZU1vZHVsZV8xPV9fd2VicGFja19yZXF1aXJlX18oNiksSW5ib3hNZXNzYWdlcz1mdW5jdGlvbigpe2Z1bmN0aW9uIEluYm94TWVzc2FnZXMoZGF0YSxhcGksaW5ib3hNb2RlbCxkYXRlTW9kdWxlKXt2b2lkIDA9PT1kYXRlTW9kdWxlJiYoZGF0ZU1vZHVsZT1uZXcgRGF0ZU1vZHVsZV8xLmRlZmF1bHQpLHRoaXMuZGF0YT1kYXRhLHRoaXMuYXBpPWFwaSx0aGlzLmluYm94TW9kZWw9aW5ib3hNb2RlbCx0aGlzLmRhdGVNb2R1bGU9ZGF0ZU1vZHVsZSx0aGlzLnB1YmxpY01lc3NhZ2VCdWlsZGVyPXRoaXMucHVibGljTWVzc2FnZUJ1aWxkZXIuYmluZCh0aGlzKX1yZXR1cm4gSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUubWVzc2FnZVR5cGVGYWN0b3J5PWZ1bmN0aW9uKGFjdGlvblBhcmFtcyl7dmFyIG1lc3NhZ2VUeXBlPTA7cmV0dXJuXCJoXCJpbiBhY3Rpb25QYXJhbXN8fFwicm1cImluIGFjdGlvblBhcmFtc3x8XCJyXCJpbiBhY3Rpb25QYXJhbXM/bWVzc2FnZVR5cGU9MTpcImxcImluIGFjdGlvblBhcmFtcyYmbnVsbCE9YWN0aW9uUGFyYW1zLmwmJihtZXNzYWdlVHlwZT1hY3Rpb25QYXJhbXMubC5zdGFydHNXaXRoKFwiaHR0cFwiKT8yOjMpLG1lc3NhZ2VUeXBlfSxJbmJveE1lc3NhZ2VzLnByb3RvdHlwZS51cGRhdGVNZXNzYWdlc1N0YXR1c1dpdGhDb2Rlcz1mdW5jdGlvbihjb2RlcyxtZXNzYWdlcyxzdGF0dXMpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHVwZGF0ZWRNZXNzYWdlcyxpbmJveFN0YXR1c1F1ZXJpZXMsX3RoaXM9dGhpcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHVwZGF0ZWRNZXNzYWdlcz1bXSxpbmJveFN0YXR1c1F1ZXJpZXM9W10sbWVzc2FnZXMuZm9yRWFjaChmdW5jdGlvbihtc2cpe3JldHVybiBfX2F3YWl0ZXIoX3RoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtyZXR1cm4tMT09PWNvZGVzLmluZGV4T2YobXNnLmluYm94X2lkKT9bMl06KG1zZy5zdGF0dXM9c3RhdHVzLHVwZGF0ZWRNZXNzYWdlcy5wdXNoKG1zZyksaW5ib3hTdGF0dXNRdWVyaWVzLnB1c2godGhpcy5hcGkuaW5ib3hTdGF0dXMobXNnLm9yZGVyLG1zZy5zdGF0dXMpKSxbMl0pfSl9KX0pLFs0LHRoaXMuaW5ib3hNb2RlbC5wdXRCdWxrTWVzc2FnZXModXBkYXRlZE1lc3NhZ2VzKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzQsUHJvbWlzZS5hbGwoaW5ib3hTdGF0dXNRdWVyaWVzKV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LEluYm94TWVzc2FnZXMucHJvdG90eXBlLnB1YmxpY01lc3NhZ2VCdWlsZGVyPWZ1bmN0aW9uKG1lc3NhZ2Upe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGltYWdlVXJsLF9hLHRpdGxlLF9iO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9jKXtzd2l0Y2goX2MubGFiZWwpe2Nhc2UgMDpyZXR1cm4oX2E9bWVzc2FnZS5pbWFnZSk/WzMsMl06WzQsdGhpcy5kYXRhLmdldERlZmF1bHROb3RpZmljYXRpb25JbWFnZSgpXTtjYXNlIDE6X2E9X2Muc2VudCgpLF9jLmxhYmVsPTI7Y2FzZSAyOnJldHVybiBpbWFnZVVybD1fYSwoX2I9bWVzc2FnZS50aXRsZSk/WzMsNF06WzQsdGhpcy5kYXRhLmdldERlZmF1bHROb3RpZmljYXRpb25UaXRsZSgpXTtjYXNlIDM6X2I9X2Muc2VudCgpLF9jLmxhYmVsPTQ7Y2FzZSA0OnJldHVybiB0aXRsZT1fYix0aGlzLmRhdGVNb2R1bGUuZGF0ZT1uZXcgRGF0ZSgxZTMqcGFyc2VJbnQobWVzc2FnZS5zZW5kX2RhdGUpKSx0aGlzLmRhdGVNb2R1bGUuc2V0TG9jYWwoKSxbMix7dGl0bGU6dGl0bGUsaW1hZ2VVcmw6aW1hZ2VVcmwsY29kZTptZXNzYWdlLmluYm94X2lkLG1lc3NhZ2U6bWVzc2FnZS50ZXh0LHNlbmREYXRlOnRoaXMuZGF0ZU1vZHVsZS5kYXRlLnRvSVNPU3RyaW5nKCksdHlwZTp0aGlzLm1lc3NhZ2VUeXBlRmFjdG9yeShKU09OLnBhcnNlKG1lc3NhZ2UuYWN0aW9uX3BhcmFtcykpLGlzUmVhZDoyPT09bWVzc2FnZS5zdGF0dXN8fDM9PT1tZXNzYWdlLnN0YXR1cyxpc0FjdGlvblBlcmZvcm1lZDozPT09bWVzc2FnZS5zdGF0dXN9XX19KX0pfSxJbmJveE1lc3NhZ2VzLnByb3RvdHlwZS5tZXNzYWdlc1dpdGhOb0FjdGlvblBlcmZvcm1lZENvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5ib3hNb2RlbC5nZXREZWxpdmVyZWRSZWFkTWVzc2FnZXNDb3VudCgpfSxJbmJveE1lc3NhZ2VzLnByb3RvdHlwZS51bnJlYWRNZXNzYWdlc0NvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5ib3hNb2RlbC5nZXREZWxpdmVyZWRNZXNzYWdlc0NvdW50KCl9LEluYm94TWVzc2FnZXMucHJvdG90eXBlLm1lc3NhZ2VzQ291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbmJveE1vZGVsLm1lc3NhZ2VzQ291bnQoKX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUubG9hZE1lc3NhZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcmVhZE1lc3NhZ2VzLHVucmVhZE1lc3NhZ2VzLGJ1aWxkTWVzc2FnZVByb21pc2VzO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmluYm94TW9kZWwuZ2V0UmVhZE9wZW5NZXNzYWdlcygpXTtjYXNlIDE6cmV0dXJuIHJlYWRNZXNzYWdlcz1fYS5zZW50KCksWzQsdGhpcy5pbmJveE1vZGVsLmdldERlbGl2ZXJlZE1lc3NhZ2VzKCldO2Nhc2UgMjpyZXR1cm4gdW5yZWFkTWVzc2FnZXM9X2Euc2VudCgpLGJ1aWxkTWVzc2FnZVByb21pc2VzPV9fc3ByZWFkQXJyYXlzKHJlYWRNZXNzYWdlcyx1bnJlYWRNZXNzYWdlcykuc29ydChmdW5jdGlvbihtc2dBLG1zZ0Ipe3JldHVybiBwYXJzZUludChtc2dCLnNlbmRfZGF0ZSwxMCktcGFyc2VJbnQobXNnQS5zZW5kX2RhdGUsMTApfSkuc29ydChmdW5jdGlvbihtc2dBLG1zZ0Ipe3JldHVybiBwYXJzZUludChtc2dCLm9yZGVyfHxcIjBcIiwxMCktcGFyc2VJbnQobXNnQS5vcmRlcnx8XCIwXCIsMTApfSkubWFwKHRoaXMucHVibGljTWVzc2FnZUJ1aWxkZXIpLFsyLFByb21pc2UuYWxsKGJ1aWxkTWVzc2FnZVByb21pc2VzKV19fSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUucmVhZE1lc3NhZ2VzV2l0aENvZGVzPWZ1bmN0aW9uKGNvZGVzKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB1bnJlYWRNZXNzYWdlcyxzdGF0dXNSZWFkO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmluYm94TW9kZWwuZ2V0RGVsaXZlcmVkTWVzc2FnZXMoKV07Y2FzZSAxOnJldHVybiB1bnJlYWRNZXNzYWdlcz1fYS5zZW50KCksc3RhdHVzUmVhZD0yLFs0LHRoaXMudXBkYXRlTWVzc2FnZXNTdGF0dXNXaXRoQ29kZXMoY29kZXMsdW5yZWFkTWVzc2FnZXMsc3RhdHVzUmVhZCldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxJbmJveE1lc3NhZ2VzLnByb3RvdHlwZS5wZXJmb3JtQWN0aW9uRm9yTWVzc2FnZVdpdGhDb2RlPWZ1bmN0aW9uKGNvZGUpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG1lc3NhZ2UsYWN0aW9uUGFyYW1zLG1lc3NhZ2VUeXBlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmluYm94TW9kZWwuZ2V0TWVzc2FnZShjb2RlKV07Y2FzZSAxOnJldHVybiBtZXNzYWdlPV9hLnNlbnQoKSxhY3Rpb25QYXJhbXM9SlNPTi5wYXJzZShtZXNzYWdlLmFjdGlvbl9wYXJhbXMpLDI9PT0obWVzc2FnZVR5cGU9dGhpcy5tZXNzYWdlVHlwZUZhY3RvcnkoYWN0aW9uUGFyYW1zKSkmJm51bGwhPWFjdGlvblBhcmFtcy5sP2RvY3VtZW50LmxvY2F0aW9uLmhyZWY9YWN0aW9uUGFyYW1zLmw6Mz09PW1lc3NhZ2VUeXBlJiZudWxsIT1hY3Rpb25QYXJhbXMubCYmd2luZG93Lmhpc3RvcnkuZ28oYWN0aW9uUGFyYW1zLmwpLG1lc3NhZ2Uuc3RhdHVzPTMsWzQsdGhpcy5pbmJveE1vZGVsLnB1dE1lc3NhZ2UobWVzc2FnZSldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuYXBpLmluYm94U3RhdHVzKG1lc3NhZ2Uub3JkZXIsbWVzc2FnZS5zdGF0dXMpXTtjYXNlIDM6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUuZGVsZXRlTWVzc2FnZXNXaXRoQ29kZXM9ZnVuY3Rpb24oY29kZXMpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHJlYWRNZXNzYWdlcyx1bnJlYWRNZXNzYWdlcyxzdGF0dXNEZWxldGVkO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmluYm94TW9kZWwuZ2V0UmVhZE9wZW5NZXNzYWdlcygpXTtjYXNlIDE6cmV0dXJuIHJlYWRNZXNzYWdlcz1fYS5zZW50KCksWzQsdGhpcy5pbmJveE1vZGVsLmdldERlbGl2ZXJlZE1lc3NhZ2VzKCldO2Nhc2UgMjpyZXR1cm4gdW5yZWFkTWVzc2FnZXM9X2Euc2VudCgpLHN0YXR1c0RlbGV0ZWQ9NCxbNCx0aGlzLnVwZGF0ZU1lc3NhZ2VzU3RhdHVzV2l0aENvZGVzKGNvZGVzLF9fc3ByZWFkQXJyYXlzKHJlYWRNZXNzYWdlcyx1bnJlYWRNZXNzYWdlcyksc3RhdHVzRGVsZXRlZCldO2Nhc2UgMzpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxJbmJveE1lc3NhZ2VzLnByb3RvdHlwZS5zeW5jTWVzc2FnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmluYm94TW9kZWwudXBkYXRlTWVzc2FnZXMoKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LEluYm94TWVzc2FnZXN9KCk7ZXhwb3J0cy5kZWZhdWx0PUluYm94TWVzc2FnZXN9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX2F3YWl0ZXI9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKHRoaXNBcmcsX2FyZ3VtZW50cyxQLGdlbmVyYXRvcil7cmV0dXJuIG5ldyhQfHwoUD1Qcm9taXNlKSkoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2Z1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IudGhyb3codmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHN0ZXAocmVzdWx0KXtyZXN1bHQuZG9uZT9yZXNvbHZlKHJlc3VsdC52YWx1ZSk6ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFA/dmFsdWU6bmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSl7cmVzb2x2ZSh2YWx1ZSl9KX0ocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCxyZWplY3RlZCl9c3RlcCgoZ2VuZXJhdG9yPWdlbmVyYXRvci5hcHBseSh0aGlzQXJnLF9hcmd1bWVudHN8fFtdKSkubmV4dCgpKX0pfSxfX2dlbmVyYXRvcj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbih0aGlzQXJnLGJvZHkpe3ZhciBmLHksdCxnLF89e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmdFswXSl0aHJvdyB0WzFdO3JldHVybiB0WzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGc9e25leHQ6dmVyYigwKSx0aHJvdzp2ZXJiKDEpLHJldHVybjp2ZXJiKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihnW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGc7ZnVuY3Rpb24gdmVyYihuKXtyZXR1cm4gZnVuY3Rpb24odil7cmV0dXJuIGZ1bmN0aW9uKG9wKXtpZihmKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7XzspdHJ5e2lmKGY9MSx5JiYodD0yJm9wWzBdP3kucmV0dXJuOm9wWzBdP3kudGhyb3d8fCgodD15LnJldHVybikmJnQuY2FsbCh5KSwwKTp5Lm5leHQpJiYhKHQ9dC5jYWxsKHksb3BbMV0pKS5kb25lKXJldHVybiB0O3N3aXRjaCh5PTAsdCYmKG9wPVsyJm9wWzBdLHQudmFsdWVdKSxvcFswXSl7Y2FzZSAwOmNhc2UgMTp0PW9wO2JyZWFrO2Nhc2UgNDpyZXR1cm4gXy5sYWJlbCsrLHt2YWx1ZTpvcFsxXSxkb25lOiExfTtjYXNlIDU6Xy5sYWJlbCsrLHk9b3BbMV0sb3A9WzBdO2NvbnRpbnVlO2Nhc2UgNzpvcD1fLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKHQ9KHQ9Xy50cnlzKS5sZW5ndGg+MCYmdFt0Lmxlbmd0aC0xXSkmJig2PT09b3BbMF18fDI9PT1vcFswXSkpe189MDtjb250aW51ZX1pZigzPT09b3BbMF0mJighdHx8b3BbMV0+dFswXSYmb3BbMV08dFszXSkpe18ubGFiZWw9b3BbMV07YnJlYWt9aWYoNj09PW9wWzBdJiZfLmxhYmVsPHRbMV0pe18ubGFiZWw9dFsxXSx0PW9wO2JyZWFrfWlmKHQmJl8ubGFiZWw8dFsyXSl7Xy5sYWJlbD10WzJdLF8ub3BzLnB1c2gob3ApO2JyZWFrfXRbMl0mJl8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZX1vcD1ib2R5LmNhbGwodGhpc0FyZyxfKX1jYXRjaChlKXtvcD1bNixlXSx5PTB9ZmluYWxseXtmPXQ9MH1pZig1Jm9wWzBdKXRocm93IG9wWzFdO3JldHVybnt2YWx1ZTpvcFswXT9vcFsxXTp2b2lkIDAsZG9uZTohMH19KFtuLHZdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLkFwaUNsaWVudD12b2lkIDA7dmFyIERhdGFfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDQpLGxvZ2dlcl8xPV9fd2VicGFja19yZXF1aXJlX18oMyksQXBpQ2xpZW50PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gQXBpQ2xpZW50KGRhdGEsbG9nZ2VyKXt2b2lkIDA9PT1kYXRhJiYoZGF0YT1uZXcgRGF0YV8xLkRhdGEpLHZvaWQgMD09PWxvZ2dlciYmKGxvZ2dlcj1sb2dnZXJfMS5Mb2dnZXIpLHRoaXMuZGF0YT1kYXRhLHRoaXMubG9nZ2VyPWxvZ2dlcn1yZXR1cm4gQXBpQ2xpZW50LnByb3RvdHlwZS5jaGVja0RldmljZT1mdW5jdGlvbihvcHRpb25zKXtyZXR1cm4gdGhpcy5jcmVhdGVSZXF1ZXN0KFwiY2hlY2tEZXZpY2VcIixvcHRpb25zKX0sQXBpQ2xpZW50LnByb3RvdHlwZS5nZXRDb25maWc9ZnVuY3Rpb24ob3B0aW9ucyl7cmV0dXJuIHRoaXMuY3JlYXRlUmVxdWVzdChcImdldENvbmZpZ1wiLG9wdGlvbnMpfSxBcGlDbGllbnQucHJvdG90eXBlLmFwcGxpY2F0aW9uT3Blbj1mdW5jdGlvbihvcHRpb25zKXtyZXR1cm4gdGhpcy5jcmVhdGVSZXF1ZXN0KFwiYXBwbGljYXRpb25PcGVuXCIsb3B0aW9ucyl9LEFwaUNsaWVudC5wcm90b3R5cGUucmVnaXN0ZXJEZXZpY2U9ZnVuY3Rpb24ob3B0aW9ucyl7cmV0dXJuIHRoaXMuY3JlYXRlUmVxdWVzdChcInJlZ2lzdGVyRGV2aWNlXCIsb3B0aW9ucyl9LEFwaUNsaWVudC5wcm90b3R5cGUudW5yZWdpc3RlckRldmljZT1mdW5jdGlvbihvcHRpb25zKXtyZXR1cm4gdGhpcy5jcmVhdGVSZXF1ZXN0KFwidW5yZWdpc3RlckRldmljZVwiLG9wdGlvbnMpfSxBcGlDbGllbnQucHJvdG90eXBlLmRlbGV0ZURldmljZT1mdW5jdGlvbihvcHRpb25zKXtyZXR1cm4gdGhpcy5jcmVhdGVSZXF1ZXN0KFwiZGVsZXRlRGV2aWNlXCIsb3B0aW9ucyl9LEFwaUNsaWVudC5wcm90b3R5cGUubWVzc2FnZURlbGl2ZXJ5RXZlbnQ9ZnVuY3Rpb24ob3B0aW9ucyl7cmV0dXJuIHRoaXMuY3JlYXRlUmVxdWVzdChcIm1lc3NhZ2VEZWxpdmVyeUV2ZW50XCIsb3B0aW9ucyl9LEFwaUNsaWVudC5wcm90b3R5cGUucHVzaFN0YXQ9ZnVuY3Rpb24ob3B0aW9ucyl7cmV0dXJuIHRoaXMuY3JlYXRlUmVxdWVzdChcInB1c2hTdGF0XCIsb3B0aW9ucyl9LEFwaUNsaWVudC5wcm90b3R5cGUuc2V0VGFncz1mdW5jdGlvbihvcHRpb25zKXtyZXR1cm4gdGhpcy5jcmVhdGVSZXF1ZXN0KFwic2V0VGFnc1wiLG9wdGlvbnMpfSxBcGlDbGllbnQucHJvdG90eXBlLmdldFRhZ3M9ZnVuY3Rpb24ob3B0aW9ucyl7cmV0dXJuIHRoaXMuY3JlYXRlUmVxdWVzdChcImdldFRhZ3NcIixvcHRpb25zKX0sQXBpQ2xpZW50LnByb3RvdHlwZS5yZWdpc3RlclVzZXI9ZnVuY3Rpb24ob3B0aW9ucyl7cmV0dXJuIHRoaXMuY3JlYXRlUmVxdWVzdChcInJlZ2lzdGVyVXNlclwiLG9wdGlvbnMpfSxBcGlDbGllbnQucHJvdG90eXBlLnBvc3RFdmVudD1mdW5jdGlvbihvcHRpb25zKXtyZXR1cm4gdGhpcy5jcmVhdGVSZXF1ZXN0KFwicG9zdEV2ZW50XCIsb3B0aW9ucyl9LEFwaUNsaWVudC5wcm90b3R5cGUuZ2V0SW5ib3hNZXNzYWdlcz1mdW5jdGlvbihvcHRpb25zKXtyZXR1cm4gdGhpcy5jcmVhdGVSZXF1ZXN0KFwiZ2V0SW5ib3hNZXNzYWdlc1wiLG9wdGlvbnMpfSxBcGlDbGllbnQucHJvdG90eXBlLmluYm94U3RhdHVzPWZ1bmN0aW9uKG9wdGlvbnMpe3JldHVybiB0aGlzLmNyZWF0ZVJlcXVlc3QoXCJpbmJveFN0YXR1c1wiLG9wdGlvbnMpfSxBcGlDbGllbnQucHJvdG90eXBlLnBhZ2VWaXNpdD1mdW5jdGlvbihvcHRpb25zLHVybCl7cmV0dXJuIHRoaXMuY3JlYXRlUmVxdWVzdChcInBhZ2VWaXNpdFwiLG9wdGlvbnMsdXJsKX0sQXBpQ2xpZW50LnByb3RvdHlwZS5nZXRJbkFwcHM9ZnVuY3Rpb24ob3B0aW9ucyl7cmV0dXJuIHRoaXMuY3JlYXRlUmVxdWVzdChcImdldEluQXBwc1wiLG9wdGlvbnMpfSxBcGlDbGllbnQucHJvdG90eXBlLnNldFB1cmNoYXNlPWZ1bmN0aW9uKG9wdGlvbnMpe3JldHVybiB0aGlzLmNyZWF0ZVJlcXVlc3QoXCJzZXRQdXJjaGFzZVwiLG9wdGlvbnMpfSxBcGlDbGllbnQucHJvdG90eXBlLmNyZWF0ZVJlcXVlc3Q9ZnVuY3Rpb24obWV0aG9kTmFtZSxyZXF1ZXN0LGN1c3RvbVVybCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZW50cnlwb2ludCxyZXNwb25zZSxyZXN1bHQ7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXRBcGlFbnRyeXBvaW50KCldO2Nhc2UgMTpyZXR1cm4gZW50cnlwb2ludD1fYS5zZW50KCksWzQsZmV0Y2goY3VzdG9tVXJsfHxlbnRyeXBvaW50K21ldGhvZE5hbWUse21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwidGV4dC9wbGFpbjtjaGFyc2V0PVVURi04XCJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoe3JlcXVlc3Q6cmVxdWVzdH0pfSldO2Nhc2UgMjpyZXR1cm4gcmVzcG9uc2U9X2Euc2VudCgpLFs0LHRoaXMuY2hlY2tSZXNwb25zZShyZXNwb25zZSldO2Nhc2UgMzpyZXR1cm4ocmVzdWx0PV9hLnNlbnQoKSkuYmFzZV91cmw/WzQsdGhpcy5kYXRhLnNldEFwaUVudHJ5cG9pbnQocmVzdWx0LmJhc2VfdXJsKV06WzMsNV07Y2FzZSA0Ol9hLnNlbnQoKSxfYS5sYWJlbD01O2Nhc2UgNTpyZXR1cm5bNCx0aGlzLmxvZ2dlci53cml0ZShcImFwaXJlcXVlc3RcIixtZXRob2ROYW1lK1wiIGNhbGwgd2l0aCBhcmd1bWVudHM6IFwiK0pTT04uc3RyaW5naWZ5KHJlcXVlc3QpK1wiIHRvIFB1c2h3b29zaCBoYXMgYmVlbiBzdWNjZXNzZnVsLiBSZXN1bHQ6IFwiK0pTT04uc3RyaW5naWZ5KHJlc3VsdC5yZXNwb25zZSkpXTtjYXNlIDY6cmV0dXJuIF9hLnNlbnQoKSxbMixyZXN1bHQucmVzcG9uc2VdfX0pfSl9LEFwaUNsaWVudC5wcm90b3R5cGUuY2hlY2tSZXNwb25zZT1mdW5jdGlvbihyZXNwb25zZSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZGF0YTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6aWYoMjAwIT09cmVzcG9uc2Uuc3RhdHVzKXRocm93IG5ldyBFcnJvcihcIkVycm9yIGNvZGU6IFwiK3Jlc3BvbnNlLnN0YXR1cytcIi4gRXJyb3IgdGV4dDogXCIrcmVzcG9uc2Uuc3RhdHVzVGV4dCk7cmV0dXJuWzQscmVzcG9uc2UuanNvbigpXTtjYXNlIDE6aWYoMjAwIT09KGRhdGE9X2Euc2VudCgpKS5zdGF0dXNfY29kZSl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBjb2RlOiBcIitkYXRhLnN0YXR1c19jb2RlK1wiLiBFcnJvciB0ZXh0OiBcIitkYXRhLnN0YXR1c19tZXNzYWdlKTtyZXR1cm5bMixkYXRhXX19KX0pfSxBcGlDbGllbnR9KCk7ZXhwb3J0cy5BcGlDbGllbnQ9QXBpQ2xpZW50fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24ocHJvY2Vzcyl7dm9pZCAwPT09cHJvY2Vzc3x8IXByb2Nlc3MudmVyc2lvbnx8MD09PXByb2Nlc3MudmVyc2lvbi5pbmRleE9mKFwidjAuXCIpfHwwPT09cHJvY2Vzcy52ZXJzaW9uLmluZGV4T2YoXCJ2MS5cIikmJjAhPT1wcm9jZXNzLnZlcnNpb24uaW5kZXhPZihcInYxLjguXCIpP21vZHVsZS5leHBvcnRzPXtuZXh0VGljazpmdW5jdGlvbihmbixhcmcxLGFyZzIsYXJnMyl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgZm4pdGhyb3cgbmV3IFR5cGVFcnJvcignXCJjYWxsYmFja1wiIGFyZ3VtZW50IG11c3QgYmUgYSBmdW5jdGlvbicpO3ZhciBhcmdzLGksbGVuPWFyZ3VtZW50cy5sZW5ndGg7c3dpdGNoKGxlbil7Y2FzZSAwOmNhc2UgMTpyZXR1cm4gcHJvY2Vzcy5uZXh0VGljayhmbik7Y2FzZSAyOnJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uKCl7Zm4uY2FsbChudWxsLGFyZzEpfSk7Y2FzZSAzOnJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uKCl7Zm4uY2FsbChudWxsLGFyZzEsYXJnMil9KTtjYXNlIDQ6cmV0dXJuIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKXtmbi5jYWxsKG51bGwsYXJnMSxhcmcyLGFyZzMpfSk7ZGVmYXVsdDpmb3IoYXJncz1uZXcgQXJyYXkobGVuLTEpLGk9MDtpPGFyZ3MubGVuZ3RoOylhcmdzW2krK109YXJndW1lbnRzW2ldO3JldHVybiBwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uKCl7Zm4uYXBwbHkobnVsbCxhcmdzKX0pfX19Om1vZHVsZS5leHBvcnRzPXByb2Nlc3N9KS5jYWxsKHRoaXMsX193ZWJwYWNrX3JlcXVpcmVfXygyMikpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgYnVmZmVyPV9fd2VicGFja19yZXF1aXJlX18oMjEpLEJ1ZmZlcj1idWZmZXIuQnVmZmVyO2Z1bmN0aW9uIGNvcHlQcm9wcyhzcmMsZHN0KXtmb3IodmFyIGtleSBpbiBzcmMpZHN0W2tleV09c3JjW2tleV19ZnVuY3Rpb24gU2FmZUJ1ZmZlcihhcmcsZW5jb2RpbmdPck9mZnNldCxsZW5ndGgpe3JldHVybiBCdWZmZXIoYXJnLGVuY29kaW5nT3JPZmZzZXQsbGVuZ3RoKX1CdWZmZXIuZnJvbSYmQnVmZmVyLmFsbG9jJiZCdWZmZXIuYWxsb2NVbnNhZmUmJkJ1ZmZlci5hbGxvY1Vuc2FmZVNsb3c/bW9kdWxlLmV4cG9ydHM9YnVmZmVyOihjb3B5UHJvcHMoYnVmZmVyLGV4cG9ydHMpLGV4cG9ydHMuQnVmZmVyPVNhZmVCdWZmZXIpLGNvcHlQcm9wcyhCdWZmZXIsU2FmZUJ1ZmZlciksU2FmZUJ1ZmZlci5mcm9tPWZ1bmN0aW9uKGFyZyxlbmNvZGluZ09yT2Zmc2V0LGxlbmd0aCl7aWYoXCJudW1iZXJcIj09dHlwZW9mIGFyZyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXJcIik7cmV0dXJuIEJ1ZmZlcihhcmcsZW5jb2RpbmdPck9mZnNldCxsZW5ndGgpfSxTYWZlQnVmZmVyLmFsbG9jPWZ1bmN0aW9uKHNpemUsZmlsbCxlbmNvZGluZyl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHNpemUpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgYmUgYSBudW1iZXJcIik7dmFyIGJ1Zj1CdWZmZXIoc2l6ZSk7cmV0dXJuIHZvaWQgMCE9PWZpbGw/XCJzdHJpbmdcIj09dHlwZW9mIGVuY29kaW5nP2J1Zi5maWxsKGZpbGwsZW5jb2RpbmcpOmJ1Zi5maWxsKGZpbGwpOmJ1Zi5maWxsKDApLGJ1Zn0sU2FmZUJ1ZmZlci5hbGxvY1Vuc2FmZT1mdW5jdGlvbihzaXplKXtpZihcIm51bWJlclwiIT10eXBlb2Ygc2l6ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlclwiKTtyZXR1cm4gQnVmZmVyKHNpemUpfSxTYWZlQnVmZmVyLmFsbG9jVW5zYWZlU2xvdz1mdW5jdGlvbihzaXplKXtpZihcIm51bWJlclwiIT10eXBlb2Ygc2l6ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlclwiKTtyZXR1cm4gYnVmZmVyLlNsb3dCdWZmZXIoc2l6ZSl9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oQnVmZmVyKXttb2R1bGUuZXhwb3J0cz17aXNOb2RlOnZvaWQgMCE9PUJ1ZmZlcixuZXdCdWZmZXJGcm9tOmZ1bmN0aW9uKGRhdGEsZW5jb2Rpbmcpe2lmKEJ1ZmZlci5mcm9tJiZCdWZmZXIuZnJvbSE9PVVpbnQ4QXJyYXkuZnJvbSlyZXR1cm4gQnVmZmVyLmZyb20oZGF0YSxlbmNvZGluZyk7aWYoXCJudW1iZXJcIj09dHlwZW9mIGRhdGEpdGhyb3cgbmV3IEVycm9yKCdUaGUgXCJkYXRhXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXInKTtyZXR1cm4gbmV3IEJ1ZmZlcihkYXRhLGVuY29kaW5nKX0sYWxsb2NCdWZmZXI6ZnVuY3Rpb24oc2l6ZSl7aWYoQnVmZmVyLmFsbG9jKXJldHVybiBCdWZmZXIuYWxsb2Moc2l6ZSk7dmFyIGJ1Zj1uZXcgQnVmZmVyKHNpemUpO3JldHVybiBidWYuZmlsbCgwKSxidWZ9LGlzQnVmZmVyOmZ1bmN0aW9uKGIpe3JldHVybiBCdWZmZXIuaXNCdWZmZXIoYil9LGlzU3RyZWFtOmZ1bmN0aW9uKG9iail7cmV0dXJuIG9iaiYmXCJmdW5jdGlvblwiPT10eXBlb2Ygb2JqLm9uJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBvYmoucGF1c2UmJlwiZnVuY3Rpb25cIj09dHlwZW9mIG9iai5yZXN1bWV9fX0pLmNhbGwodGhpcyxfX3dlYnBhY2tfcmVxdWlyZV9fKDIxKS5CdWZmZXIpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgX25vZGVJZCxfY2xvY2tzZXEscm5nPV9fd2VicGFja19yZXF1aXJlX18oMTYpLGJ5dGVzVG9VdWlkPV9fd2VicGFja19yZXF1aXJlX18oMTcpLF9sYXN0TVNlY3M9MCxfbGFzdE5TZWNzPTA7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24ob3B0aW9ucyxidWYsb2Zmc2V0KXt2YXIgaT1idWYmJm9mZnNldHx8MCxiPWJ1Znx8W10sbm9kZT0ob3B0aW9ucz1vcHRpb25zfHx7fSkubm9kZXx8X25vZGVJZCxjbG9ja3NlcT12b2lkIDAhPT1vcHRpb25zLmNsb2Nrc2VxP29wdGlvbnMuY2xvY2tzZXE6X2Nsb2Nrc2VxO2lmKG51bGw9PW5vZGV8fG51bGw9PWNsb2Nrc2VxKXt2YXIgc2VlZEJ5dGVzPXJuZygpO251bGw9PW5vZGUmJihub2RlPV9ub2RlSWQ9WzF8c2VlZEJ5dGVzWzBdLHNlZWRCeXRlc1sxXSxzZWVkQnl0ZXNbMl0sc2VlZEJ5dGVzWzNdLHNlZWRCeXRlc1s0XSxzZWVkQnl0ZXNbNV1dKSxudWxsPT1jbG9ja3NlcSYmKGNsb2Nrc2VxPV9jbG9ja3NlcT0xNjM4MyYoc2VlZEJ5dGVzWzZdPDw4fHNlZWRCeXRlc1s3XSkpfXZhciBtc2Vjcz12b2lkIDAhPT1vcHRpb25zLm1zZWNzP29wdGlvbnMubXNlY3M6KG5ldyBEYXRlKS5nZXRUaW1lKCksbnNlY3M9dm9pZCAwIT09b3B0aW9ucy5uc2Vjcz9vcHRpb25zLm5zZWNzOl9sYXN0TlNlY3MrMSxkdD1tc2Vjcy1fbGFzdE1TZWNzKyhuc2Vjcy1fbGFzdE5TZWNzKS8xZTQ7aWYoZHQ8MCYmdm9pZCAwPT09b3B0aW9ucy5jbG9ja3NlcSYmKGNsb2Nrc2VxPWNsb2Nrc2VxKzEmMTYzODMpLChkdDwwfHxtc2Vjcz5fbGFzdE1TZWNzKSYmdm9pZCAwPT09b3B0aW9ucy5uc2VjcyYmKG5zZWNzPTApLG5zZWNzPj0xZTQpdGhyb3cgbmV3IEVycm9yKFwidXVpZC52MSgpOiBDYW4ndCBjcmVhdGUgbW9yZSB0aGFuIDEwTSB1dWlkcy9zZWNcIik7X2xhc3RNU2Vjcz1tc2VjcyxfbGFzdE5TZWNzPW5zZWNzLF9jbG9ja3NlcT1jbG9ja3NlcTt2YXIgdGw9KDFlNCooMjY4NDM1NDU1Jihtc2Vjcys9MTIyMTkyOTI4ZTUpKStuc2VjcyklNDI5NDk2NzI5NjtiW2krK109dGw+Pj4yNCYyNTUsYltpKytdPXRsPj4+MTYmMjU1LGJbaSsrXT10bD4+PjgmMjU1LGJbaSsrXT0yNTUmdGw7dmFyIHRtaD1tc2Vjcy80Mjk0OTY3Mjk2KjFlNCYyNjg0MzU0NTU7YltpKytdPXRtaD4+PjgmMjU1LGJbaSsrXT0yNTUmdG1oLGJbaSsrXT10bWg+Pj4yNCYxNXwxNixiW2krK109dG1oPj4+MTYmMjU1LGJbaSsrXT1jbG9ja3NlcT4+Pjh8MTI4LGJbaSsrXT0yNTUmY2xvY2tzZXE7Zm9yKHZhciBuPTA7bjw2OysrbiliW2krbl09bm9kZVtuXTtyZXR1cm4gYnVmfHxieXRlc1RvVXVpZChiKX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBybmc9X193ZWJwYWNrX3JlcXVpcmVfXygxNiksYnl0ZXNUb1V1aWQ9X193ZWJwYWNrX3JlcXVpcmVfXygxNyk7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24ob3B0aW9ucyxidWYsb2Zmc2V0KXt2YXIgaT1idWYmJm9mZnNldHx8MDtcInN0cmluZ1wiPT10eXBlb2Ygb3B0aW9ucyYmKGJ1Zj1cImJpbmFyeVwiPT09b3B0aW9ucz9uZXcgQXJyYXkoMTYpOm51bGwsb3B0aW9ucz1udWxsKTt2YXIgcm5kcz0ob3B0aW9ucz1vcHRpb25zfHx7fSkucmFuZG9tfHwob3B0aW9ucy5ybmd8fHJuZykoKTtpZihybmRzWzZdPTE1JnJuZHNbNl18NjQscm5kc1s4XT02MyZybmRzWzhdfDEyOCxidWYpZm9yKHZhciBpaT0wO2lpPDE2OysraWkpYnVmW2kraWldPXJuZHNbaWldO3JldHVybiBidWZ8fGJ5dGVzVG9VdWlkKHJuZHMpfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIEV2ZW50QnVzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygzMyk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJFdmVudEJ1c1wiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBFdmVudEJ1c18xLkV2ZW50QnVzfX0pfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX19hc3NpZ249dGhpcyYmdGhpcy5fX2Fzc2lnbnx8ZnVuY3Rpb24oKXtyZXR1cm4oX19hc3NpZ249T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBzLGk9MSxuPWFyZ3VtZW50cy5sZW5ndGg7aTxuO2krKylmb3IodmFyIHAgaW4gcz1hcmd1bWVudHNbaV0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMscCkmJih0W3BdPXNbcF0pO3JldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLkV2ZW50QnVzPXZvaWQgMDt2YXIgdXVpZF8xPV9fd2VicGFja19yZXF1aXJlX18oMTMpLEV2ZW50QnVzPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIF90aGlzPXRoaXM7dGhpcy5hZGRFdmVudEhhbmRsZXI9ZnVuY3Rpb24obmFtZSxoYW5kbGVyKXt2YXIgc2F2ZWRFdmVudEhhbmRsZXJzPV90aGlzLnNhdmVkRXZlbnRIYW5kbGVyc01hcFtuYW1lXTtzYXZlZEV2ZW50SGFuZGxlcnN8fChzYXZlZEV2ZW50SGFuZGxlcnM9W10pLHNhdmVkRXZlbnRIYW5kbGVycy5wdXNoKGhhbmRsZXIpLF90aGlzLnNhdmVkRXZlbnRIYW5kbGVyc01hcFtuYW1lXT1zYXZlZEV2ZW50SGFuZGxlcnN9LHRoaXMucmVtb3ZlRXZlbnRIYW5kbGVyPWZ1bmN0aW9uKG5hbWUsaGFuZGxlcil7dmFyIHNhdmVkRXZlbnRIYW5kbGVycz1fdGhpcy5zYXZlZEV2ZW50SGFuZGxlcnNNYXBbbmFtZV07c2F2ZWRFdmVudEhhbmRsZXJzJiYoX3RoaXMuc2F2ZWRFdmVudEhhbmRsZXJzTWFwW25hbWVdPXNhdmVkRXZlbnRIYW5kbGVycy5maWx0ZXIoZnVuY3Rpb24oc2F2ZWRFdmVudEhhbmRsZXIpe3JldHVybiBzYXZlZEV2ZW50SGFuZGxlciE9PWhhbmRsZXJ9KSl9LHRoaXMuZGlzcGF0Y2hFdmVudD1mdW5jdGlvbihuYW1lLHBheWxvYWQpe3ZhciBldmVudElkPXBheWxvYWQuZXZlbnRJZHx8dXVpZF8xLnY0KCksc2F2ZWRFdmVudEhhbmRsZXJzPV90aGlzLnNhdmVkRXZlbnRIYW5kbGVyc01hcFtuYW1lXTtyZXR1cm4gc2F2ZWRFdmVudEhhbmRsZXJzPyhzYXZlZEV2ZW50SGFuZGxlcnMuZm9yRWFjaChmdW5jdGlvbihlbGVtZW50KXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlbGVtZW50JiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7ZWxlbWVudChfX2Fzc2lnbihfX2Fzc2lnbih7fSxwYXlsb2FkKSx7ZXZlbnRJZDpldmVudElkfSkpfSwwKX0pLGV2ZW50SWQpOmV2ZW50SWR9LHRoaXMuc2F2ZWRFdmVudEhhbmRsZXJzTWFwPXt9fX0oKTtleHBvcnRzLkV2ZW50QnVzPUV2ZW50QnVzfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX19hc3NpZ249dGhpcyYmdGhpcy5fX2Fzc2lnbnx8ZnVuY3Rpb24oKXtyZXR1cm4oX19hc3NpZ249T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBzLGk9MSxuPWFyZ3VtZW50cy5sZW5ndGg7aTxuO2krKylmb3IodmFyIHAgaW4gcz1hcmd1bWVudHNbaV0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMscCkmJih0W3BdPXNbcF0pO3JldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxfX2F3YWl0ZXI9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKHRoaXNBcmcsX2FyZ3VtZW50cyxQLGdlbmVyYXRvcil7cmV0dXJuIG5ldyhQfHwoUD1Qcm9taXNlKSkoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2Z1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IudGhyb3codmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHN0ZXAocmVzdWx0KXtyZXN1bHQuZG9uZT9yZXNvbHZlKHJlc3VsdC52YWx1ZSk6ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFA/dmFsdWU6bmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSl7cmVzb2x2ZSh2YWx1ZSl9KX0ocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCxyZWplY3RlZCl9c3RlcCgoZ2VuZXJhdG9yPWdlbmVyYXRvci5hcHBseSh0aGlzQXJnLF9hcmd1bWVudHN8fFtdKSkubmV4dCgpKX0pfSxfX2dlbmVyYXRvcj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbih0aGlzQXJnLGJvZHkpe3ZhciBmLHksdCxnLF89e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmdFswXSl0aHJvdyB0WzFdO3JldHVybiB0WzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGc9e25leHQ6dmVyYigwKSx0aHJvdzp2ZXJiKDEpLHJldHVybjp2ZXJiKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihnW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGc7ZnVuY3Rpb24gdmVyYihuKXtyZXR1cm4gZnVuY3Rpb24odil7cmV0dXJuIGZ1bmN0aW9uKG9wKXtpZihmKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7XzspdHJ5e2lmKGY9MSx5JiYodD0yJm9wWzBdP3kucmV0dXJuOm9wWzBdP3kudGhyb3d8fCgodD15LnJldHVybikmJnQuY2FsbCh5KSwwKTp5Lm5leHQpJiYhKHQ9dC5jYWxsKHksb3BbMV0pKS5kb25lKXJldHVybiB0O3N3aXRjaCh5PTAsdCYmKG9wPVsyJm9wWzBdLHQudmFsdWVdKSxvcFswXSl7Y2FzZSAwOmNhc2UgMTp0PW9wO2JyZWFrO2Nhc2UgNDpyZXR1cm4gXy5sYWJlbCsrLHt2YWx1ZTpvcFsxXSxkb25lOiExfTtjYXNlIDU6Xy5sYWJlbCsrLHk9b3BbMV0sb3A9WzBdO2NvbnRpbnVlO2Nhc2UgNzpvcD1fLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKHQ9KHQ9Xy50cnlzKS5sZW5ndGg+MCYmdFt0Lmxlbmd0aC0xXSkmJig2PT09b3BbMF18fDI9PT1vcFswXSkpe189MDtjb250aW51ZX1pZigzPT09b3BbMF0mJighdHx8b3BbMV0+dFswXSYmb3BbMV08dFszXSkpe18ubGFiZWw9b3BbMV07YnJlYWt9aWYoNj09PW9wWzBdJiZfLmxhYmVsPHRbMV0pe18ubGFiZWw9dFsxXSx0PW9wO2JyZWFrfWlmKHQmJl8ubGFiZWw8dFsyXSl7Xy5sYWJlbD10WzJdLF8ub3BzLnB1c2gob3ApO2JyZWFrfXRbMl0mJl8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZX1vcD1ib2R5LmNhbGwodGhpc0FyZyxfKX1jYXRjaChlKXtvcD1bNixlXSx5PTB9ZmluYWxseXtmPXQ9MH1pZig1Jm9wWzBdKXRocm93IG9wWzFdO3JldHVybnt2YWx1ZTpvcFswXT9vcFsxXTp2b2lkIDAsZG9uZTohMH19KFtuLHZdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLkFwaT12b2lkIDA7dmFyIERhdGFfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDQpLEFwaUNsaWVudF8xPV9fd2VicGFja19yZXF1aXJlX18oMjYpLENPTlNUQU5UUz1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLEFwaT1mdW5jdGlvbigpe2Z1bmN0aW9uIEFwaShldmVudEJ1cyxkYXRhLGFwaUNsaWVudCl7dm9pZCAwPT09ZGF0YSYmKGRhdGE9bmV3IERhdGFfMS5EYXRhKSx2b2lkIDA9PT1hcGlDbGllbnQmJihhcGlDbGllbnQ9bmV3IEFwaUNsaWVudF8xLkFwaUNsaWVudCksdGhpcy5ldmVudEJ1cz1ldmVudEJ1cyx0aGlzLmRhdGE9ZGF0YSx0aGlzLmFwaUNsaWVudD1hcGlDbGllbnR9cmV0dXJuIEFwaS5wcm90b3R5cGUuY2hlY2tEZXZpY2U9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXJhbXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0UmVxdWVzdFBhcmFtcygpXTtjYXNlIDE6cmV0dXJuIHBhcmFtcz1fYS5zZW50KCksWzQsdGhpcy5hcGlDbGllbnQuY2hlY2tEZXZpY2UocGFyYW1zKV07Y2FzZSAyOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sQXBpLnByb3RvdHlwZS5jaGVja0RldmljZVN1YnNjcmliZUZvclB1c2hOb3RpZmljYXRpb25zPWZ1bmN0aW9uKHVzZUNhY2hlKXtyZXR1cm4gdm9pZCAwPT09dXNlQ2FjaGUmJih1c2VDYWNoZT0hMCksX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBzdGF0dXMsX2EsZXhpc3QscHVzaF90b2tlbl9leGlzdDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYil7c3dpdGNoKF9iLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHZvaWQgMCE9PShzdGF0dXM9bG9jYWxTdG9yYWdlLmdldEl0ZW0oQ09OU1RBTlRTLktFWV9ERVZJQ0VfUkVHSVNUUkFUSU9OX1NUQVRVUykpJiZ1c2VDYWNoZT9bMywyXTpbNCx0aGlzLmNoZWNrRGV2aWNlKCldO2Nhc2UgMTpfYT1fYi5zZW50KCksZXhpc3Q9X2EuZXhpc3QscHVzaF90b2tlbl9leGlzdD1fYS5wdXNoX3Rva2VuX2V4aXN0LGxvY2FsU3RvcmFnZS5zZXRJdGVtKENPTlNUQU5UUy5LRVlfREVWSUNFX1JFR0lTVFJBVElPTl9TVEFUVVMsZXhpc3QmJnB1c2hfdG9rZW5fZXhpc3Q/Q09OU1RBTlRTLkRFVklDRV9SRUdJU1RSQVRJT05fU1RBVFVTX1JFR0lTVEVSRUQ6Q09OU1RBTlRTLkRFVklDRV9SRUdJU1RSQVRJT05fU1RBVFVTX1VOUkVHSVNURVJFRCksc3RhdHVzPWxvY2FsU3RvcmFnZS5nZXRJdGVtKENPTlNUQU5UUy5LRVlfREVWSUNFX1JFR0lTVFJBVElPTl9TVEFUVVMpLF9iLmxhYmVsPTI7Y2FzZSAyOnJldHVyblsyLHN0YXR1cz09PUNPTlNUQU5UUy5ERVZJQ0VfUkVHSVNUUkFUSU9OX1NUQVRVU19SRUdJU1RFUkVEXX19KX0pfSxBcGkucHJvdG90eXBlLmdldENvbmZpZz1mdW5jdGlvbihmZWF0dXJlcyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGFyYW1zO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFJlcXVlc3RQYXJhbXMoKV07Y2FzZSAxOnJldHVybiBwYXJhbXM9X2Euc2VudCgpLFsyLHRoaXMuYXBpQ2xpZW50LmdldENvbmZpZyhfX2Fzc2lnbihfX2Fzc2lnbih7fSxwYXJhbXMpLHtmZWF0dXJlczpmZWF0dXJlc30pKV19fSl9KX0sQXBpLnByb3RvdHlwZS5hcHBsaWNhdGlvbk9wZW49ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXJhbXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0UmVxdWVzdFBhcmFtcygpXTtjYXNlIDE6cmV0dXJuIHBhcmFtcz1fYS5zZW50KCksWzQsdGhpcy5kYXRhLnNldExhc3RPcGVuQXBwbGljYXRpb25UaW1lKERhdGUubm93KCkpXTtjYXNlIDI6cmV0dXJuIF9hLnNlbnQoKSxbMix0aGlzLmFwaUNsaWVudC5hcHBsaWNhdGlvbk9wZW4ocGFyYW1zKV19fSl9KX0sQXBpLnByb3RvdHlwZS5yZWdpc3RlckRldmljZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhcmFtcyx0b2tlbnMscmVzcG9uc2U7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXRTdGF0dXNDb21tdW5pY2F0aW9uRGlzYWJsZWQoKV07Y2FzZSAxOmlmKF9hLnNlbnQoKSl0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCByZWdpc3RlciBkZXZpY2U6IENvbW11bmljYXRpb24gaXMgZGlzYWJsZWQhXCIpO3JldHVybls0LHRoaXMuZ2V0UmVxdWVzdFBhcmFtcygpXTtjYXNlIDI6cmV0dXJuIHBhcmFtcz1fYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldFRva2VucygpXTtjYXNlIDM6aWYoISh0b2tlbnM9X2Euc2VudCgpKS5wdXNoVG9rZW4pdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgcmVnaXN0ZXIgZGV2aWNlOiBwdXNoVG9rZW4gaXMgbm90IGV4aXN0IVwiKTtyZXR1cm5bNCx0aGlzLmFwaUNsaWVudC5yZWdpc3RlckRldmljZShfX2Fzc2lnbihfX2Fzc2lnbih7fSxwYXJhbXMpLHtwdXNoX3Rva2VuOnRva2Vucy5wdXNoVG9rZW4sYXV0aF90b2tlbjp0b2tlbnMuYXV0aFRva2VuLHB1YmxpY19rZXk6dG9rZW5zLnB1YmxpY0tleSxmY21fcHVzaF9zZXQ6dG9rZW5zLmZjbVB1c2hTZXQsZmNtX3Rva2VuOnRva2Vucy5mY21Ub2tlbn0pKV07Y2FzZSA0OnJldHVybiByZXNwb25zZT1fYS5zZW50KCksWzQsdGhpcy5kYXRhLnNldFN0YXR1c01hbnVhbFVuc3Vic2NyaWJlZCghMSldO2Nhc2UgNTpyZXR1cm4gX2Euc2VudCgpLGxvY2FsU3RvcmFnZS5zZXRJdGVtKENPTlNUQU5UUy5LRVlfREVWSUNFX1JFR0lTVFJBVElPTl9TVEFUVVMsQ09OU1RBTlRTLkRFVklDRV9SRUdJU1RSQVRJT05fU1RBVFVTX1JFR0lTVEVSRUQpLHRoaXMuZXZlbnRCdXMuZGlzcGF0Y2hFdmVudChcInJlZ2lzdGVyXCIse30pLFsyLHJlc3BvbnNlXX19KX0pfSxBcGkucHJvdG90eXBlLnVucmVnaXN0ZXJEZXZpY2U9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXJhbXMscmVzcG9uc2U7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0UmVxdWVzdFBhcmFtcygpXTtjYXNlIDE6cmV0dXJuIHBhcmFtcz1fYS5zZW50KCkscmVzcG9uc2U9dGhpcy5hcGlDbGllbnQudW5yZWdpc3RlckRldmljZShwYXJhbXMpLGxvY2FsU3RvcmFnZS5zZXRJdGVtKENPTlNUQU5UUy5LRVlfREVWSUNFX1JFR0lTVFJBVElPTl9TVEFUVVMsQ09OU1RBTlRTLkRFVklDRV9SRUdJU1RSQVRJT05fU1RBVFVTX1VOUkVHSVNURVJFRCksdGhpcy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KFwidW5zdWJzY3JpYmVcIix7fSksWzIscmVzcG9uc2VdfX0pfSl9LEFwaS5wcm90b3R5cGUuZGVsZXRlRGV2aWNlPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGFyYW1zLHJlc3BvbnNlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFJlcXVlc3RQYXJhbXMoKV07Y2FzZSAxOnJldHVybiBwYXJhbXM9X2Euc2VudCgpLHJlc3BvbnNlPXRoaXMuYXBpQ2xpZW50LmRlbGV0ZURldmljZShwYXJhbXMpLFs0LHRoaXMuZGF0YS5zZXRTdGF0dXNNYW51YWxVbnN1YnNjcmliZWQoITApXTtjYXNlIDI6cmV0dXJuIF9hLnNlbnQoKSxsb2NhbFN0b3JhZ2Uuc2V0SXRlbShDT05TVEFOVFMuS0VZX0RFVklDRV9SRUdJU1RSQVRJT05fU1RBVFVTLENPTlNUQU5UUy5ERVZJQ0VfUkVHSVNUUkFUSU9OX1NUQVRVU19VTlJFR0lTVEVSRUQpLHRoaXMuZXZlbnRCdXMuZGlzcGF0Y2hFdmVudChcInVuc3Vic2NyaWJlXCIse30pLFsyLHJlc3BvbnNlXX19KX0pfSxBcGkucHJvdG90eXBlLm1lc3NhZ2VEZWxpdmVyeUV2ZW50PWZ1bmN0aW9uKGhhc2gsaXNUcmFja2luZ0xvZ09uRmFpbHVyZSxtZXRhRGF0YSl7cmV0dXJuIHZvaWQgMD09PW1ldGFEYXRhJiYobWV0YURhdGE9e30pLF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGFyYW1zO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm4gTWF0aC5yb3VuZCgrbmV3IERhdGUpLFs0LHRoaXMuZ2V0UmVxdWVzdFBhcmFtcygpXTtjYXNlIDE6cmV0dXJuIHBhcmFtcz1fYS5zZW50KCksWzQsdGhpcy5hcGlDbGllbnQubWVzc2FnZURlbGl2ZXJ5RXZlbnQoX19hc3NpZ24oX19hc3NpZ24oe30scGFyYW1zKSx7aGFzaDpoYXNoLG1ldGFEYXRhOm1ldGFEYXRhfSkpXTtjYXNlIDI6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxBcGkucHJvdG90eXBlLnB1c2hTdGF0PWZ1bmN0aW9uKGhhc2gsaXNUcmFja2luZ0xvZ09uRmFpbHVyZSxtZXRhRGF0YSl7cmV0dXJuIHZvaWQgMD09PW1ldGFEYXRhJiYobWV0YURhdGE9e30pLF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGFyYW1zO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm4gTWF0aC5yb3VuZCgrbmV3IERhdGUpLFs0LHRoaXMuZ2V0UmVxdWVzdFBhcmFtcygpXTtjYXNlIDE6cmV0dXJuIHBhcmFtcz1fYS5zZW50KCksWzQsdGhpcy5hcGlDbGllbnQucHVzaFN0YXQoX19hc3NpZ24oX19hc3NpZ24oe30scGFyYW1zKSx7aGFzaDpoYXNoLG1ldGFEYXRhOm1ldGFEYXRhfSkpXTtjYXNlIDI6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxBcGkucHJvdG90eXBlLnNldFRhZ3M9ZnVuY3Rpb24odGFncyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGFyYW1zO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFJlcXVlc3RQYXJhbXMoKV07Y2FzZSAxOnJldHVybiBwYXJhbXM9X2Euc2VudCgpLFsyLHRoaXMuYXBpQ2xpZW50LnNldFRhZ3MoX19hc3NpZ24oX19hc3NpZ24oe30scGFyYW1zKSx7dGFnczp0YWdzfSkpXX19KX0pfSxBcGkucHJvdG90eXBlLmdldFRhZ3M9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXJhbXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0UmVxdWVzdFBhcmFtcygpXTtjYXNlIDE6cmV0dXJuIHBhcmFtcz1fYS5zZW50KCksWzIsdGhpcy5hcGlDbGllbnQuZ2V0VGFncyhwYXJhbXMpXX19KX0pfSxBcGkucHJvdG90eXBlLnJlZ2lzdGVyVXNlcj1mdW5jdGlvbih1c2VySWQpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhcmFtcyxkZXZpY2VUeXBlLGlkLHJlc3BvbnNlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFJlcXVlc3RQYXJhbXMoKV07Y2FzZSAxOnJldHVybiBwYXJhbXM9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXREZXZpY2VUeXBlKCldO2Nhc2UgMjpyZXR1cm4gZGV2aWNlVHlwZT1fYS5zZW50KCksaWQ9XCJcIit1c2VySWQsWzQsdGhpcy5hcGlDbGllbnQucmVnaXN0ZXJVc2VyKF9fYXNzaWduKF9fYXNzaWduKHt9LHBhcmFtcykse3VzZXJJZDppZCx0c19vZmZzZXQ6NjAqLShuZXcgRGF0ZSkuZ2V0VGltZXpvbmVPZmZzZXQoKSxkZXZpY2VfdHlwZTpkZXZpY2VUeXBlfSkpXTtjYXNlIDM6cmV0dXJuIHJlc3BvbnNlPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuc2V0VXNlcklkKFwiXCIrdXNlcklkKV07Y2FzZSA0OnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5kYXRhLnNldFN0YXR1c1VzZXJJZFdhc0NoYW5nZWQoITApXTtjYXNlIDU6cmV0dXJuIF9hLnNlbnQoKSxbMixyZXNwb25zZV19fSl9KX0sQXBpLnByb3RvdHlwZS5wb3N0RXZlbnQ9ZnVuY3Rpb24oZXZlbnQsYXR0cmlidXRlcyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGFyYW1zLGRhdGUsdGltZSx0aW1lc3RhbXBVVEMsdGltZXN0YW1wQ3VycmVudCxsYXN0T3Blbk1lc3NhZ2UscmVzcG9uc2U7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0UmVxdWVzdFBhcmFtcygpXTtjYXNlIDE6cmV0dXJuIHBhcmFtcz1fYS5zZW50KCksZGF0ZT1uZXcgRGF0ZSx0aW1lPWRhdGUuZ2V0VGltZSgpLHRpbWVzdGFtcFVUQz1NYXRoLmZsb29yKHRpbWUvMWUzKSx0aW1lc3RhbXBDdXJyZW50PXRpbWVzdGFtcFVUQy1kYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkvNjAqMzYwMCxbNCx0aGlzLmRhdGEuZ2V0TGFzdE9wZW5NZXNzYWdlKCldO2Nhc2UgMjppZigobGFzdE9wZW5NZXNzYWdlPV9hLnNlbnQoKSkmJmxhc3RPcGVuTWVzc2FnZS5leHBpcnk+RGF0ZS5ub3coKSl7aWYoYXR0cmlidXRlcy5tc2dIYXNoKXJldHVyblsyLFByb21pc2UucmVqZWN0KFwiYXR0cmlidXRlIG1zZ0hhc2ggYWxyZWFkeSBkZWZpbmVkXCIpXTthdHRyaWJ1dGVzPV9fYXNzaWduKF9fYXNzaWduKHt9LGF0dHJpYnV0ZXMpLHttc2dIYXNoOmxhc3RPcGVuTWVzc2FnZS5tZXNzYWdlSGFzaH0pfXJldHVybls0LHRoaXMuZGF0YS5zZXRMYXN0T3Blbk1lc3NhZ2Uodm9pZCAwKV07Y2FzZSAzOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5hcGlDbGllbnQucG9zdEV2ZW50KF9fYXNzaWduKF9fYXNzaWduKHt9LHBhcmFtcykse2V2ZW50OmV2ZW50LHRpbWVzdGFtcFVUQzp0aW1lc3RhbXBVVEMsdGltZXN0YW1wQ3VycmVudDp0aW1lc3RhbXBDdXJyZW50LGF0dHJpYnV0ZXM6YXR0cmlidXRlc30pKV07Y2FzZSA0OnJldHVybihyZXNwb25zZT1fYS5zZW50KCkpJiZyZXNwb25zZS5jb2RlJiZ0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJyZWNlaXZlLWluLWFwcC1jb2RlXCIse2NvZGU6cmVzcG9uc2UuY29kZX0pLFsyLHJlc3BvbnNlXX19KX0pfSxBcGkucHJvdG90eXBlLmdldEluYm94TWVzc2FnZXM9ZnVuY3Rpb24oY291bnQpe3JldHVybiB2b2lkIDA9PT1jb3VudCYmKGNvdW50PTApLF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGFyYW1zLGxhc3RDb2RlLGxhc3RSZXF1ZXN0VGltZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRSZXF1ZXN0UGFyYW1zKCldO2Nhc2UgMTpyZXR1cm4gcGFyYW1zPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0SW5ib3hMYXN0UmVxdWVzdENvZGUoKV07Y2FzZSAyOnJldHVybiBsYXN0Q29kZT1fYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldEluYm94TGFzdFJlcXVlc3RUaW1lKCldO2Nhc2UgMzpyZXR1cm4gbGFzdFJlcXVlc3RUaW1lPV9hLnNlbnQoKSxbMix0aGlzLmFwaUNsaWVudC5nZXRJbmJveE1lc3NhZ2VzKF9fYXNzaWduKF9fYXNzaWduKHt9LHBhcmFtcykse2NvdW50OmNvdW50LGxhc3RfY29kZTpsYXN0Q29kZSxsYXN0X3JlcXVlc3RfdGltZTpsYXN0UmVxdWVzdFRpbWV9KSldfX0pfSl9LEFwaS5wcm90b3R5cGUuaW5ib3hTdGF0dXM9ZnVuY3Rpb24ob3JkZXIsc3RhdHVzKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXJhbXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0UmVxdWVzdFBhcmFtcygpXTtjYXNlIDE6cmV0dXJuIHBhcmFtcz1fYS5zZW50KCksWzIsdGhpcy5hcGlDbGllbnQuaW5ib3hTdGF0dXMoX19hc3NpZ24oX19hc3NpZ24oe30scGFyYW1zKSx7aW5ib3hfY29kZTpvcmRlcixzdGF0dXM6c3RhdHVzLHRpbWU6KG5ldyBEYXRlKS5nZXRUaW1lKCl9KSldfX0pfSl9LEFwaS5wcm90b3R5cGUudHJpZ2dlckV2ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7dGhyb3cgbmV3IEVycm9yKFwiTWV0aG9kIGhhcyBiZWVuIGRlcHJlY2F0ZWQsIGJlY2F1c2Ugd2UgZG9uJ3QgYWdncmVnYXRlIHRoaXMgc3RhdGlzdGljcy5cIil9KX0pfSxBcGkucHJvdG90eXBlLnBhZ2VWaXNpdD1mdW5jdGlvbihjb25maWcpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhcmFtcyxmZWF0dXJlcyx1cmw7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0UmVxdWVzdFBhcmFtcygpXTtjYXNlIDE6cmV0dXJuIHBhcmFtcz1fYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldEZlYXR1cmVzKCldO2Nhc2UgMjpyZXR1cm4gZmVhdHVyZXM9X2Euc2VudCgpLCh1cmw9ZmVhdHVyZXMmJmZlYXR1cmVzLnBhZ2VfdmlzaXQmJmZlYXR1cmVzLnBhZ2VfdmlzaXQuZW50cnlwb2ludCk/WzIsdGhpcy5hcGlDbGllbnQucGFnZVZpc2l0KF9fYXNzaWduKF9fYXNzaWduKHt9LHBhcmFtcyksY29uZmlnKSx1cmwpXTpbMl19fSl9KX0sQXBpLnByb3RvdHlwZS5nZXRJbkFwcHM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXJhbXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0UmVxdWVzdFBhcmFtcygpXTtjYXNlIDE6cmV0dXJuIHBhcmFtcz1fYS5zZW50KCksWzIsdGhpcy5hcGlDbGllbnQuZ2V0SW5BcHBzKHBhcmFtcyldfX0pfSl9LEFwaS5wcm90b3R5cGUuc2V0UHVyY2hhc2U9ZnVuY3Rpb24oYXR0cmlidXRlcyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGFyYW1zO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFJlcXVlc3RQYXJhbXMoKV07Y2FzZSAxOnJldHVybiBwYXJhbXM9X2Euc2VudCgpLFsyLHRoaXMuYXBpQ2xpZW50LnNldFB1cmNoYXNlKF9fYXNzaWduKF9fYXNzaWduKHt9LHBhcmFtcyksYXR0cmlidXRlcykpXX19KX0pfSxBcGkucHJvdG90eXBlLmdldFBhcmFtcz1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGFwcGxpY2F0aW9uQ29kZSxod2lkLGFwaVBhcmFtcyxpbml0UGFyYW1zO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuZ2V0QXBwbGljYXRpb25Db2RlKCldO2Nhc2UgMTpyZXR1cm4gYXBwbGljYXRpb25Db2RlPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0SHdpZCgpXTtjYXNlIDI6cmV0dXJuIGh3aWQ9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRUb2tlbnMoKV07Y2FzZSAzOnJldHVybiBhcGlQYXJhbXM9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRJbml0UGFyYW1zKCldO2Nhc2UgNDpyZXR1cm4gaW5pdFBhcmFtcz1fYS5zZW50KCksWzIsX19hc3NpZ24oX19hc3NpZ24oe2FwcGxpY2F0aW9uQ29kZTphcHBsaWNhdGlvbkNvZGUsaHdpZDpod2lkfSxhcGlQYXJhbXMpLGluaXRQYXJhbXMpXX19KX0pfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoQXBpLnByb3RvdHlwZSxcInBhcmFtc1wiLHtnZXQ6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoJ1Byb3BlcnR5IFwiUHVzaHdvb3NoLmFwaS5wYXJhbXNcIiBoYXZlIGJlZW4gZGVwcmVjYXRlZC4gVXNlIHRoZSBhc3luYyBtZXRob2QgXCJQdXNod29vc2guYXBpLmdldFBhcmFtcygpXCInKX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxBcGkucHJvdG90eXBlLmdldFJlcXVlc3RQYXJhbXM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBhcHBsaWNhdGlvbkNvZGUsaHdpZCx1c2VySWQsZGV2aWNlVHlwZSxkZXZpY2VNb2RlbCxsYW5ndWFnZSx2ZXJzaW9uLHRpbWV6b25lO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuZ2V0QXBwbGljYXRpb25Db2RlKCldO2Nhc2UgMTpyZXR1cm4gYXBwbGljYXRpb25Db2RlPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0SHdpZCgpXTtjYXNlIDI6cmV0dXJuIGh3aWQ9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRVc2VySWQoKV07Y2FzZSAzOnJldHVybiB1c2VySWQ9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXREZXZpY2VUeXBlKCldO2Nhc2UgNDpyZXR1cm4gZGV2aWNlVHlwZT1fYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldERldmljZU1vZGVsKCldO2Nhc2UgNTpyZXR1cm4gZGV2aWNlTW9kZWw9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRMYW5ndWFnZSgpXTtjYXNlIDY6cmV0dXJuIGxhbmd1YWdlPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0U2RrVmVyc2lvbigpXTtjYXNlIDc6cmV0dXJuIHZlcnNpb249X2Euc2VudCgpLHRpbWV6b25lPTYwKi0obmV3IERhdGUpLmdldFRpbWV6b25lT2Zmc2V0KCksWzIse2FwcGxpY2F0aW9uOmFwcGxpY2F0aW9uQ29kZSxod2lkOmh3aWQsdXNlcklkOnVzZXJJZHx8aHdpZCxkZXZpY2VfdHlwZTpkZXZpY2VUeXBlLGRldmljZV9tb2RlbDpkZXZpY2VNb2RlbCx0aW1lem9uZTp0aW1lem9uZSxsYW5ndWFnZTpsYW5ndWFnZSx2OnZlcnNpb259XX19KX0pfSxBcGl9KCk7ZXhwb3J0cy5BcGk9QXBpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaW5pdGlhbF8xPV9fd2VicGFja19yZXF1aXJlX18oMzYpLF8yNl8xMV8yMDE4XzE9X193ZWJwYWNrX3JlcXVpcmVfXygzNyksRGF0ZU1vZHVsZV8xPV9fd2VicGFja19yZXF1aXJlX18oNiksTWlncmF0aW9ucz1mdW5jdGlvbigpe2Z1bmN0aW9uIE1pZ3JhdGlvbnMoZGF0ZU1vZHVsZSl7dm9pZCAwPT09ZGF0ZU1vZHVsZSYmKGRhdGVNb2R1bGU9bmV3IERhdGVNb2R1bGVfMS5kZWZhdWx0KSx0aGlzLm1pZ3JhdGlvbnM9e2luaXRpYWw6aW5pdGlhbF8xLmRlZmF1bHQsXCIyMDE4LzExLzI2XCI6XzI2XzExXzIwMThfMS5kZWZhdWx0fSx0aGlzLmRhdGVNb2R1bGU9ZGF0ZU1vZHVsZX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KE1pZ3JhdGlvbnMucHJvdG90eXBlLFwiaW5pdGlhbFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5taWdyYXRpb25zLmluaXRpYWx9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KE1pZ3JhdGlvbnMucHJvdG90eXBlLFwiZGF0ZVNvcnRlZFwiLHtnZXQ6ZnVuY3Rpb24oKXt2YXIgX3RoaXM9dGhpcztyZXR1cm4gT2JqZWN0LmtleXModGhpcy5taWdyYXRpb25zKS5maWx0ZXIoZnVuY3Rpb24oa2V5KXtyZXR1cm5cImluaXRpYWxcIiE9PWtleX0pLnNvcnQoZnVuY3Rpb24oYSxiKXt2YXIgZGF0ZUE9bmV3IERhdGVNb2R1bGVfMS5kZWZhdWx0KG5ldyBEYXRlKGEpKSxkYXRlQj1uZXcgRGF0ZU1vZHVsZV8xLmRlZmF1bHQobmV3IERhdGUoYikpO3JldHVybiBkYXRlQS5nZXRUaW1lc3RhbXAoKS1kYXRlQi5nZXRUaW1lc3RhbXAoKX0pLm1hcChmdW5jdGlvbihrZXkpe3JldHVybiBfdGhpcy5taWdyYXRpb25zW2tleV19KX0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxNaWdyYXRpb25zfSgpO2V4cG9ydHMuZGVmYXVsdD1NaWdyYXRpb25zfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaGVscGVyc18xPV9fd2VicGFja19yZXF1aXJlX18oMjApLGNvbnN0YW50c18xPV9fd2VicGFja19yZXF1aXJlX18oOSk7ZXhwb3J0cy5kZWZhdWx0PVtoZWxwZXJzXzEuc3RvcmVDcmVhdG9yRGVjb3JhdG9yKGNvbnN0YW50c18xLlNUT1JFX05BTUVfS0VZX1ZBTFVFLGZ1bmN0aW9uKGRhdGFiYXNlKXtkYXRhYmFzZS5jcmVhdGVPYmplY3RTdG9yZShjb25zdGFudHNfMS5TVE9SRV9OQU1FX0tFWV9WQUxVRSx7a2V5UGF0aDpcImtleVwifSl9KSxoZWxwZXJzXzEuc3RvcmVDcmVhdG9yRGVjb3JhdG9yKGNvbnN0YW50c18xLlNUT1JFX05BTUVfTUFJTl9MT0csZnVuY3Rpb24oZGF0YWJhc2Upe3ZhciBsb2dTdG9yZT1kYXRhYmFzZS5jcmVhdGVPYmplY3RTdG9yZShjb25zdGFudHNfMS5TVE9SRV9OQU1FX01BSU5fTE9HLHtrZXlQYXRoOmNvbnN0YW50c18xLktFWV9QQVRIX0JBU0VfSU5DUkVNRU5ULGF1dG9JbmNyZW1lbnQ6ITB9KTtsb2dTdG9yZS5jcmVhdGVJbmRleChcImVudmlyb25tZW50XCIsXCJlbnZpcm9ubWVudFwiLHt1bmlxdWU6ITF9KSxsb2dTdG9yZS5jcmVhdGVJbmRleChcImRhdGVcIixcImRhdGVcIix7dW5pcXVlOiExfSksbG9nU3RvcmUuY3JlYXRlSW5kZXgoXCJ0eXBlXCIsXCJ0eXBlXCIse3VuaXF1ZTohMX0pfSksaGVscGVyc18xLnN0b3JlQ3JlYXRvckRlY29yYXRvcihjb25zdGFudHNfMS5TVE9SRV9OQU1FX01FU1NBR0VfTE9HLGZ1bmN0aW9uKGRhdGFiYXNlKXtkYXRhYmFzZS5jcmVhdGVPYmplY3RTdG9yZShjb25zdGFudHNfMS5TVE9SRV9OQU1FX01FU1NBR0VfTE9HLHtrZXlQYXRoOmNvbnN0YW50c18xLktFWV9QQVRIX0JBU0VfSU5DUkVNRU5ULGF1dG9JbmNyZW1lbnQ6ITB9KS5jcmVhdGVJbmRleChcImRhdGVcIixcImRhdGVcIix7dW5pcXVlOiExfSl9KV19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBoZWxwZXJzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygyMCksY29uc3RhbnRzXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg5KTtleHBvcnRzLmRlZmF1bHQ9W2hlbHBlcnNfMS5zdG9yZUNyZWF0b3JEZWNvcmF0b3IoY29uc3RhbnRzXzEuU1RPUkVfTkFNRV9JTkJPWF9NRVNTQUdFUyxmdW5jdGlvbihkYXRhYmFzZSl7dmFyIHN0b3JlPWRhdGFiYXNlLmNyZWF0ZU9iamVjdFN0b3JlKGNvbnN0YW50c18xLlNUT1JFX05BTUVfSU5CT1hfTUVTU0FHRVMse2tleVBhdGg6XCJpbmJveF9pZFwiLGF1dG9JbmNyZW1lbnQ6ITF9KTtzdG9yZS5jcmVhdGVJbmRleChcInN0YXR1c1wiLFwic3RhdHVzXCIse3VuaXF1ZTohMSxtdWx0aUVudHJ5OiEwfSksc3RvcmUuY3JlYXRlSW5kZXgoXCJydFwiLFwicnRcIix7dW5pcXVlOiExLG11bHRpRW50cnk6ITB9KX0pXX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXdhaXRlcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24odGhpc0FyZyxfYXJndW1lbnRzLFAsZ2VuZXJhdG9yKXtyZXR1cm4gbmV3KFB8fChQPVByb21pc2UpKShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gc3RlcChyZXN1bHQpe3Jlc3VsdC5kb25lP3Jlc29sdmUocmVzdWx0LnZhbHVlKTpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUD92YWx1ZTpuZXcgUChmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKHZhbHVlKX0pfShyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLHJlamVjdGVkKX1zdGVwKChnZW5lcmF0b3I9Z2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsX2FyZ3VtZW50c3x8W10pKS5uZXh0KCkpfSl9LF9fZ2VuZXJhdG9yPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKHRoaXNBcmcsYm9keSl7dmFyIGYseSx0LGcsXz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZ0WzBdKXRocm93IHRbMV07cmV0dXJuIHRbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gZz17bmV4dDp2ZXJiKDApLHRocm93OnZlcmIoMSkscmV0dXJuOnZlcmIoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGdbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksZztmdW5jdGlvbiB2ZXJiKG4pe3JldHVybiBmdW5jdGlvbih2KXtyZXR1cm4gZnVuY3Rpb24ob3Ape2lmKGYpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtfOyl0cnl7aWYoZj0xLHkmJih0PTImb3BbMF0/eS5yZXR1cm46b3BbMF0/eS50aHJvd3x8KCh0PXkucmV0dXJuKSYmdC5jYWxsKHkpLDApOnkubmV4dCkmJiEodD10LmNhbGwoeSxvcFsxXSkpLmRvbmUpcmV0dXJuIHQ7c3dpdGNoKHk9MCx0JiYob3A9WzImb3BbMF0sdC52YWx1ZV0pLG9wWzBdKXtjYXNlIDA6Y2FzZSAxOnQ9b3A7YnJlYWs7Y2FzZSA0OnJldHVybiBfLmxhYmVsKysse3ZhbHVlOm9wWzFdLGRvbmU6ITF9O2Nhc2UgNTpfLmxhYmVsKysseT1vcFsxXSxvcD1bMF07Y29udGludWU7Y2FzZSA3Om9wPV8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEodD0odD1fLnRyeXMpLmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdKSYmKDY9PT1vcFswXXx8Mj09PW9wWzBdKSl7Xz0wO2NvbnRpbnVlfWlmKDM9PT1vcFswXSYmKCF0fHxvcFsxXT50WzBdJiZvcFsxXTx0WzNdKSl7Xy5sYWJlbD1vcFsxXTticmVha31pZig2PT09b3BbMF0mJl8ubGFiZWw8dFsxXSl7Xy5sYWJlbD10WzFdLHQ9b3A7YnJlYWt9aWYodCYmXy5sYWJlbDx0WzJdKXtfLmxhYmVsPXRbMl0sXy5vcHMucHVzaChvcCk7YnJlYWt9dFsyXSYmXy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlfW9wPWJvZHkuY2FsbCh0aGlzQXJnLF8pfWNhdGNoKGUpe29wPVs2LGVdLHk9MH1maW5hbGx5e2Y9dD0wfWlmKDUmb3BbMF0pdGhyb3cgb3BbMV07cmV0dXJue3ZhbHVlOm9wWzBdP29wWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sdl0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuUHVzaFNlcnZpY2VEZWZhdWx0PXZvaWQgMDt2YXIgdXVpZF8xPV9fd2VicGFja19yZXF1aXJlX18oMTMpLGxvZ2dlcl8xPV9fd2VicGFja19yZXF1aXJlX18oMyksQ09OU1RBTlRTPV9fd2VicGFja19yZXF1aXJlX18oMSksUHVzaFNlcnZpY2VEZWZhdWx0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUHVzaFNlcnZpY2VEZWZhdWx0KGFwaSxkYXRhLGNvbmZpZyl7dGhpcy5hcGk9YXBpLHRoaXMuZGF0YT1kYXRhLHRoaXMuY29uZmlnPWNvbmZpZ31yZXR1cm4gUHVzaFNlcnZpY2VEZWZhdWx0LnByb3RvdHlwZS5nZXRQZXJtaXNzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9ufSxQdXNoU2VydmljZURlZmF1bHQucHJvdG90eXBlLmNoZWNrSXNQZXJtaXNzaW9uR3JhbnRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFBlcm1pc3Npb24oKT09PUNPTlNUQU5UUy5QRVJNSVNTSU9OX0dSQU5URUR9LFB1c2hTZXJ2aWNlRGVmYXVsdC5wcm90b3R5cGUuY2hlY2tJc1Blcm1pc3Npb25EZWZhdWx0PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UGVybWlzc2lvbigpPT09Q09OU1RBTlRTLlBFUk1JU1NJT05fUFJPTVBUfSxQdXNoU2VydmljZURlZmF1bHQucHJvdG90eXBlLmNoZWNrSXNNYW51YWxVbnN1YnNjcmliZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtyZXR1cm5bMix0aGlzLmRhdGEuZ2V0U3RhdHVzTWFudWFsVW5zdWJzY3JpYmVkKCldfSl9KX0sUHVzaFNlcnZpY2VEZWZhdWx0LnByb3RvdHlwZS5hc2tQZXJtaXNzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKCldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxQdXNoU2VydmljZURlZmF1bHQucHJvdG90eXBlLmdldFRva2Vucz1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVyblsyLHRoaXMuZGF0YS5nZXRUb2tlbnMoKV19KX0pfSxQdXNoU2VydmljZURlZmF1bHQucHJvdG90eXBlLnN1YnNjcmliZT1mdW5jdGlvbihzdWJzY3JpcHRpb24pe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGN1cnJlbnRTdWJzY3JpcHRpb24sc2VuZGVySWRfMSxhcHBsaWNhdGlvblNlcnZlcktleSxzZW5kZXJJZCxwdXNoVG9rZW4sX3AyNTZkbixfYXV0aCxwMjU2ZGgsYXV0aCxfYSx0b2tlbixwdXNoU2V0O3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9iKXtzd2l0Y2goX2IubGFiZWwpe2Nhc2UgMDpyZXR1cm4gY3VycmVudFN1YnNjcmlwdGlvbj1zdWJzY3JpcHRpb24sdGhpcy5jaGVja0lzUGVybWlzc2lvbkdyYW50ZWQoKT9jdXJyZW50U3Vic2NyaXB0aW9uP1szLDZdOls0LHRoaXMudHJ5U3Vic2NyaWJlKCldOihsb2dnZXJfMS5Mb2dnZXIuZXJyb3IoXCJZb3UgbXVzdCBoYXZlIHBlcm1pc3Npb24gZ3JhbnRlZCBiZWZvcmUgc3Vic2NyaWJlIVwiKSxbMl0pO2Nhc2UgMTpyZXR1cm4gY3VycmVudFN1YnNjcmlwdGlvbj1fYi5zZW50KCksWzQsdGhpcy5nZXRTZW5kZXJJZEZyb21NYW5pZmVzdCgpXTtjYXNlIDI6cmV0dXJuIHNlbmRlcklkXzE9X2Iuc2VudCgpLFs0LHRoaXMuY2hlY2tJc0NoYW5nZVNlbmRlcklkKHNlbmRlcklkXzEpXTtjYXNlIDM6cmV0dXJuIF9iLnNlbnQoKT9bNCx0aGlzLnVuc3Vic2NyaWJlKCldOlszLDZdO2Nhc2UgNDpyZXR1cm4gX2Iuc2VudCgpLFs0LHRoaXMuZGF0YS5zZXRTZW5kZXJJZChzZW5kZXJJZF8xKV07Y2FzZSA1Ol9iLnNlbnQoKSxfYi5sYWJlbD02O2Nhc2UgNjpyZXR1cm5bNCx0aGlzLmdldEFwcGxpY2F0aW9uU2VydmVyS2V5KCldO2Nhc2UgNzpyZXR1cm4gYXBwbGljYXRpb25TZXJ2ZXJLZXk9X2Iuc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRTZW5kZXJJZCgpXTtjYXNlIDg6cmV0dXJuIHNlbmRlcklkPV9iLnNlbnQoKSxbNCx0aGlzLmdldFB1c2hUb2tlbihjdXJyZW50U3Vic2NyaXB0aW9uKV07Y2FzZSA5OmlmKHB1c2hUb2tlbj1fYi5zZW50KCksX3AyNTZkbj1jdXJyZW50U3Vic2NyaXB0aW9uLmdldEtleShcInAyNTZkaFwiKSxfYXV0aD1jdXJyZW50U3Vic2NyaXB0aW9uLmdldEtleShcImF1dGhcIiksIV9wMjU2ZG58fCFfYXV0aCl0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBnZXQgc3Vic2NyaXB0aW9uIGtleXMhXCIpO3JldHVybiBwMjU2ZGg9YnRvYShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxuZXcgVWludDhBcnJheShfcDI1NmRuKSkpLGF1dGg9YnRvYShTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxuZXcgVWludDhBcnJheShfYXV0aCkpKSxbNCx0aGlzLmdldEZjbUtleXMoe2VuZHBvaW50OmN1cnJlbnRTdWJzY3JpcHRpb24uZW5kcG9pbnQsYXBwbGljYXRpb25fcHViX2tleTphcHBsaWNhdGlvblNlcnZlcktleSxlbmNyeXB0aW9uX2tleTpwMjU2ZGgsZW5jcnlwdGlvbl9hdXRoOmF1dGgsYXV0aG9yaXplZF9lbnRpdHk6c2VuZGVySWR9KV07Y2FzZSAxMDpyZXR1cm4gX2E9X2Iuc2VudCgpLHRva2VuPV9hLnRva2VuLHB1c2hTZXQ9X2EucHVzaFNldCxbNCx0aGlzLmRhdGEuc2V0VG9rZW5zKHtwdWJsaWNLZXk6cDI1NmRoLHB1c2hUb2tlbjpwdXNoVG9rZW4sYXV0aFRva2VuOmF1dGgsZmNtUHVzaFNldDpwdXNoU2V0LGZjbVRva2VuOnRva2VuLGVuZHBvaW50OmN1cnJlbnRTdWJzY3JpcHRpb24uZW5kcG9pbnR9KV07Y2FzZSAxMTpyZXR1cm4gX2Iuc2VudCgpLFs0LHRoaXMuYXBpLnJlZ2lzdGVyRGV2aWNlKCldO2Nhc2UgMTI6cmV0dXJuIF9iLnNlbnQoKSxbMl19fSl9KX0sUHVzaFNlcnZpY2VEZWZhdWx0LnByb3RvdHlwZS51bnN1YnNjcmliZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHN1YnNjcmlwdGlvbjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uKCldO2Nhc2UgMTpyZXR1cm5bNCxfYS5zZW50KCkucHVzaE1hbmFnZXIuZ2V0U3Vic2NyaXB0aW9uKCldO2Nhc2UgMjpyZXR1cm4gc3Vic2NyaXB0aW9uPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuc2V0VG9rZW5zKHt9KV07Y2FzZSAzOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5kYXRhLnNldFN0YXR1c01hbnVhbFVuc3Vic2NyaWJlZCghMCldO2Nhc2UgNDpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuYXBpLnVucmVnaXN0ZXJEZXZpY2UoKV07Y2FzZSA1OnJldHVybiBfYS5zZW50KCksc3Vic2NyaXB0aW9uP1s0LHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpXTpbMl07Y2FzZSA2OnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LFB1c2hTZXJ2aWNlRGVmYXVsdC5wcm90b3R5cGUuY2hlY2tJc1JlZ2lzdGVyPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7cmV0dXJuWzIsdGhpcy5hcGkuY2hlY2tEZXZpY2VTdWJzY3JpYmVGb3JQdXNoTm90aWZpY2F0aW9ucygpXX0pfSl9LFB1c2hTZXJ2aWNlRGVmYXVsdC5wcm90b3R5cGUuY2hlY2tJc05lZWRSZXN1YnNjcmliZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHNhdmVkU2VuZGVySWQsaXNFeGlzdFNhdmVkU2VuZGVySWQsbWFuaWZlc3RTZW5kZXJJZCxpc0NoYW5nZVNlbmRlcklELGxhc3RQZXJtaXNzaW9uLHBlcm1pc3Npb24sY3JlZGVudGlhbHMscHVzaFRva2VuRnJvbVN1YnNjcmlwdGlvbixzdWJzY3JpcHRpb25Ub2tlbnNGcm9tU3RvcmUscHVzaFRva2VuRnJvbVN0b3JlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuZ2V0U2VuZGVySWQoKV07Y2FzZSAxOnJldHVybiBzYXZlZFNlbmRlcklkPV9hLnNlbnQoKSxpc0V4aXN0U2F2ZWRTZW5kZXJJZD12b2lkIDAhPT1zYXZlZFNlbmRlcklkLFs0LHRoaXMuZ2V0U2VuZGVySWRGcm9tTWFuaWZlc3QoKV07Y2FzZSAyOnJldHVybiBtYW5pZmVzdFNlbmRlcklkPV9hLnNlbnQoKSxpc0NoYW5nZVNlbmRlcklEPWlzRXhpc3RTYXZlZFNlbmRlcklkJiZtYW5pZmVzdFNlbmRlcklkIT09c2F2ZWRTZW5kZXJJZCxbNCx0aGlzLmRhdGEuc2V0U2VuZGVySWQobWFuaWZlc3RTZW5kZXJJZCldO2Nhc2UgMzpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRMYXN0UGVybWlzc2lvblN0YXR1cygpXTtjYXNlIDQ6cmV0dXJuIGxhc3RQZXJtaXNzaW9uPV9hLnNlbnQoKSxwZXJtaXNzaW9uPXRoaXMuZ2V0UGVybWlzc2lvbigpLGlzRXhpc3RTYXZlZFNlbmRlcklkJiZsYXN0UGVybWlzc2lvbiE9PXBlcm1pc3Npb24/WzQsdGhpcy5kYXRhLnNldExhc3RQZXJtaXNzaW9uU3RhdHVzKHBlcm1pc3Npb24pXTpbMyw2XTtjYXNlIDU6cmV0dXJuIF9hLnNlbnQoKSxbMiwhMF07Y2FzZSA2OnJldHVybls0LHRoaXMuZ2V0Q3JlZGVudGlhbHMoKV07Y2FzZSA3OnJldHVybiBjcmVkZW50aWFscz1fYS5zZW50KCksWzQsdGhpcy5nZXRQdXNoVG9rZW4oY3JlZGVudGlhbHMpXTtjYXNlIDg6cmV0dXJuIHB1c2hUb2tlbkZyb21TdWJzY3JpcHRpb249X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRUb2tlbnMoKV07Y2FzZSA5OnJldHVybiBzdWJzY3JpcHRpb25Ub2tlbnNGcm9tU3RvcmU9X2Euc2VudCgpLHB1c2hUb2tlbkZyb21TdG9yZT1zdWJzY3JpcHRpb25Ub2tlbnNGcm9tU3RvcmUmJnN1YnNjcmlwdGlvblRva2Vuc0Zyb21TdG9yZS5wdXNoVG9rZW58fFwiXCIsWzIsaXNDaGFuZ2VTZW5kZXJJRHx8IShwdXNoVG9rZW5Gcm9tU3Vic2NyaXB0aW9uPT09cHVzaFRva2VuRnJvbVN0b3JlKV19fSl9KX0sUHVzaFNlcnZpY2VEZWZhdWx0LnByb3RvdHlwZS5nZXRTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdXJsLF9hO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9iKXtzd2l0Y2goX2IubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5yZWdpc3RyYXRpb24/WzMsNV06WzQsdGhpcy5yZWdpc3RlclNlcnZpY2VXb3JrZXIoKV07Y2FzZSAxOnJldHVybiBfYi5zZW50KCksWzQsdGhpcy5kYXRhLmdldFNlcnZpY2VXb3JrZXJVcmwoKV07Y2FzZSAyOnJldHVybiB1cmw9X2Iuc2VudCgpLF9hPXRoaXMsWzQsbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIuZ2V0UmVnaXN0cmF0aW9uKHVybCldO2Nhc2UgMzpyZXR1cm4gX2EucmVnaXN0cmF0aW9uPV9iLnNlbnQoKSxbNCx0aGlzLnJlZ2lzdHJhdGlvbi51cGRhdGUoKV07Y2FzZSA0Ol9iLnNlbnQoKSxfYi5sYWJlbD01O2Nhc2UgNTppZighdGhpcy5yZWdpc3RyYXRpb24pdGhyb3cgbmV3IEVycm9yKFwiSW50ZXJuYWwgRXJyb3I6IENhbid0IHJlZ2lzdGVyIHNlcnZpY2Ugd29ya2VyIVwiKTtyZXR1cm5bMix0aGlzLnJlZ2lzdHJhdGlvbl19fSl9KX0sUHVzaFNlcnZpY2VEZWZhdWx0LnByb3RvdHlwZS5yZWdpc3RlclNlcnZpY2VXb3JrZXI9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB1cmwsc2NvcGUsc2RrVmVyc2lvbixzZXJ2aWNlV29ya2VyVmVyc2lvbixjbGVhbkNhY2hlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuZ2V0U2VydmljZVdvcmtlclVybCgpXTtjYXNlIDE6cmV0dXJuIHVybD1fYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldFNlcnZpY2VXb3JrZXJTY29wZSgpXTtjYXNlIDI6cmV0dXJuIHNjb3BlPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0U2RrVmVyc2lvbigpXTtjYXNlIDM6cmV0dXJuIHNka1ZlcnNpb249X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRTZXJ2aWNlV29ya2VyVmVyc2lvbigpXTtjYXNlIDQ6cmV0dXJuIHNlcnZpY2VXb3JrZXJWZXJzaW9uPV9hLnNlbnQoKSxjbGVhbkNhY2hlPVwiXCIsc2RrVmVyc2lvbiE9PXNlcnZpY2VXb3JrZXJWZXJzaW9uJiYoY2xlYW5DYWNoZT1cIj9jYWNoZV9jbGVhbj1cIit1dWlkXzEudjQoKSksWzQsbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIucmVnaXN0ZXIoXCJcIit1cmwrY2xlYW5DYWNoZSx7c2NvcGU6c2NvcGV9KV07Y2FzZSA1OnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LFB1c2hTZXJ2aWNlRGVmYXVsdC5wcm90b3R5cGUudHJ5U3Vic2NyaWJlPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZXJyb3JfMTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuIF9hLnRyeXMucHVzaChbMCwyLCw0XSksWzQsdGhpcy5zdWJzY3JpYmVQdXNoTWFuYWdlcigpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXTtjYXNlIDI6cmV0dXJuIGVycm9yXzE9X2Euc2VudCgpLGNvbnNvbGUuZXJyb3IoZXJyb3JfMSksWzQsdGhpcy51bnN1YnNjcmliZSgpXTtjYXNlIDM6cmV0dXJuIF9hLnNlbnQoKSxbMix0aGlzLnN1YnNjcmliZVB1c2hNYW5hZ2VyKCldO2Nhc2UgNDpyZXR1cm5bMl19fSl9KX0sUHVzaFNlcnZpY2VEZWZhdWx0LnByb3RvdHlwZS5zdWJzY3JpYmVQdXNoTWFuYWdlcj1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHJlZ2lzdHJhdGlvbixhcHBsaWNhdGlvblNlcnZlcktleTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uKCldO2Nhc2UgMTpyZXR1cm4gcmVnaXN0cmF0aW9uPV9hLnNlbnQoKSxbNCx0aGlzLmdldEFwcGxpY2F0aW9uU2VydmVyS2V5KCldO2Nhc2UgMjpyZXR1cm4gYXBwbGljYXRpb25TZXJ2ZXJLZXk9X2Euc2VudCgpLFsyLHJlZ2lzdHJhdGlvbi5wdXNoTWFuYWdlci5zdWJzY3JpYmUoe3VzZXJWaXNpYmxlT25seTohMCxhcHBsaWNhdGlvblNlcnZlcktleTphcHBsaWNhdGlvblNlcnZlcktleT90aGlzLnVybEJhc2U2NFRvVWludDhBcnJheShhcHBsaWNhdGlvblNlcnZlcktleSk6bnVsbH0pXX19KX0pfSxQdXNoU2VydmljZURlZmF1bHQucHJvdG90eXBlLmdldENyZWRlbnRpYWxzPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRTZXJ2aWNlV29ya2VyUmVnaXN0cmF0aW9uKCldO2Nhc2UgMTpyZXR1cm5bNCxfYS5zZW50KCkucHVzaE1hbmFnZXIuZ2V0U3Vic2NyaXB0aW9uKCldO2Nhc2UgMjpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LFB1c2hTZXJ2aWNlRGVmYXVsdC5wcm90b3R5cGUuZ2V0RmNtS2V5cz1mdW5jdGlvbihjb25maWcpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHJlc3BvbnNlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxmZXRjaCh0aGlzLmNvbmZpZy5lbnRyeXBvaW50fHxcImh0dHBzOi8vZmNtLmdvb2dsZWFwaXMuY29tL2ZjbS9jb25uZWN0L3N1YnNjcmliZVwiLHttZXRob2Q6XCJQT1NUXCIsaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcInRleHQvcGxhaW47Y2hhcnNldD1VVEYtOFwifSxib2R5OkpTT04uc3RyaW5naWZ5KGNvbmZpZyl9KV07Y2FzZSAxOnJldHVybiAyMDAhPT0ocmVzcG9uc2U9X2Euc2VudCgpKS5zdGF0dXM/WzMsM106WzQscmVzcG9uc2UuanNvbigpXTtjYXNlIDI6cmV0dXJuWzIsX2Euc2VudCgpXTtjYXNlIDM6dGhyb3cgbmV3IEVycm9yKFwiSW50ZXJuYWwgZXJyb3I6IENhbid0IHJlZ2lzdGVyIGRldmljZSBpbiBmY20uIFN0YXR1czogXCIrcmVzcG9uc2Uuc3RhdHVzK1wiLiBNZXNzYWdlOiBcIityZXNwb25zZS5zdGF0dXNUZXh0KX19KX0pfSxQdXNoU2VydmljZURlZmF1bHQucHJvdG90eXBlLmdldFB1c2hUb2tlbj1mdW5jdGlvbihzdWJzY3JpcHRpb24pe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGRldmljZVR5cGU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXREZXZpY2VUeXBlKCldO2Nhc2UgMTpyZXR1cm4gZGV2aWNlVHlwZT1fYS5zZW50KCksc3Vic2NyaXB0aW9uPzEyPT09ZGV2aWNlVHlwZT9bMixzdWJzY3JpcHRpb24uZW5kcG9pbnRdOlsyLHN1YnNjcmlwdGlvbi5lbmRwb2ludC5zcGxpdChcIi9cIikucG9wKCl8fFwiXCJdOlsyLFwiXCJdfX0pfSl9LFB1c2hTZXJ2aWNlRGVmYXVsdC5wcm90b3R5cGUuZ2V0QXBwbGljYXRpb25TZXJ2ZXJLZXk9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuZ2V0RGV2aWNlVHlwZSgpXTtjYXNlIDE6cmV0dXJuIDExIT09X2Euc2VudCgpP1syXTpbNCx0aGlzLmRhdGEuZ2V0QXBwbGljYXRpb25TZXJ2ZXJLZXkoKV07Y2FzZSAyOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sUHVzaFNlcnZpY2VEZWZhdWx0LnByb3RvdHlwZS5nZXRTZW5kZXJJZEZyb21NYW5pZmVzdD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG1hbmlmZXN0LHVybCxyZXNwb25zZSxkYXRhLG1hdGNoO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDppZighKG1hbmlmZXN0PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2xpbmtbcmVsPVwibWFuaWZlc3RcIl0nKSkpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3I6IG1hbmlmZXN0Lmpzb24gbm90IGZvdW5kIVwiKTtpZighKHVybD1tYW5pZmVzdC5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpKSl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvcjogbWFuaWZlc3QuanNvbiB1cmwgbm90IGZvdW5kIVwiKTtyZXR1cm5bNCxmZXRjaCh1cmwse21ldGhvZDpcIkdFVFwiLGhlYWRlcnM6e1wiQ29udGVudC1UeXBlXCI6XCJhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLThcIn19KV07Y2FzZSAxOmlmKDIwMCE9PShyZXNwb25zZT1fYS5zZW50KCkpLnN0YXR1cyl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvcjogQ2FuJ3QgbG9hZCBtYW5pZmVzdC5qc29uISBcIityZXNwb25zZS5zdGF0dXNUZXh0KTtyZXR1cm5bNCxyZXNwb25zZS50ZXh0KCldO2Nhc2UgMjppZihkYXRhPV9hLnNlbnQoKSwhKG1hdGNoPWRhdGEubWF0Y2goLyhcInwnKT9nY21fc2VuZGVyX2lkKFwifCcpPzpcXHMqKFwifCcpPyhcXGQrKShcInwnKT8vKSl8fFwic3RyaW5nXCIhPXR5cGVvZiBtYXRjaFs0XSl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvcjogQ2FuJ3QgZmluZCBnY21fc2VuZGVyX2lkIGluIG1hbmlmZXN0Lmpzb24hXCIpO3JldHVyblsyLG1hdGNoWzRdXX19KX0pfSxQdXNoU2VydmljZURlZmF1bHQucHJvdG90eXBlLmNoZWNrSXNDaGFuZ2VTZW5kZXJJZD1mdW5jdGlvbihjdXJyZW50U2VuZGVySWQpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHNlbmRlcklkRnJvbUluZGV4ZWREQjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldFNlbmRlcklkKCldO2Nhc2UgMTpyZXR1cm4gc2VuZGVySWRGcm9tSW5kZXhlZERCPV9hLnNlbnQoKSxbMixjdXJyZW50U2VuZGVySWQhPT1zZW5kZXJJZEZyb21JbmRleGVkREJdfX0pfSl9LFB1c2hTZXJ2aWNlRGVmYXVsdC5wcm90b3R5cGUudXJsQmFzZTY0VG9VaW50OEFycmF5PWZ1bmN0aW9uKGJhc2U2NFN0cmluZyl7Zm9yKHZhciBiYXNlNjQ9KGJhc2U2NFN0cmluZytcIj1cIi5yZXBlYXQoKDQtYmFzZTY0U3RyaW5nLmxlbmd0aCU0KSU0KSkucmVwbGFjZSgvXFwtL2csXCIrXCIpLnJlcGxhY2UoL18vZyxcIi9cIikscmF3RGF0YT13aW5kb3cuYXRvYihiYXNlNjQpLG91dHB1dEFycmF5PW5ldyBVaW50OEFycmF5KHJhd0RhdGEubGVuZ3RoKSxpPTA7aTxyYXdEYXRhLmxlbmd0aDsrK2kpb3V0cHV0QXJyYXlbaV09cmF3RGF0YS5jaGFyQ29kZUF0KGkpO3JldHVybiBvdXRwdXRBcnJheX0sUHVzaFNlcnZpY2VEZWZhdWx0fSgpO2V4cG9ydHMuUHVzaFNlcnZpY2VEZWZhdWx0PVB1c2hTZXJ2aWNlRGVmYXVsdH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIFJlZmxlY3RPd25LZXlzLFI9XCJvYmplY3RcIj09dHlwZW9mIFJlZmxlY3Q/UmVmbGVjdDpudWxsLFJlZmxlY3RBcHBseT1SJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSLmFwcGx5P1IuYXBwbHk6ZnVuY3Rpb24odGFyZ2V0LHJlY2VpdmVyLGFyZ3Mpe3JldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbCh0YXJnZXQscmVjZWl2ZXIsYXJncyl9O1JlZmxlY3RPd25LZXlzPVImJlwiZnVuY3Rpb25cIj09dHlwZW9mIFIub3duS2V5cz9SLm93bktleXM6T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scz9mdW5jdGlvbih0YXJnZXQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHRhcmdldCkpfTpmdW5jdGlvbih0YXJnZXQpe3JldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpfTt2YXIgTnVtYmVySXNOYU49TnVtYmVyLmlzTmFOfHxmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlIT12YWx1ZX07ZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCl7RXZlbnRFbWl0dGVyLmluaXQuY2FsbCh0aGlzKX1tb2R1bGUuZXhwb3J0cz1FdmVudEVtaXR0ZXIsbW9kdWxlLmV4cG9ydHMub25jZT1mdW5jdGlvbihlbWl0dGVyLG5hbWUpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZnVuY3Rpb24gZXJyb3JMaXN0ZW5lcihlcnIpe2VtaXR0ZXIucmVtb3ZlTGlzdGVuZXIobmFtZSxyZXNvbHZlcikscmVqZWN0KGVycil9ZnVuY3Rpb24gcmVzb2x2ZXIoKXtcImZ1bmN0aW9uXCI9PXR5cGVvZiBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyJiZlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixlcnJvckxpc3RlbmVyKSxyZXNvbHZlKFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSl9ZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsbmFtZSxyZXNvbHZlcix7b25jZTohMH0pLFwiZXJyb3JcIiE9PW5hbWUmJmZ1bmN0aW9uKGVtaXR0ZXIsaGFuZGxlcixmbGFncyl7XCJmdW5jdGlvblwiPT10eXBlb2YgZW1pdHRlci5vbiYmZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsXCJlcnJvclwiLGhhbmRsZXIsZmxhZ3MpfShlbWl0dGVyLGVycm9yTGlzdGVuZXIse29uY2U6ITB9KX0pfSxFdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyPUV2ZW50RW1pdHRlcixFdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHM9dm9pZCAwLEV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50c0NvdW50PTAsRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzPXZvaWQgMDt2YXIgZGVmYXVsdE1heExpc3RlbmVycz0xMDtmdW5jdGlvbiBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBsaXN0ZW5lcil0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnK3R5cGVvZiBsaXN0ZW5lcil9ZnVuY3Rpb24gX2dldE1heExpc3RlbmVycyh0aGF0KXtyZXR1cm4gdm9pZCAwPT09dGhhdC5fbWF4TGlzdGVuZXJzP0V2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzOnRoYXQuX21heExpc3RlbmVyc31mdW5jdGlvbiBfYWRkTGlzdGVuZXIodGFyZ2V0LHR5cGUsbGlzdGVuZXIscHJlcGVuZCl7dmFyIG0sZXZlbnRzLGV4aXN0aW5nO2lmKGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpLHZvaWQgMD09PShldmVudHM9dGFyZ2V0Ll9ldmVudHMpPyhldmVudHM9dGFyZ2V0Ll9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKSx0YXJnZXQuX2V2ZW50c0NvdW50PTApOih2b2lkIDAhPT1ldmVudHMubmV3TGlzdGVuZXImJih0YXJnZXQuZW1pdChcIm5ld0xpc3RlbmVyXCIsdHlwZSxsaXN0ZW5lci5saXN0ZW5lcj9saXN0ZW5lci5saXN0ZW5lcjpsaXN0ZW5lciksZXZlbnRzPXRhcmdldC5fZXZlbnRzKSxleGlzdGluZz1ldmVudHNbdHlwZV0pLHZvaWQgMD09PWV4aXN0aW5nKWV4aXN0aW5nPWV2ZW50c1t0eXBlXT1saXN0ZW5lciwrK3RhcmdldC5fZXZlbnRzQ291bnQ7ZWxzZSBpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBleGlzdGluZz9leGlzdGluZz1ldmVudHNbdHlwZV09cHJlcGVuZD9bbGlzdGVuZXIsZXhpc3RpbmddOltleGlzdGluZyxsaXN0ZW5lcl06cHJlcGVuZD9leGlzdGluZy51bnNoaWZ0KGxpc3RlbmVyKTpleGlzdGluZy5wdXNoKGxpc3RlbmVyKSwobT1fZ2V0TWF4TGlzdGVuZXJzKHRhcmdldCkpPjAmJmV4aXN0aW5nLmxlbmd0aD5tJiYhZXhpc3Rpbmcud2FybmVkKXtleGlzdGluZy53YXJuZWQ9ITA7dmFyIHc9bmV3IEVycm9yKFwiUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiBcIitleGlzdGluZy5sZW5ndGgrXCIgXCIrU3RyaW5nKHR5cGUpK1wiIGxpc3RlbmVycyBhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gaW5jcmVhc2UgbGltaXRcIik7dy5uYW1lPVwiTWF4TGlzdGVuZXJzRXhjZWVkZWRXYXJuaW5nXCIsdy5lbWl0dGVyPXRhcmdldCx3LnR5cGU9dHlwZSx3LmNvdW50PWV4aXN0aW5nLmxlbmd0aCxmdW5jdGlvbih3YXJuaW5nKXtjb25zb2xlJiZjb25zb2xlLndhcm4mJmNvbnNvbGUud2Fybih3YXJuaW5nKX0odyl9cmV0dXJuIHRhcmdldH1mdW5jdGlvbiBfb25jZVdyYXAodGFyZ2V0LHR5cGUsbGlzdGVuZXIpe3ZhciBzdGF0ZT17ZmlyZWQ6ITEsd3JhcEZuOnZvaWQgMCx0YXJnZXQ6dGFyZ2V0LHR5cGU6dHlwZSxsaXN0ZW5lcjpsaXN0ZW5lcn0sd3JhcHBlZD1mdW5jdGlvbigpe2lmKCF0aGlzLmZpcmVkKXJldHVybiB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsdGhpcy53cmFwRm4pLHRoaXMuZmlyZWQ9ITAsMD09PWFyZ3VtZW50cy5sZW5ndGg/dGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTp0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMudGFyZ2V0LGFyZ3VtZW50cyl9LmJpbmQoc3RhdGUpO3JldHVybiB3cmFwcGVkLmxpc3RlbmVyPWxpc3RlbmVyLHN0YXRlLndyYXBGbj13cmFwcGVkLHdyYXBwZWR9ZnVuY3Rpb24gX2xpc3RlbmVycyh0YXJnZXQsdHlwZSx1bndyYXApe3ZhciBldmVudHM9dGFyZ2V0Ll9ldmVudHM7aWYodm9pZCAwPT09ZXZlbnRzKXJldHVybltdO3ZhciBldmxpc3RlbmVyPWV2ZW50c1t0eXBlXTtyZXR1cm4gdm9pZCAwPT09ZXZsaXN0ZW5lcj9bXTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBldmxpc3RlbmVyP3Vud3JhcD9bZXZsaXN0ZW5lci5saXN0ZW5lcnx8ZXZsaXN0ZW5lcl06W2V2bGlzdGVuZXJdOnVud3JhcD9mdW5jdGlvbihhcnIpe2Zvcih2YXIgcmV0PW5ldyBBcnJheShhcnIubGVuZ3RoKSxpPTA7aTxyZXQubGVuZ3RoOysraSlyZXRbaV09YXJyW2ldLmxpc3RlbmVyfHxhcnJbaV07cmV0dXJuIHJldH0oZXZsaXN0ZW5lcik6YXJyYXlDbG9uZShldmxpc3RlbmVyLGV2bGlzdGVuZXIubGVuZ3RoKX1mdW5jdGlvbiBsaXN0ZW5lckNvdW50KHR5cGUpe3ZhciBldmVudHM9dGhpcy5fZXZlbnRzO2lmKHZvaWQgMCE9PWV2ZW50cyl7dmFyIGV2bGlzdGVuZXI9ZXZlbnRzW3R5cGVdO2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGV2bGlzdGVuZXIpcmV0dXJuIDE7aWYodm9pZCAwIT09ZXZsaXN0ZW5lcilyZXR1cm4gZXZsaXN0ZW5lci5sZW5ndGh9cmV0dXJuIDB9ZnVuY3Rpb24gYXJyYXlDbG9uZShhcnIsbil7Zm9yKHZhciBjb3B5PW5ldyBBcnJheShuKSxpPTA7aTxuOysraSljb3B5W2ldPWFycltpXTtyZXR1cm4gY29weX1mdW5jdGlvbiBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlcixuYW1lLGxpc3RlbmVyLGZsYWdzKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlbWl0dGVyLm9uKWZsYWdzLm9uY2U/ZW1pdHRlci5vbmNlKG5hbWUsbGlzdGVuZXIpOmVtaXR0ZXIub24obmFtZSxsaXN0ZW5lcik7ZWxzZXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBlbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIpdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwiZW1pdHRlclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBFdmVudEVtaXR0ZXIuIFJlY2VpdmVkIHR5cGUgJyt0eXBlb2YgZW1pdHRlcik7ZW1pdHRlci5hZGRFdmVudExpc3RlbmVyKG5hbWUsZnVuY3Rpb24gd3JhcExpc3RlbmVyKGFyZyl7ZmxhZ3Mub25jZSYmZW1pdHRlci5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsd3JhcExpc3RlbmVyKSxsaXN0ZW5lcihhcmcpfSl9fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFdmVudEVtaXR0ZXIsXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGRlZmF1bHRNYXhMaXN0ZW5lcnN9LHNldDpmdW5jdGlvbihhcmcpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBhcmd8fGFyZzwwfHxOdW1iZXJJc05hTihhcmcpKXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJythcmcrXCIuXCIpO2RlZmF1bHRNYXhMaXN0ZW5lcnM9YXJnfX0pLEV2ZW50RW1pdHRlci5pbml0PWZ1bmN0aW9uKCl7dm9pZCAwIT09dGhpcy5fZXZlbnRzJiZ0aGlzLl9ldmVudHMhPT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuX2V2ZW50c3x8KHRoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2V2ZW50c0NvdW50PTApLHRoaXMuX21heExpc3RlbmVycz10aGlzLl9tYXhMaXN0ZW5lcnN8fHZvaWQgMH0sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnM9ZnVuY3Rpb24obil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIG58fG48MHx8TnVtYmVySXNOYU4obikpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcIm5cIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnK24rXCIuXCIpO3JldHVybiB0aGlzLl9tYXhMaXN0ZW5lcnM9bix0aGlzfSxFdmVudEVtaXR0ZXIucHJvdG90eXBlLmdldE1heExpc3RlbmVycz1mdW5jdGlvbigpe3JldHVybiBfZ2V0TWF4TGlzdGVuZXJzKHRoaXMpfSxFdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24odHlwZSl7Zm9yKHZhciBhcmdzPVtdLGk9MTtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKWFyZ3MucHVzaChhcmd1bWVudHNbaV0pO3ZhciBkb0Vycm9yPVwiZXJyb3JcIj09PXR5cGUsZXZlbnRzPXRoaXMuX2V2ZW50cztpZih2b2lkIDAhPT1ldmVudHMpZG9FcnJvcj1kb0Vycm9yJiZ2b2lkIDA9PT1ldmVudHMuZXJyb3I7ZWxzZSBpZighZG9FcnJvcilyZXR1cm4hMTtpZihkb0Vycm9yKXt2YXIgZXI7aWYoYXJncy5sZW5ndGg+MCYmKGVyPWFyZ3NbMF0pLGVyIGluc3RhbmNlb2YgRXJyb3IpdGhyb3cgZXI7dmFyIGVycj1uZXcgRXJyb3IoXCJVbmhhbmRsZWQgZXJyb3IuXCIrKGVyP1wiIChcIitlci5tZXNzYWdlK1wiKVwiOlwiXCIpKTt0aHJvdyBlcnIuY29udGV4dD1lcixlcnJ9dmFyIGhhbmRsZXI9ZXZlbnRzW3R5cGVdO2lmKHZvaWQgMD09PWhhbmRsZXIpcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgaGFuZGxlcilSZWZsZWN0QXBwbHkoaGFuZGxlcix0aGlzLGFyZ3MpO2Vsc2V7dmFyIGxlbj1oYW5kbGVyLmxlbmd0aCxsaXN0ZW5lcnM9YXJyYXlDbG9uZShoYW5kbGVyLGxlbik7Zm9yKGk9MDtpPGxlbjsrK2kpUmVmbGVjdEFwcGx5KGxpc3RlbmVyc1tpXSx0aGlzLGFyZ3MpfXJldHVybiEwfSxFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyPWZ1bmN0aW9uKHR5cGUsbGlzdGVuZXIpe3JldHVybiBfYWRkTGlzdGVuZXIodGhpcyx0eXBlLGxpc3RlbmVyLCExKX0sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbj1FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyLEV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyPWZ1bmN0aW9uKHR5cGUsbGlzdGVuZXIpe3JldHVybiBfYWRkTGlzdGVuZXIodGhpcyx0eXBlLGxpc3RlbmVyLCEwKX0sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKHR5cGUsbGlzdGVuZXIpe3JldHVybiBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKSx0aGlzLm9uKHR5cGUsX29uY2VXcmFwKHRoaXMsdHlwZSxsaXN0ZW5lcikpLHRoaXN9LEV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lcj1mdW5jdGlvbih0eXBlLGxpc3RlbmVyKXtyZXR1cm4gY2hlY2tMaXN0ZW5lcihsaXN0ZW5lciksdGhpcy5wcmVwZW5kTGlzdGVuZXIodHlwZSxfb25jZVdyYXAodGhpcyx0eXBlLGxpc3RlbmVyKSksdGhpc30sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbih0eXBlLGxpc3RlbmVyKXt2YXIgbGlzdCxldmVudHMscG9zaXRpb24saSxvcmlnaW5hbExpc3RlbmVyO2lmKGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpLHZvaWQgMD09PShldmVudHM9dGhpcy5fZXZlbnRzKSlyZXR1cm4gdGhpcztpZih2b2lkIDA9PT0obGlzdD1ldmVudHNbdHlwZV0pKXJldHVybiB0aGlzO2lmKGxpc3Q9PT1saXN0ZW5lcnx8bGlzdC5saXN0ZW5lcj09PWxpc3RlbmVyKTA9PS0tdGhpcy5fZXZlbnRzQ291bnQ/dGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCk6KGRlbGV0ZSBldmVudHNbdHlwZV0sZXZlbnRzLnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLHR5cGUsbGlzdC5saXN0ZW5lcnx8bGlzdGVuZXIpKTtlbHNlIGlmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGxpc3Qpe2Zvcihwb3NpdGlvbj0tMSxpPWxpc3QubGVuZ3RoLTE7aT49MDtpLS0paWYobGlzdFtpXT09PWxpc3RlbmVyfHxsaXN0W2ldLmxpc3RlbmVyPT09bGlzdGVuZXIpe29yaWdpbmFsTGlzdGVuZXI9bGlzdFtpXS5saXN0ZW5lcixwb3NpdGlvbj1pO2JyZWFrfWlmKHBvc2l0aW9uPDApcmV0dXJuIHRoaXM7MD09PXBvc2l0aW9uP2xpc3Quc2hpZnQoKTpmdW5jdGlvbihsaXN0LGluZGV4KXtmb3IoO2luZGV4KzE8bGlzdC5sZW5ndGg7aW5kZXgrKylsaXN0W2luZGV4XT1saXN0W2luZGV4KzFdO2xpc3QucG9wKCl9KGxpc3QscG9zaXRpb24pLDE9PT1saXN0Lmxlbmd0aCYmKGV2ZW50c1t0eXBlXT1saXN0WzBdKSx2b2lkIDAhPT1ldmVudHMucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsdHlwZSxvcmlnaW5hbExpc3RlbmVyfHxsaXN0ZW5lcil9cmV0dXJuIHRoaXN9LEV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmPUV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIsRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24odHlwZSl7dmFyIGxpc3RlbmVycyxldmVudHMsaTtpZih2b2lkIDA9PT0oZXZlbnRzPXRoaXMuX2V2ZW50cykpcmV0dXJuIHRoaXM7aWYodm9pZCAwPT09ZXZlbnRzLnJlbW92ZUxpc3RlbmVyKXJldHVybiAwPT09YXJndW1lbnRzLmxlbmd0aD8odGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCk6dm9pZCAwIT09ZXZlbnRzW3R5cGVdJiYoMD09LS10aGlzLl9ldmVudHNDb3VudD90aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKTpkZWxldGUgZXZlbnRzW3R5cGVdKSx0aGlzO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIga2V5LGtleXM9T2JqZWN0LmtleXMoZXZlbnRzKTtmb3IoaT0wO2k8a2V5cy5sZW5ndGg7KytpKVwicmVtb3ZlTGlzdGVuZXJcIiE9PShrZXk9a2V5c1tpXSkmJnRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7cmV0dXJuIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKFwicmVtb3ZlTGlzdGVuZXJcIiksdGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCx0aGlzfWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mKGxpc3RlbmVycz1ldmVudHNbdHlwZV0pKXRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSxsaXN0ZW5lcnMpO2Vsc2UgaWYodm9pZCAwIT09bGlzdGVuZXJzKWZvcihpPWxpc3RlbmVycy5sZW5ndGgtMTtpPj0wO2ktLSl0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsbGlzdGVuZXJzW2ldKTtyZXR1cm4gdGhpc30sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24odHlwZSl7cmV0dXJuIF9saXN0ZW5lcnModGhpcyx0eXBlLCEwKX0sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnM9ZnVuY3Rpb24odHlwZSl7cmV0dXJuIF9saXN0ZW5lcnModGhpcyx0eXBlLCExKX0sRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oZW1pdHRlcix0eXBlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlbWl0dGVyLmxpc3RlbmVyQ291bnQ/ZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpOmxpc3RlbmVyQ291bnQuY2FsbChlbWl0dGVyLHR5cGUpfSxFdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQ9bGlzdGVuZXJDb3VudCxFdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQ+MD9SZWZsZWN0T3duS2V5cyh0aGlzLl9ldmVudHMpOltdfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7KGV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9X193ZWJwYWNrX3JlcXVpcmVfXyg1MSkpLlN0cmVhbT1leHBvcnRzLGV4cG9ydHMuUmVhZGFibGU9ZXhwb3J0cyxleHBvcnRzLldyaXRhYmxlPV9fd2VicGFja19yZXF1aXJlX18oNDEpLGV4cG9ydHMuRHVwbGV4PV9fd2VicGFja19yZXF1aXJlX18oMTIpLGV4cG9ydHMuVHJhbnNmb3JtPV9fd2VicGFja19yZXF1aXJlX18oNTYpLGV4cG9ydHMuUGFzc1Rocm91Z2g9X193ZWJwYWNrX3JlcXVpcmVfXyg5NSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihwcm9jZXNzLHNldEltbWVkaWF0ZSxnbG9iYWwpe3ZhciBwbmE9X193ZWJwYWNrX3JlcXVpcmVfXygyNyk7ZnVuY3Rpb24gQ29ya2VkUmVxdWVzdChzdGF0ZSl7dmFyIF90aGlzPXRoaXM7dGhpcy5uZXh0PW51bGwsdGhpcy5lbnRyeT1udWxsLHRoaXMuZmluaXNoPWZ1bmN0aW9uKCl7IWZ1bmN0aW9uKGNvcmtSZXEsc3RhdGUsZXJyKXt2YXIgZW50cnk9Y29ya1JlcS5lbnRyeTtjb3JrUmVxLmVudHJ5PW51bGw7Zm9yKDtlbnRyeTspe3ZhciBjYj1lbnRyeS5jYWxsYmFjaztzdGF0ZS5wZW5kaW5nY2ItLSxjYihlcnIpLGVudHJ5PWVudHJ5Lm5leHR9c3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlP3N0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZS5uZXh0PWNvcmtSZXE6c3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlPWNvcmtSZXF9KF90aGlzLHN0YXRlKX19bW9kdWxlLmV4cG9ydHM9V3JpdGFibGU7dmFyIER1cGxleCxhc3luY1dyaXRlPSFwcm9jZXNzLmJyb3dzZXImJltcInYwLjEwXCIsXCJ2MC45LlwiXS5pbmRleE9mKHByb2Nlc3MudmVyc2lvbi5zbGljZSgwLDUpKT4tMT9zZXRJbW1lZGlhdGU6cG5hLm5leHRUaWNrO1dyaXRhYmxlLldyaXRhYmxlU3RhdGU9V3JpdGFibGVTdGF0ZTt2YXIgdXRpbD1PYmplY3QuY3JlYXRlKF9fd2VicGFja19yZXF1aXJlX18oMjMpKTt1dGlsLmluaGVyaXRzPV9fd2VicGFja19yZXF1aXJlX18oMTUpO3ZhciBpbnRlcm5hbFV0aWw9e2RlcHJlY2F0ZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDk0KX0sU3RyZWFtPV9fd2VicGFja19yZXF1aXJlX18oNTIpLEJ1ZmZlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDI4KS5CdWZmZXIsT3VyVWludDhBcnJheT1nbG9iYWwuVWludDhBcnJheXx8ZnVuY3Rpb24oKXt9O3ZhciByZWFsSGFzSW5zdGFuY2UsZGVzdHJveUltcGw9X193ZWJwYWNrX3JlcXVpcmVfXyg1Myk7ZnVuY3Rpb24gbm9wKCl7fWZ1bmN0aW9uIFdyaXRhYmxlU3RhdGUob3B0aW9ucyxzdHJlYW0pe0R1cGxleD1EdXBsZXh8fF9fd2VicGFja19yZXF1aXJlX18oMTIpLG9wdGlvbnM9b3B0aW9uc3x8e307dmFyIGlzRHVwbGV4PXN0cmVhbSBpbnN0YW5jZW9mIER1cGxleDt0aGlzLm9iamVjdE1vZGU9ISFvcHRpb25zLm9iamVjdE1vZGUsaXNEdXBsZXgmJih0aGlzLm9iamVjdE1vZGU9dGhpcy5vYmplY3RNb2RlfHwhIW9wdGlvbnMud3JpdGFibGVPYmplY3RNb2RlKTt2YXIgaHdtPW9wdGlvbnMuaGlnaFdhdGVyTWFyayx3cml0YWJsZUh3bT1vcHRpb25zLndyaXRhYmxlSGlnaFdhdGVyTWFyayxkZWZhdWx0SHdtPXRoaXMub2JqZWN0TW9kZT8xNjoxNjM4NDt0aGlzLmhpZ2hXYXRlck1hcms9aHdtfHwwPT09aHdtP2h3bTppc0R1cGxleCYmKHdyaXRhYmxlSHdtfHwwPT09d3JpdGFibGVId20pP3dyaXRhYmxlSHdtOmRlZmF1bHRId20sdGhpcy5oaWdoV2F0ZXJNYXJrPU1hdGguZmxvb3IodGhpcy5oaWdoV2F0ZXJNYXJrKSx0aGlzLmZpbmFsQ2FsbGVkPSExLHRoaXMubmVlZERyYWluPSExLHRoaXMuZW5kaW5nPSExLHRoaXMuZW5kZWQ9ITEsdGhpcy5maW5pc2hlZD0hMSx0aGlzLmRlc3Ryb3llZD0hMTt2YXIgbm9EZWNvZGU9ITE9PT1vcHRpb25zLmRlY29kZVN0cmluZ3M7dGhpcy5kZWNvZGVTdHJpbmdzPSFub0RlY29kZSx0aGlzLmRlZmF1bHRFbmNvZGluZz1vcHRpb25zLmRlZmF1bHRFbmNvZGluZ3x8XCJ1dGY4XCIsdGhpcy5sZW5ndGg9MCx0aGlzLndyaXRpbmc9ITEsdGhpcy5jb3JrZWQ9MCx0aGlzLnN5bmM9ITAsdGhpcy5idWZmZXJQcm9jZXNzaW5nPSExLHRoaXMub253cml0ZT1mdW5jdGlvbihlcil7IWZ1bmN0aW9uKHN0cmVhbSxlcil7dmFyIHN0YXRlPXN0cmVhbS5fd3JpdGFibGVTdGF0ZSxzeW5jPXN0YXRlLnN5bmMsY2I9c3RhdGUud3JpdGVjYjtpZihmdW5jdGlvbihzdGF0ZSl7c3RhdGUud3JpdGluZz0hMSxzdGF0ZS53cml0ZWNiPW51bGwsc3RhdGUubGVuZ3RoLT1zdGF0ZS53cml0ZWxlbixzdGF0ZS53cml0ZWxlbj0wfShzdGF0ZSksZXIpIWZ1bmN0aW9uKHN0cmVhbSxzdGF0ZSxzeW5jLGVyLGNiKXstLXN0YXRlLnBlbmRpbmdjYixzeW5jPyhwbmEubmV4dFRpY2soY2IsZXIpLHBuYS5uZXh0VGljayhmaW5pc2hNYXliZSxzdHJlYW0sc3RhdGUpLHN0cmVhbS5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQ9ITAsc3RyZWFtLmVtaXQoXCJlcnJvclwiLGVyKSk6KGNiKGVyKSxzdHJlYW0uX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkPSEwLHN0cmVhbS5lbWl0KFwiZXJyb3JcIixlciksZmluaXNoTWF5YmUoc3RyZWFtLHN0YXRlKSl9KHN0cmVhbSxzdGF0ZSxzeW5jLGVyLGNiKTtlbHNle3ZhciBmaW5pc2hlZD1uZWVkRmluaXNoKHN0YXRlKTtmaW5pc2hlZHx8c3RhdGUuY29ya2VkfHxzdGF0ZS5idWZmZXJQcm9jZXNzaW5nfHwhc3RhdGUuYnVmZmVyZWRSZXF1ZXN0fHxjbGVhckJ1ZmZlcihzdHJlYW0sc3RhdGUpLHN5bmM/YXN5bmNXcml0ZShhZnRlcldyaXRlLHN0cmVhbSxzdGF0ZSxmaW5pc2hlZCxjYik6YWZ0ZXJXcml0ZShzdHJlYW0sc3RhdGUsZmluaXNoZWQsY2IpfX0oc3RyZWFtLGVyKX0sdGhpcy53cml0ZWNiPW51bGwsdGhpcy53cml0ZWxlbj0wLHRoaXMuYnVmZmVyZWRSZXF1ZXN0PW51bGwsdGhpcy5sYXN0QnVmZmVyZWRSZXF1ZXN0PW51bGwsdGhpcy5wZW5kaW5nY2I9MCx0aGlzLnByZWZpbmlzaGVkPSExLHRoaXMuZXJyb3JFbWl0dGVkPSExLHRoaXMuYnVmZmVyZWRSZXF1ZXN0Q291bnQ9MCx0aGlzLmNvcmtlZFJlcXVlc3RzRnJlZT1uZXcgQ29ya2VkUmVxdWVzdCh0aGlzKX1mdW5jdGlvbiBXcml0YWJsZShvcHRpb25zKXtpZihEdXBsZXg9RHVwbGV4fHxfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKSwhKHJlYWxIYXNJbnN0YW5jZS5jYWxsKFdyaXRhYmxlLHRoaXMpfHx0aGlzIGluc3RhbmNlb2YgRHVwbGV4KSlyZXR1cm4gbmV3IFdyaXRhYmxlKG9wdGlvbnMpO3RoaXMuX3dyaXRhYmxlU3RhdGU9bmV3IFdyaXRhYmxlU3RhdGUob3B0aW9ucyx0aGlzKSx0aGlzLndyaXRhYmxlPSEwLG9wdGlvbnMmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiBvcHRpb25zLndyaXRlJiYodGhpcy5fd3JpdGU9b3B0aW9ucy53cml0ZSksXCJmdW5jdGlvblwiPT10eXBlb2Ygb3B0aW9ucy53cml0ZXYmJih0aGlzLl93cml0ZXY9b3B0aW9ucy53cml0ZXYpLFwiZnVuY3Rpb25cIj09dHlwZW9mIG9wdGlvbnMuZGVzdHJveSYmKHRoaXMuX2Rlc3Ryb3k9b3B0aW9ucy5kZXN0cm95KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBvcHRpb25zLmZpbmFsJiYodGhpcy5fZmluYWw9b3B0aW9ucy5maW5hbCkpLFN0cmVhbS5jYWxsKHRoaXMpfWZ1bmN0aW9uIGRvV3JpdGUoc3RyZWFtLHN0YXRlLHdyaXRldixsZW4sY2h1bmssZW5jb2RpbmcsY2Ipe3N0YXRlLndyaXRlbGVuPWxlbixzdGF0ZS53cml0ZWNiPWNiLHN0YXRlLndyaXRpbmc9ITAsc3RhdGUuc3luYz0hMCx3cml0ZXY/c3RyZWFtLl93cml0ZXYoY2h1bmssc3RhdGUub253cml0ZSk6c3RyZWFtLl93cml0ZShjaHVuayxlbmNvZGluZyxzdGF0ZS5vbndyaXRlKSxzdGF0ZS5zeW5jPSExfWZ1bmN0aW9uIGFmdGVyV3JpdGUoc3RyZWFtLHN0YXRlLGZpbmlzaGVkLGNiKXtmaW5pc2hlZHx8ZnVuY3Rpb24oc3RyZWFtLHN0YXRlKXswPT09c3RhdGUubGVuZ3RoJiZzdGF0ZS5uZWVkRHJhaW4mJihzdGF0ZS5uZWVkRHJhaW49ITEsc3RyZWFtLmVtaXQoXCJkcmFpblwiKSl9KHN0cmVhbSxzdGF0ZSksc3RhdGUucGVuZGluZ2NiLS0sY2IoKSxmaW5pc2hNYXliZShzdHJlYW0sc3RhdGUpfWZ1bmN0aW9uIGNsZWFyQnVmZmVyKHN0cmVhbSxzdGF0ZSl7c3RhdGUuYnVmZmVyUHJvY2Vzc2luZz0hMDt2YXIgZW50cnk9c3RhdGUuYnVmZmVyZWRSZXF1ZXN0O2lmKHN0cmVhbS5fd3JpdGV2JiZlbnRyeSYmZW50cnkubmV4dCl7dmFyIGw9c3RhdGUuYnVmZmVyZWRSZXF1ZXN0Q291bnQsYnVmZmVyPW5ldyBBcnJheShsKSxob2xkZXI9c3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlO2hvbGRlci5lbnRyeT1lbnRyeTtmb3IodmFyIGNvdW50PTAsYWxsQnVmZmVycz0hMDtlbnRyeTspYnVmZmVyW2NvdW50XT1lbnRyeSxlbnRyeS5pc0J1Znx8KGFsbEJ1ZmZlcnM9ITEpLGVudHJ5PWVudHJ5Lm5leHQsY291bnQrPTE7YnVmZmVyLmFsbEJ1ZmZlcnM9YWxsQnVmZmVycyxkb1dyaXRlKHN0cmVhbSxzdGF0ZSwhMCxzdGF0ZS5sZW5ndGgsYnVmZmVyLFwiXCIsaG9sZGVyLmZpbmlzaCksc3RhdGUucGVuZGluZ2NiKyssc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdD1udWxsLGhvbGRlci5uZXh0PyhzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWU9aG9sZGVyLm5leHQsaG9sZGVyLm5leHQ9bnVsbCk6c3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlPW5ldyBDb3JrZWRSZXF1ZXN0KHN0YXRlKSxzdGF0ZS5idWZmZXJlZFJlcXVlc3RDb3VudD0wfWVsc2V7Zm9yKDtlbnRyeTspe3ZhciBjaHVuaz1lbnRyeS5jaHVuayxlbmNvZGluZz1lbnRyeS5lbmNvZGluZyxjYj1lbnRyeS5jYWxsYmFjaztpZihkb1dyaXRlKHN0cmVhbSxzdGF0ZSwhMSxzdGF0ZS5vYmplY3RNb2RlPzE6Y2h1bmsubGVuZ3RoLGNodW5rLGVuY29kaW5nLGNiKSxlbnRyeT1lbnRyeS5uZXh0LHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdENvdW50LS0sc3RhdGUud3JpdGluZylicmVha31udWxsPT09ZW50cnkmJihzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0PW51bGwpfXN0YXRlLmJ1ZmZlcmVkUmVxdWVzdD1lbnRyeSxzdGF0ZS5idWZmZXJQcm9jZXNzaW5nPSExfWZ1bmN0aW9uIG5lZWRGaW5pc2goc3RhdGUpe3JldHVybiBzdGF0ZS5lbmRpbmcmJjA9PT1zdGF0ZS5sZW5ndGgmJm51bGw9PT1zdGF0ZS5idWZmZXJlZFJlcXVlc3QmJiFzdGF0ZS5maW5pc2hlZCYmIXN0YXRlLndyaXRpbmd9ZnVuY3Rpb24gY2FsbEZpbmFsKHN0cmVhbSxzdGF0ZSl7c3RyZWFtLl9maW5hbChmdW5jdGlvbihlcnIpe3N0YXRlLnBlbmRpbmdjYi0tLGVyciYmc3RyZWFtLmVtaXQoXCJlcnJvclwiLGVyciksc3RhdGUucHJlZmluaXNoZWQ9ITAsc3RyZWFtLmVtaXQoXCJwcmVmaW5pc2hcIiksZmluaXNoTWF5YmUoc3RyZWFtLHN0YXRlKX0pfWZ1bmN0aW9uIGZpbmlzaE1heWJlKHN0cmVhbSxzdGF0ZSl7dmFyIG5lZWQ9bmVlZEZpbmlzaChzdGF0ZSk7cmV0dXJuIG5lZWQmJighZnVuY3Rpb24oc3RyZWFtLHN0YXRlKXtzdGF0ZS5wcmVmaW5pc2hlZHx8c3RhdGUuZmluYWxDYWxsZWR8fChcImZ1bmN0aW9uXCI9PXR5cGVvZiBzdHJlYW0uX2ZpbmFsPyhzdGF0ZS5wZW5kaW5nY2IrKyxzdGF0ZS5maW5hbENhbGxlZD0hMCxwbmEubmV4dFRpY2soY2FsbEZpbmFsLHN0cmVhbSxzdGF0ZSkpOihzdGF0ZS5wcmVmaW5pc2hlZD0hMCxzdHJlYW0uZW1pdChcInByZWZpbmlzaFwiKSkpfShzdHJlYW0sc3RhdGUpLDA9PT1zdGF0ZS5wZW5kaW5nY2ImJihzdGF0ZS5maW5pc2hlZD0hMCxzdHJlYW0uZW1pdChcImZpbmlzaFwiKSkpLG5lZWR9dXRpbC5pbmhlcml0cyhXcml0YWJsZSxTdHJlYW0pLFdyaXRhYmxlU3RhdGUucHJvdG90eXBlLmdldEJ1ZmZlcj1mdW5jdGlvbigpe2Zvcih2YXIgY3VycmVudD10aGlzLmJ1ZmZlcmVkUmVxdWVzdCxvdXQ9W107Y3VycmVudDspb3V0LnB1c2goY3VycmVudCksY3VycmVudD1jdXJyZW50Lm5leHQ7cmV0dXJuIG91dH0sZnVuY3Rpb24oKXt0cnl7T2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRhYmxlU3RhdGUucHJvdG90eXBlLFwiYnVmZmVyXCIse2dldDppbnRlcm5hbFV0aWwuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QnVmZmVyKCl9LFwiX3dyaXRhYmxlU3RhdGUuYnVmZmVyIGlzIGRlcHJlY2F0ZWQuIFVzZSBfd3JpdGFibGVTdGF0ZS5nZXRCdWZmZXIgaW5zdGVhZC5cIixcIkRFUDAwMDNcIil9KX1jYXRjaChfKXt9fSgpLFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLmhhc0luc3RhbmNlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBGdW5jdGlvbi5wcm90b3R5cGVbU3ltYm9sLmhhc0luc3RhbmNlXT8ocmVhbEhhc0luc3RhbmNlPUZ1bmN0aW9uLnByb3RvdHlwZVtTeW1ib2wuaGFzSW5zdGFuY2VdLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0YWJsZSxTeW1ib2wuaGFzSW5zdGFuY2Use3ZhbHVlOmZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuISFyZWFsSGFzSW5zdGFuY2UuY2FsbCh0aGlzLG9iamVjdCl8fHRoaXM9PT1Xcml0YWJsZSYmKG9iamVjdCYmb2JqZWN0Ll93cml0YWJsZVN0YXRlIGluc3RhbmNlb2YgV3JpdGFibGVTdGF0ZSl9fSkpOnJlYWxIYXNJbnN0YW5jZT1mdW5jdGlvbihvYmplY3Qpe3JldHVybiBvYmplY3QgaW5zdGFuY2VvZiB0aGlzfSxXcml0YWJsZS5wcm90b3R5cGUucGlwZT1mdW5jdGlvbigpe3RoaXMuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiQ2Fubm90IHBpcGUsIG5vdCByZWFkYWJsZVwiKSl9LFdyaXRhYmxlLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihjaHVuayxlbmNvZGluZyxjYil7dmFyIHN0YXRlPXRoaXMuX3dyaXRhYmxlU3RhdGUscmV0PSExLGlzQnVmPSFzdGF0ZS5vYmplY3RNb2RlJiZmdW5jdGlvbihvYmope3JldHVybiBCdWZmZXIuaXNCdWZmZXIob2JqKXx8b2JqIGluc3RhbmNlb2YgT3VyVWludDhBcnJheX0oY2h1bmspO3JldHVybiBpc0J1ZiYmIUJ1ZmZlci5pc0J1ZmZlcihjaHVuaykmJihjaHVuaz1mdW5jdGlvbihjaHVuayl7cmV0dXJuIEJ1ZmZlci5mcm9tKGNodW5rKX0oY2h1bmspKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlbmNvZGluZyYmKGNiPWVuY29kaW5nLGVuY29kaW5nPW51bGwpLGlzQnVmP2VuY29kaW5nPVwiYnVmZmVyXCI6ZW5jb2Rpbmd8fChlbmNvZGluZz1zdGF0ZS5kZWZhdWx0RW5jb2RpbmcpLFwiZnVuY3Rpb25cIiE9dHlwZW9mIGNiJiYoY2I9bm9wKSxzdGF0ZS5lbmRlZD9mdW5jdGlvbihzdHJlYW0sY2Ipe3ZhciBlcj1uZXcgRXJyb3IoXCJ3cml0ZSBhZnRlciBlbmRcIik7c3RyZWFtLmVtaXQoXCJlcnJvclwiLGVyKSxwbmEubmV4dFRpY2soY2IsZXIpfSh0aGlzLGNiKTooaXNCdWZ8fGZ1bmN0aW9uKHN0cmVhbSxzdGF0ZSxjaHVuayxjYil7dmFyIHZhbGlkPSEwLGVyPSExO3JldHVybiBudWxsPT09Y2h1bms/ZXI9bmV3IFR5cGVFcnJvcihcIk1heSBub3Qgd3JpdGUgbnVsbCB2YWx1ZXMgdG8gc3RyZWFtXCIpOlwic3RyaW5nXCI9PXR5cGVvZiBjaHVua3x8dm9pZCAwPT09Y2h1bmt8fHN0YXRlLm9iamVjdE1vZGV8fChlcj1uZXcgVHlwZUVycm9yKFwiSW52YWxpZCBub24tc3RyaW5nL2J1ZmZlciBjaHVua1wiKSksZXImJihzdHJlYW0uZW1pdChcImVycm9yXCIsZXIpLHBuYS5uZXh0VGljayhjYixlciksdmFsaWQ9ITEpLHZhbGlkfSh0aGlzLHN0YXRlLGNodW5rLGNiKSkmJihzdGF0ZS5wZW5kaW5nY2IrKyxyZXQ9ZnVuY3Rpb24oc3RyZWFtLHN0YXRlLGlzQnVmLGNodW5rLGVuY29kaW5nLGNiKXtpZighaXNCdWYpe3ZhciBuZXdDaHVuaz1mdW5jdGlvbihzdGF0ZSxjaHVuayxlbmNvZGluZyl7c3RhdGUub2JqZWN0TW9kZXx8ITE9PT1zdGF0ZS5kZWNvZGVTdHJpbmdzfHxcInN0cmluZ1wiIT10eXBlb2YgY2h1bmt8fChjaHVuaz1CdWZmZXIuZnJvbShjaHVuayxlbmNvZGluZykpO3JldHVybiBjaHVua30oc3RhdGUsY2h1bmssZW5jb2RpbmcpO2NodW5rIT09bmV3Q2h1bmsmJihpc0J1Zj0hMCxlbmNvZGluZz1cImJ1ZmZlclwiLGNodW5rPW5ld0NodW5rKX12YXIgbGVuPXN0YXRlLm9iamVjdE1vZGU/MTpjaHVuay5sZW5ndGg7c3RhdGUubGVuZ3RoKz1sZW47dmFyIHJldD1zdGF0ZS5sZW5ndGg8c3RhdGUuaGlnaFdhdGVyTWFyaztyZXR8fChzdGF0ZS5uZWVkRHJhaW49ITApO2lmKHN0YXRlLndyaXRpbmd8fHN0YXRlLmNvcmtlZCl7dmFyIGxhc3Q9c3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdDtzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0PXtjaHVuazpjaHVuayxlbmNvZGluZzplbmNvZGluZyxpc0J1Zjppc0J1ZixjYWxsYmFjazpjYixuZXh0Om51bGx9LGxhc3Q/bGFzdC5uZXh0PXN0YXRlLmxhc3RCdWZmZXJlZFJlcXVlc3Q6c3RhdGUuYnVmZmVyZWRSZXF1ZXN0PXN0YXRlLmxhc3RCdWZmZXJlZFJlcXVlc3Qsc3RhdGUuYnVmZmVyZWRSZXF1ZXN0Q291bnQrPTF9ZWxzZSBkb1dyaXRlKHN0cmVhbSxzdGF0ZSwhMSxsZW4sY2h1bmssZW5jb2RpbmcsY2IpO3JldHVybiByZXR9KHRoaXMsc3RhdGUsaXNCdWYsY2h1bmssZW5jb2RpbmcsY2IpKSxyZXR9LFdyaXRhYmxlLnByb3RvdHlwZS5jb3JrPWZ1bmN0aW9uKCl7dGhpcy5fd3JpdGFibGVTdGF0ZS5jb3JrZWQrK30sV3JpdGFibGUucHJvdG90eXBlLnVuY29yaz1mdW5jdGlvbigpe3ZhciBzdGF0ZT10aGlzLl93cml0YWJsZVN0YXRlO3N0YXRlLmNvcmtlZCYmKHN0YXRlLmNvcmtlZC0tLHN0YXRlLndyaXRpbmd8fHN0YXRlLmNvcmtlZHx8c3RhdGUuZmluaXNoZWR8fHN0YXRlLmJ1ZmZlclByb2Nlc3Npbmd8fCFzdGF0ZS5idWZmZXJlZFJlcXVlc3R8fGNsZWFyQnVmZmVyKHRoaXMsc3RhdGUpKX0sV3JpdGFibGUucHJvdG90eXBlLnNldERlZmF1bHRFbmNvZGluZz1mdW5jdGlvbihlbmNvZGluZyl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGVuY29kaW5nJiYoZW5jb2Rpbmc9ZW5jb2RpbmcudG9Mb3dlckNhc2UoKSksIShbXCJoZXhcIixcInV0ZjhcIixcInV0Zi04XCIsXCJhc2NpaVwiLFwiYmluYXJ5XCIsXCJiYXNlNjRcIixcInVjczJcIixcInVjcy0yXCIsXCJ1dGYxNmxlXCIsXCJ1dGYtMTZsZVwiLFwicmF3XCJdLmluZGV4T2YoKGVuY29kaW5nK1wiXCIpLnRvTG93ZXJDYXNlKCkpPi0xKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIrZW5jb2RpbmcpO3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmRlZmF1bHRFbmNvZGluZz1lbmNvZGluZyx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoV3JpdGFibGUucHJvdG90eXBlLFwid3JpdGFibGVIaWdoV2F0ZXJNYXJrXCIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUuaGlnaFdhdGVyTWFya319KSxXcml0YWJsZS5wcm90b3R5cGUuX3dyaXRlPWZ1bmN0aW9uKGNodW5rLGVuY29kaW5nLGNiKXtjYihuZXcgRXJyb3IoXCJfd3JpdGUoKSBpcyBub3QgaW1wbGVtZW50ZWRcIikpfSxXcml0YWJsZS5wcm90b3R5cGUuX3dyaXRldj1udWxsLFdyaXRhYmxlLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oY2h1bmssZW5jb2RpbmcsY2Ipe3ZhciBzdGF0ZT10aGlzLl93cml0YWJsZVN0YXRlO1wiZnVuY3Rpb25cIj09dHlwZW9mIGNodW5rPyhjYj1jaHVuayxjaHVuaz1udWxsLGVuY29kaW5nPW51bGwpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGVuY29kaW5nJiYoY2I9ZW5jb2RpbmcsZW5jb2Rpbmc9bnVsbCksbnVsbCE9PWNodW5rJiZ2b2lkIDAhPT1jaHVuayYmdGhpcy53cml0ZShjaHVuayxlbmNvZGluZyksc3RhdGUuY29ya2VkJiYoc3RhdGUuY29ya2VkPTEsdGhpcy51bmNvcmsoKSksc3RhdGUuZW5kaW5nfHxzdGF0ZS5maW5pc2hlZHx8ZnVuY3Rpb24oc3RyZWFtLHN0YXRlLGNiKXtzdGF0ZS5lbmRpbmc9ITAsZmluaXNoTWF5YmUoc3RyZWFtLHN0YXRlKSxjYiYmKHN0YXRlLmZpbmlzaGVkP3BuYS5uZXh0VGljayhjYik6c3RyZWFtLm9uY2UoXCJmaW5pc2hcIixjYikpO3N0YXRlLmVuZGVkPSEwLHN0cmVhbS53cml0YWJsZT0hMX0odGhpcyxzdGF0ZSxjYil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0YWJsZS5wcm90b3R5cGUsXCJkZXN0cm95ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuX3dyaXRhYmxlU3RhdGUmJnRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkfSxzZXQ6ZnVuY3Rpb24odmFsdWUpe3RoaXMuX3dyaXRhYmxlU3RhdGUmJih0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZD12YWx1ZSl9fSksV3JpdGFibGUucHJvdG90eXBlLmRlc3Ryb3k9ZGVzdHJveUltcGwuZGVzdHJveSxXcml0YWJsZS5wcm90b3R5cGUuX3VuZGVzdHJveT1kZXN0cm95SW1wbC51bmRlc3Ryb3ksV3JpdGFibGUucHJvdG90eXBlLl9kZXN0cm95PWZ1bmN0aW9uKGVycixjYil7dGhpcy5lbmQoKSxjYihlcnIpfX0pLmNhbGwodGhpcyxfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKSxfX3dlYnBhY2tfcmVxdWlyZV9fKDU0KS5zZXRJbW1lZGlhdGUsX193ZWJwYWNrX3JlcXVpcmVfXygxMSkpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgZXh0ZXJuYWw9X193ZWJwYWNrX3JlcXVpcmVfXygyNCksRGF0YVdvcmtlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDYwKSxEYXRhTGVuZ3RoUHJvYmU9X193ZWJwYWNrX3JlcXVpcmVfXyg2MSksQ3JjMzJQcm9iZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDYyKTtEYXRhTGVuZ3RoUHJvYmU9X193ZWJwYWNrX3JlcXVpcmVfXyg2MSk7ZnVuY3Rpb24gQ29tcHJlc3NlZE9iamVjdChjb21wcmVzc2VkU2l6ZSx1bmNvbXByZXNzZWRTaXplLGNyYzMyLGNvbXByZXNzaW9uLGRhdGEpe3RoaXMuY29tcHJlc3NlZFNpemU9Y29tcHJlc3NlZFNpemUsdGhpcy51bmNvbXByZXNzZWRTaXplPXVuY29tcHJlc3NlZFNpemUsdGhpcy5jcmMzMj1jcmMzMix0aGlzLmNvbXByZXNzaW9uPWNvbXByZXNzaW9uLHRoaXMuY29tcHJlc3NlZENvbnRlbnQ9ZGF0YX1Db21wcmVzc2VkT2JqZWN0LnByb3RvdHlwZT17Z2V0Q29udGVudFdvcmtlcjpmdW5jdGlvbigpe3ZhciB3b3JrZXI9bmV3IERhdGFXb3JrZXIoZXh0ZXJuYWwuUHJvbWlzZS5yZXNvbHZlKHRoaXMuY29tcHJlc3NlZENvbnRlbnQpKS5waXBlKHRoaXMuY29tcHJlc3Npb24udW5jb21wcmVzc1dvcmtlcigpKS5waXBlKG5ldyBEYXRhTGVuZ3RoUHJvYmUoXCJkYXRhX2xlbmd0aFwiKSksdGhhdD10aGlzO3JldHVybiB3b3JrZXIub24oXCJlbmRcIixmdW5jdGlvbigpe2lmKHRoaXMuc3RyZWFtSW5mby5kYXRhX2xlbmd0aCE9PXRoYXQudW5jb21wcmVzc2VkU2l6ZSl0aHJvdyBuZXcgRXJyb3IoXCJCdWcgOiB1bmNvbXByZXNzZWQgZGF0YSBzaXplIG1pc21hdGNoXCIpfSksd29ya2VyfSxnZXRDb21wcmVzc2VkV29ya2VyOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBEYXRhV29ya2VyKGV4dGVybmFsLlByb21pc2UucmVzb2x2ZSh0aGlzLmNvbXByZXNzZWRDb250ZW50KSkud2l0aFN0cmVhbUluZm8oXCJjb21wcmVzc2VkU2l6ZVwiLHRoaXMuY29tcHJlc3NlZFNpemUpLndpdGhTdHJlYW1JbmZvKFwidW5jb21wcmVzc2VkU2l6ZVwiLHRoaXMudW5jb21wcmVzc2VkU2l6ZSkud2l0aFN0cmVhbUluZm8oXCJjcmMzMlwiLHRoaXMuY3JjMzIpLndpdGhTdHJlYW1JbmZvKFwiY29tcHJlc3Npb25cIix0aGlzLmNvbXByZXNzaW9uKX19LENvbXByZXNzZWRPYmplY3QuY3JlYXRlV29ya2VyRnJvbT1mdW5jdGlvbih1bmNvbXByZXNzZWRXb3JrZXIsY29tcHJlc3Npb24sY29tcHJlc3Npb25PcHRpb25zKXtyZXR1cm4gdW5jb21wcmVzc2VkV29ya2VyLnBpcGUobmV3IENyYzMyUHJvYmUpLnBpcGUobmV3IERhdGFMZW5ndGhQcm9iZShcInVuY29tcHJlc3NlZFNpemVcIikpLnBpcGUoY29tcHJlc3Npb24uY29tcHJlc3NXb3JrZXIoY29tcHJlc3Npb25PcHRpb25zKSkucGlwZShuZXcgRGF0YUxlbmd0aFByb2JlKFwiY29tcHJlc3NlZFNpemVcIikpLndpdGhTdHJlYW1JbmZvKFwiY29tcHJlc3Npb25cIixjb21wcmVzc2lvbil9LG1vZHVsZS5leHBvcnRzPUNvbXByZXNzZWRPYmplY3R9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciB1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBjcmNUYWJsZT1mdW5jdGlvbigpe2Zvcih2YXIgYyx0YWJsZT1bXSxuPTA7bjwyNTY7bisrKXtjPW47Zm9yKHZhciBrPTA7azw4O2srKyljPTEmYz8zOTg4MjkyMzg0XmM+Pj4xOmM+Pj4xO3RhYmxlW25dPWN9cmV0dXJuIHRhYmxlfSgpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKGlucHV0LGNyYyl7cmV0dXJuIHZvaWQgMCE9PWlucHV0JiZpbnB1dC5sZW5ndGg/XCJzdHJpbmdcIiE9PXV0aWxzLmdldFR5cGVPZihpbnB1dCk/ZnVuY3Rpb24oY3JjLGJ1ZixsZW4scG9zKXt2YXIgdD1jcmNUYWJsZSxlbmQ9cG9zK2xlbjtjcmNePS0xO2Zvcih2YXIgaT1wb3M7aTxlbmQ7aSsrKWNyYz1jcmM+Pj44XnRbMjU1JihjcmNeYnVmW2ldKV07cmV0dXJuLTFeY3JjfSgwfGNyYyxpbnB1dCxpbnB1dC5sZW5ndGgsMCk6ZnVuY3Rpb24oY3JjLHN0cixsZW4scG9zKXt2YXIgdD1jcmNUYWJsZSxlbmQ9cG9zK2xlbjtjcmNePS0xO2Zvcih2YXIgaT1wb3M7aTxlbmQ7aSsrKWNyYz1jcmM+Pj44XnRbMjU1JihjcmNec3RyLmNoYXJDb2RlQXQoaSkpXTtyZXR1cm4tMV5jcmN9KDB8Y3JjLGlucHV0LGlucHV0Lmxlbmd0aCwwKTowfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7bW9kdWxlLmV4cG9ydHM9ezI6XCJuZWVkIGRpY3Rpb25hcnlcIiwxOlwic3RyZWFtIGVuZFwiLDA6XCJcIixcIi0xXCI6XCJmaWxlIGVycm9yXCIsXCItMlwiOlwic3RyZWFtIGVycm9yXCIsXCItM1wiOlwiZGF0YSBlcnJvclwiLFwiLTRcIjpcImluc3VmZmljaWVudCBtZW1vcnlcIixcIi01XCI6XCJidWZmZXIgZXJyb3JcIixcIi02XCI6XCJpbmNvbXBhdGlibGUgdmVyc2lvblwifX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXdhaXRlcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24odGhpc0FyZyxfYXJndW1lbnRzLFAsZ2VuZXJhdG9yKXtyZXR1cm4gbmV3KFB8fChQPVByb21pc2UpKShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gc3RlcChyZXN1bHQpe3Jlc3VsdC5kb25lP3Jlc29sdmUocmVzdWx0LnZhbHVlKTpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUD92YWx1ZTpuZXcgUChmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKHZhbHVlKX0pfShyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLHJlamVjdGVkKX1zdGVwKChnZW5lcmF0b3I9Z2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsX2FyZ3VtZW50c3x8W10pKS5uZXh0KCkpfSl9LF9fZ2VuZXJhdG9yPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKHRoaXNBcmcsYm9keSl7dmFyIGYseSx0LGcsXz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZ0WzBdKXRocm93IHRbMV07cmV0dXJuIHRbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gZz17bmV4dDp2ZXJiKDApLHRocm93OnZlcmIoMSkscmV0dXJuOnZlcmIoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGdbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksZztmdW5jdGlvbiB2ZXJiKG4pe3JldHVybiBmdW5jdGlvbih2KXtyZXR1cm4gZnVuY3Rpb24ob3Ape2lmKGYpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtfOyl0cnl7aWYoZj0xLHkmJih0PTImb3BbMF0/eS5yZXR1cm46b3BbMF0/eS50aHJvd3x8KCh0PXkucmV0dXJuKSYmdC5jYWxsKHkpLDApOnkubmV4dCkmJiEodD10LmNhbGwoeSxvcFsxXSkpLmRvbmUpcmV0dXJuIHQ7c3dpdGNoKHk9MCx0JiYob3A9WzImb3BbMF0sdC52YWx1ZV0pLG9wWzBdKXtjYXNlIDA6Y2FzZSAxOnQ9b3A7YnJlYWs7Y2FzZSA0OnJldHVybiBfLmxhYmVsKysse3ZhbHVlOm9wWzFdLGRvbmU6ITF9O2Nhc2UgNTpfLmxhYmVsKysseT1vcFsxXSxvcD1bMF07Y29udGludWU7Y2FzZSA3Om9wPV8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEodD0odD1fLnRyeXMpLmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdKSYmKDY9PT1vcFswXXx8Mj09PW9wWzBdKSl7Xz0wO2NvbnRpbnVlfWlmKDM9PT1vcFswXSYmKCF0fHxvcFsxXT50WzBdJiZvcFsxXTx0WzNdKSl7Xy5sYWJlbD1vcFsxXTticmVha31pZig2PT09b3BbMF0mJl8ubGFiZWw8dFsxXSl7Xy5sYWJlbD10WzFdLHQ9b3A7YnJlYWt9aWYodCYmXy5sYWJlbDx0WzJdKXtfLmxhYmVsPXRbMl0sXy5vcHMucHVzaChvcCk7YnJlYWt9dFsyXSYmXy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlfW9wPWJvZHkuY2FsbCh0aGlzQXJnLF8pfWNhdGNoKGUpe29wPVs2LGVdLHk9MH1maW5hbGx5e2Y9dD0wfWlmKDUmb3BbMF0pdGhyb3cgb3BbMV07cmV0dXJue3ZhbHVlOm9wWzBdP29wWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sdl0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBTdG9yYWdlXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg0NiksRGF0ZU1vZHVsZV8xPV9fd2VicGFja19yZXF1aXJlX18oNiksSW5ib3hNZXNzYWdlc1B1YmxpY18xPV9fd2VicGFja19yZXF1aXJlX18oMjUpLEluYm94TWVzc2FnZXM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBJbmJveE1lc3NhZ2VzKGV2ZW50QnVzLGRhdGEsYXBpLHN0b3JhZ2UsZGF0ZU1vZHVsZSl7dm9pZCAwPT09c3RvcmFnZSYmKHN0b3JhZ2U9bmV3IFN0b3JhZ2VfMS5kZWZhdWx0KSx2b2lkIDA9PT1kYXRlTW9kdWxlJiYoZGF0ZU1vZHVsZT1uZXcgRGF0ZU1vZHVsZV8xLmRlZmF1bHQpLHRoaXMuZXZlbnRCdXM9ZXZlbnRCdXMsdGhpcy5kYXRhPWRhdGEsdGhpcy5hcGk9YXBpLHRoaXMuc3RvcmFnZT1zdG9yYWdlLHRoaXMuc3RvcmVOYW1lPVwiaW5ib3hNZXNzYWdlc1wiLHRoaXMuZGF0ZU1vZHVsZT1kYXRlTW9kdWxlfXJldHVybiBJbmJveE1lc3NhZ2VzLnByb3RvdHlwZS5nZXRJbmJveE1lc3NhZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcmVzcG9uc2U7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuYXBpLmdldEluYm94TWVzc2FnZXMoKV07Y2FzZSAxOnJldHVybiByZXNwb25zZT1fYS5zZW50KCksWzQsdGhpcy5zdG9yZUdldEluYm94TWVzc2FnZXNSZXF1ZXN0UGFyYW1zKHJlc3BvbnNlLm5leHQscmVzcG9uc2UubmV3X2luYm94KV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzIscmVzcG9uc2VdfX0pfSl9LEluYm94TWVzc2FnZXMucHJvdG90eXBlLnN0b3JlR2V0SW5ib3hNZXNzYWdlc1JlcXVlc3RQYXJhbXM9ZnVuY3Rpb24obmV4dCxuZXdNZXNzYWdlc0NvdW50KXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5kYXRlTW9kdWxlLmRhdGU9bmV3IERhdGUsWzQsdGhpcy5kYXRhLnNldEluYm94TGFzdFJlcXVlc3RUaW1lKHRoaXMuZGF0ZU1vZHVsZS5nZXRVdGNUaW1lc3RhbXAoKSldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuZGF0YS5zZXRJbmJveExhc3RSZXF1ZXN0Q29kZShuZXh0KV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5kYXRhLnNldEluYm94TmV3TWVzc2FnZXNDb3VudChuZXdNZXNzYWdlc0NvdW50KV07Y2FzZSAzOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LEluYm94TWVzc2FnZXMucHJvdG90eXBlLnB1dFNlcnZlck1lc3NhZ2VzPWZ1bmN0aW9uKG1lc3NhZ2VzKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwdXRUcmFuc2FjdGlvbnMsX3RoaXM9dGhpcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7cmV0dXJuIHB1dFRyYW5zYWN0aW9ucz1tZXNzYWdlcy5tYXAoZnVuY3Rpb24obWVzc2FnZSl7cmV0dXJuIF9fYXdhaXRlcihfdGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGxvY2FsTWVzc2FnZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yYWdlLmdldCh0aGlzLnN0b3JlTmFtZSxtZXNzYWdlLmluYm94X2lkLHt9KV07Y2FzZSAxOnJldHVyblwic3RhdHVzXCJpbihsb2NhbE1lc3NhZ2U9X2Euc2VudCgpKSYmKG1lc3NhZ2Uuc3RhdHVzPWxvY2FsTWVzc2FnZS5zdGF0dXMpLFsyLHRoaXMucHV0TWVzc2FnZShtZXNzYWdlKV19fSl9KX0pLFsyLFByb21pc2UuYWxsKHB1dFRyYW5zYWN0aW9ucyldfSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUucHV0TWVzc2FnZT1mdW5jdGlvbihtZXNzYWdlKXtyZXR1cm4gdGhpcy5zdG9yYWdlLnB1dCh0aGlzLnN0b3JlTmFtZSxtZXNzYWdlKX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUucHV0QnVsa01lc3NhZ2VzPWZ1bmN0aW9uKG1lc3NhZ2VzKXt2YXIgX3RoaXM9dGhpcyxwdXRUcmFuc2FjdGlvbnM9bWVzc2FnZXMubWFwKGZ1bmN0aW9uKG1lc3NhZ2Upe3JldHVybiBfdGhpcy5wdXRNZXNzYWdlKG1lc3NhZ2UpfSk7cmV0dXJuIFByb21pc2UuYWxsKHB1dFRyYW5zYWN0aW9ucyl9LEluYm94TWVzc2FnZXMucHJvdG90eXBlLmRlbGV0ZU1lc3NhZ2VzPWZ1bmN0aW9uKGNvZGVzKXt2YXIgX3RoaXM9dGhpcyxkZWxldGVUcmFuc2FjdGlvbnM9Y29kZXMubWFwKGZ1bmN0aW9uKGNvZGUpe3JldHVybiBfdGhpcy5zdG9yYWdlLmRlbGV0ZShfdGhpcy5zdG9yZU5hbWUsY29kZSl9KTtyZXR1cm4gUHJvbWlzZS5hbGwoZGVsZXRlVHJhbnNhY3Rpb25zKX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUuZGVsZXRlRXhwaXJlZE1lc3NhZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdXBwZXJCb3VuZCxhbGxNZXNzYWdlcyxjb2Rlc1RvRGVsZXRlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5kYXRlTW9kdWxlLmRhdGU9bmV3IERhdGUsdXBwZXJCb3VuZD10aGlzLmRhdGVNb2R1bGUuZ2V0VGltZXN0YW1wKCkudG9TdHJpbmcoKSxbNCx0aGlzLnN0b3JhZ2UuZ2V0QWxsKHRoaXMuc3RvcmVOYW1lKV07Y2FzZSAxOnJldHVybiBhbGxNZXNzYWdlcz1fYS5zZW50KCksY29kZXNUb0RlbGV0ZT1hbGxNZXNzYWdlcy5maWx0ZXIoZnVuY3Rpb24obXNnKXtyZXR1cm4gbXNnLnJ0PnVwcGVyQm91bmR9KS5tYXAoZnVuY3Rpb24obXNnKXtyZXR1cm4gbXNnLmluYm94X2lkfSksWzIsdGhpcy5kZWxldGVNZXNzYWdlcyhjb2Rlc1RvRGVsZXRlKV19fSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUuZ2V0TWVzc2FnZT1mdW5jdGlvbihjb2RlKXtyZXR1cm4gdGhpcy5zdG9yYWdlLmdldCh0aGlzLnN0b3JlTmFtZSxjb2RlKX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUuZ2V0UmVhZE9wZW5NZXNzYWdlcz1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmFnZS5nZXRBbGwodGhpcy5zdG9yZU5hbWUpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpLmZpbHRlcihmdW5jdGlvbihtc2cpe3JldHVybiAyPT09bXNnLnN0YXR1c3x8Mz09PW1zZy5zdGF0dXN9KV19fSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUuZ2V0RGVsaXZlcmVkTWVzc2FnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JhZ2UuZ2V0QWxsKHRoaXMuc3RvcmVOYW1lKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKS5maWx0ZXIoZnVuY3Rpb24obXNnKXtyZXR1cm4gMT09PW1zZy5zdGF0dXN9KV19fSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUubWVzc2FnZXNDb3VudD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVyblsyLHRoaXMuc3RvcmFnZS5jb3VudCh0aGlzLnN0b3JlTmFtZSldfSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUuZ2V0RGVsaXZlcmVkTWVzc2FnZXNDb3VudD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGRlbGl2ZXJlZFN0YXR1cyxzdGF0dXNJbmRleE5hbWU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVybiBkZWxpdmVyZWRTdGF0dXM9MSxzdGF0dXNJbmRleE5hbWU9XCJzdGF0dXNcIixbMix0aGlzLnN0b3JhZ2UuY291bnRCeUluZGV4KHRoaXMuc3RvcmVOYW1lLHN0YXR1c0luZGV4TmFtZSxkZWxpdmVyZWRTdGF0dXMpXX0pfSl9LEluYm94TWVzc2FnZXMucHJvdG90eXBlLmdldFJlYWRNZXNzYWdlc0NvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcmVhZFN0YXR1cyxzdGF0dXNJbmRleE5hbWU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVybiByZWFkU3RhdHVzPTIsc3RhdHVzSW5kZXhOYW1lPVwic3RhdHVzXCIsWzIsdGhpcy5zdG9yYWdlLmNvdW50QnlJbmRleCh0aGlzLnN0b3JlTmFtZSxzdGF0dXNJbmRleE5hbWUscmVhZFN0YXR1cyldfSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUuZ2V0RGVsaXZlcmVkUmVhZE1lc3NhZ2VzQ291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBfYSxyZWFkU3RhdHVzLG9wZW5TdGF0dXMsa2V5UmFuZ2Usc3RhdHVzSW5kZXhOYW1lO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9iKXtyZXR1cm4gcmVhZFN0YXR1cz0oX2E9WzIsM10pWzBdLG9wZW5TdGF0dXM9X2FbMV0sa2V5UmFuZ2U9SURCS2V5UmFuZ2UuYm91bmQocmVhZFN0YXR1cyxvcGVuU3RhdHVzKSxzdGF0dXNJbmRleE5hbWU9XCJzdGF0dXNcIixbMix0aGlzLnN0b3JhZ2UuY291bnRCeUluZGV4KHRoaXMuc3RvcmVOYW1lLHN0YXR1c0luZGV4TmFtZSxrZXlSYW5nZSldfSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUudXBkYXRlTWVzc2FnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciByZXNwb25zZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRJbmJveE1lc3NhZ2VzKCldO2Nhc2UgMTpyZXR1cm4gcmVzcG9uc2U9X2Euc2VudCgpLFs0LHRoaXMuZGVsZXRlRXhwaXJlZE1lc3NhZ2VzKCldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuZGVsZXRlTWVzc2FnZXMocmVzcG9uc2UuZGVsZXRlZCldO2Nhc2UgMzpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMucHV0U2VydmVyTWVzc2FnZXMocmVzcG9uc2UubWVzc2FnZXMpXTtjYXNlIDQ6cmV0dXJuIF9hLnNlbnQoKSx0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJ1cGRhdGUtaW5ib3gtbWVzc2FnZXNcIix7bWVzc2FnZXM6bmV3IEluYm94TWVzc2FnZXNQdWJsaWNfMS5kZWZhdWx0KHRoaXMuZGF0YSx0aGlzLmFwaSx0aGlzKX0pLFsyXX19KX0pfSxJbmJveE1lc3NhZ2VzfSgpO2V4cG9ydHMuZGVmYXVsdD1JbmJveE1lc3NhZ2VzfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX19hd2FpdGVyPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbih0aGlzQXJnLF9hcmd1bWVudHMsUCxnZW5lcmF0b3Ipe3JldHVybiBuZXcoUHx8KFA9UHJvbWlzZSkpKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiByZWplY3RlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLnRocm93KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiBzdGVwKHJlc3VsdCl7cmVzdWx0LmRvbmU/cmVzb2x2ZShyZXN1bHQudmFsdWUpOmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQP3ZhbHVlOm5ldyBQKGZ1bmN0aW9uKHJlc29sdmUpe3Jlc29sdmUodmFsdWUpfSl9KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQscmVqZWN0ZWQpfXN0ZXAoKGdlbmVyYXRvcj1nZW5lcmF0b3IuYXBwbHkodGhpc0FyZyxfYXJndW1lbnRzfHxbXSkpLm5leHQoKSl9KX0sX19nZW5lcmF0b3I9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24odGhpc0FyZyxib2R5KXt2YXIgZix5LHQsZyxfPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJnRbMF0pdGhyb3cgdFsxXTtyZXR1cm4gdFsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBnPXtuZXh0OnZlcmIoMCksdGhyb3c6dmVyYigxKSxyZXR1cm46dmVyYigyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYoZ1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxnO2Z1bmN0aW9uIHZlcmIobil7cmV0dXJuIGZ1bmN0aW9uKHYpe3JldHVybiBmdW5jdGlvbihvcCl7aWYoZil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO187KXRyeXtpZihmPTEseSYmKHQ9MiZvcFswXT95LnJldHVybjpvcFswXT95LnRocm93fHwoKHQ9eS5yZXR1cm4pJiZ0LmNhbGwoeSksMCk6eS5uZXh0KSYmISh0PXQuY2FsbCh5LG9wWzFdKSkuZG9uZSlyZXR1cm4gdDtzd2l0Y2goeT0wLHQmJihvcD1bMiZvcFswXSx0LnZhbHVlXSksb3BbMF0pe2Nhc2UgMDpjYXNlIDE6dD1vcDticmVhaztjYXNlIDQ6cmV0dXJuIF8ubGFiZWwrKyx7dmFsdWU6b3BbMV0sZG9uZTohMX07Y2FzZSA1Ol8ubGFiZWwrKyx5PW9wWzFdLG9wPVswXTtjb250aW51ZTtjYXNlIDc6b3A9Xy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoISh0PSh0PV8udHJ5cykubGVuZ3RoPjAmJnRbdC5sZW5ndGgtMV0pJiYoNj09PW9wWzBdfHwyPT09b3BbMF0pKXtfPTA7Y29udGludWV9aWYoMz09PW9wWzBdJiYoIXR8fG9wWzFdPnRbMF0mJm9wWzFdPHRbM10pKXtfLmxhYmVsPW9wWzFdO2JyZWFrfWlmKDY9PT1vcFswXSYmXy5sYWJlbDx0WzFdKXtfLmxhYmVsPXRbMV0sdD1vcDticmVha31pZih0JiZfLmxhYmVsPHRbMl0pe18ubGFiZWw9dFsyXSxfLm9wcy5wdXNoKG9wKTticmVha310WzJdJiZfLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWV9b3A9Ym9keS5jYWxsKHRoaXNBcmcsXyl9Y2F0Y2goZSl7b3A9WzYsZV0seT0wfWZpbmFsbHl7Zj10PTB9aWYoNSZvcFswXSl0aHJvdyBvcFsxXTtyZXR1cm57dmFsdWU6b3BbMF0/b3BbMV06dm9pZCAwLGRvbmU6ITB9fShbbix2XSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHZlcnNpb25fMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE4KSxNaWdyYXRpb25FeGVjdXRvcl8xPV9fd2VicGFja19yZXF1aXJlX18oMTkpLFN0b3JlXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg0NyksU3RvcmFnZT1mdW5jdGlvbigpe2Z1bmN0aW9uIFN0b3JhZ2UoKXt9cmV0dXJuIFN0b3JhZ2UucHJvdG90eXBlLmRiVmVyc2lvbkNoYW5nZUhhbmRsZXI9ZnVuY3Rpb24oZGIsZXZlbnQpe2NvbnNvbGUuaW5mbyhcIm9udmVyc2lvbmNoYW5nZVwiLGV2ZW50KSxkYi5jbG9zZSgpfSxTdG9yYWdlLnByb3RvdHlwZS5kYlJlcXVlc3RTdWNjZXNzSGFuZGxlcj1mdW5jdGlvbihyZXNvbHZlLGV2ZW50KXt2YXIgX3RoaXM9dGhpcyxkYXRhYmFzZT1ldmVudC50YXJnZXQucmVzdWx0O2RhdGFiYXNlLm9udmVyc2lvbmNoYW5nZT1mdW5jdGlvbihldmVudCl7X3RoaXMuZGJWZXJzaW9uQ2hhbmdlSGFuZGxlcihkYXRhYmFzZSxldmVudCl9LHJlc29sdmUoZGF0YWJhc2UpfSxTdG9yYWdlLnByb3RvdHlwZS5kYlJlcXVlc3RVcGdyYWRlTmVlZGVkSGFuZGxlcj1mdW5jdGlvbihldmVudCl7dmFyIF90aGlzPXRoaXMsZGF0YWJhc2U9ZXZlbnQudGFyZ2V0LnJlc3VsdDtkYXRhYmFzZS5vbnZlcnNpb25jaGFuZ2U9ZnVuY3Rpb24oZXZlbnQpe190aGlzLmRiVmVyc2lvbkNoYW5nZUhhbmRsZXIoZGF0YWJhc2UsZXZlbnQpfSxuZXcgTWlncmF0aW9uRXhlY3V0b3JfMS5kZWZhdWx0KGRhdGFiYXNlKS5hcHBseU1pZ3JhdGlvbnMoKX0sU3RvcmFnZS5wcm90b3R5cGUuZ2V0REI9ZnVuY3Rpb24oKXt2YXIgX3RoaXM9dGhpcztyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe3ZhciByZXF1ZXN0PWluZGV4ZWREQi5vcGVuKFwiUFVTSFdPT1NIX1NES19TVE9SRVwiLHZlcnNpb25fMS5kZWZhdWx0KTtyZXF1ZXN0Lm9uc3VjY2Vzcz1mdW5jdGlvbihldmVudCl7X3RoaXMuZGJSZXF1ZXN0U3VjY2Vzc0hhbmRsZXIocmVzb2x2ZSxldmVudCl9LHJlcXVlc3Qub251cGdyYWRlbmVlZGVkPWZ1bmN0aW9uKGV2ZW50KXtfdGhpcy5kYlJlcXVlc3RVcGdyYWRlTmVlZGVkSGFuZGxlcihldmVudCl9LHJlcXVlc3Qub25lcnJvcj1mdW5jdGlvbigpe3JldHVybiByZWplY3QocmVxdWVzdC5lcnJvcil9fSl9LFN0b3JhZ2UucHJvdG90eXBlLnB1dD1mdW5jdGlvbihzdG9yZU5hbWUsZGF0YSxrZXkpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGRiLHJlc3VsdDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXREQigpXTtjYXNlIDE6cmV0dXJuIGRiPV9hLnNlbnQoKSxbNCxuZXcgU3RvcmVfMS5kZWZhdWx0KGRiLHN0b3JlTmFtZSkucHV0KGRhdGEsa2V5KV07Y2FzZSAyOnJldHVybiByZXN1bHQ9X2Euc2VudCgpLGRiLmNsb3NlKCksWzIscmVzdWx0XX19KX0pfSxTdG9yYWdlLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oc3RvcmVOYW1lLGtleSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZGIscmVzdWx0O3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldERCKCldO2Nhc2UgMTpyZXR1cm4gZGI9X2Euc2VudCgpLFs0LG5ldyBTdG9yZV8xLmRlZmF1bHQoZGIsc3RvcmVOYW1lKS5kZWxldGUoa2V5KV07Y2FzZSAyOnJldHVybiByZXN1bHQ9X2Euc2VudCgpLGRiLmNsb3NlKCksWzIscmVzdWx0XX19KX0pfSxTdG9yYWdlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oc3RvcmVOYW1lLGtleSxkZWZhdWx0VmFsdWUpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGRiLHJlc3VsdDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXREQigpXTtjYXNlIDE6cmV0dXJuIGRiPV9hLnNlbnQoKSxbNCxuZXcgU3RvcmVfMS5kZWZhdWx0KGRiLHN0b3JlTmFtZSkuZ2V0KGtleSxkZWZhdWx0VmFsdWUpXTtjYXNlIDI6cmV0dXJuIHJlc3VsdD1fYS5zZW50KCksZGIuY2xvc2UoKSxbMixyZXN1bHRdfX0pfSl9LFN0b3JhZ2UucHJvdG90eXBlLmdldEFsbD1mdW5jdGlvbihzdG9yZU5hbWUpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGRiLHJlc3VsdDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXREQigpXTtjYXNlIDE6cmV0dXJuIGRiPV9hLnNlbnQoKSxbNCxuZXcgU3RvcmVfMS5kZWZhdWx0KGRiLHN0b3JlTmFtZSkuZ2V0QWxsKCldO2Nhc2UgMjpyZXR1cm4gcmVzdWx0PV9hLnNlbnQoKSxkYi5jbG9zZSgpLFsyLHJlc3VsdHx8W11dfX0pfSl9LFN0b3JhZ2UucHJvdG90eXBlLmNvdW50PWZ1bmN0aW9uKHN0b3JlTmFtZSxxdWVyeSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZGIscmVzdWx0O3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldERCKCldO2Nhc2UgMTpyZXR1cm4gZGI9X2Euc2VudCgpLFs0LG5ldyBTdG9yZV8xLmRlZmF1bHQoZGIsc3RvcmVOYW1lKS5jb3VudChxdWVyeSldO2Nhc2UgMjpyZXR1cm4gcmVzdWx0PV9hLnNlbnQoKSxkYi5jbG9zZSgpLFsyLHJlc3VsdF19fSl9KX0sU3RvcmFnZS5wcm90b3R5cGUuY291bnRCeUluZGV4PWZ1bmN0aW9uKHN0b3JlTmFtZSxpbmRleE5hbWUsa2V5KXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBkYixzdG9yZSxyZXN1bHQ7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0REIoKV07Y2FzZSAxOnJldHVybiBkYj1fYS5zZW50KCksKHN0b3JlPW5ldyBTdG9yZV8xLmRlZmF1bHQoZGIsc3RvcmVOYW1lKSkuaW5kZXg9aW5kZXhOYW1lLFs0LHN0b3JlLmNvdW50QnlJbmRleChrZXkpXTtjYXNlIDI6cmV0dXJuIHJlc3VsdD1fYS5zZW50KCksZGIuY2xvc2UoKSxbMixyZXN1bHRdfX0pfSl9LFN0b3JhZ2V9KCk7ZXhwb3J0cy5kZWZhdWx0PVN0b3JhZ2V9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBTdG9yZT1mdW5jdGlvbigpe2Z1bmN0aW9uIFN0b3JlKGRiLG5hbWUpe3RoaXMubmFtZT1uYW1lLHRoaXMuc3RvcmU9ZGIudHJhbnNhY3Rpb24odGhpcy5uYW1lLFwicmVhZHdyaXRlXCIpLm9iamVjdFN0b3JlKHRoaXMubmFtZSl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdG9yZS5wcm90b3R5cGUsXCJpbmRleFwiLHtzZXQ6ZnVuY3Rpb24oaW5kZXgpe3RoaXMuc3RvcmUuaW5kZXhOYW1lcy5jb250YWlucyhpbmRleCk/dGhpcy5faW5kZXg9dGhpcy5zdG9yZS5pbmRleChpbmRleCk6Y29uc29sZS53YXJuKCdJbmRleCBcIicraW5kZXgrJ1wiIGluICcpfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLFN0b3JlLnByb3RvdHlwZS53cml0ZVJlcXVlc3RQcm9taXNlPWZ1bmN0aW9uKHJlcXVlc3QscmVzdWx0KXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe3JlcXVlc3Qub25zdWNjZXNzPWZ1bmN0aW9uKCl7cmVzb2x2ZShyZXN1bHQpfSxyZXF1ZXN0Lm9uZXJyb3I9ZnVuY3Rpb24oKXtyZWplY3QocmVxdWVzdC5lcnJvcil9fSl9LFN0b3JlLnByb3RvdHlwZS5yZWFkUmVxdWVzdFByb21pc2U9ZnVuY3Rpb24ocmVxdWVzdCxkZWZhdWx0VmFsdWUpe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7cmVxdWVzdC5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZXZlbnQpe3ZhciB0YXJnZXQ9ZXZlbnQudGFyZ2V0O3Jlc29sdmUodGFyZ2V0LnJlc3VsdHx8ZGVmYXVsdFZhbHVlKX0scmVxdWVzdC5vbmVycm9yPWZ1bmN0aW9uKCl7cmVqZWN0KHJlcXVlc3QuZXJyb3IpfX0pfSxTdG9yZS5wcm90b3R5cGUucHV0PWZ1bmN0aW9uKGRhdGEsa2V5KXt2YXIgcmVxdWVzdD10aGlzLnN0b3JlLnB1dChkYXRhLGtleSk7cmV0dXJuIHRoaXMud3JpdGVSZXF1ZXN0UHJvbWlzZShyZXF1ZXN0LGtleSl9LFN0b3JlLnByb3RvdHlwZS5hZGQ9ZnVuY3Rpb24oZGF0YSxrZXkpe3JldHVybiB0aGlzLnB1dChkYXRhLGtleSl9LFN0b3JlLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oa2V5KXt2YXIgcmVxdWVzdD10aGlzLnN0b3JlLmRlbGV0ZShrZXkpO3JldHVybiB0aGlzLndyaXRlUmVxdWVzdFByb21pc2UocmVxdWVzdCl9LFN0b3JlLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oa2V5LGRlZmF1bHRWYWx1ZSl7dmFyIHJlcXVlc3Q9dGhpcy5zdG9yZS5nZXQoa2V5KTtyZXR1cm4gdGhpcy5yZWFkUmVxdWVzdFByb21pc2UocmVxdWVzdCxkZWZhdWx0VmFsdWUpfSxTdG9yZS5wcm90b3R5cGUuZ2V0QWxsPWZ1bmN0aW9uKCl7dmFyIGN1cnNvcj10aGlzLnN0b3JlLm9wZW5DdXJzb3IoKSxyZXN1bHQ9W107cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtjdXJzb3Iub25zdWNjZXNzPWZ1bmN0aW9uKGV2ZW50KXt2YXIgY3Vyc29yUmVzdWx0PWV2ZW50LnRhcmdldC5yZXN1bHQ7Y3Vyc29yUmVzdWx0PyhyZXN1bHQucHVzaChjdXJzb3JSZXN1bHQudmFsdWUpLGN1cnNvclJlc3VsdC5jb250aW51ZSgpKTpyZXNvbHZlKHJlc3VsdCl9LGN1cnNvci5vbmVycm9yPWZ1bmN0aW9uKCl7cmVqZWN0KGN1cnNvci5lcnJvcil9fSl9LFN0b3JlLnByb3RvdHlwZS5jb3VudD1mdW5jdGlvbihxdWVyeSl7dmFyIHJlcXVlc3Q9dGhpcy5zdG9yZS5jb3VudChxdWVyeSk7cmV0dXJuIHRoaXMucmVhZFJlcXVlc3RQcm9taXNlKHJlcXVlc3QsMCl9LFN0b3JlLnByb3RvdHlwZS5jb3VudEJ5SW5kZXg9ZnVuY3Rpb24oa2V5KXt2YXIgcmVxdWVzdD10aGlzLl9pbmRleC5jb3VudChrZXkpO3JldHVybiB0aGlzLnJlYWRSZXF1ZXN0UHJvbWlzZShyZXF1ZXN0LDApfSxTdG9yZX0oKTtleHBvcnRzLmRlZmF1bHQ9U3RvcmV9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX2F3YWl0ZXI9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKHRoaXNBcmcsX2FyZ3VtZW50cyxQLGdlbmVyYXRvcil7cmV0dXJuIG5ldyhQfHwoUD1Qcm9taXNlKSkoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2Z1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IudGhyb3codmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHN0ZXAocmVzdWx0KXtyZXN1bHQuZG9uZT9yZXNvbHZlKHJlc3VsdC52YWx1ZSk6ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFA/dmFsdWU6bmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSl7cmVzb2x2ZSh2YWx1ZSl9KX0ocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCxyZWplY3RlZCl9c3RlcCgoZ2VuZXJhdG9yPWdlbmVyYXRvci5hcHBseSh0aGlzQXJnLF9hcmd1bWVudHN8fFtdKSkubmV4dCgpKX0pfSxfX2dlbmVyYXRvcj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbih0aGlzQXJnLGJvZHkpe3ZhciBmLHksdCxnLF89e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmdFswXSl0aHJvdyB0WzFdO3JldHVybiB0WzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGc9e25leHQ6dmVyYigwKSx0aHJvdzp2ZXJiKDEpLHJldHVybjp2ZXJiKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihnW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGc7ZnVuY3Rpb24gdmVyYihuKXtyZXR1cm4gZnVuY3Rpb24odil7cmV0dXJuIGZ1bmN0aW9uKG9wKXtpZihmKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7XzspdHJ5e2lmKGY9MSx5JiYodD0yJm9wWzBdP3kucmV0dXJuOm9wWzBdP3kudGhyb3d8fCgodD15LnJldHVybikmJnQuY2FsbCh5KSwwKTp5Lm5leHQpJiYhKHQ9dC5jYWxsKHksb3BbMV0pKS5kb25lKXJldHVybiB0O3N3aXRjaCh5PTAsdCYmKG9wPVsyJm9wWzBdLHQudmFsdWVdKSxvcFswXSl7Y2FzZSAwOmNhc2UgMTp0PW9wO2JyZWFrO2Nhc2UgNDpyZXR1cm4gXy5sYWJlbCsrLHt2YWx1ZTpvcFsxXSxkb25lOiExfTtjYXNlIDU6Xy5sYWJlbCsrLHk9b3BbMV0sb3A9WzBdO2NvbnRpbnVlO2Nhc2UgNzpvcD1fLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKHQ9KHQ9Xy50cnlzKS5sZW5ndGg+MCYmdFt0Lmxlbmd0aC0xXSkmJig2PT09b3BbMF18fDI9PT1vcFswXSkpe189MDtjb250aW51ZX1pZigzPT09b3BbMF0mJighdHx8b3BbMV0+dFswXSYmb3BbMV08dFszXSkpe18ubGFiZWw9b3BbMV07YnJlYWt9aWYoNj09PW9wWzBdJiZfLmxhYmVsPHRbMV0pe18ubGFiZWw9dFsxXSx0PW9wO2JyZWFrfWlmKHQmJl8ubGFiZWw8dFsyXSl7Xy5sYWJlbD10WzJdLF8ub3BzLnB1c2gob3ApO2JyZWFrfXRbMl0mJl8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZX1vcD1ib2R5LmNhbGwodGhpc0FyZyxfKX1jYXRjaChlKXtvcD1bNixlXSx5PTB9ZmluYWxseXtmPXQ9MH1pZig1Jm9wWzBdKXRocm93IG9wWzFdO3JldHVybnt2YWx1ZTpvcFswXT9vcFsxXTp2b2lkIDAsZG9uZTohMH19KFtuLHZdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmdldFppcD12b2lkIDA7dmFyIEpTWmlwPV9fd2VicGFja19yZXF1aXJlX18oODUpO2V4cG9ydHMuZ2V0WmlwPWZ1bmN0aW9uKHVybCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcmVzcG9uc2UscmVzdWx0O3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxmZXRjaCh1cmwse21ldGhvZDpcIkdFVFwifSldO2Nhc2UgMTpyZXR1cm4gMjAwIT09KHJlc3BvbnNlPV9hLnNlbnQoKSkuc3RhdHVzJiZuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCksWzQscmVzcG9uc2UuYmxvYigpXTtjYXNlIDI6cmV0dXJuIHJlc3VsdD1fYS5zZW50KCksWzIsSlNaaXAubG9hZEFzeW5jKHJlc3VsdCldfX0pfSl9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIHRvU3RyaW5nPXt9LnRvU3RyaW5nO21vZHVsZS5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGFycil7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT10b1N0cmluZy5jYWxsKGFycil9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXttb2R1bGUuZXhwb3J0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDg5KX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGdsb2JhbCxwcm9jZXNzKXt2YXIgcG5hPV9fd2VicGFja19yZXF1aXJlX18oMjcpO21vZHVsZS5leHBvcnRzPVJlYWRhYmxlO3ZhciBEdXBsZXgsaXNBcnJheT1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KTtSZWFkYWJsZS5SZWFkYWJsZVN0YXRlPVJlYWRhYmxlU3RhdGU7X193ZWJwYWNrX3JlcXVpcmVfXygzOSkuRXZlbnRFbWl0dGVyO3ZhciBFRWxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oZW1pdHRlcix0eXBlKXtyZXR1cm4gZW1pdHRlci5saXN0ZW5lcnModHlwZSkubGVuZ3RofSxTdHJlYW09X193ZWJwYWNrX3JlcXVpcmVfXyg1MiksQnVmZmVyPV9fd2VicGFja19yZXF1aXJlX18oMjgpLkJ1ZmZlcixPdXJVaW50OEFycmF5PWdsb2JhbC5VaW50OEFycmF5fHxmdW5jdGlvbigpe307dmFyIHV0aWw9T2JqZWN0LmNyZWF0ZShfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKSk7dXRpbC5pbmhlcml0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDE1KTt2YXIgZGVidWdVdGlsPV9fd2VicGFja19yZXF1aXJlX18oOTApLGRlYnVnPXZvaWQgMDtkZWJ1Zz1kZWJ1Z1V0aWwmJmRlYnVnVXRpbC5kZWJ1Z2xvZz9kZWJ1Z1V0aWwuZGVidWdsb2coXCJzdHJlYW1cIik6ZnVuY3Rpb24oKXt9O3ZhciBTdHJpbmdEZWNvZGVyLEJ1ZmZlckxpc3Q9X193ZWJwYWNrX3JlcXVpcmVfXyg5MSksZGVzdHJveUltcGw9X193ZWJwYWNrX3JlcXVpcmVfXyg1Myk7dXRpbC5pbmhlcml0cyhSZWFkYWJsZSxTdHJlYW0pO3ZhciBrUHJveHlFdmVudHM9W1wiZXJyb3JcIixcImNsb3NlXCIsXCJkZXN0cm95XCIsXCJwYXVzZVwiLFwicmVzdW1lXCJdO2Z1bmN0aW9uIFJlYWRhYmxlU3RhdGUob3B0aW9ucyxzdHJlYW0pe0R1cGxleD1EdXBsZXh8fF9fd2VicGFja19yZXF1aXJlX18oMTIpLG9wdGlvbnM9b3B0aW9uc3x8e307dmFyIGlzRHVwbGV4PXN0cmVhbSBpbnN0YW5jZW9mIER1cGxleDt0aGlzLm9iamVjdE1vZGU9ISFvcHRpb25zLm9iamVjdE1vZGUsaXNEdXBsZXgmJih0aGlzLm9iamVjdE1vZGU9dGhpcy5vYmplY3RNb2RlfHwhIW9wdGlvbnMucmVhZGFibGVPYmplY3RNb2RlKTt2YXIgaHdtPW9wdGlvbnMuaGlnaFdhdGVyTWFyayxyZWFkYWJsZUh3bT1vcHRpb25zLnJlYWRhYmxlSGlnaFdhdGVyTWFyayxkZWZhdWx0SHdtPXRoaXMub2JqZWN0TW9kZT8xNjoxNjM4NDt0aGlzLmhpZ2hXYXRlck1hcms9aHdtfHwwPT09aHdtP2h3bTppc0R1cGxleCYmKHJlYWRhYmxlSHdtfHwwPT09cmVhZGFibGVId20pP3JlYWRhYmxlSHdtOmRlZmF1bHRId20sdGhpcy5oaWdoV2F0ZXJNYXJrPU1hdGguZmxvb3IodGhpcy5oaWdoV2F0ZXJNYXJrKSx0aGlzLmJ1ZmZlcj1uZXcgQnVmZmVyTGlzdCx0aGlzLmxlbmd0aD0wLHRoaXMucGlwZXM9bnVsbCx0aGlzLnBpcGVzQ291bnQ9MCx0aGlzLmZsb3dpbmc9bnVsbCx0aGlzLmVuZGVkPSExLHRoaXMuZW5kRW1pdHRlZD0hMSx0aGlzLnJlYWRpbmc9ITEsdGhpcy5zeW5jPSEwLHRoaXMubmVlZFJlYWRhYmxlPSExLHRoaXMuZW1pdHRlZFJlYWRhYmxlPSExLHRoaXMucmVhZGFibGVMaXN0ZW5pbmc9ITEsdGhpcy5yZXN1bWVTY2hlZHVsZWQ9ITEsdGhpcy5kZXN0cm95ZWQ9ITEsdGhpcy5kZWZhdWx0RW5jb2Rpbmc9b3B0aW9ucy5kZWZhdWx0RW5jb2Rpbmd8fFwidXRmOFwiLHRoaXMuYXdhaXREcmFpbj0wLHRoaXMucmVhZGluZ01vcmU9ITEsdGhpcy5kZWNvZGVyPW51bGwsdGhpcy5lbmNvZGluZz1udWxsLG9wdGlvbnMuZW5jb2RpbmcmJihTdHJpbmdEZWNvZGVyfHwoU3RyaW5nRGVjb2Rlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDU1KS5TdHJpbmdEZWNvZGVyKSx0aGlzLmRlY29kZXI9bmV3IFN0cmluZ0RlY29kZXIob3B0aW9ucy5lbmNvZGluZyksdGhpcy5lbmNvZGluZz1vcHRpb25zLmVuY29kaW5nKX1mdW5jdGlvbiBSZWFkYWJsZShvcHRpb25zKXtpZihEdXBsZXg9RHVwbGV4fHxfX3dlYnBhY2tfcmVxdWlyZV9fKDEyKSwhKHRoaXMgaW5zdGFuY2VvZiBSZWFkYWJsZSkpcmV0dXJuIG5ldyBSZWFkYWJsZShvcHRpb25zKTt0aGlzLl9yZWFkYWJsZVN0YXRlPW5ldyBSZWFkYWJsZVN0YXRlKG9wdGlvbnMsdGhpcyksdGhpcy5yZWFkYWJsZT0hMCxvcHRpb25zJiYoXCJmdW5jdGlvblwiPT10eXBlb2Ygb3B0aW9ucy5yZWFkJiYodGhpcy5fcmVhZD1vcHRpb25zLnJlYWQpLFwiZnVuY3Rpb25cIj09dHlwZW9mIG9wdGlvbnMuZGVzdHJveSYmKHRoaXMuX2Rlc3Ryb3k9b3B0aW9ucy5kZXN0cm95KSksU3RyZWFtLmNhbGwodGhpcyl9ZnVuY3Rpb24gcmVhZGFibGVBZGRDaHVuayhzdHJlYW0sY2h1bmssZW5jb2RpbmcsYWRkVG9Gcm9udCxza2lwQ2h1bmtDaGVjayl7dmFyIGVyLHN0YXRlPXN0cmVhbS5fcmVhZGFibGVTdGF0ZTtudWxsPT09Y2h1bms/KHN0YXRlLnJlYWRpbmc9ITEsZnVuY3Rpb24oc3RyZWFtLHN0YXRlKXtpZihzdGF0ZS5lbmRlZClyZXR1cm47aWYoc3RhdGUuZGVjb2Rlcil7dmFyIGNodW5rPXN0YXRlLmRlY29kZXIuZW5kKCk7Y2h1bmsmJmNodW5rLmxlbmd0aCYmKHN0YXRlLmJ1ZmZlci5wdXNoKGNodW5rKSxzdGF0ZS5sZW5ndGgrPXN0YXRlLm9iamVjdE1vZGU/MTpjaHVuay5sZW5ndGgpfXN0YXRlLmVuZGVkPSEwLGVtaXRSZWFkYWJsZShzdHJlYW0pfShzdHJlYW0sc3RhdGUpKTooc2tpcENodW5rQ2hlY2t8fChlcj1mdW5jdGlvbihzdGF0ZSxjaHVuayl7dmFyIGVyOyhmdW5jdGlvbihvYmope3JldHVybiBCdWZmZXIuaXNCdWZmZXIob2JqKXx8b2JqIGluc3RhbmNlb2YgT3VyVWludDhBcnJheX0pKGNodW5rKXx8XCJzdHJpbmdcIj09dHlwZW9mIGNodW5rfHx2b2lkIDA9PT1jaHVua3x8c3RhdGUub2JqZWN0TW9kZXx8KGVyPW5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIG5vbi1zdHJpbmcvYnVmZmVyIGNodW5rXCIpKTtyZXR1cm4gZXJ9KHN0YXRlLGNodW5rKSksZXI/c3RyZWFtLmVtaXQoXCJlcnJvclwiLGVyKTpzdGF0ZS5vYmplY3RNb2RlfHxjaHVuayYmY2h1bmsubGVuZ3RoPjA/KFwic3RyaW5nXCI9PXR5cGVvZiBjaHVua3x8c3RhdGUub2JqZWN0TW9kZXx8T2JqZWN0LmdldFByb3RvdHlwZU9mKGNodW5rKT09PUJ1ZmZlci5wcm90b3R5cGV8fChjaHVuaz1mdW5jdGlvbihjaHVuayl7cmV0dXJuIEJ1ZmZlci5mcm9tKGNodW5rKX0oY2h1bmspKSxhZGRUb0Zyb250P3N0YXRlLmVuZEVtaXR0ZWQ/c3RyZWFtLmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihcInN0cmVhbS51bnNoaWZ0KCkgYWZ0ZXIgZW5kIGV2ZW50XCIpKTphZGRDaHVuayhzdHJlYW0sc3RhdGUsY2h1bmssITApOnN0YXRlLmVuZGVkP3N0cmVhbS5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJzdHJlYW0ucHVzaCgpIGFmdGVyIEVPRlwiKSk6KHN0YXRlLnJlYWRpbmc9ITEsc3RhdGUuZGVjb2RlciYmIWVuY29kaW5nPyhjaHVuaz1zdGF0ZS5kZWNvZGVyLndyaXRlKGNodW5rKSxzdGF0ZS5vYmplY3RNb2RlfHwwIT09Y2h1bmsubGVuZ3RoP2FkZENodW5rKHN0cmVhbSxzdGF0ZSxjaHVuaywhMSk6bWF5YmVSZWFkTW9yZShzdHJlYW0sc3RhdGUpKTphZGRDaHVuayhzdHJlYW0sc3RhdGUsY2h1bmssITEpKSk6YWRkVG9Gcm9udHx8KHN0YXRlLnJlYWRpbmc9ITEpKTtyZXR1cm4gZnVuY3Rpb24oc3RhdGUpe3JldHVybiFzdGF0ZS5lbmRlZCYmKHN0YXRlLm5lZWRSZWFkYWJsZXx8c3RhdGUubGVuZ3RoPHN0YXRlLmhpZ2hXYXRlck1hcmt8fDA9PT1zdGF0ZS5sZW5ndGgpfShzdGF0ZSl9ZnVuY3Rpb24gYWRkQ2h1bmsoc3RyZWFtLHN0YXRlLGNodW5rLGFkZFRvRnJvbnQpe3N0YXRlLmZsb3dpbmcmJjA9PT1zdGF0ZS5sZW5ndGgmJiFzdGF0ZS5zeW5jPyhzdHJlYW0uZW1pdChcImRhdGFcIixjaHVuayksc3RyZWFtLnJlYWQoMCkpOihzdGF0ZS5sZW5ndGgrPXN0YXRlLm9iamVjdE1vZGU/MTpjaHVuay5sZW5ndGgsYWRkVG9Gcm9udD9zdGF0ZS5idWZmZXIudW5zaGlmdChjaHVuayk6c3RhdGUuYnVmZmVyLnB1c2goY2h1bmspLHN0YXRlLm5lZWRSZWFkYWJsZSYmZW1pdFJlYWRhYmxlKHN0cmVhbSkpLG1heWJlUmVhZE1vcmUoc3RyZWFtLHN0YXRlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoUmVhZGFibGUucHJvdG90eXBlLFwiZGVzdHJveWVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT10aGlzLl9yZWFkYWJsZVN0YXRlJiZ0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZH0sc2V0OmZ1bmN0aW9uKHZhbHVlKXt0aGlzLl9yZWFkYWJsZVN0YXRlJiYodGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQ9dmFsdWUpfX0pLFJlYWRhYmxlLnByb3RvdHlwZS5kZXN0cm95PWRlc3Ryb3lJbXBsLmRlc3Ryb3ksUmVhZGFibGUucHJvdG90eXBlLl91bmRlc3Ryb3k9ZGVzdHJveUltcGwudW5kZXN0cm95LFJlYWRhYmxlLnByb3RvdHlwZS5fZGVzdHJveT1mdW5jdGlvbihlcnIsY2Ipe3RoaXMucHVzaChudWxsKSxjYihlcnIpfSxSZWFkYWJsZS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihjaHVuayxlbmNvZGluZyl7dmFyIHNraXBDaHVua0NoZWNrLHN0YXRlPXRoaXMuX3JlYWRhYmxlU3RhdGU7cmV0dXJuIHN0YXRlLm9iamVjdE1vZGU/c2tpcENodW5rQ2hlY2s9ITA6XCJzdHJpbmdcIj09dHlwZW9mIGNodW5rJiYoKGVuY29kaW5nPWVuY29kaW5nfHxzdGF0ZS5kZWZhdWx0RW5jb2RpbmcpIT09c3RhdGUuZW5jb2RpbmcmJihjaHVuaz1CdWZmZXIuZnJvbShjaHVuayxlbmNvZGluZyksZW5jb2Rpbmc9XCJcIiksc2tpcENodW5rQ2hlY2s9ITApLHJlYWRhYmxlQWRkQ2h1bmsodGhpcyxjaHVuayxlbmNvZGluZywhMSxza2lwQ2h1bmtDaGVjayl9LFJlYWRhYmxlLnByb3RvdHlwZS51bnNoaWZ0PWZ1bmN0aW9uKGNodW5rKXtyZXR1cm4gcmVhZGFibGVBZGRDaHVuayh0aGlzLGNodW5rLG51bGwsITAsITEpfSxSZWFkYWJsZS5wcm90b3R5cGUuaXNQYXVzZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMT09PXRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZ30sUmVhZGFibGUucHJvdG90eXBlLnNldEVuY29kaW5nPWZ1bmN0aW9uKGVuYyl7cmV0dXJuIFN0cmluZ0RlY29kZXJ8fChTdHJpbmdEZWNvZGVyPV9fd2VicGFja19yZXF1aXJlX18oNTUpLlN0cmluZ0RlY29kZXIpLHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVjb2Rlcj1uZXcgU3RyaW5nRGVjb2RlcihlbmMpLHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5jb2Rpbmc9ZW5jLHRoaXN9O3ZhciBNQVhfSFdNPTgzODg2MDg7ZnVuY3Rpb24gaG93TXVjaFRvUmVhZChuLHN0YXRlKXtyZXR1cm4gbjw9MHx8MD09PXN0YXRlLmxlbmd0aCYmc3RhdGUuZW5kZWQ/MDpzdGF0ZS5vYmplY3RNb2RlPzE6biE9bj9zdGF0ZS5mbG93aW5nJiZzdGF0ZS5sZW5ndGg/c3RhdGUuYnVmZmVyLmhlYWQuZGF0YS5sZW5ndGg6c3RhdGUubGVuZ3RoOihuPnN0YXRlLmhpZ2hXYXRlck1hcmsmJihzdGF0ZS5oaWdoV2F0ZXJNYXJrPWZ1bmN0aW9uKG4pe3JldHVybiBuPj1NQVhfSFdNP249TUFYX0hXTToobi0tLG58PW4+Pj4xLG58PW4+Pj4yLG58PW4+Pj40LG58PW4+Pj44LG58PW4+Pj4xNixuKyspLG59KG4pKSxuPD1zdGF0ZS5sZW5ndGg/bjpzdGF0ZS5lbmRlZD9zdGF0ZS5sZW5ndGg6KHN0YXRlLm5lZWRSZWFkYWJsZT0hMCwwKSl9ZnVuY3Rpb24gZW1pdFJlYWRhYmxlKHN0cmVhbSl7dmFyIHN0YXRlPXN0cmVhbS5fcmVhZGFibGVTdGF0ZTtzdGF0ZS5uZWVkUmVhZGFibGU9ITEsc3RhdGUuZW1pdHRlZFJlYWRhYmxlfHwoZGVidWcoXCJlbWl0UmVhZGFibGVcIixzdGF0ZS5mbG93aW5nKSxzdGF0ZS5lbWl0dGVkUmVhZGFibGU9ITAsc3RhdGUuc3luYz9wbmEubmV4dFRpY2soZW1pdFJlYWRhYmxlXyxzdHJlYW0pOmVtaXRSZWFkYWJsZV8oc3RyZWFtKSl9ZnVuY3Rpb24gZW1pdFJlYWRhYmxlXyhzdHJlYW0pe2RlYnVnKFwiZW1pdCByZWFkYWJsZVwiKSxzdHJlYW0uZW1pdChcInJlYWRhYmxlXCIpLGZsb3coc3RyZWFtKX1mdW5jdGlvbiBtYXliZVJlYWRNb3JlKHN0cmVhbSxzdGF0ZSl7c3RhdGUucmVhZGluZ01vcmV8fChzdGF0ZS5yZWFkaW5nTW9yZT0hMCxwbmEubmV4dFRpY2sobWF5YmVSZWFkTW9yZV8sc3RyZWFtLHN0YXRlKSl9ZnVuY3Rpb24gbWF5YmVSZWFkTW9yZV8oc3RyZWFtLHN0YXRlKXtmb3IodmFyIGxlbj1zdGF0ZS5sZW5ndGg7IXN0YXRlLnJlYWRpbmcmJiFzdGF0ZS5mbG93aW5nJiYhc3RhdGUuZW5kZWQmJnN0YXRlLmxlbmd0aDxzdGF0ZS5oaWdoV2F0ZXJNYXJrJiYoZGVidWcoXCJtYXliZVJlYWRNb3JlIHJlYWQgMFwiKSxzdHJlYW0ucmVhZCgwKSxsZW4hPT1zdGF0ZS5sZW5ndGgpOylsZW49c3RhdGUubGVuZ3RoO3N0YXRlLnJlYWRpbmdNb3JlPSExfWZ1bmN0aW9uIG5SZWFkaW5nTmV4dFRpY2soc2VsZil7ZGVidWcoXCJyZWFkYWJsZSBuZXh0dGljayByZWFkIDBcIiksc2VsZi5yZWFkKDApfWZ1bmN0aW9uIHJlc3VtZV8oc3RyZWFtLHN0YXRlKXtzdGF0ZS5yZWFkaW5nfHwoZGVidWcoXCJyZXN1bWUgcmVhZCAwXCIpLHN0cmVhbS5yZWFkKDApKSxzdGF0ZS5yZXN1bWVTY2hlZHVsZWQ9ITEsc3RhdGUuYXdhaXREcmFpbj0wLHN0cmVhbS5lbWl0KFwicmVzdW1lXCIpLGZsb3coc3RyZWFtKSxzdGF0ZS5mbG93aW5nJiYhc3RhdGUucmVhZGluZyYmc3RyZWFtLnJlYWQoMCl9ZnVuY3Rpb24gZmxvdyhzdHJlYW0pe3ZhciBzdGF0ZT1zdHJlYW0uX3JlYWRhYmxlU3RhdGU7Zm9yKGRlYnVnKFwiZmxvd1wiLHN0YXRlLmZsb3dpbmcpO3N0YXRlLmZsb3dpbmcmJm51bGwhPT1zdHJlYW0ucmVhZCgpOyk7fWZ1bmN0aW9uIGZyb21MaXN0KG4sc3RhdGUpe3JldHVybiAwPT09c3RhdGUubGVuZ3RoP251bGw6KHN0YXRlLm9iamVjdE1vZGU/cmV0PXN0YXRlLmJ1ZmZlci5zaGlmdCgpOiFufHxuPj1zdGF0ZS5sZW5ndGg/KHJldD1zdGF0ZS5kZWNvZGVyP3N0YXRlLmJ1ZmZlci5qb2luKFwiXCIpOjE9PT1zdGF0ZS5idWZmZXIubGVuZ3RoP3N0YXRlLmJ1ZmZlci5oZWFkLmRhdGE6c3RhdGUuYnVmZmVyLmNvbmNhdChzdGF0ZS5sZW5ndGgpLHN0YXRlLmJ1ZmZlci5jbGVhcigpKTpyZXQ9ZnVuY3Rpb24obixsaXN0LGhhc1N0cmluZ3Mpe3ZhciByZXQ7bjxsaXN0LmhlYWQuZGF0YS5sZW5ndGg/KHJldD1saXN0LmhlYWQuZGF0YS5zbGljZSgwLG4pLGxpc3QuaGVhZC5kYXRhPWxpc3QuaGVhZC5kYXRhLnNsaWNlKG4pKTpyZXQ9bj09PWxpc3QuaGVhZC5kYXRhLmxlbmd0aD9saXN0LnNoaWZ0KCk6aGFzU3RyaW5ncz9mdW5jdGlvbihuLGxpc3Qpe3ZhciBwPWxpc3QuaGVhZCxjPTEscmV0PXAuZGF0YTtuLT1yZXQubGVuZ3RoO2Zvcig7cD1wLm5leHQ7KXt2YXIgc3RyPXAuZGF0YSxuYj1uPnN0ci5sZW5ndGg/c3RyLmxlbmd0aDpuO2lmKG5iPT09c3RyLmxlbmd0aD9yZXQrPXN0cjpyZXQrPXN0ci5zbGljZSgwLG4pLDA9PT0obi09bmIpKXtuYj09PXN0ci5sZW5ndGg/KCsrYyxwLm5leHQ/bGlzdC5oZWFkPXAubmV4dDpsaXN0LmhlYWQ9bGlzdC50YWlsPW51bGwpOihsaXN0LmhlYWQ9cCxwLmRhdGE9c3RyLnNsaWNlKG5iKSk7YnJlYWt9KytjfXJldHVybiBsaXN0Lmxlbmd0aC09YyxyZXR9KG4sbGlzdCk6ZnVuY3Rpb24obixsaXN0KXt2YXIgcmV0PUJ1ZmZlci5hbGxvY1Vuc2FmZShuKSxwPWxpc3QuaGVhZCxjPTE7cC5kYXRhLmNvcHkocmV0KSxuLT1wLmRhdGEubGVuZ3RoO2Zvcig7cD1wLm5leHQ7KXt2YXIgYnVmPXAuZGF0YSxuYj1uPmJ1Zi5sZW5ndGg/YnVmLmxlbmd0aDpuO2lmKGJ1Zi5jb3B5KHJldCxyZXQubGVuZ3RoLW4sMCxuYiksMD09PShuLT1uYikpe25iPT09YnVmLmxlbmd0aD8oKytjLHAubmV4dD9saXN0LmhlYWQ9cC5uZXh0Omxpc3QuaGVhZD1saXN0LnRhaWw9bnVsbCk6KGxpc3QuaGVhZD1wLHAuZGF0YT1idWYuc2xpY2UobmIpKTticmVha30rK2N9cmV0dXJuIGxpc3QubGVuZ3RoLT1jLHJldH0obixsaXN0KTtyZXR1cm4gcmV0fShuLHN0YXRlLmJ1ZmZlcixzdGF0ZS5kZWNvZGVyKSxyZXQpO3ZhciByZXR9ZnVuY3Rpb24gZW5kUmVhZGFibGUoc3RyZWFtKXt2YXIgc3RhdGU9c3RyZWFtLl9yZWFkYWJsZVN0YXRlO2lmKHN0YXRlLmxlbmd0aD4wKXRocm93IG5ldyBFcnJvcignXCJlbmRSZWFkYWJsZSgpXCIgY2FsbGVkIG9uIG5vbi1lbXB0eSBzdHJlYW0nKTtzdGF0ZS5lbmRFbWl0dGVkfHwoc3RhdGUuZW5kZWQ9ITAscG5hLm5leHRUaWNrKGVuZFJlYWRhYmxlTlQsc3RhdGUsc3RyZWFtKSl9ZnVuY3Rpb24gZW5kUmVhZGFibGVOVChzdGF0ZSxzdHJlYW0pe3N0YXRlLmVuZEVtaXR0ZWR8fDAhPT1zdGF0ZS5sZW5ndGh8fChzdGF0ZS5lbmRFbWl0dGVkPSEwLHN0cmVhbS5yZWFkYWJsZT0hMSxzdHJlYW0uZW1pdChcImVuZFwiKSl9ZnVuY3Rpb24gaW5kZXhPZih4cyx4KXtmb3IodmFyIGk9MCxsPXhzLmxlbmd0aDtpPGw7aSsrKWlmKHhzW2ldPT09eClyZXR1cm4gaTtyZXR1cm4tMX1SZWFkYWJsZS5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihuKXtkZWJ1ZyhcInJlYWRcIixuKSxuPXBhcnNlSW50KG4sMTApO3ZhciBzdGF0ZT10aGlzLl9yZWFkYWJsZVN0YXRlLG5PcmlnPW47aWYoMCE9PW4mJihzdGF0ZS5lbWl0dGVkUmVhZGFibGU9ITEpLDA9PT1uJiZzdGF0ZS5uZWVkUmVhZGFibGUmJihzdGF0ZS5sZW5ndGg+PXN0YXRlLmhpZ2hXYXRlck1hcmt8fHN0YXRlLmVuZGVkKSlyZXR1cm4gZGVidWcoXCJyZWFkOiBlbWl0UmVhZGFibGVcIixzdGF0ZS5sZW5ndGgsc3RhdGUuZW5kZWQpLDA9PT1zdGF0ZS5sZW5ndGgmJnN0YXRlLmVuZGVkP2VuZFJlYWRhYmxlKHRoaXMpOmVtaXRSZWFkYWJsZSh0aGlzKSxudWxsO2lmKDA9PT0obj1ob3dNdWNoVG9SZWFkKG4sc3RhdGUpKSYmc3RhdGUuZW5kZWQpcmV0dXJuIDA9PT1zdGF0ZS5sZW5ndGgmJmVuZFJlYWRhYmxlKHRoaXMpLG51bGw7dmFyIHJldCxkb1JlYWQ9c3RhdGUubmVlZFJlYWRhYmxlO3JldHVybiBkZWJ1ZyhcIm5lZWQgcmVhZGFibGVcIixkb1JlYWQpLCgwPT09c3RhdGUubGVuZ3RofHxzdGF0ZS5sZW5ndGgtbjxzdGF0ZS5oaWdoV2F0ZXJNYXJrKSYmZGVidWcoXCJsZW5ndGggbGVzcyB0aGFuIHdhdGVybWFya1wiLGRvUmVhZD0hMCksc3RhdGUuZW5kZWR8fHN0YXRlLnJlYWRpbmc/ZGVidWcoXCJyZWFkaW5nIG9yIGVuZGVkXCIsZG9SZWFkPSExKTpkb1JlYWQmJihkZWJ1ZyhcImRvIHJlYWRcIiksc3RhdGUucmVhZGluZz0hMCxzdGF0ZS5zeW5jPSEwLDA9PT1zdGF0ZS5sZW5ndGgmJihzdGF0ZS5uZWVkUmVhZGFibGU9ITApLHRoaXMuX3JlYWQoc3RhdGUuaGlnaFdhdGVyTWFyayksc3RhdGUuc3luYz0hMSxzdGF0ZS5yZWFkaW5nfHwobj1ob3dNdWNoVG9SZWFkKG5PcmlnLHN0YXRlKSkpLG51bGw9PT0ocmV0PW4+MD9mcm9tTGlzdChuLHN0YXRlKTpudWxsKT8oc3RhdGUubmVlZFJlYWRhYmxlPSEwLG49MCk6c3RhdGUubGVuZ3RoLT1uLDA9PT1zdGF0ZS5sZW5ndGgmJihzdGF0ZS5lbmRlZHx8KHN0YXRlLm5lZWRSZWFkYWJsZT0hMCksbk9yaWchPT1uJiZzdGF0ZS5lbmRlZCYmZW5kUmVhZGFibGUodGhpcykpLG51bGwhPT1yZXQmJnRoaXMuZW1pdChcImRhdGFcIixyZXQpLHJldH0sUmVhZGFibGUucHJvdG90eXBlLl9yZWFkPWZ1bmN0aW9uKG4pe3RoaXMuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiX3JlYWQoKSBpcyBub3QgaW1wbGVtZW50ZWRcIikpfSxSZWFkYWJsZS5wcm90b3R5cGUucGlwZT1mdW5jdGlvbihkZXN0LHBpcGVPcHRzKXt2YXIgc3JjPXRoaXMsc3RhdGU9dGhpcy5fcmVhZGFibGVTdGF0ZTtzd2l0Y2goc3RhdGUucGlwZXNDb3VudCl7Y2FzZSAwOnN0YXRlLnBpcGVzPWRlc3Q7YnJlYWs7Y2FzZSAxOnN0YXRlLnBpcGVzPVtzdGF0ZS5waXBlcyxkZXN0XTticmVhaztkZWZhdWx0OnN0YXRlLnBpcGVzLnB1c2goZGVzdCl9c3RhdGUucGlwZXNDb3VudCs9MSxkZWJ1ZyhcInBpcGUgY291bnQ9JWQgb3B0cz0lalwiLHN0YXRlLnBpcGVzQ291bnQscGlwZU9wdHMpO3ZhciBlbmRGbj0oIXBpcGVPcHRzfHwhMSE9PXBpcGVPcHRzLmVuZCkmJmRlc3QhPT1wcm9jZXNzLnN0ZG91dCYmZGVzdCE9PXByb2Nlc3Muc3RkZXJyP29uZW5kOnVucGlwZTtmdW5jdGlvbiBvbnVucGlwZShyZWFkYWJsZSx1bnBpcGVJbmZvKXtkZWJ1ZyhcIm9udW5waXBlXCIpLHJlYWRhYmxlPT09c3JjJiZ1bnBpcGVJbmZvJiYhMT09PXVucGlwZUluZm8uaGFzVW5waXBlZCYmKHVucGlwZUluZm8uaGFzVW5waXBlZD0hMCxkZWJ1ZyhcImNsZWFudXBcIiksZGVzdC5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsb25jbG9zZSksZGVzdC5yZW1vdmVMaXN0ZW5lcihcImZpbmlzaFwiLG9uZmluaXNoKSxkZXN0LnJlbW92ZUxpc3RlbmVyKFwiZHJhaW5cIixvbmRyYWluKSxkZXN0LnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixvbmVycm9yKSxkZXN0LnJlbW92ZUxpc3RlbmVyKFwidW5waXBlXCIsb251bnBpcGUpLHNyYy5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLG9uZW5kKSxzcmMucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIix1bnBpcGUpLHNyYy5yZW1vdmVMaXN0ZW5lcihcImRhdGFcIixvbmRhdGEpLGNsZWFuZWRVcD0hMCwhc3RhdGUuYXdhaXREcmFpbnx8ZGVzdC5fd3JpdGFibGVTdGF0ZSYmIWRlc3QuX3dyaXRhYmxlU3RhdGUubmVlZERyYWlufHxvbmRyYWluKCkpfWZ1bmN0aW9uIG9uZW5kKCl7ZGVidWcoXCJvbmVuZFwiKSxkZXN0LmVuZCgpfXN0YXRlLmVuZEVtaXR0ZWQ/cG5hLm5leHRUaWNrKGVuZEZuKTpzcmMub25jZShcImVuZFwiLGVuZEZuKSxkZXN0Lm9uKFwidW5waXBlXCIsb251bnBpcGUpO3ZhciBvbmRyYWluPWZ1bmN0aW9uKHNyYyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHN0YXRlPXNyYy5fcmVhZGFibGVTdGF0ZTtkZWJ1ZyhcInBpcGVPbkRyYWluXCIsc3RhdGUuYXdhaXREcmFpbiksc3RhdGUuYXdhaXREcmFpbiYmc3RhdGUuYXdhaXREcmFpbi0tLDA9PT1zdGF0ZS5hd2FpdERyYWluJiZFRWxpc3RlbmVyQ291bnQoc3JjLFwiZGF0YVwiKSYmKHN0YXRlLmZsb3dpbmc9ITAsZmxvdyhzcmMpKX19KHNyYyk7ZGVzdC5vbihcImRyYWluXCIsb25kcmFpbik7dmFyIGNsZWFuZWRVcD0hMTt2YXIgaW5jcmVhc2VkQXdhaXREcmFpbj0hMTtmdW5jdGlvbiBvbmRhdGEoY2h1bmspe2RlYnVnKFwib25kYXRhXCIpLGluY3JlYXNlZEF3YWl0RHJhaW49ITEsITEhPT1kZXN0LndyaXRlKGNodW5rKXx8aW5jcmVhc2VkQXdhaXREcmFpbnx8KCgxPT09c3RhdGUucGlwZXNDb3VudCYmc3RhdGUucGlwZXM9PT1kZXN0fHxzdGF0ZS5waXBlc0NvdW50PjEmJi0xIT09aW5kZXhPZihzdGF0ZS5waXBlcyxkZXN0KSkmJiFjbGVhbmVkVXAmJihkZWJ1ZyhcImZhbHNlIHdyaXRlIHJlc3BvbnNlLCBwYXVzZVwiLHNyYy5fcmVhZGFibGVTdGF0ZS5hd2FpdERyYWluKSxzcmMuX3JlYWRhYmxlU3RhdGUuYXdhaXREcmFpbisrLGluY3JlYXNlZEF3YWl0RHJhaW49ITApLHNyYy5wYXVzZSgpKX1mdW5jdGlvbiBvbmVycm9yKGVyKXtkZWJ1ZyhcIm9uZXJyb3JcIixlciksdW5waXBlKCksZGVzdC5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsb25lcnJvciksMD09PUVFbGlzdGVuZXJDb3VudChkZXN0LFwiZXJyb3JcIikmJmRlc3QuZW1pdChcImVycm9yXCIsZXIpfWZ1bmN0aW9uIG9uY2xvc2UoKXtkZXN0LnJlbW92ZUxpc3RlbmVyKFwiZmluaXNoXCIsb25maW5pc2gpLHVucGlwZSgpfWZ1bmN0aW9uIG9uZmluaXNoKCl7ZGVidWcoXCJvbmZpbmlzaFwiKSxkZXN0LnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixvbmNsb3NlKSx1bnBpcGUoKX1mdW5jdGlvbiB1bnBpcGUoKXtkZWJ1ZyhcInVucGlwZVwiKSxzcmMudW5waXBlKGRlc3QpfXJldHVybiBzcmMub24oXCJkYXRhXCIsb25kYXRhKSxmdW5jdGlvbihlbWl0dGVyLGV2ZW50LGZuKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlbWl0dGVyLnByZXBlbmRMaXN0ZW5lcilyZXR1cm4gZW1pdHRlci5wcmVwZW5kTGlzdGVuZXIoZXZlbnQsZm4pO2VtaXR0ZXIuX2V2ZW50cyYmZW1pdHRlci5fZXZlbnRzW2V2ZW50XT9pc0FycmF5KGVtaXR0ZXIuX2V2ZW50c1tldmVudF0pP2VtaXR0ZXIuX2V2ZW50c1tldmVudF0udW5zaGlmdChmbik6ZW1pdHRlci5fZXZlbnRzW2V2ZW50XT1bZm4sZW1pdHRlci5fZXZlbnRzW2V2ZW50XV06ZW1pdHRlci5vbihldmVudCxmbil9KGRlc3QsXCJlcnJvclwiLG9uZXJyb3IpLGRlc3Qub25jZShcImNsb3NlXCIsb25jbG9zZSksZGVzdC5vbmNlKFwiZmluaXNoXCIsb25maW5pc2gpLGRlc3QuZW1pdChcInBpcGVcIixzcmMpLHN0YXRlLmZsb3dpbmd8fChkZWJ1ZyhcInBpcGUgcmVzdW1lXCIpLHNyYy5yZXN1bWUoKSksZGVzdH0sUmVhZGFibGUucHJvdG90eXBlLnVucGlwZT1mdW5jdGlvbihkZXN0KXt2YXIgc3RhdGU9dGhpcy5fcmVhZGFibGVTdGF0ZSx1bnBpcGVJbmZvPXtoYXNVbnBpcGVkOiExfTtpZigwPT09c3RhdGUucGlwZXNDb3VudClyZXR1cm4gdGhpcztpZigxPT09c3RhdGUucGlwZXNDb3VudClyZXR1cm4gZGVzdCYmZGVzdCE9PXN0YXRlLnBpcGVzP3RoaXM6KGRlc3R8fChkZXN0PXN0YXRlLnBpcGVzKSxzdGF0ZS5waXBlcz1udWxsLHN0YXRlLnBpcGVzQ291bnQ9MCxzdGF0ZS5mbG93aW5nPSExLGRlc3QmJmRlc3QuZW1pdChcInVucGlwZVwiLHRoaXMsdW5waXBlSW5mbyksdGhpcyk7aWYoIWRlc3Qpe3ZhciBkZXN0cz1zdGF0ZS5waXBlcyxsZW49c3RhdGUucGlwZXNDb3VudDtzdGF0ZS5waXBlcz1udWxsLHN0YXRlLnBpcGVzQ291bnQ9MCxzdGF0ZS5mbG93aW5nPSExO2Zvcih2YXIgaT0wO2k8bGVuO2krKylkZXN0c1tpXS5lbWl0KFwidW5waXBlXCIsdGhpcyx1bnBpcGVJbmZvKTtyZXR1cm4gdGhpc312YXIgaW5kZXg9aW5kZXhPZihzdGF0ZS5waXBlcyxkZXN0KTtyZXR1cm4tMT09PWluZGV4P3RoaXM6KHN0YXRlLnBpcGVzLnNwbGljZShpbmRleCwxKSxzdGF0ZS5waXBlc0NvdW50LT0xLDE9PT1zdGF0ZS5waXBlc0NvdW50JiYoc3RhdGUucGlwZXM9c3RhdGUucGlwZXNbMF0pLGRlc3QuZW1pdChcInVucGlwZVwiLHRoaXMsdW5waXBlSW5mbyksdGhpcyl9LFJlYWRhYmxlLnByb3RvdHlwZS5vbj1mdW5jdGlvbihldixmbil7dmFyIHJlcz1TdHJlYW0ucHJvdG90eXBlLm9uLmNhbGwodGhpcyxldixmbik7aWYoXCJkYXRhXCI9PT1ldikhMSE9PXRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyYmdGhpcy5yZXN1bWUoKTtlbHNlIGlmKFwicmVhZGFibGVcIj09PWV2KXt2YXIgc3RhdGU9dGhpcy5fcmVhZGFibGVTdGF0ZTtzdGF0ZS5lbmRFbWl0dGVkfHxzdGF0ZS5yZWFkYWJsZUxpc3RlbmluZ3x8KHN0YXRlLnJlYWRhYmxlTGlzdGVuaW5nPXN0YXRlLm5lZWRSZWFkYWJsZT0hMCxzdGF0ZS5lbWl0dGVkUmVhZGFibGU9ITEsc3RhdGUucmVhZGluZz9zdGF0ZS5sZW5ndGgmJmVtaXRSZWFkYWJsZSh0aGlzKTpwbmEubmV4dFRpY2soblJlYWRpbmdOZXh0VGljayx0aGlzKSl9cmV0dXJuIHJlc30sUmVhZGFibGUucHJvdG90eXBlLmFkZExpc3RlbmVyPVJlYWRhYmxlLnByb3RvdHlwZS5vbixSZWFkYWJsZS5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKCl7dmFyIHN0YXRlPXRoaXMuX3JlYWRhYmxlU3RhdGU7cmV0dXJuIHN0YXRlLmZsb3dpbmd8fChkZWJ1ZyhcInJlc3VtZVwiKSxzdGF0ZS5mbG93aW5nPSEwLGZ1bmN0aW9uKHN0cmVhbSxzdGF0ZSl7c3RhdGUucmVzdW1lU2NoZWR1bGVkfHwoc3RhdGUucmVzdW1lU2NoZWR1bGVkPSEwLHBuYS5uZXh0VGljayhyZXN1bWVfLHN0cmVhbSxzdGF0ZSkpfSh0aGlzLHN0YXRlKSksdGhpc30sUmVhZGFibGUucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKCl7cmV0dXJuIGRlYnVnKFwiY2FsbCBwYXVzZSBmbG93aW5nPSVqXCIsdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nKSwhMSE9PXRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyYmKGRlYnVnKFwicGF1c2VcIiksdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nPSExLHRoaXMuZW1pdChcInBhdXNlXCIpKSx0aGlzfSxSZWFkYWJsZS5wcm90b3R5cGUud3JhcD1mdW5jdGlvbihzdHJlYW0pe3ZhciBfdGhpcz10aGlzLHN0YXRlPXRoaXMuX3JlYWRhYmxlU3RhdGUscGF1c2VkPSExO2Zvcih2YXIgaSBpbiBzdHJlYW0ub24oXCJlbmRcIixmdW5jdGlvbigpe2lmKGRlYnVnKFwid3JhcHBlZCBlbmRcIiksc3RhdGUuZGVjb2RlciYmIXN0YXRlLmVuZGVkKXt2YXIgY2h1bms9c3RhdGUuZGVjb2Rlci5lbmQoKTtjaHVuayYmY2h1bmsubGVuZ3RoJiZfdGhpcy5wdXNoKGNodW5rKX1fdGhpcy5wdXNoKG51bGwpfSksc3RyZWFtLm9uKFwiZGF0YVwiLGZ1bmN0aW9uKGNodW5rKXsoZGVidWcoXCJ3cmFwcGVkIGRhdGFcIiksc3RhdGUuZGVjb2RlciYmKGNodW5rPXN0YXRlLmRlY29kZXIud3JpdGUoY2h1bmspKSwhc3RhdGUub2JqZWN0TW9kZXx8bnVsbCE9PWNodW5rJiZ2b2lkIDAhPT1jaHVuaykmJigoc3RhdGUub2JqZWN0TW9kZXx8Y2h1bmsmJmNodW5rLmxlbmd0aCkmJihfdGhpcy5wdXNoKGNodW5rKXx8KHBhdXNlZD0hMCxzdHJlYW0ucGF1c2UoKSkpKX0pLHN0cmVhbSl2b2lkIDA9PT10aGlzW2ldJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBzdHJlYW1baV0mJih0aGlzW2ldPWZ1bmN0aW9uKG1ldGhvZCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHN0cmVhbVttZXRob2RdLmFwcGx5KHN0cmVhbSxhcmd1bWVudHMpfX0oaSkpO2Zvcih2YXIgbj0wO248a1Byb3h5RXZlbnRzLmxlbmd0aDtuKyspc3RyZWFtLm9uKGtQcm94eUV2ZW50c1tuXSx0aGlzLmVtaXQuYmluZCh0aGlzLGtQcm94eUV2ZW50c1tuXSkpO3JldHVybiB0aGlzLl9yZWFkPWZ1bmN0aW9uKG4pe2RlYnVnKFwid3JhcHBlZCBfcmVhZFwiLG4pLHBhdXNlZCYmKHBhdXNlZD0hMSxzdHJlYW0ucmVzdW1lKCkpfSx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVhZGFibGUucHJvdG90eXBlLFwicmVhZGFibGVIaWdoV2F0ZXJNYXJrXCIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuaGlnaFdhdGVyTWFya319KSxSZWFkYWJsZS5fZnJvbUxpc3Q9ZnJvbUxpc3R9KS5jYWxsKHRoaXMsX193ZWJwYWNrX3JlcXVpcmVfXygxMSksX193ZWJwYWNrX3JlcXVpcmVfXygyMikpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXttb2R1bGUuZXhwb3J0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDM5KS5FdmVudEVtaXR0ZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBwbmE9X193ZWJwYWNrX3JlcXVpcmVfXygyNyk7ZnVuY3Rpb24gZW1pdEVycm9yTlQoc2VsZixlcnIpe3NlbGYuZW1pdChcImVycm9yXCIsZXJyKX1tb2R1bGUuZXhwb3J0cz17ZGVzdHJveTpmdW5jdGlvbihlcnIsY2Ipe3ZhciBfdGhpcz10aGlzLHJlYWRhYmxlRGVzdHJveWVkPXRoaXMuX3JlYWRhYmxlU3RhdGUmJnRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkLHdyaXRhYmxlRGVzdHJveWVkPXRoaXMuX3dyaXRhYmxlU3RhdGUmJnRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkO3JldHVybiByZWFkYWJsZURlc3Ryb3llZHx8d3JpdGFibGVEZXN0cm95ZWQ/KGNiP2NiKGVycik6IWVycnx8dGhpcy5fd3JpdGFibGVTdGF0ZSYmdGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWR8fHBuYS5uZXh0VGljayhlbWl0RXJyb3JOVCx0aGlzLGVyciksdGhpcyk6KHRoaXMuX3JlYWRhYmxlU3RhdGUmJih0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZD0hMCksdGhpcy5fd3JpdGFibGVTdGF0ZSYmKHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkPSEwKSx0aGlzLl9kZXN0cm95KGVycnx8bnVsbCxmdW5jdGlvbihlcnIpeyFjYiYmZXJyPyhwbmEubmV4dFRpY2soZW1pdEVycm9yTlQsX3RoaXMsZXJyKSxfdGhpcy5fd3JpdGFibGVTdGF0ZSYmKF90aGlzLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZD0hMCkpOmNiJiZjYihlcnIpfSksdGhpcyl9LHVuZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX3JlYWRhYmxlU3RhdGUmJih0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZD0hMSx0aGlzLl9yZWFkYWJsZVN0YXRlLnJlYWRpbmc9ITEsdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmRlZD0hMSx0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZEVtaXR0ZWQ9ITEpLHRoaXMuX3dyaXRhYmxlU3RhdGUmJih0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZD0hMSx0aGlzLl93cml0YWJsZVN0YXRlLmVuZGVkPSExLHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kaW5nPSExLHRoaXMuX3dyaXRhYmxlU3RhdGUuZmluaXNoZWQ9ITEsdGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQ9ITEpfX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18peyhmdW5jdGlvbihnbG9iYWwpe3ZhciBzY29wZT12b2lkIDAhPT1nbG9iYWwmJmdsb2JhbHx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGZ8fHdpbmRvdyxhcHBseT1GdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7ZnVuY3Rpb24gVGltZW91dChpZCxjbGVhckZuKXt0aGlzLl9pZD1pZCx0aGlzLl9jbGVhckZuPWNsZWFyRm59ZXhwb3J0cy5zZXRUaW1lb3V0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0VGltZW91dCxzY29wZSxhcmd1bWVudHMpLGNsZWFyVGltZW91dCl9LGV4cG9ydHMuc2V0SW50ZXJ2YWw9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRJbnRlcnZhbCxzY29wZSxhcmd1bWVudHMpLGNsZWFySW50ZXJ2YWwpfSxleHBvcnRzLmNsZWFyVGltZW91dD1leHBvcnRzLmNsZWFySW50ZXJ2YWw9ZnVuY3Rpb24odGltZW91dCl7dGltZW91dCYmdGltZW91dC5jbG9zZSgpfSxUaW1lb3V0LnByb3RvdHlwZS51bnJlZj1UaW1lb3V0LnByb3RvdHlwZS5yZWY9ZnVuY3Rpb24oKXt9LFRpbWVvdXQucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJGbi5jYWxsKHNjb3BlLHRoaXMuX2lkKX0sZXhwb3J0cy5lbnJvbGw9ZnVuY3Rpb24oaXRlbSxtc2Vjcyl7Y2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpLGl0ZW0uX2lkbGVUaW1lb3V0PW1zZWNzfSxleHBvcnRzLnVuZW5yb2xsPWZ1bmN0aW9uKGl0ZW0pe2NsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKSxpdGVtLl9pZGxlVGltZW91dD0tMX0sZXhwb3J0cy5fdW5yZWZBY3RpdmU9ZXhwb3J0cy5hY3RpdmU9ZnVuY3Rpb24oaXRlbSl7Y2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO3ZhciBtc2Vjcz1pdGVtLl9pZGxlVGltZW91dDttc2Vjcz49MCYmKGl0ZW0uX2lkbGVUaW1lb3V0SWQ9c2V0VGltZW91dChmdW5jdGlvbigpe2l0ZW0uX29uVGltZW91dCYmaXRlbS5fb25UaW1lb3V0KCl9LG1zZWNzKSl9LF9fd2VicGFja19yZXF1aXJlX18oOTMpLGV4cG9ydHMuc2V0SW1tZWRpYXRlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmLnNldEltbWVkaWF0ZXx8dm9pZCAwIT09Z2xvYmFsJiZnbG9iYWwuc2V0SW1tZWRpYXRlfHx0aGlzJiZ0aGlzLnNldEltbWVkaWF0ZSxleHBvcnRzLmNsZWFySW1tZWRpYXRlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmLmNsZWFySW1tZWRpYXRlfHx2b2lkIDAhPT1nbG9iYWwmJmdsb2JhbC5jbGVhckltbWVkaWF0ZXx8dGhpcyYmdGhpcy5jbGVhckltbWVkaWF0ZX0pLmNhbGwodGhpcyxfX3dlYnBhY2tfcmVxdWlyZV9fKDExKSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBCdWZmZXI9X193ZWJwYWNrX3JlcXVpcmVfXygyOCkuQnVmZmVyLGlzRW5jb2Rpbmc9QnVmZmVyLmlzRW5jb2Rpbmd8fGZ1bmN0aW9uKGVuY29kaW5nKXtzd2l0Y2goKGVuY29kaW5nPVwiXCIrZW5jb2RpbmcpJiZlbmNvZGluZy50b0xvd2VyQ2FzZSgpKXtjYXNlXCJoZXhcIjpjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpjYXNlXCJhc2NpaVwiOmNhc2VcImJpbmFyeVwiOmNhc2VcImJhc2U2NFwiOmNhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOmNhc2VcInJhd1wiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fTtmdW5jdGlvbiBTdHJpbmdEZWNvZGVyKGVuY29kaW5nKXt2YXIgbmI7c3dpdGNoKHRoaXMuZW5jb2Rpbmc9ZnVuY3Rpb24oZW5jKXt2YXIgbmVuYz1mdW5jdGlvbihlbmMpe2lmKCFlbmMpcmV0dXJuXCJ1dGY4XCI7Zm9yKHZhciByZXRyaWVkOzspc3dpdGNoKGVuYyl7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6cmV0dXJuXCJ1dGY4XCI7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuXCJ1dGYxNmxlXCI7Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuXCJsYXRpbjFcIjtjYXNlXCJiYXNlNjRcIjpjYXNlXCJhc2NpaVwiOmNhc2VcImhleFwiOnJldHVybiBlbmM7ZGVmYXVsdDppZihyZXRyaWVkKXJldHVybjtlbmM9KFwiXCIrZW5jKS50b0xvd2VyQ2FzZSgpLHJldHJpZWQ9ITB9fShlbmMpO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBuZW5jJiYoQnVmZmVyLmlzRW5jb2Rpbmc9PT1pc0VuY29kaW5nfHwhaXNFbmNvZGluZyhlbmMpKSl0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIitlbmMpO3JldHVybiBuZW5jfHxlbmN9KGVuY29kaW5nKSx0aGlzLmVuY29kaW5nKXtjYXNlXCJ1dGYxNmxlXCI6dGhpcy50ZXh0PXV0ZjE2VGV4dCx0aGlzLmVuZD11dGYxNkVuZCxuYj00O2JyZWFrO2Nhc2VcInV0ZjhcIjp0aGlzLmZpbGxMYXN0PXV0ZjhGaWxsTGFzdCxuYj00O2JyZWFrO2Nhc2VcImJhc2U2NFwiOnRoaXMudGV4dD1iYXNlNjRUZXh0LHRoaXMuZW5kPWJhc2U2NEVuZCxuYj0zO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIHRoaXMud3JpdGU9c2ltcGxlV3JpdGUsdm9pZCh0aGlzLmVuZD1zaW1wbGVFbmQpfXRoaXMubGFzdE5lZWQ9MCx0aGlzLmxhc3RUb3RhbD0wLHRoaXMubGFzdENoYXI9QnVmZmVyLmFsbG9jVW5zYWZlKG5iKX1mdW5jdGlvbiB1dGY4Q2hlY2tCeXRlKGJ5dGUpe3JldHVybiBieXRlPD0xMjc/MDpieXRlPj41PT02PzI6Ynl0ZT4+ND09MTQ/MzpieXRlPj4zPT0zMD80OmJ5dGU+PjY9PTI/LTE6LTJ9ZnVuY3Rpb24gdXRmOEZpbGxMYXN0KGJ1Zil7dmFyIHA9dGhpcy5sYXN0VG90YWwtdGhpcy5sYXN0TmVlZCxyPWZ1bmN0aW9uKHNlbGYsYnVmLHApe2lmKDEyOCE9KDE5MiZidWZbMF0pKXJldHVybiBzZWxmLmxhc3ROZWVkPTAsXCLvv71cIjtpZihzZWxmLmxhc3ROZWVkPjEmJmJ1Zi5sZW5ndGg+MSl7aWYoMTI4IT0oMTkyJmJ1ZlsxXSkpcmV0dXJuIHNlbGYubGFzdE5lZWQ9MSxcIu+/vVwiO2lmKHNlbGYubGFzdE5lZWQ+MiYmYnVmLmxlbmd0aD4yJiYxMjghPSgxOTImYnVmWzJdKSlyZXR1cm4gc2VsZi5sYXN0TmVlZD0yLFwi77+9XCJ9fSh0aGlzLGJ1Zik7cmV0dXJuIHZvaWQgMCE9PXI/cjp0aGlzLmxhc3ROZWVkPD1idWYubGVuZ3RoPyhidWYuY29weSh0aGlzLmxhc3RDaGFyLHAsMCx0aGlzLmxhc3ROZWVkKSx0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsMCx0aGlzLmxhc3RUb3RhbCkpOihidWYuY29weSh0aGlzLmxhc3RDaGFyLHAsMCxidWYubGVuZ3RoKSx2b2lkKHRoaXMubGFzdE5lZWQtPWJ1Zi5sZW5ndGgpKX1mdW5jdGlvbiB1dGYxNlRleHQoYnVmLGkpe2lmKChidWYubGVuZ3RoLWkpJTI9PTApe3ZhciByPWJ1Zi50b1N0cmluZyhcInV0ZjE2bGVcIixpKTtpZihyKXt2YXIgYz1yLmNoYXJDb2RlQXQoci5sZW5ndGgtMSk7aWYoYz49NTUyOTYmJmM8PTU2MzE5KXJldHVybiB0aGlzLmxhc3ROZWVkPTIsdGhpcy5sYXN0VG90YWw9NCx0aGlzLmxhc3RDaGFyWzBdPWJ1ZltidWYubGVuZ3RoLTJdLHRoaXMubGFzdENoYXJbMV09YnVmW2J1Zi5sZW5ndGgtMV0sci5zbGljZSgwLC0xKX1yZXR1cm4gcn1yZXR1cm4gdGhpcy5sYXN0TmVlZD0xLHRoaXMubGFzdFRvdGFsPTIsdGhpcy5sYXN0Q2hhclswXT1idWZbYnVmLmxlbmd0aC0xXSxidWYudG9TdHJpbmcoXCJ1dGYxNmxlXCIsaSxidWYubGVuZ3RoLTEpfWZ1bmN0aW9uIHV0ZjE2RW5kKGJ1Zil7dmFyIHI9YnVmJiZidWYubGVuZ3RoP3RoaXMud3JpdGUoYnVmKTpcIlwiO2lmKHRoaXMubGFzdE5lZWQpe3ZhciBlbmQ9dGhpcy5sYXN0VG90YWwtdGhpcy5sYXN0TmVlZDtyZXR1cm4gcit0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKFwidXRmMTZsZVwiLDAsZW5kKX1yZXR1cm4gcn1mdW5jdGlvbiBiYXNlNjRUZXh0KGJ1ZixpKXt2YXIgbj0oYnVmLmxlbmd0aC1pKSUzO3JldHVybiAwPT09bj9idWYudG9TdHJpbmcoXCJiYXNlNjRcIixpKToodGhpcy5sYXN0TmVlZD0zLW4sdGhpcy5sYXN0VG90YWw9MywxPT09bj90aGlzLmxhc3RDaGFyWzBdPWJ1ZltidWYubGVuZ3RoLTFdOih0aGlzLmxhc3RDaGFyWzBdPWJ1ZltidWYubGVuZ3RoLTJdLHRoaXMubGFzdENoYXJbMV09YnVmW2J1Zi5sZW5ndGgtMV0pLGJ1Zi50b1N0cmluZyhcImJhc2U2NFwiLGksYnVmLmxlbmd0aC1uKSl9ZnVuY3Rpb24gYmFzZTY0RW5kKGJ1Zil7dmFyIHI9YnVmJiZidWYubGVuZ3RoP3RoaXMud3JpdGUoYnVmKTpcIlwiO3JldHVybiB0aGlzLmxhc3ROZWVkP3IrdGhpcy5sYXN0Q2hhci50b1N0cmluZyhcImJhc2U2NFwiLDAsMy10aGlzLmxhc3ROZWVkKTpyfWZ1bmN0aW9uIHNpbXBsZVdyaXRlKGJ1Zil7cmV0dXJuIGJ1Zi50b1N0cmluZyh0aGlzLmVuY29kaW5nKX1mdW5jdGlvbiBzaW1wbGVFbmQoYnVmKXtyZXR1cm4gYnVmJiZidWYubGVuZ3RoP3RoaXMud3JpdGUoYnVmKTpcIlwifWV4cG9ydHMuU3RyaW5nRGVjb2Rlcj1TdHJpbmdEZWNvZGVyLFN0cmluZ0RlY29kZXIucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGJ1Zil7aWYoMD09PWJ1Zi5sZW5ndGgpcmV0dXJuXCJcIjt2YXIgcixpO2lmKHRoaXMubGFzdE5lZWQpe2lmKHZvaWQgMD09PShyPXRoaXMuZmlsbExhc3QoYnVmKSkpcmV0dXJuXCJcIjtpPXRoaXMubGFzdE5lZWQsdGhpcy5sYXN0TmVlZD0wfWVsc2UgaT0wO3JldHVybiBpPGJ1Zi5sZW5ndGg/cj9yK3RoaXMudGV4dChidWYsaSk6dGhpcy50ZXh0KGJ1ZixpKTpyfHxcIlwifSxTdHJpbmdEZWNvZGVyLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oYnVmKXt2YXIgcj1idWYmJmJ1Zi5sZW5ndGg/dGhpcy53cml0ZShidWYpOlwiXCI7cmV0dXJuIHRoaXMubGFzdE5lZWQ/citcIu+/vVwiOnJ9LFN0cmluZ0RlY29kZXIucHJvdG90eXBlLnRleHQ9ZnVuY3Rpb24oYnVmLGkpe3ZhciB0b3RhbD1mdW5jdGlvbihzZWxmLGJ1ZixpKXt2YXIgaj1idWYubGVuZ3RoLTE7aWYoajxpKXJldHVybiAwO3ZhciBuYj11dGY4Q2hlY2tCeXRlKGJ1ZltqXSk7aWYobmI+PTApcmV0dXJuIG5iPjAmJihzZWxmLmxhc3ROZWVkPW5iLTEpLG5iO2lmKC0tajxpfHwtMj09PW5iKXJldHVybiAwO2lmKChuYj11dGY4Q2hlY2tCeXRlKGJ1ZltqXSkpPj0wKXJldHVybiBuYj4wJiYoc2VsZi5sYXN0TmVlZD1uYi0yKSxuYjtpZigtLWo8aXx8LTI9PT1uYilyZXR1cm4gMDtpZigobmI9dXRmOENoZWNrQnl0ZShidWZbal0pKT49MClyZXR1cm4gbmI+MCYmKDI9PT1uYj9uYj0wOnNlbGYubGFzdE5lZWQ9bmItMyksbmI7cmV0dXJuIDB9KHRoaXMsYnVmLGkpO2lmKCF0aGlzLmxhc3ROZWVkKXJldHVybiBidWYudG9TdHJpbmcoXCJ1dGY4XCIsaSk7dGhpcy5sYXN0VG90YWw9dG90YWw7dmFyIGVuZD1idWYubGVuZ3RoLSh0b3RhbC10aGlzLmxhc3ROZWVkKTtyZXR1cm4gYnVmLmNvcHkodGhpcy5sYXN0Q2hhciwwLGVuZCksYnVmLnRvU3RyaW5nKFwidXRmOFwiLGksZW5kKX0sU3RyaW5nRGVjb2Rlci5wcm90b3R5cGUuZmlsbExhc3Q9ZnVuY3Rpb24oYnVmKXtpZih0aGlzLmxhc3ROZWVkPD1idWYubGVuZ3RoKXJldHVybiBidWYuY29weSh0aGlzLmxhc3RDaGFyLHRoaXMubGFzdFRvdGFsLXRoaXMubGFzdE5lZWQsMCx0aGlzLmxhc3ROZWVkKSx0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsMCx0aGlzLmxhc3RUb3RhbCk7YnVmLmNvcHkodGhpcy5sYXN0Q2hhcix0aGlzLmxhc3RUb3RhbC10aGlzLmxhc3ROZWVkLDAsYnVmLmxlbmd0aCksdGhpcy5sYXN0TmVlZC09YnVmLmxlbmd0aH19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO21vZHVsZS5leHBvcnRzPVRyYW5zZm9ybTt2YXIgRHVwbGV4PV9fd2VicGFja19yZXF1aXJlX18oMTIpLHV0aWw9T2JqZWN0LmNyZWF0ZShfX3dlYnBhY2tfcmVxdWlyZV9fKDIzKSk7ZnVuY3Rpb24gVHJhbnNmb3JtKG9wdGlvbnMpe2lmKCEodGhpcyBpbnN0YW5jZW9mIFRyYW5zZm9ybSkpcmV0dXJuIG5ldyBUcmFuc2Zvcm0ob3B0aW9ucyk7RHVwbGV4LmNhbGwodGhpcyxvcHRpb25zKSx0aGlzLl90cmFuc2Zvcm1TdGF0ZT17YWZ0ZXJUcmFuc2Zvcm06ZnVuY3Rpb24oZXIsZGF0YSl7dmFyIHRzPXRoaXMuX3RyYW5zZm9ybVN0YXRlO3RzLnRyYW5zZm9ybWluZz0hMTt2YXIgY2I9dHMud3JpdGVjYjtpZighY2IpcmV0dXJuIHRoaXMuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwid3JpdGUgY2FsbGJhY2sgY2FsbGVkIG11bHRpcGxlIHRpbWVzXCIpKTt0cy53cml0ZWNodW5rPW51bGwsdHMud3JpdGVjYj1udWxsLG51bGwhPWRhdGEmJnRoaXMucHVzaChkYXRhKSxjYihlcik7dmFyIHJzPXRoaXMuX3JlYWRhYmxlU3RhdGU7cnMucmVhZGluZz0hMSwocnMubmVlZFJlYWRhYmxlfHxycy5sZW5ndGg8cnMuaGlnaFdhdGVyTWFyaykmJnRoaXMuX3JlYWQocnMuaGlnaFdhdGVyTWFyayl9LmJpbmQodGhpcyksbmVlZFRyYW5zZm9ybTohMSx0cmFuc2Zvcm1pbmc6ITEsd3JpdGVjYjpudWxsLHdyaXRlY2h1bms6bnVsbCx3cml0ZWVuY29kaW5nOm51bGx9LHRoaXMuX3JlYWRhYmxlU3RhdGUubmVlZFJlYWRhYmxlPSEwLHRoaXMuX3JlYWRhYmxlU3RhdGUuc3luYz0hMSxvcHRpb25zJiYoXCJmdW5jdGlvblwiPT10eXBlb2Ygb3B0aW9ucy50cmFuc2Zvcm0mJih0aGlzLl90cmFuc2Zvcm09b3B0aW9ucy50cmFuc2Zvcm0pLFwiZnVuY3Rpb25cIj09dHlwZW9mIG9wdGlvbnMuZmx1c2gmJih0aGlzLl9mbHVzaD1vcHRpb25zLmZsdXNoKSksdGhpcy5vbihcInByZWZpbmlzaFwiLHByZWZpbmlzaCl9ZnVuY3Rpb24gcHJlZmluaXNoKCl7dmFyIF90aGlzPXRoaXM7XCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5fZmx1c2g/dGhpcy5fZmx1c2goZnVuY3Rpb24oZXIsZGF0YSl7ZG9uZShfdGhpcyxlcixkYXRhKX0pOmRvbmUodGhpcyxudWxsLG51bGwpfWZ1bmN0aW9uIGRvbmUoc3RyZWFtLGVyLGRhdGEpe2lmKGVyKXJldHVybiBzdHJlYW0uZW1pdChcImVycm9yXCIsZXIpO2lmKG51bGwhPWRhdGEmJnN0cmVhbS5wdXNoKGRhdGEpLHN0cmVhbS5fd3JpdGFibGVTdGF0ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiQ2FsbGluZyB0cmFuc2Zvcm0gZG9uZSB3aGVuIHdzLmxlbmd0aCAhPSAwXCIpO2lmKHN0cmVhbS5fdHJhbnNmb3JtU3RhdGUudHJhbnNmb3JtaW5nKXRocm93IG5ldyBFcnJvcihcIkNhbGxpbmcgdHJhbnNmb3JtIGRvbmUgd2hlbiBzdGlsbCB0cmFuc2Zvcm1pbmdcIik7cmV0dXJuIHN0cmVhbS5wdXNoKG51bGwpfXV0aWwuaW5oZXJpdHM9X193ZWJwYWNrX3JlcXVpcmVfXygxNSksdXRpbC5pbmhlcml0cyhUcmFuc2Zvcm0sRHVwbGV4KSxUcmFuc2Zvcm0ucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oY2h1bmssZW5jb2Rpbmcpe3JldHVybiB0aGlzLl90cmFuc2Zvcm1TdGF0ZS5uZWVkVHJhbnNmb3JtPSExLER1cGxleC5wcm90b3R5cGUucHVzaC5jYWxsKHRoaXMsY2h1bmssZW5jb2RpbmcpfSxUcmFuc2Zvcm0ucHJvdG90eXBlLl90cmFuc2Zvcm09ZnVuY3Rpb24oY2h1bmssZW5jb2RpbmcsY2Ipe3Rocm93IG5ldyBFcnJvcihcIl90cmFuc2Zvcm0oKSBpcyBub3QgaW1wbGVtZW50ZWRcIil9LFRyYW5zZm9ybS5wcm90b3R5cGUuX3dyaXRlPWZ1bmN0aW9uKGNodW5rLGVuY29kaW5nLGNiKXt2YXIgdHM9dGhpcy5fdHJhbnNmb3JtU3RhdGU7aWYodHMud3JpdGVjYj1jYix0cy53cml0ZWNodW5rPWNodW5rLHRzLndyaXRlZW5jb2Rpbmc9ZW5jb2RpbmcsIXRzLnRyYW5zZm9ybWluZyl7dmFyIHJzPXRoaXMuX3JlYWRhYmxlU3RhdGU7KHRzLm5lZWRUcmFuc2Zvcm18fHJzLm5lZWRSZWFkYWJsZXx8cnMubGVuZ3RoPHJzLmhpZ2hXYXRlck1hcmspJiZ0aGlzLl9yZWFkKHJzLmhpZ2hXYXRlck1hcmspfX0sVHJhbnNmb3JtLnByb3RvdHlwZS5fcmVhZD1mdW5jdGlvbihuKXt2YXIgdHM9dGhpcy5fdHJhbnNmb3JtU3RhdGU7bnVsbCE9PXRzLndyaXRlY2h1bmsmJnRzLndyaXRlY2ImJiF0cy50cmFuc2Zvcm1pbmc/KHRzLnRyYW5zZm9ybWluZz0hMCx0aGlzLl90cmFuc2Zvcm0odHMud3JpdGVjaHVuayx0cy53cml0ZWVuY29kaW5nLHRzLmFmdGVyVHJhbnNmb3JtKSk6dHMubmVlZFRyYW5zZm9ybT0hMH0sVHJhbnNmb3JtLnByb3RvdHlwZS5fZGVzdHJveT1mdW5jdGlvbihlcnIsY2Ipe3ZhciBfdGhpczI9dGhpcztEdXBsZXgucHJvdG90eXBlLl9kZXN0cm95LmNhbGwodGhpcyxlcnIsZnVuY3Rpb24oZXJyMil7Y2IoZXJyMiksX3RoaXMyLmVtaXQoXCJjbG9zZVwiKX0pfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMCksc3VwcG9ydD1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpLF9rZXlTdHI9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPVwiO2V4cG9ydHMuZW5jb2RlPWZ1bmN0aW9uKGlucHV0KXtmb3IodmFyIGNocjEsY2hyMixjaHIzLGVuYzEsZW5jMixlbmMzLGVuYzQsb3V0cHV0PVtdLGk9MCxsZW49aW5wdXQubGVuZ3RoLHJlbWFpbmluZ0J5dGVzPWxlbixpc0FycmF5PVwic3RyaW5nXCIhPT11dGlscy5nZXRUeXBlT2YoaW5wdXQpO2k8aW5wdXQubGVuZ3RoOylyZW1haW5pbmdCeXRlcz1sZW4taSxpc0FycmF5PyhjaHIxPWlucHV0W2krK10sY2hyMj1pPGxlbj9pbnB1dFtpKytdOjAsY2hyMz1pPGxlbj9pbnB1dFtpKytdOjApOihjaHIxPWlucHV0LmNoYXJDb2RlQXQoaSsrKSxjaHIyPWk8bGVuP2lucHV0LmNoYXJDb2RlQXQoaSsrKTowLGNocjM9aTxsZW4/aW5wdXQuY2hhckNvZGVBdChpKyspOjApLGVuYzE9Y2hyMT4+MixlbmMyPSgzJmNocjEpPDw0fGNocjI+PjQsZW5jMz1yZW1haW5pbmdCeXRlcz4xPygxNSZjaHIyKTw8MnxjaHIzPj42OjY0LGVuYzQ9cmVtYWluaW5nQnl0ZXM+Mj82MyZjaHIzOjY0LG91dHB1dC5wdXNoKF9rZXlTdHIuY2hhckF0KGVuYzEpK19rZXlTdHIuY2hhckF0KGVuYzIpK19rZXlTdHIuY2hhckF0KGVuYzMpK19rZXlTdHIuY2hhckF0KGVuYzQpKTtyZXR1cm4gb3V0cHV0LmpvaW4oXCJcIil9LGV4cG9ydHMuZGVjb2RlPWZ1bmN0aW9uKGlucHV0KXt2YXIgY2hyMSxjaHIyLGNocjMsZW5jMixlbmMzLGVuYzQsaT0wLHJlc3VsdEluZGV4PTA7aWYoXCJkYXRhOlwiPT09aW5wdXQuc3Vic3RyKDAsXCJkYXRhOlwiLmxlbmd0aCkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBiYXNlNjQgaW5wdXQsIGl0IGxvb2tzIGxpa2UgYSBkYXRhIHVybC5cIik7dmFyIG91dHB1dCx0b3RhbExlbmd0aD0zKihpbnB1dD1pbnB1dC5yZXBsYWNlKC9bXkEtWmEtejAtOVxcK1xcL1xcPV0vZyxcIlwiKSkubGVuZ3RoLzQ7aWYoaW5wdXQuY2hhckF0KGlucHV0Lmxlbmd0aC0xKT09PV9rZXlTdHIuY2hhckF0KDY0KSYmdG90YWxMZW5ndGgtLSxpbnB1dC5jaGFyQXQoaW5wdXQubGVuZ3RoLTIpPT09X2tleVN0ci5jaGFyQXQoNjQpJiZ0b3RhbExlbmd0aC0tLHRvdGFsTGVuZ3RoJTEhPTApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBiYXNlNjQgaW5wdXQsIGJhZCBjb250ZW50IGxlbmd0aC5cIik7Zm9yKG91dHB1dD1zdXBwb3J0LnVpbnQ4YXJyYXk/bmV3IFVpbnQ4QXJyYXkoMHx0b3RhbExlbmd0aCk6bmV3IEFycmF5KDB8dG90YWxMZW5ndGgpO2k8aW5wdXQubGVuZ3RoOyljaHIxPV9rZXlTdHIuaW5kZXhPZihpbnB1dC5jaGFyQXQoaSsrKSk8PDJ8KGVuYzI9X2tleVN0ci5pbmRleE9mKGlucHV0LmNoYXJBdChpKyspKSk+PjQsY2hyMj0oMTUmZW5jMik8PDR8KGVuYzM9X2tleVN0ci5pbmRleE9mKGlucHV0LmNoYXJBdChpKyspKSk+PjIsY2hyMz0oMyZlbmMzKTw8NnwoZW5jND1fa2V5U3RyLmluZGV4T2YoaW5wdXQuY2hhckF0KGkrKykpKSxvdXRwdXRbcmVzdWx0SW5kZXgrK109Y2hyMSw2NCE9PWVuYzMmJihvdXRwdXRbcmVzdWx0SW5kZXgrK109Y2hyMiksNjQhPT1lbmM0JiYob3V0cHV0W3Jlc3VsdEluZGV4KytdPWNocjMpO3JldHVybiBvdXRwdXR9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oQnVmZmVyKXt2YXIgdXRpbHM9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxDb252ZXJ0V29ya2VyPV9fd2VicGFja19yZXF1aXJlX18oMTAzKSxHZW5lcmljV29ya2VyPV9fd2VicGFja19yZXF1aXJlX18oMiksYmFzZTY0PV9fd2VicGFja19yZXF1aXJlX18oNTcpLHN1cHBvcnQ9X193ZWJwYWNrX3JlcXVpcmVfXyg3KSxleHRlcm5hbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDI0KSxOb2RlanNTdHJlYW1PdXRwdXRBZGFwdGVyPW51bGw7aWYoc3VwcG9ydC5ub2Rlc3RyZWFtKXRyeXtOb2RlanNTdHJlYW1PdXRwdXRBZGFwdGVyPV9fd2VicGFja19yZXF1aXJlX18oMTA0KX1jYXRjaChlKXt9ZnVuY3Rpb24gYWNjdW11bGF0ZShoZWxwZXIsdXBkYXRlQ2FsbGJhY2spe3JldHVybiBuZXcgZXh0ZXJuYWwuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7dmFyIGRhdGFBcnJheT1bXSxjaHVua1R5cGU9aGVscGVyLl9pbnRlcm5hbFR5cGUscmVzdWx0VHlwZT1oZWxwZXIuX291dHB1dFR5cGUsbWltZVR5cGU9aGVscGVyLl9taW1lVHlwZTtoZWxwZXIub24oXCJkYXRhXCIsZnVuY3Rpb24oZGF0YSxtZXRhKXtkYXRhQXJyYXkucHVzaChkYXRhKSx1cGRhdGVDYWxsYmFjayYmdXBkYXRlQ2FsbGJhY2sobWV0YSl9KS5vbihcImVycm9yXCIsZnVuY3Rpb24oZXJyKXtkYXRhQXJyYXk9W10scmVqZWN0KGVycil9KS5vbihcImVuZFwiLGZ1bmN0aW9uKCl7dHJ5e3ZhciByZXN1bHQ9ZnVuY3Rpb24odHlwZSxjb250ZW50LG1pbWVUeXBlKXtzd2l0Y2godHlwZSl7Y2FzZVwiYmxvYlwiOnJldHVybiB1dGlscy5uZXdCbG9iKHV0aWxzLnRyYW5zZm9ybVRvKFwiYXJyYXlidWZmZXJcIixjb250ZW50KSxtaW1lVHlwZSk7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIGJhc2U2NC5lbmNvZGUoY29udGVudCk7ZGVmYXVsdDpyZXR1cm4gdXRpbHMudHJhbnNmb3JtVG8odHlwZSxjb250ZW50KX19KHJlc3VsdFR5cGUsZnVuY3Rpb24odHlwZSxkYXRhQXJyYXkpe3ZhciBpLGluZGV4PTAscmVzPW51bGwsdG90YWxMZW5ndGg9MDtmb3IoaT0wO2k8ZGF0YUFycmF5Lmxlbmd0aDtpKyspdG90YWxMZW5ndGgrPWRhdGFBcnJheVtpXS5sZW5ndGg7c3dpdGNoKHR5cGUpe2Nhc2VcInN0cmluZ1wiOnJldHVybiBkYXRhQXJyYXkuam9pbihcIlwiKTtjYXNlXCJhcnJheVwiOnJldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLGRhdGFBcnJheSk7Y2FzZVwidWludDhhcnJheVwiOmZvcihyZXM9bmV3IFVpbnQ4QXJyYXkodG90YWxMZW5ndGgpLGk9MDtpPGRhdGFBcnJheS5sZW5ndGg7aSsrKXJlcy5zZXQoZGF0YUFycmF5W2ldLGluZGV4KSxpbmRleCs9ZGF0YUFycmF5W2ldLmxlbmd0aDtyZXR1cm4gcmVzO2Nhc2VcIm5vZGVidWZmZXJcIjpyZXR1cm4gQnVmZmVyLmNvbmNhdChkYXRhQXJyYXkpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiY29uY2F0IDogdW5zdXBwb3J0ZWQgdHlwZSAnXCIrdHlwZStcIidcIil9fShjaHVua1R5cGUsZGF0YUFycmF5KSxtaW1lVHlwZSk7cmVzb2x2ZShyZXN1bHQpfWNhdGNoKGUpe3JlamVjdChlKX1kYXRhQXJyYXk9W119KS5yZXN1bWUoKX0pfWZ1bmN0aW9uIFN0cmVhbUhlbHBlcih3b3JrZXIsb3V0cHV0VHlwZSxtaW1lVHlwZSl7dmFyIGludGVybmFsVHlwZT1vdXRwdXRUeXBlO3N3aXRjaChvdXRwdXRUeXBlKXtjYXNlXCJibG9iXCI6Y2FzZVwiYXJyYXlidWZmZXJcIjppbnRlcm5hbFR5cGU9XCJ1aW50OGFycmF5XCI7YnJlYWs7Y2FzZVwiYmFzZTY0XCI6aW50ZXJuYWxUeXBlPVwic3RyaW5nXCJ9dHJ5e3RoaXMuX2ludGVybmFsVHlwZT1pbnRlcm5hbFR5cGUsdGhpcy5fb3V0cHV0VHlwZT1vdXRwdXRUeXBlLHRoaXMuX21pbWVUeXBlPW1pbWVUeXBlLHV0aWxzLmNoZWNrU3VwcG9ydChpbnRlcm5hbFR5cGUpLHRoaXMuX3dvcmtlcj13b3JrZXIucGlwZShuZXcgQ29udmVydFdvcmtlcihpbnRlcm5hbFR5cGUpKSx3b3JrZXIubG9jaygpfWNhdGNoKGUpe3RoaXMuX3dvcmtlcj1uZXcgR2VuZXJpY1dvcmtlcihcImVycm9yXCIpLHRoaXMuX3dvcmtlci5lcnJvcihlKX19U3RyZWFtSGVscGVyLnByb3RvdHlwZT17YWNjdW11bGF0ZTpmdW5jdGlvbih1cGRhdGVDYil7cmV0dXJuIGFjY3VtdWxhdGUodGhpcyx1cGRhdGVDYil9LG9uOmZ1bmN0aW9uKGV2dCxmbil7dmFyIHNlbGY9dGhpcztyZXR1cm5cImRhdGFcIj09PWV2dD90aGlzLl93b3JrZXIub24oZXZ0LGZ1bmN0aW9uKGNodW5rKXtmbi5jYWxsKHNlbGYsY2h1bmsuZGF0YSxjaHVuay5tZXRhKX0pOnRoaXMuX3dvcmtlci5vbihldnQsZnVuY3Rpb24oKXt1dGlscy5kZWxheShmbixhcmd1bWVudHMsc2VsZil9KSx0aGlzfSxyZXN1bWU6ZnVuY3Rpb24oKXtyZXR1cm4gdXRpbHMuZGVsYXkodGhpcy5fd29ya2VyLnJlc3VtZSxbXSx0aGlzLl93b3JrZXIpLHRoaXN9LHBhdXNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dvcmtlci5wYXVzZSgpLHRoaXN9LHRvTm9kZWpzU3RyZWFtOmZ1bmN0aW9uKHVwZGF0ZUNiKXtpZih1dGlscy5jaGVja1N1cHBvcnQoXCJub2Rlc3RyZWFtXCIpLFwibm9kZWJ1ZmZlclwiIT09dGhpcy5fb3V0cHV0VHlwZSl0aHJvdyBuZXcgRXJyb3IodGhpcy5fb3V0cHV0VHlwZStcIiBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgbWV0aG9kXCIpO3JldHVybiBuZXcgTm9kZWpzU3RyZWFtT3V0cHV0QWRhcHRlcih0aGlzLHtvYmplY3RNb2RlOlwibm9kZWJ1ZmZlclwiIT09dGhpcy5fb3V0cHV0VHlwZX0sdXBkYXRlQ2IpfX0sbW9kdWxlLmV4cG9ydHM9U3RyZWFtSGVscGVyfSkuY2FsbCh0aGlzLF9fd2VicGFja19yZXF1aXJlX18oMjEpLkJ1ZmZlcil9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2V4cG9ydHMuYmFzZTY0PSExLGV4cG9ydHMuYmluYXJ5PSExLGV4cG9ydHMuZGlyPSExLGV4cG9ydHMuY3JlYXRlRm9sZGVycz0hMCxleHBvcnRzLmRhdGU9bnVsbCxleHBvcnRzLmNvbXByZXNzaW9uPW51bGwsZXhwb3J0cy5jb21wcmVzc2lvbk9wdGlvbnM9bnVsbCxleHBvcnRzLmNvbW1lbnQ9bnVsbCxleHBvcnRzLnVuaXhQZXJtaXNzaW9ucz1udWxsLGV4cG9ydHMuZG9zUGVybWlzc2lvbnM9bnVsbH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMCksR2VuZXJpY1dvcmtlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpO2Z1bmN0aW9uIERhdGFXb3JrZXIoZGF0YVApe0dlbmVyaWNXb3JrZXIuY2FsbCh0aGlzLFwiRGF0YVdvcmtlclwiKTt2YXIgc2VsZj10aGlzO3RoaXMuZGF0YUlzUmVhZHk9ITEsdGhpcy5pbmRleD0wLHRoaXMubWF4PTAsdGhpcy5kYXRhPW51bGwsdGhpcy50eXBlPVwiXCIsdGhpcy5fdGlja1NjaGVkdWxlZD0hMSxkYXRhUC50aGVuKGZ1bmN0aW9uKGRhdGEpe3NlbGYuZGF0YUlzUmVhZHk9ITAsc2VsZi5kYXRhPWRhdGEsc2VsZi5tYXg9ZGF0YSYmZGF0YS5sZW5ndGh8fDAsc2VsZi50eXBlPXV0aWxzLmdldFR5cGVPZihkYXRhKSxzZWxmLmlzUGF1c2VkfHxzZWxmLl90aWNrQW5kUmVwZWF0KCl9LGZ1bmN0aW9uKGUpe3NlbGYuZXJyb3IoZSl9KX11dGlscy5pbmhlcml0cyhEYXRhV29ya2VyLEdlbmVyaWNXb3JrZXIpLERhdGFXb3JrZXIucHJvdG90eXBlLmNsZWFuVXA9ZnVuY3Rpb24oKXtHZW5lcmljV29ya2VyLnByb3RvdHlwZS5jbGVhblVwLmNhbGwodGhpcyksdGhpcy5kYXRhPW51bGx9LERhdGFXb3JrZXIucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbigpe3JldHVybiEhR2VuZXJpY1dvcmtlci5wcm90b3R5cGUucmVzdW1lLmNhbGwodGhpcykmJighdGhpcy5fdGlja1NjaGVkdWxlZCYmdGhpcy5kYXRhSXNSZWFkeSYmKHRoaXMuX3RpY2tTY2hlZHVsZWQ9ITAsdXRpbHMuZGVsYXkodGhpcy5fdGlja0FuZFJlcGVhdCxbXSx0aGlzKSksITApfSxEYXRhV29ya2VyLnByb3RvdHlwZS5fdGlja0FuZFJlcGVhdD1mdW5jdGlvbigpe3RoaXMuX3RpY2tTY2hlZHVsZWQ9ITEsdGhpcy5pc1BhdXNlZHx8dGhpcy5pc0ZpbmlzaGVkfHwodGhpcy5fdGljaygpLHRoaXMuaXNGaW5pc2hlZHx8KHV0aWxzLmRlbGF5KHRoaXMuX3RpY2tBbmRSZXBlYXQsW10sdGhpcyksdGhpcy5fdGlja1NjaGVkdWxlZD0hMCkpfSxEYXRhV29ya2VyLnByb3RvdHlwZS5fdGljaz1mdW5jdGlvbigpe2lmKHRoaXMuaXNQYXVzZWR8fHRoaXMuaXNGaW5pc2hlZClyZXR1cm4hMTt2YXIgZGF0YT1udWxsLG5leHRJbmRleD1NYXRoLm1pbih0aGlzLm1heCx0aGlzLmluZGV4KzE2Mzg0KTtpZih0aGlzLmluZGV4Pj10aGlzLm1heClyZXR1cm4gdGhpcy5lbmQoKTtzd2l0Y2godGhpcy50eXBlKXtjYXNlXCJzdHJpbmdcIjpkYXRhPXRoaXMuZGF0YS5zdWJzdHJpbmcodGhpcy5pbmRleCxuZXh0SW5kZXgpO2JyZWFrO2Nhc2VcInVpbnQ4YXJyYXlcIjpkYXRhPXRoaXMuZGF0YS5zdWJhcnJheSh0aGlzLmluZGV4LG5leHRJbmRleCk7YnJlYWs7Y2FzZVwiYXJyYXlcIjpjYXNlXCJub2RlYnVmZmVyXCI6ZGF0YT10aGlzLmRhdGEuc2xpY2UodGhpcy5pbmRleCxuZXh0SW5kZXgpfXJldHVybiB0aGlzLmluZGV4PW5leHRJbmRleCx0aGlzLnB1c2goe2RhdGE6ZGF0YSxtZXRhOntwZXJjZW50OnRoaXMubWF4P3RoaXMuaW5kZXgvdGhpcy5tYXgqMTAwOjB9fSl9LG1vZHVsZS5leHBvcnRzPURhdGFXb3JrZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciB1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLEdlbmVyaWNXb3JrZXI9X193ZWJwYWNrX3JlcXVpcmVfXygyKTtmdW5jdGlvbiBEYXRhTGVuZ3RoUHJvYmUocHJvcE5hbWUpe0dlbmVyaWNXb3JrZXIuY2FsbCh0aGlzLFwiRGF0YUxlbmd0aFByb2JlIGZvciBcIitwcm9wTmFtZSksdGhpcy5wcm9wTmFtZT1wcm9wTmFtZSx0aGlzLndpdGhTdHJlYW1JbmZvKHByb3BOYW1lLDApfXV0aWxzLmluaGVyaXRzKERhdGFMZW5ndGhQcm9iZSxHZW5lcmljV29ya2VyKSxEYXRhTGVuZ3RoUHJvYmUucHJvdG90eXBlLnByb2Nlc3NDaHVuaz1mdW5jdGlvbihjaHVuayl7aWYoY2h1bmspe3ZhciBsZW5ndGg9dGhpcy5zdHJlYW1JbmZvW3RoaXMucHJvcE5hbWVdfHwwO3RoaXMuc3RyZWFtSW5mb1t0aGlzLnByb3BOYW1lXT1sZW5ndGgrY2h1bmsuZGF0YS5sZW5ndGh9R2VuZXJpY1dvcmtlci5wcm90b3R5cGUucHJvY2Vzc0NodW5rLmNhbGwodGhpcyxjaHVuayl9LG1vZHVsZS5leHBvcnRzPURhdGFMZW5ndGhQcm9iZX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIEdlbmVyaWNXb3JrZXI9X193ZWJwYWNrX3JlcXVpcmVfXygyKSxjcmMzMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDQzKTtmdW5jdGlvbiBDcmMzMlByb2JlKCl7R2VuZXJpY1dvcmtlci5jYWxsKHRoaXMsXCJDcmMzMlByb2JlXCIpLHRoaXMud2l0aFN0cmVhbUluZm8oXCJjcmMzMlwiLDApfV9fd2VicGFja19yZXF1aXJlX18oMCkuaW5oZXJpdHMoQ3JjMzJQcm9iZSxHZW5lcmljV29ya2VyKSxDcmMzMlByb2JlLnByb3RvdHlwZS5wcm9jZXNzQ2h1bms9ZnVuY3Rpb24oY2h1bmspe3RoaXMuc3RyZWFtSW5mby5jcmMzMj1jcmMzMihjaHVuay5kYXRhLHRoaXMuc3RyZWFtSW5mby5jcmMzMnx8MCksdGhpcy5wdXNoKGNodW5rKX0sbW9kdWxlLmV4cG9ydHM9Q3JjMzJQcm9iZX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIEdlbmVyaWNXb3JrZXI9X193ZWJwYWNrX3JlcXVpcmVfXygyKTtleHBvcnRzLlNUT1JFPXttYWdpYzpcIlxcMFxcMFwiLGNvbXByZXNzV29ya2VyOmZ1bmN0aW9uKGNvbXByZXNzaW9uT3B0aW9ucyl7cmV0dXJuIG5ldyBHZW5lcmljV29ya2VyKFwiU1RPUkUgY29tcHJlc3Npb25cIil9LHVuY29tcHJlc3NXb3JrZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEdlbmVyaWNXb3JrZXIoXCJTVE9SRSBkZWNvbXByZXNzaW9uXCIpfX0sZXhwb3J0cy5ERUZMQVRFPV9fd2VicGFja19yZXF1aXJlX18oMTA3KX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oYWRsZXIsYnVmLGxlbixwb3Mpe2Zvcih2YXIgczE9NjU1MzUmYWRsZXJ8MCxzMj1hZGxlcj4+PjE2JjY1NTM1fDAsbj0wOzAhPT1sZW47KXtsZW4tPW49bGVuPjJlMz8yZTM6bGVuO2Rve3MyPXMyKyhzMT1zMStidWZbcG9zKytdfDApfDB9d2hpbGUoLS1uKTtzMSU9NjU1MjEsczIlPTY1NTIxfXJldHVybiBzMXxzMjw8MTZ8MH19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBjcmNUYWJsZT1mdW5jdGlvbigpe2Zvcih2YXIgYyx0YWJsZT1bXSxuPTA7bjwyNTY7bisrKXtjPW47Zm9yKHZhciBrPTA7azw4O2srKyljPTEmYz8zOTg4MjkyMzg0XmM+Pj4xOmM+Pj4xO3RhYmxlW25dPWN9cmV0dXJuIHRhYmxlfSgpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKGNyYyxidWYsbGVuLHBvcyl7dmFyIHQ9Y3JjVGFibGUsZW5kPXBvcytsZW47Y3JjXj0tMTtmb3IodmFyIGk9cG9zO2k8ZW5kO2krKyljcmM9Y3JjPj4+OF50WzI1NSYoY3JjXmJ1ZltpXSldO3JldHVybi0xXmNyY319LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciB1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDgpLFNUUl9BUFBMWV9PSz0hMCxTVFJfQVBQTFlfVUlBX09LPSEwO3RyeXtTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsWzBdKX1jYXRjaChfXyl7U1RSX0FQUExZX09LPSExfXRyeXtTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQ4QXJyYXkoMSkpfWNhdGNoKF9fKXtTVFJfQVBQTFlfVUlBX09LPSExfWZvcih2YXIgX3V0ZjhsZW49bmV3IHV0aWxzLkJ1ZjgoMjU2KSxxPTA7cTwyNTY7cSsrKV91dGY4bGVuW3FdPXE+PTI1Mj82OnE+PTI0OD81OnE+PTI0MD80OnE+PTIyND8zOnE+PTE5Mj8yOjE7ZnVuY3Rpb24gYnVmMmJpbnN0cmluZyhidWYsbGVuKXtpZihsZW48NjU1MzQmJihidWYuc3ViYXJyYXkmJlNUUl9BUFBMWV9VSUFfT0t8fCFidWYuc3ViYXJyYXkmJlNUUl9BUFBMWV9PSykpcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCx1dGlscy5zaHJpbmtCdWYoYnVmLGxlbikpO2Zvcih2YXIgcmVzdWx0PVwiXCIsaT0wO2k8bGVuO2krKylyZXN1bHQrPVN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldKTtyZXR1cm4gcmVzdWx0fV91dGY4bGVuWzI1NF09X3V0ZjhsZW5bMjU0XT0xLGV4cG9ydHMuc3RyaW5nMmJ1Zj1mdW5jdGlvbihzdHIpe3ZhciBidWYsYyxjMixtX3BvcyxpLHN0cl9sZW49c3RyLmxlbmd0aCxidWZfbGVuPTA7Zm9yKG1fcG9zPTA7bV9wb3M8c3RyX2xlbjttX3BvcysrKTU1Mjk2PT0oNjQ1MTImKGM9c3RyLmNoYXJDb2RlQXQobV9wb3MpKSkmJm1fcG9zKzE8c3RyX2xlbiYmNTYzMjA9PSg2NDUxMiYoYzI9c3RyLmNoYXJDb2RlQXQobV9wb3MrMSkpKSYmKGM9NjU1MzYrKGMtNTUyOTY8PDEwKSsoYzItNTYzMjApLG1fcG9zKyspLGJ1Zl9sZW4rPWM8MTI4PzE6YzwyMDQ4PzI6Yzw2NTUzNj8zOjQ7Zm9yKGJ1Zj1uZXcgdXRpbHMuQnVmOChidWZfbGVuKSxpPTAsbV9wb3M9MDtpPGJ1Zl9sZW47bV9wb3MrKyk1NTI5Nj09KDY0NTEyJihjPXN0ci5jaGFyQ29kZUF0KG1fcG9zKSkpJiZtX3BvcysxPHN0cl9sZW4mJjU2MzIwPT0oNjQ1MTImKGMyPXN0ci5jaGFyQ29kZUF0KG1fcG9zKzEpKSkmJihjPTY1NTM2KyhjLTU1Mjk2PDwxMCkrKGMyLTU2MzIwKSxtX3BvcysrKSxjPDEyOD9idWZbaSsrXT1jOmM8MjA0OD8oYnVmW2krK109MTkyfGM+Pj42LGJ1ZltpKytdPTEyOHw2MyZjKTpjPDY1NTM2PyhidWZbaSsrXT0yMjR8Yz4+PjEyLGJ1ZltpKytdPTEyOHxjPj4+NiY2MyxidWZbaSsrXT0xMjh8NjMmYyk6KGJ1ZltpKytdPTI0MHxjPj4+MTgsYnVmW2krK109MTI4fGM+Pj4xMiY2MyxidWZbaSsrXT0xMjh8Yz4+PjYmNjMsYnVmW2krK109MTI4fDYzJmMpO3JldHVybiBidWZ9LGV4cG9ydHMuYnVmMmJpbnN0cmluZz1mdW5jdGlvbihidWYpe3JldHVybiBidWYyYmluc3RyaW5nKGJ1ZixidWYubGVuZ3RoKX0sZXhwb3J0cy5iaW5zdHJpbmcyYnVmPWZ1bmN0aW9uKHN0cil7Zm9yKHZhciBidWY9bmV3IHV0aWxzLkJ1Zjgoc3RyLmxlbmd0aCksaT0wLGxlbj1idWYubGVuZ3RoO2k8bGVuO2krKylidWZbaV09c3RyLmNoYXJDb2RlQXQoaSk7cmV0dXJuIGJ1Zn0sZXhwb3J0cy5idWYyc3RyaW5nPWZ1bmN0aW9uKGJ1ZixtYXgpe3ZhciBpLG91dCxjLGNfbGVuLGxlbj1tYXh8fGJ1Zi5sZW5ndGgsdXRmMTZidWY9bmV3IEFycmF5KDIqbGVuKTtmb3Iob3V0PTAsaT0wO2k8bGVuOylpZigoYz1idWZbaSsrXSk8MTI4KXV0ZjE2YnVmW291dCsrXT1jO2Vsc2UgaWYoKGNfbGVuPV91dGY4bGVuW2NdKT40KXV0ZjE2YnVmW291dCsrXT02NTUzMyxpKz1jX2xlbi0xO2Vsc2V7Zm9yKGMmPTI9PT1jX2xlbj8zMTozPT09Y19sZW4/MTU6NztjX2xlbj4xJiZpPGxlbjspYz1jPDw2fDYzJmJ1ZltpKytdLGNfbGVuLS07Y19sZW4+MT91dGYxNmJ1ZltvdXQrK109NjU1MzM6Yzw2NTUzNj91dGYxNmJ1ZltvdXQrK109YzooYy09NjU1MzYsdXRmMTZidWZbb3V0KytdPTU1Mjk2fGM+PjEwJjEwMjMsdXRmMTZidWZbb3V0KytdPTU2MzIwfDEwMjMmYyl9cmV0dXJuIGJ1ZjJiaW5zdHJpbmcodXRmMTZidWYsb3V0KX0sZXhwb3J0cy51dGY4Ym9yZGVyPWZ1bmN0aW9uKGJ1ZixtYXgpe3ZhciBwb3M7Zm9yKChtYXg9bWF4fHxidWYubGVuZ3RoKT5idWYubGVuZ3RoJiYobWF4PWJ1Zi5sZW5ndGgpLHBvcz1tYXgtMTtwb3M+PTAmJjEyOD09KDE5MiZidWZbcG9zXSk7KXBvcy0tO3JldHVybiBwb3M8MD9tYXg6MD09PXBvcz9tYXg6cG9zK191dGY4bGVuW2J1Zltwb3NdXT5tYXg/cG9zOm1heH19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKCl7dGhpcy5pbnB1dD1udWxsLHRoaXMubmV4dF9pbj0wLHRoaXMuYXZhaWxfaW49MCx0aGlzLnRvdGFsX2luPTAsdGhpcy5vdXRwdXQ9bnVsbCx0aGlzLm5leHRfb3V0PTAsdGhpcy5hdmFpbF9vdXQ9MCx0aGlzLnRvdGFsX291dD0wLHRoaXMubXNnPVwiXCIsdGhpcy5zdGF0ZT1udWxsLHRoaXMuZGF0YV90eXBlPTIsdGhpcy5hZGxlcj0wfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7bW9kdWxlLmV4cG9ydHM9e1pfTk9fRkxVU0g6MCxaX1BBUlRJQUxfRkxVU0g6MSxaX1NZTkNfRkxVU0g6MixaX0ZVTExfRkxVU0g6MyxaX0ZJTklTSDo0LFpfQkxPQ0s6NSxaX1RSRUVTOjYsWl9PSzowLFpfU1RSRUFNX0VORDoxLFpfTkVFRF9ESUNUOjIsWl9FUlJOTzotMSxaX1NUUkVBTV9FUlJPUjotMixaX0RBVEFfRVJST1I6LTMsWl9CVUZfRVJST1I6LTUsWl9OT19DT01QUkVTU0lPTjowLFpfQkVTVF9TUEVFRDoxLFpfQkVTVF9DT01QUkVTU0lPTjo5LFpfREVGQVVMVF9DT01QUkVTU0lPTjotMSxaX0ZJTFRFUkVEOjEsWl9IVUZGTUFOX09OTFk6MixaX1JMRTozLFpfRklYRUQ6NCxaX0RFRkFVTFRfU1RSQVRFR1k6MCxaX0JJTkFSWTowLFpfVEVYVDoxLFpfVU5LTk9XTjoyLFpfREVGTEFURUQ6OH19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2V4cG9ydHMuTE9DQUxfRklMRV9IRUFERVI9XCJQS1x1MDAwM1x1MDAwNFwiLGV4cG9ydHMuQ0VOVFJBTF9GSUxFX0hFQURFUj1cIlBLXHUwMDAxXHUwMDAyXCIsZXhwb3J0cy5DRU5UUkFMX0RJUkVDVE9SWV9FTkQ9XCJQS1x1MDAwNVx1MDAwNlwiLGV4cG9ydHMuWklQNjRfQ0VOVFJBTF9ESVJFQ1RPUllfTE9DQVRPUj1cIlBLXHUwMDA2XHUwMDA3XCIsZXhwb3J0cy5aSVA2NF9DRU5UUkFMX0RJUkVDVE9SWV9FTkQ9XCJQS1x1MDAwNlx1MDAwNlwiLGV4cG9ydHMuREFUQV9ERVNDUklQVE9SPVwiUEtcdTAwMDdcXGJcIn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMCksc3VwcG9ydD1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpLEFycmF5UmVhZGVyPV9fd2VicGFja19yZXF1aXJlX18oNzEpLFN0cmluZ1JlYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDEyMSksTm9kZUJ1ZmZlclJlYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDEyMiksVWludDhBcnJheVJlYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDczKTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihkYXRhKXt2YXIgdHlwZT11dGlscy5nZXRUeXBlT2YoZGF0YSk7cmV0dXJuIHV0aWxzLmNoZWNrU3VwcG9ydCh0eXBlKSxcInN0cmluZ1wiIT09dHlwZXx8c3VwcG9ydC51aW50OGFycmF5P1wibm9kZWJ1ZmZlclwiPT09dHlwZT9uZXcgTm9kZUJ1ZmZlclJlYWRlcihkYXRhKTpzdXBwb3J0LnVpbnQ4YXJyYXk/bmV3IFVpbnQ4QXJyYXlSZWFkZXIodXRpbHMudHJhbnNmb3JtVG8oXCJ1aW50OGFycmF5XCIsZGF0YSkpOm5ldyBBcnJheVJlYWRlcih1dGlscy50cmFuc2Zvcm1UbyhcImFycmF5XCIsZGF0YSkpOm5ldyBTdHJpbmdSZWFkZXIoZGF0YSl9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgRGF0YVJlYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDcyKTtmdW5jdGlvbiBBcnJheVJlYWRlcihkYXRhKXtEYXRhUmVhZGVyLmNhbGwodGhpcyxkYXRhKTtmb3IodmFyIGk9MDtpPHRoaXMuZGF0YS5sZW5ndGg7aSsrKWRhdGFbaV09MjU1JmRhdGFbaV19X193ZWJwYWNrX3JlcXVpcmVfXygwKS5pbmhlcml0cyhBcnJheVJlYWRlcixEYXRhUmVhZGVyKSxBcnJheVJlYWRlci5wcm90b3R5cGUuYnl0ZUF0PWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLmRhdGFbdGhpcy56ZXJvK2ldfSxBcnJheVJlYWRlci5wcm90b3R5cGUubGFzdEluZGV4T2ZTaWduYXR1cmU9ZnVuY3Rpb24oc2lnKXtmb3IodmFyIHNpZzA9c2lnLmNoYXJDb2RlQXQoMCksc2lnMT1zaWcuY2hhckNvZGVBdCgxKSxzaWcyPXNpZy5jaGFyQ29kZUF0KDIpLHNpZzM9c2lnLmNoYXJDb2RlQXQoMyksaT10aGlzLmxlbmd0aC00O2k+PTA7LS1pKWlmKHRoaXMuZGF0YVtpXT09PXNpZzAmJnRoaXMuZGF0YVtpKzFdPT09c2lnMSYmdGhpcy5kYXRhW2krMl09PT1zaWcyJiZ0aGlzLmRhdGFbaSszXT09PXNpZzMpcmV0dXJuIGktdGhpcy56ZXJvO3JldHVybi0xfSxBcnJheVJlYWRlci5wcm90b3R5cGUucmVhZEFuZENoZWNrU2lnbmF0dXJlPWZ1bmN0aW9uKHNpZyl7dmFyIHNpZzA9c2lnLmNoYXJDb2RlQXQoMCksc2lnMT1zaWcuY2hhckNvZGVBdCgxKSxzaWcyPXNpZy5jaGFyQ29kZUF0KDIpLHNpZzM9c2lnLmNoYXJDb2RlQXQoMyksZGF0YT10aGlzLnJlYWREYXRhKDQpO3JldHVybiBzaWcwPT09ZGF0YVswXSYmc2lnMT09PWRhdGFbMV0mJnNpZzI9PT1kYXRhWzJdJiZzaWczPT09ZGF0YVszXX0sQXJyYXlSZWFkZXIucHJvdG90eXBlLnJlYWREYXRhPWZ1bmN0aW9uKHNpemUpe2lmKHRoaXMuY2hlY2tPZmZzZXQoc2l6ZSksMD09PXNpemUpcmV0dXJuW107dmFyIHJlc3VsdD10aGlzLmRhdGEuc2xpY2UodGhpcy56ZXJvK3RoaXMuaW5kZXgsdGhpcy56ZXJvK3RoaXMuaW5kZXgrc2l6ZSk7cmV0dXJuIHRoaXMuaW5kZXgrPXNpemUscmVzdWx0fSxtb2R1bGUuZXhwb3J0cz1BcnJheVJlYWRlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMCk7ZnVuY3Rpb24gRGF0YVJlYWRlcihkYXRhKXt0aGlzLmRhdGE9ZGF0YSx0aGlzLmxlbmd0aD1kYXRhLmxlbmd0aCx0aGlzLmluZGV4PTAsdGhpcy56ZXJvPTB9RGF0YVJlYWRlci5wcm90b3R5cGU9e2NoZWNrT2Zmc2V0OmZ1bmN0aW9uKG9mZnNldCl7dGhpcy5jaGVja0luZGV4KHRoaXMuaW5kZXgrb2Zmc2V0KX0sY2hlY2tJbmRleDpmdW5jdGlvbihuZXdJbmRleCl7aWYodGhpcy5sZW5ndGg8dGhpcy56ZXJvK25ld0luZGV4fHxuZXdJbmRleDwwKXRocm93IG5ldyBFcnJvcihcIkVuZCBvZiBkYXRhIHJlYWNoZWQgKGRhdGEgbGVuZ3RoID0gXCIrdGhpcy5sZW5ndGgrXCIsIGFza2VkIGluZGV4ID0gXCIrbmV3SW5kZXgrXCIpLiBDb3JydXB0ZWQgemlwID9cIil9LHNldEluZGV4OmZ1bmN0aW9uKG5ld0luZGV4KXt0aGlzLmNoZWNrSW5kZXgobmV3SW5kZXgpLHRoaXMuaW5kZXg9bmV3SW5kZXh9LHNraXA6ZnVuY3Rpb24obil7dGhpcy5zZXRJbmRleCh0aGlzLmluZGV4K24pfSxieXRlQXQ6ZnVuY3Rpb24oaSl7fSxyZWFkSW50OmZ1bmN0aW9uKHNpemUpe3ZhciBpLHJlc3VsdD0wO2Zvcih0aGlzLmNoZWNrT2Zmc2V0KHNpemUpLGk9dGhpcy5pbmRleCtzaXplLTE7aT49dGhpcy5pbmRleDtpLS0pcmVzdWx0PShyZXN1bHQ8PDgpK3RoaXMuYnl0ZUF0KGkpO3JldHVybiB0aGlzLmluZGV4Kz1zaXplLHJlc3VsdH0scmVhZFN0cmluZzpmdW5jdGlvbihzaXplKXtyZXR1cm4gdXRpbHMudHJhbnNmb3JtVG8oXCJzdHJpbmdcIix0aGlzLnJlYWREYXRhKHNpemUpKX0scmVhZERhdGE6ZnVuY3Rpb24oc2l6ZSl7fSxsYXN0SW5kZXhPZlNpZ25hdHVyZTpmdW5jdGlvbihzaWcpe30scmVhZEFuZENoZWNrU2lnbmF0dXJlOmZ1bmN0aW9uKHNpZyl7fSxyZWFkRGF0ZTpmdW5jdGlvbigpe3ZhciBkb3N0aW1lPXRoaXMucmVhZEludCg0KTtyZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoMTk4MCsoZG9zdGltZT4+MjUmMTI3KSwoZG9zdGltZT4+MjEmMTUpLTEsZG9zdGltZT4+MTYmMzEsZG9zdGltZT4+MTEmMzEsZG9zdGltZT4+NSY2MywoMzEmZG9zdGltZSk8PDEpKX19LG1vZHVsZS5leHBvcnRzPURhdGFSZWFkZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBBcnJheVJlYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDcxKTtmdW5jdGlvbiBVaW50OEFycmF5UmVhZGVyKGRhdGEpe0FycmF5UmVhZGVyLmNhbGwodGhpcyxkYXRhKX1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLmluaGVyaXRzKFVpbnQ4QXJyYXlSZWFkZXIsQXJyYXlSZWFkZXIpLFVpbnQ4QXJyYXlSZWFkZXIucHJvdG90eXBlLnJlYWREYXRhPWZ1bmN0aW9uKHNpemUpe2lmKHRoaXMuY2hlY2tPZmZzZXQoc2l6ZSksMD09PXNpemUpcmV0dXJuIG5ldyBVaW50OEFycmF5KDApO3ZhciByZXN1bHQ9dGhpcy5kYXRhLnN1YmFycmF5KHRoaXMuemVybyt0aGlzLmluZGV4LHRoaXMuemVybyt0aGlzLmluZGV4K3NpemUpO3JldHVybiB0aGlzLmluZGV4Kz1zaXplLHJlc3VsdH0sbW9kdWxlLmV4cG9ydHM9VWludDhBcnJheVJlYWRlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0U9dm9pZCAwLGV4cG9ydHMuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFPVwicHVzaHdvb3NoLXN1YnNjcmlwdGlvbi13aWRnZXRcIn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIFBsYXRmb3JtQ2hlY2tlcl8xPV9fd2VicGFja19yZXF1aXJlX18oNzYpLFBsYXRmb3JtQ2hlY2tlcl8yPV9fd2VicGFja19yZXF1aXJlX18oNzYpO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiUGxhdGZvcm1DaGVja2VyXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIFBsYXRmb3JtQ2hlY2tlcl8yLlBsYXRmb3JtQ2hlY2tlcn19KSxleHBvcnRzLmRlZmF1bHQ9UGxhdGZvcm1DaGVja2VyXzEucGxhdGZvcm1DaGVja2VyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLnBsYXRmb3JtQ2hlY2tlcj1leHBvcnRzLlBsYXRmb3JtQ2hlY2tlcj12b2lkIDA7dmFyIFBsYXRmb3JtQ2hlY2tlcj1mdW5jdGlvbigpe2Z1bmN0aW9uIFBsYXRmb3JtQ2hlY2tlcihnbG9iYWwpe3ZvaWQgMD09PWdsb2JhbCYmKGdsb2JhbD13aW5kb3cpLHRoaXMuZ2xvYmFsPWdsb2JhbCx0aGlzLl9pc1NhZmFyaT10aGlzLmlzU2FmYXJpQnJvd3NlcigpLHRoaXMuX2lzT3BlcmE9dGhpcy5pc09wZXJhQnJvd3NlcigpLHRoaXMuX2lzRWRnZT10aGlzLmlzRWRnZUJyb3dzZXIoKSx0aGlzLl9pc0ZpcmVmb3g9dGhpcy5pc0ZpcmVmb3hCcm93c2VyKCksdGhpcy5faXNDaHJvbWU9dGhpcy5pc0Nocm9tZUJyb3dzZXIoKSx0aGlzLl9pc01hY09TPXRoaXMuaXNNYWNPUygpLHRoaXMuX2lzQXZhaWxhYmxlUHJvbWlzZT10aGlzLmNhblVzZVByb21pc2UoKSx0aGlzLl9pc0F2YWlsYWJsZVNlcnZpY2VXb3JrZXI9dGhpcy5jYW5Vc2VTZXJ2aWNlV29ya2VycygpLHRoaXMuX2lzQXZhaWxhYmxlTm90aWZpY2F0aW9ucz10aGlzLmNhblJlY2VpdmVOb3RpZmljYXRpb25zKCksdGhpcy5fcGxhdGZvcm09dGhpcy5nZXRQbGF0Zm9ybVR5cGUoKSx0aGlzLl9icm93c2VyVmVyc2lvbj10aGlzLmdldEJyb3dzZXJWZXJzaW9uKCl9cmV0dXJuIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQbGF0Zm9ybUNoZWNrZXIucHJvdG90eXBlLFwiaXNFZGdlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0VkZ2V9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUsXCJpc1NhZmFyaVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNTYWZhcml9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUsXCJpc09wZXJhXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc09wZXJhfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQbGF0Zm9ybUNoZWNrZXIucHJvdG90eXBlLFwiaXNBdmFpbGFibGVQcm9taXNlXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0F2YWlsYWJsZVByb21pc2V9LGVudW1lcmFibGU6ITEsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUsXCJpc0F2YWlsYWJsZVNlcnZpY2VXb3JrZXJcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzQXZhaWxhYmxlU2VydmljZVdvcmtlcn0sZW51bWVyYWJsZTohMSxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoUGxhdGZvcm1DaGVja2VyLnByb3RvdHlwZSxcImlzQXZhaWxhYmxlTm90aWZpY2F0aW9uc1wiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNBdmFpbGFibGVOb3RpZmljYXRpb25zfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQbGF0Zm9ybUNoZWNrZXIucHJvdG90eXBlLFwicGxhdGZvcm1cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3BsYXRmb3JtfSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQbGF0Zm9ybUNoZWNrZXIucHJvdG90eXBlLFwiYnJvd3NlclZlcnNpb25cIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2Jyb3dzZXJWZXJzaW9ufSxlbnVtZXJhYmxlOiExLGNvbmZpZ3VyYWJsZTohMH0pLFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUuaXNTYWZhcmlCcm93c2VyPWZ1bmN0aW9uKCl7cmV0dXJuXCJzYWZhcmlcImluIHRoaXMuZ2xvYmFsJiZuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoXCJTYWZhcmlcIik+LTF9LFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUuaXNPcGVyYUJyb3dzZXI9ZnVuY3Rpb24oKXtyZXR1cm4tMSE9PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIk9wZXJhXCIpfHwtMSE9PW5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIk9QUlwiKX0sUGxhdGZvcm1DaGVja2VyLnByb3RvdHlwZS5pc0VkZ2VCcm93c2VyPWZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIkVkZ2VcIik+LTF9LFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUuaXNGaXJlZm94QnJvd3Nlcj1mdW5jdGlvbigpe3JldHVybi0xIT09bmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJmaXJlZm94XCIpfSxQbGF0Zm9ybUNoZWNrZXIucHJvdG90eXBlLmlzQ2hyb21lQnJvd3Nlcj1mdW5jdGlvbigpe3JldHVybi9DaHJvbWUvLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkmJi9Hb29nbGUgSW5jLy50ZXN0KG5hdmlnYXRvci52ZW5kb3IpJiYhdGhpcy5faXNPcGVyYSYmIXRoaXMuX2lzRWRnZX0sUGxhdGZvcm1DaGVja2VyLnByb3RvdHlwZS5pc01hY09TPWZ1bmN0aW9uKCl7cmV0dXJuXCJwbGF0Zm9ybVwiaW4gbmF2aWdhdG9yJiYtMSE9PW5hdmlnYXRvci5wbGF0Zm9ybS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoXCJtYWNcIil9LFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUuY2FuVXNlU2VydmljZVdvcmtlcnM9ZnVuY3Rpb24oKXtyZXR1cm4hIW5hdmlnYXRvci5zZXJ2aWNlV29ya2VyJiZcIlB1c2hNYW5hZ2VyXCJpbiB0aGlzLmdsb2JhbCYmXCJOb3RpZmljYXRpb25cImluIHRoaXMuZ2xvYmFsfSxQbGF0Zm9ybUNoZWNrZXIucHJvdG90eXBlLmNhblVzZVByb21pc2U9ZnVuY3Rpb24oKXtyZXR1cm5cIlByb21pc2VcImluIHRoaXMuZ2xvYmFsfSxQbGF0Zm9ybUNoZWNrZXIucHJvdG90eXBlLmNhblJlY2VpdmVOb3RpZmljYXRpb25zPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzU2FmYXJpJiZ0aGlzLl9pc01hY09TfHx0aGlzLl9pc0F2YWlsYWJsZVNlcnZpY2VXb3JrZXImJiF0aGlzLl9pc0VkZ2V9LFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUuZ2V0UGxhdGZvcm1UeXBlPWZ1bmN0aW9uKCl7dmFyIHBsYXRmb3JtPTExO3N3aXRjaCghMCl7Y2FzZSB0aGlzLl9pc1NhZmFyaTpwbGF0Zm9ybT0xMDticmVhaztjYXNlIHRoaXMuX2lzT3BlcmF8fHRoaXMuX2lzQ2hyb21lOnBsYXRmb3JtPTExO2JyZWFrO2Nhc2UgdGhpcy5faXNGaXJlZm94OnBsYXRmb3JtPTEyO2JyZWFrO2Nhc2UgdGhpcy5faXNFZGdlOnBsYXRmb3JtPTE1MH1yZXR1cm4gcGxhdGZvcm19LFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUuZ2V0QnJvd3NlclZlcnNpb249ZnVuY3Rpb24oKXt2YXIgdXNlckFnZW50PW5hdmlnYXRvci51c2VyQWdlbnQsbWF0Y2hPcGVyYVZlcnNpb249dXNlckFnZW50Lm1hdGNoKC9cXGJPUFJcXC8oXFxkKykvKTtpZihudWxsIT09bWF0Y2hPcGVyYVZlcnNpb24pcmV0dXJuXCJPcGVyYSBcIittYXRjaE9wZXJhVmVyc2lvblsxXTt2YXIgbWF0Y2hFZGdlVmVyc2lvbj11c2VyQWdlbnQubWF0Y2goL1xcYkVkZ2VcXC8oXFxkKykvKTtpZihudWxsIT09bWF0Y2hFZGdlVmVyc2lvbilyZXR1cm5cIkVkZ2UgXCIrbWF0Y2hFZGdlVmVyc2lvblsxXTt2YXIgbWF0Y2hFZGdWZXJzaW9uPXVzZXJBZ2VudC5tYXRjaCgvXFxiRWRnXFwvKFxcZCspLyk7aWYobnVsbCE9PW1hdGNoRWRnVmVyc2lvbilyZXR1cm5cIkVkZ2UgXCIrbWF0Y2hFZGdWZXJzaW9uWzFdO3ZhciBtYXRjaD11c2VyQWdlbnQubWF0Y2goLyhvcGVyYXxjaHJvbWV8c2FmYXJpfGZpcmVmb3h8bXNpZXx0cmlkZW50KD89XFwvKSlcXC8/XFxzKihcXGQrKS9pKXx8W10sX2E9KG1hdGNoWzBdLG1hdGNoWzFdKSxicm93c2VyPXZvaWQgMD09PV9hP1wiXCI6X2E7aWYoL3RyaWRlbnQvaS50ZXN0KHVzZXJBZ2VudCkpe3ZhciBtYXRjaEllVmVyc2lvbj0vdHJpZGVudFxcLyhbLlxcZF0rKS9naS5leGVjKHVzZXJBZ2VudCl8fFtdO3JldHVyblwiSUUgXCIrKChcIjcuMFwiPT09bWF0Y2hJZVZlcnNpb25bMV0/XCIxMVwiOm1hdGNoSWVWZXJzaW9uWzFdKXx8XCJcIil9bWF0Y2g9bWF0Y2hbMl0/W2Jyb3dzZXIsbWF0Y2hbMl1dOltuYXZpZ2F0b3IuYXBwTmFtZSxuYXZpZ2F0b3IuYXBwVmVyc2lvbixcIi0/XCJdO3ZhciB2ZXJzaW9uPXVzZXJBZ2VudC5tYXRjaCgvdmVyc2lvblxcLyhbLlxcZF0rKS9pKTtyZXR1cm4gbnVsbCE9PXZlcnNpb24mJm1hdGNoLnNwbGljZSgxLDEsdmVyc2lvblsxXSksbWF0Y2guam9pbihcIiBcIil9LFBsYXRmb3JtQ2hlY2tlcn0oKTtleHBvcnRzLlBsYXRmb3JtQ2hlY2tlcj1QbGF0Zm9ybUNoZWNrZXIsZXhwb3J0cy5wbGF0Zm9ybUNoZWNrZXI9bmV3IFBsYXRmb3JtQ2hlY2tlcihGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLlNVQlNDUklCRV9XSURHRVRfREVGQVVMVF9DT05GSUc9ZXhwb3J0cy5XSURHRVRfQ09OVEFJTkVSX0lEPWV4cG9ydHMuQkVMTF9QT1NJVElPTl9UT1BfTEVGVD1leHBvcnRzLkJFTExfUE9TSVRJT05fVE9QX1JJR0hUPWV4cG9ydHMuQkVMTF9QT1NJVElPTl9CT1RUT01fTEVGVD1leHBvcnRzLkJFTExfUE9TSVRJT05fQk9UVE9NX1JJR0hUPXZvaWQgMCxleHBvcnRzLkJFTExfUE9TSVRJT05fQk9UVE9NX1JJR0hUPVwiYm90dG9tUmlnaHRcIixleHBvcnRzLkJFTExfUE9TSVRJT05fQk9UVE9NX0xFRlQ9XCJib3R0b21MZWZ0XCIsZXhwb3J0cy5CRUxMX1BPU0lUSU9OX1RPUF9SSUdIVD1cInRvcFJpZ2h0XCIsZXhwb3J0cy5CRUxMX1BPU0lUSU9OX1RPUF9MRUZUPVwidG9wTGVmdFwiLGV4cG9ydHMuV0lER0VUX0NPTlRBSU5FUl9JRD1cInB1c2h3b29zaEJlbGxXaWRnZXRcIixleHBvcnRzLlNVQlNDUklCRV9XSURHRVRfREVGQVVMVF9DT05GSUc9e3Bvc2l0aW9uOmV4cG9ydHMuQkVMTF9QT1NJVElPTl9CT1RUT01fTEVGVCxiZ0NvbG9yOlwiIzEyQUU3RVwiLGJlbGxDb2xvcjpcIndoaXRlXCIsYmVsbFN0cm9rZUNvbG9yOlwiIzA4NzU0ZlwiLGJlbGxCdXR0b25Cb3JkZXI6XCIxcHggc29saWQgIzM3OTY3NlwiLHNoYWRvdzpcIjBweCAwcHggNnB4IHJnYmEoMCwgMCwgMCwgMC43NSlcIixzaXplOlwiNDhweFwiLGluZGVudDpcIjIwcHhcIix6SW5kZXg6XCI5OTk5OTlcIix0b29sdGlwVGV4dDp7c3VjY2Vzc1N1YnNjcmliZTpcIllvdSBhcmUgc3VjY2Vzc2Z1bGx5IHN1YnNjcmliZWQhXCIsbmVlZFN1YnNjcmliZTpcIkdldCBub3RpZmljYXRpb25zIGFib3V0IGltcG9ydGFudCBuZXdzIVwiLGJsb2NrU3Vic2NyaWJlOlwiQ2xpY2sgdG8gc2VlIGhvdyB0byBnZXQgbm90aWZpY2F0aW9uc1wiLGFscmVhZHlTdWJzY3JpYmVkOlwiWW91IGFyZSBhbHJlYWR5IHN1YnNjcmliZWRcIn19fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgUHVzaHdvb3NoXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg3OSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJQdXNod29vc2hcIix7ZW51bWVyYWJsZTohMCxnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gUHVzaHdvb3NoXzEuZGVmYXVsdH19KSxfX3dlYnBhY2tfcmVxdWlyZV9fKDE0NSksX193ZWJwYWNrX3JlcXVpcmVfXygxNTEpLF9fd2VicGFja19yZXF1aXJlX18oMTUzKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXNzaWduPXRoaXMmJnRoaXMuX19hc3NpZ258fGZ1bmN0aW9uKCl7cmV0dXJuKF9fYXNzaWduPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgcyxpPTEsbj1hcmd1bWVudHMubGVuZ3RoO2k8bjtpKyspZm9yKHZhciBwIGluIHM9YXJndW1lbnRzW2ldKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLHApJiYodFtwXT1zW3BdKTtyZXR1cm4gdH0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sX19hd2FpdGVyPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbih0aGlzQXJnLF9hcmd1bWVudHMsUCxnZW5lcmF0b3Ipe3JldHVybiBuZXcoUHx8KFA9UHJvbWlzZSkpKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiByZWplY3RlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLnRocm93KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiBzdGVwKHJlc3VsdCl7cmVzdWx0LmRvbmU/cmVzb2x2ZShyZXN1bHQudmFsdWUpOmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQP3ZhbHVlOm5ldyBQKGZ1bmN0aW9uKHJlc29sdmUpe3Jlc29sdmUodmFsdWUpfSl9KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQscmVqZWN0ZWQpfXN0ZXAoKGdlbmVyYXRvcj1nZW5lcmF0b3IuYXBwbHkodGhpc0FyZyxfYXJndW1lbnRzfHxbXSkpLm5leHQoKSl9KX0sX19nZW5lcmF0b3I9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24odGhpc0FyZyxib2R5KXt2YXIgZix5LHQsZyxfPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJnRbMF0pdGhyb3cgdFsxXTtyZXR1cm4gdFsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBnPXtuZXh0OnZlcmIoMCksdGhyb3c6dmVyYigxKSxyZXR1cm46dmVyYigyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYoZ1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxnO2Z1bmN0aW9uIHZlcmIobil7cmV0dXJuIGZ1bmN0aW9uKHYpe3JldHVybiBmdW5jdGlvbihvcCl7aWYoZil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO187KXRyeXtpZihmPTEseSYmKHQ9MiZvcFswXT95LnJldHVybjpvcFswXT95LnRocm93fHwoKHQ9eS5yZXR1cm4pJiZ0LmNhbGwoeSksMCk6eS5uZXh0KSYmISh0PXQuY2FsbCh5LG9wWzFdKSkuZG9uZSlyZXR1cm4gdDtzd2l0Y2goeT0wLHQmJihvcD1bMiZvcFswXSx0LnZhbHVlXSksb3BbMF0pe2Nhc2UgMDpjYXNlIDE6dD1vcDticmVhaztjYXNlIDQ6cmV0dXJuIF8ubGFiZWwrKyx7dmFsdWU6b3BbMV0sZG9uZTohMX07Y2FzZSA1Ol8ubGFiZWwrKyx5PW9wWzFdLG9wPVswXTtjb250aW51ZTtjYXNlIDc6b3A9Xy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoISh0PSh0PV8udHJ5cykubGVuZ3RoPjAmJnRbdC5sZW5ndGgtMV0pJiYoNj09PW9wWzBdfHwyPT09b3BbMF0pKXtfPTA7Y29udGludWV9aWYoMz09PW9wWzBdJiYoIXR8fG9wWzFdPnRbMF0mJm9wWzFdPHRbM10pKXtfLmxhYmVsPW9wWzFdO2JyZWFrfWlmKDY9PT1vcFswXSYmXy5sYWJlbDx0WzFdKXtfLmxhYmVsPXRbMV0sdD1vcDticmVha31pZih0JiZfLmxhYmVsPHRbMl0pe18ubGFiZWw9dFsyXSxfLm9wcy5wdXNoKG9wKTticmVha310WzJdJiZfLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWV9b3A9Ym9keS5jYWxsKHRoaXNBcmcsXyl9Y2F0Y2goZSl7b3A9WzYsZV0seT0wfWZpbmFsbHl7Zj10PTB9aWYoNSZvcFswXSl0aHJvdyBvcFsxXTtyZXR1cm57dmFsdWU6b3BbMF0/b3BbMV06dm9pZCAwLGRvbmU6ITB9fShbbix2XSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHV1aWRfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEzKSxFdmVudEJ1c18xPV9fd2VicGFja19yZXF1aXJlX18oMzIpLEFwaV8xPV9fd2VicGFja19yZXF1aXJlX18oMzQpLERhdGFfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDQpLEFwaUNsaWVudF8xPV9fd2VicGFja19yZXF1aXJlX18oMjYpLFB1c2hTZXJ2aWNlXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg4MCksUG9wdXBfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDgyKSxTdWJzY3JpcHRpb25TZWdtZW50c1dpZGdldF8xPV9fd2VicGFja19yZXF1aXJlX18oODQpLFN1YnNjcmlwdGlvblByb21wdFdpZGdldF8xPV9fd2VicGFja19yZXF1aXJlX18oMTI1KSxDT05TVEFOVFM9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxmdW5jdGlvbnNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEwKSxQbGF0Zm9ybUNoZWNrZXJfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDc1KSxsb2dnZXJfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpLEZhY2Vib29rTW9kdWxlXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMjcpLEluQXBwc18xPV9fd2VicGFja19yZXF1aXJlX18oMTI4KSxzdG9yYWdlXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg1KSxJbmJveE1lc3NhZ2VzXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg0NSksSW5ib3hNZXNzYWdlc1B1YmxpY18xPV9fd2VicGFja19yZXF1aXJlX18oMjUpLFB1c2h3b29zaD1mdW5jdGlvbigpe2Z1bmN0aW9uIFB1c2h3b29zaCgpe3ZhciBfdGhpcz10aGlzO3RoaXMucmVhZHk9ITEsdGhpcy5hZGRFdmVudEhhbmRsZXI9ZnVuY3Rpb24obmFtZSxoYW5kbGVyKXtyZXR1cm4gX3RoaXMuZXZlbnRCdXMuYWRkRXZlbnRIYW5kbGVyKG5hbWUsaGFuZGxlcil9LHRoaXMucmVtb3ZlRXZlbnRIYW5kbGVyPWZ1bmN0aW9uKG5hbWUsaGFuZGxlcil7cmV0dXJuIF90aGlzLmV2ZW50QnVzLnJlbW92ZUV2ZW50SGFuZGxlcihuYW1lLGhhbmRsZXIpfSx0aGlzLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24obmFtZSxwYXlsb2FkKXtyZXR1cm4gX3RoaXMuZXZlbnRCdXMuZGlzcGF0Y2hFdmVudChuYW1lLHBheWxvYWQpfSx0aGlzLmRlYnVnPXtzaG93TG9nOmZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgaXRlbXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHN0b3JhZ2VfMS5sb2cuZ2V0QWxsKCldO2Nhc2UgMTpyZXR1cm4gaXRlbXM9X2Euc2VudCgpLGNvbnNvbGUubG9nKGl0ZW1zKSxbMl19fSl9KX0sc2hvd0tleVZhbHVlczpmdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGl0ZW1zO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxzdG9yYWdlXzEua2V5VmFsdWUuZ2V0QWxsKCldO2Nhc2UgMTpyZXR1cm4gaXRlbXM9X2Euc2VudCgpLGNvbnNvbGUubG9nKGl0ZW1zKSxbMl19fSl9KX0sc2hvd01lc3NhZ2VzOmZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsc3RvcmFnZV8xLm1lc3NhZ2UuZ2V0QWxsKCldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLmZvckVhY2goZnVuY3Rpb24oaSl7cmV0dXJuIGNvbnNvbGUubG9nKGkpfSksWzJdfX0pfSl9fSx0aGlzLmV2ZW50QnVzPW5ldyBFdmVudEJ1c18xLkV2ZW50QnVzLHRoaXMuZGF0YT1uZXcgRGF0YV8xLkRhdGEsdGhpcy5hcGlDbGllbnQ9bmV3IEFwaUNsaWVudF8xLkFwaUNsaWVudCh0aGlzLmRhdGEpLHRoaXMuYXBpPW5ldyBBcGlfMS5BcGkodGhpcy5ldmVudEJ1cyx0aGlzLmRhdGEsdGhpcy5hcGlDbGllbnQpLHRoaXMucGxhdGZvcm1DaGVja2VyPW5ldyBQbGF0Zm9ybUNoZWNrZXJfMS5QbGF0Zm9ybUNoZWNrZXIsdGhpcy5pbmJveE1vZGVsPW5ldyBJbmJveE1lc3NhZ2VzXzEuZGVmYXVsdCh0aGlzLmV2ZW50QnVzLHRoaXMuZGF0YSx0aGlzLmFwaSksdGhpcy5wd2luYm94PW5ldyBJbmJveE1lc3NhZ2VzUHVibGljXzEuZGVmYXVsdCh0aGlzLmRhdGEsdGhpcy5hcGksdGhpcy5pbmJveE1vZGVsKSx0aGlzLm9uU2VydmljZVdvcmtlck1lc3NhZ2U9dGhpcy5vblNlcnZpY2VXb3JrZXJNZXNzYWdlLmJpbmQodGhpcyk7dmFyIHBvcHVwPW5ldyBQb3B1cF8xLlBvcHVwKFwic3Vic2NyaXB0aW9uLXNlZ21lbnRzXCIsZnVuY3Rpb24oKXtyZXR1cm4gX3RoaXMuZXZlbnRCdXMuZGlzcGF0Y2hFdmVudChcImhpZGUtc3Vic2NyaXB0aW9uLXdpZGdldFwiLHt9KX0se3Bvc2l0aW9uOlwidG9wXCJ9KTt0aGlzLnN1YnNjcmlwdGlvblNlZ21lbnRXaWRnZXQ9bmV3IFN1YnNjcmlwdGlvblNlZ21lbnRzV2lkZ2V0XzEuU3Vic2NyaXB0aW9uU2VnbWVudHNXaWRnZXQodGhpcy5ldmVudEJ1cyx0aGlzLmRhdGEsdGhpcy5hcGlDbGllbnQsdGhpcy5hcGkscG9wdXAsdGhpcyksdGhpcy5zdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXQ9bmV3IFN1YnNjcmlwdGlvblByb21wdFdpZGdldF8xLlN1YnNjcmlwdGlvblByb21wdFdpZGdldCh0aGlzLmV2ZW50QnVzLHRoaXMpfXJldHVybiBQdXNod29vc2gucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oY29tbWFuZCl7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgY29tbWFuZCl7aWYoIUFycmF5LmlzQXJyYXkoY29tbWFuZCkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBjb21tYW5kIVwiKTtzd2l0Y2goY29tbWFuZFswXSl7Y2FzZVwiaW5pdFwiOnRoaXMuaW5pdGlhbGl6ZShjb21tYW5kWzFdKTticmVhaztjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9MT0FEOmNhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1JFQURZOmNhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1JFR0lTVEVSOmNhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1NVQlNDUklCRTpjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9VTlNVQlNDUklCRTpjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9TV19JTklUX0VSUk9SOmNhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1BVU0hfREVMSVZFUlk6Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fTk9USUZJQ0FUSU9OX0NMSUNLOmNhc2UgQ09OU1RBTlRTLkVWRU5UX09OX05PVElGSUNBVElPTl9DTE9TRTpjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9DSEFOR0VfQ09NTVVOSUNBVElPTl9FTkFCTEVEOmNhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1BVVF9ORVdfTUVTU0FHRV9UT19JTkJPWF9TVE9SRTpjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9VUERBVEVfSU5CT1hfTUVTU0FHRVM6Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fU0hPV19OT1RJRklDQVRJT05fUEVSTUlTU0lPTl9ESUFMT0c6Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fSElERV9OT1RJRklDQVRJT05fUEVSTUlTU0lPTl9ESUFMT0c6Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fU0hPV19TVUJTQ1JJUFRJT05fV0lER0VUOmNhc2UgQ09OU1RBTlRTLkVWRU5UX09OX0hJREVfU1VCU0NSSVBUSU9OX1dJREdFVDpjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9QRVJNSVNTSU9OX0RFTklFRDpjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9QRVJNSVNTSU9OX1BST01QVDpjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9QRVJNSVNTSU9OX0dSQU5URUQ6dGhpcy5zdWJzY3JpYmVUb0xlZ2FjeUV2ZW50cyhjb21tYW5kWzBdLGNvbW1hbmRbMV0pO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBjb21tYW5kIVwiKX19ZWxzZSB0aGlzLnN1YnNjcmliZVRvTGVnYWN5RXZlbnRzKFwib25SZWFkeVwiLGNvbW1hbmQpfSxQdXNod29vc2gucHJvdG90eXBlLnN1YnNjcmliZT1mdW5jdGlvbihpc0ZvcmNlU3Vic2NyaWJlKXtyZXR1cm4gdm9pZCAwPT09aXNGb3JjZVN1YnNjcmliZSYmKGlzRm9yY2VTdWJzY3JpYmU9ITApLF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGVybWlzc2lvbl8xLHBlcm1pc3Npb24saXNNYW51YWxVbnN1YnNjcmliZWQsaXNEZXZpY2VSZWdpc3RlcjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuaXNDb21tdW5pY2F0aW9uRGlzYWJsZWQmJmxvZ2dlcl8xLkxvZ2dlci5lcnJvcihcIkNvbW11bmljYXRpb24gaXMgZGlzYWJsZWQhXCIpLHRoaXMuZHJpdmVyLmNoZWNrSXNQZXJtaXNzaW9uRGVmYXVsdCgpPyh0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJzaG93LW5vdGlmaWNhdGlvbi1wZXJtaXNzaW9uLWRpYWxvZ1wiLHt9KSxbNCx0aGlzLmRyaXZlci5hc2tQZXJtaXNzaW9uKCldKTpbMywyXTtjYXNlIDE6X2Euc2VudCgpLHBlcm1pc3Npb25fMT10aGlzLmRyaXZlci5nZXRQZXJtaXNzaW9uKCksdGhpcy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KFwiaGlkZS1ub3RpZmljYXRpb24tcGVybWlzc2lvbi1kaWFsb2dcIix7cGVybWlzc2lvbjpwZXJtaXNzaW9uXzF9KSxfYS5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gcGVybWlzc2lvbj10aGlzLmRyaXZlci5nZXRQZXJtaXNzaW9uKCksWzQsdGhpcy5kYXRhLmdldFN0YXR1c01hbnVhbFVuc3Vic2NyaWJlZCgpXTtjYXNlIDM6cmV0dXJuIGlzTWFudWFsVW5zdWJzY3JpYmVkPV9hLnNlbnQoKSxbNCx0aGlzLmFwaS5jaGVja0RldmljZVN1YnNjcmliZUZvclB1c2hOb3RpZmljYXRpb25zKCExKV07Y2FzZSA0OnJldHVybiBpc0RldmljZVJlZ2lzdGVyPV9hLnNlbnQoKSxwZXJtaXNzaW9uIT09Q09OU1RBTlRTLlBFUk1JU1NJT05fR1JBTlRFRD9bMyw3XToodGhpcy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KFwicGVybWlzc2lvbi1ncmFudGVkXCIse30pLCEoaXNGb3JjZVN1YnNjcmliZXx8IWlzTWFudWFsVW5zdWJzY3JpYmVkKXx8aXNEZXZpY2VSZWdpc3Rlcj9bMyw2XTpbNCx0aGlzLmRyaXZlci5zdWJzY3JpYmUoKV0pO2Nhc2UgNTpfYS5zZW50KCksX2EubGFiZWw9NjtjYXNlIDY6cmV0dXJuIHRoaXMuZXZlbnRCdXMuZGlzcGF0Y2hFdmVudChcInN1YnNjcmliZVwiLHt9KSxbMl07Y2FzZSA3OnJldHVybiBwZXJtaXNzaW9uIT09Q09OU1RBTlRTLlBFUk1JU1NJT05fREVOSUVEP1szLDEwXToodGhpcy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KFwicGVybWlzc2lvbi1kZW5pZWRcIix7fSksaXNEZXZpY2VSZWdpc3Rlcj9bNCx0aGlzLmRyaXZlci51bnN1YnNjcmliZSgpXTpbMyw5XSk7Y2FzZSA4Ol9hLnNlbnQoKSxfYS5sYWJlbD05O2Nhc2UgOTpjYXNlIDEwOnJldHVyblsyXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZXJyb3JfMTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuIF9hLnRyeXMucHVzaChbMCwyLCwzXSksWzQsdGhpcy5kcml2ZXIudW5zdWJzY3JpYmUoKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzMsM107Y2FzZSAyOnJldHVybiBlcnJvcl8xPV9hLnNlbnQoKSxsb2dnZXJfMS5Mb2dnZXIuZXJyb3IoZXJyb3JfMSxcIkVycm9yIG9jY3VycmVkIGR1cmluZyB0aGUgdW5zdWJzY3JpYmVcIiksWzMsM107Y2FzZSAzOnJldHVyblsyXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLmZvcmNlU3Vic2NyaWJlPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdWJzY3JpYmUoITApXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5pc0RldmljZVJlZ2lzdGVyZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oQ09OU1RBTlRTLktFWV9ERVZJQ0VfUkVHSVNUUkFUSU9OX1NUQVRVUyk9PT1DT05TVEFOVFMuREVWSUNFX1JFR0lTVFJBVElPTl9TVEFUVVNfUkVHSVNURVJFRH0sUHVzaHdvb3NoLnByb3RvdHlwZS5pc0RldmljZVVucmVnaXN0ZXJlZD1mdW5jdGlvbigpe3JldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShDT05TVEFOVFMuS0VZX0RFVklDRV9SRUdJU1RSQVRJT05fU1RBVFVTKT09PUNPTlNUQU5UUy5ERVZJQ0VfUkVHSVNUUkFUSU9OX1NUQVRVU19VTlJFR0lTVEVSRUR9LFB1c2h3b29zaC5wcm90b3R5cGUuaXNTdWJzY3JpYmVkPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7cmV0dXJuWzIsdGhpcy5hcGkuY2hlY2tEZXZpY2VTdWJzY3JpYmVGb3JQdXNoTm90aWZpY2F0aW9ucygpXX0pfSl9LFB1c2h3b29zaC5wcm90b3R5cGUuaXNDb21tdW5pY2F0aW9uRW5hYmxlZD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXRTdGF0dXNDb21tdW5pY2F0aW9uRGlzYWJsZWQoKV07Y2FzZSAxOnJldHVyblsyLCFfYS5zZW50KCldfX0pfSl9LFB1c2h3b29zaC5wcm90b3R5cGUuc2V0Q29tbXVuaWNhdGlvbkVuYWJsZWQ9ZnVuY3Rpb24oaXNFbmFibGVkKXtyZXR1cm4gdm9pZCAwPT09aXNFbmFibGVkJiYoaXNFbmFibGVkPSEwKSxfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGRldmljZVR5cGUsaXNQZXJtaXNzaW9uR3JhbnRlZDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldERldmljZVR5cGUoKV07Y2FzZSAxOnJldHVybiBkZXZpY2VUeXBlPV9hLnNlbnQoKSxpc1Blcm1pc3Npb25HcmFudGVkPXRoaXMuZHJpdmVyLmNoZWNrSXNQZXJtaXNzaW9uR3JhbnRlZCgpLFs0LHRoaXMuZGF0YS5zZXRTdGF0dXNDb21tdW5pY2F0aW9uRGlzYWJsZWQoIWlzRW5hYmxlZCldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLGlzRW5hYmxlZD9bNCx0aGlzLmRhdGEuc2V0U3RhdHVzRHJvcEFsbERhdGEoITEpXTpbMyw2XTtjYXNlIDM6cmV0dXJuIF9hLnNlbnQoKSxpc1Blcm1pc3Npb25HcmFudGVkP1s0LHRoaXMuYXBpLnJlZ2lzdGVyRGV2aWNlKCldOlszLDVdO2Nhc2UgNDpfYS5zZW50KCksX2EubGFiZWw9NTtjYXNlIDU6cmV0dXJuWzMsOF07Y2FzZSA2OnJldHVybls0LHRoaXMuYXBpLnVucmVnaXN0ZXJEZXZpY2UoKV07Y2FzZSA3Ol9hLnNlbnQoKSxfYS5sYWJlbD04O2Nhc2UgODpyZXR1cm4gdGhpcy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KFwiY2hhbmdlLWVuYWJsZWQtY29tbXVuaWNhdGlvblwiLHtpc0VuYWJsZWQ6aXNFbmFibGVkfSksWzQsdGhpcy5hcGkucG9zdEV2ZW50KENPTlNUQU5UUy5FVkVOVF9HRFBSX0NPTlNFTlQse2NoYW5uZWw6aXNFbmFibGVkLGRldmljZV90eXBlOmRldmljZVR5cGV9KV07Y2FzZSA5OnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LFB1c2h3b29zaC5wcm90b3R5cGUucmVtb3ZlQWxsRGV2aWNlRGF0YT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGRldmljZVR5cGU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXREZXZpY2VUeXBlKCldO2Nhc2UgMTpyZXR1cm4gZGV2aWNlVHlwZT1fYS5zZW50KCksWzQsdGhpcy5hcGkucG9zdEV2ZW50KENPTlNUQU5UUy5FVkVOVF9HRFBSX0RFTEVURSx7c3RhdHVzOiEwLGRldmljZV90eXBlOmRldmljZVR5cGV9KV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5hcGkuZGVsZXRlRGV2aWNlKCldO2Nhc2UgMzpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuZGF0YS5jbGVhckFsbCgpXTtjYXNlIDQ6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuc2V0U3RhdHVzRHJvcEFsbERhdGEoITApXTtjYXNlIDU6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5nZXRIV0lEPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldEh3aWQoKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5nZXRQdXNoVG9rZW49ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuZ2V0VG9rZW5zKCldO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCkucHVzaFRva2VuXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLmdldFVzZXJJZD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXRVc2VySWQoKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5nZXRQYXJhbXM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmFwaS5nZXRQYXJhbXMoKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5pc0F2YWlsYWJsZU5vdGlmaWNhdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wbGF0Zm9ybUNoZWNrZXIuaXNBdmFpbGFibGVOb3RpZmljYXRpb25zfSxQdXNod29vc2gucHJvdG90eXBlLnNlbmRTdGF0aXN0aWNzVmlzaXRlZFBhZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB0aXRsZSxfYSxvcmlnaW4scGF0aG5hbWUsaHJlZjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYil7c3dpdGNoKF9iLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRpdGxlPXdpbmRvdy5kb2N1bWVudC50aXRsZSxfYT13aW5kb3cubG9jYXRpb24sb3JpZ2luPV9hLm9yaWdpbixwYXRobmFtZT1fYS5wYXRobmFtZSxocmVmPV9hLmhyZWYsWzQsdGhpcy5hcGkucGFnZVZpc2l0KHt0aXRsZTp0aXRsZSx1cmxfcGF0aDpcIlwiK29yaWdpbitwYXRobmFtZSx1cmw6aHJlZn0pXTtjYXNlIDE6cmV0dXJuIF9iLnNlbnQoKSxbMl19fSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5pc0VuYWJsZUNoYW5uZWxzPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZmVhdHVyZXMsY2hhbm5lbHM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXRGZWF0dXJlcygpXTtjYXNlIDE6cmV0dXJuIGZlYXR1cmVzPV9hLnNlbnQoKSxjaGFubmVscz1mZWF0dXJlcyYmZmVhdHVyZXMuY2hhbm5lbHMsWzIsQXJyYXkuaXNBcnJheShjaGFubmVscykmJiEhY2hhbm5lbHMubGVuZ3RoXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24ocGFyYW1zKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBtYW51YWxEZWJ1ZyxhcHBsaWNhdGlvbkNvZGUsbm90U2F2ZWRBcHBsaWNhdGlvbkNvZGUsaXNDaGFuZ2VBcHBsaWNhdGlvbkNvZGUsaWQsY29uZmlnLF9hLHVzZXJJZFdhc0NoYW5nZSxpbkFwcHNDb25maWcsZXJyb3JfMixlcnJvcl8zLGRlbGF5ZWRFdmVudCx0eXBlLHBheWxvYWQsaGFzaFJlZyxoYXNoO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9iKXtzd2l0Y2goX2IubGFiZWwpe2Nhc2UgMDpyZXR1cm4gbWFudWFsRGVidWc9bG9jYWxTdG9yYWdlLmdldEl0ZW0oQ09OU1RBTlRTLk1BTlVBTF9TRVRfTE9HR0VSX0xFVkVMKSxsb2dnZXJfMS5Mb2dnZXIuc2V0TGV2ZWwobWFudWFsRGVidWd8fHBhcmFtcy5sb2dMZXZlbHx8XCJlcnJvclwiKSx0aGlzLnBsYXRmb3JtQ2hlY2tlci5pc0F2YWlsYWJsZU5vdGlmaWNhdGlvbnM/WzQsdGhpcy5kYXRhLmdldEFwcGxpY2F0aW9uQ29kZSgpXTpbMl07Y2FzZSAxOmlmKGFwcGxpY2F0aW9uQ29kZT1fYi5zZW50KCksIXBhcmFtcy5hcHBsaWNhdGlvbkNvZGUpdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgZmluZCBhcHBsaWNhdGlvbiBjb2RlIVwiKTtyZXR1cm4gbm90U2F2ZWRBcHBsaWNhdGlvbkNvZGU9IWFwcGxpY2F0aW9uQ29kZSxpc0NoYW5nZUFwcGxpY2F0aW9uQ29kZT1hcHBsaWNhdGlvbkNvZGUmJmFwcGxpY2F0aW9uQ29kZSE9PXBhcmFtcy5hcHBsaWNhdGlvbkNvZGUsbm90U2F2ZWRBcHBsaWNhdGlvbkNvZGV8fGlzQ2hhbmdlQXBwbGljYXRpb25Db2RlP1s0LHRoaXMuZGF0YS5jbGVhckFsbCgpXTpbMyw0XTtjYXNlIDI6cmV0dXJuIF9iLnNlbnQoKSxbNCx0aGlzLmRhdGEuc2V0QXBwbGljYXRpb25Db2RlKHBhcmFtcy5hcHBsaWNhdGlvbkNvZGUpXTtjYXNlIDM6X2Iuc2VudCgpLF9iLmxhYmVsPTQ7Y2FzZSA0OnJldHVybls0LHRoaXMuZGF0YS5nZXRId2lkKCldO2Nhc2UgNTpyZXR1cm4gX2Iuc2VudCgpP1szLDddOihpZD1wYXJhbXMuYXBwbGljYXRpb25Db2RlK1wiX1wiK3V1aWRfMS52NCgpLFs0LHRoaXMuZGF0YS5zZXRId2lkKGlkKV0pO2Nhc2UgNjpfYi5zZW50KCksX2IubGFiZWw9NztjYXNlIDc6cmV0dXJuWzQsdGhpcy5kYXRhLnNldERldmljZVR5cGUodGhpcy5wbGF0Zm9ybUNoZWNrZXIuZ2V0UGxhdGZvcm1UeXBlKCkpXTtjYXNlIDg6cmV0dXJuIF9iLnNlbnQoKSxbNCx0aGlzLmRhdGEuc2V0RGV2aWNlTW9kZWwodGhpcy5wbGF0Zm9ybUNoZWNrZXIuZ2V0QnJvd3NlclZlcnNpb24oKSldO2Nhc2UgOTpyZXR1cm4gX2Iuc2VudCgpLFs0LHRoaXMuZGF0YS5zZXRMYW5ndWFnZShwYXJhbXMudGFncyYmcGFyYW1zLnRhZ3MuTGFuZ3VhZ2V8fG5hdmlnYXRvci5sYW5ndWFnZSldO2Nhc2UgMTA6cmV0dXJuIF9iLnNlbnQoKSxwYXJhbXMucHVzaHdvb3NoVXJsP1s0LHRoaXMuZGF0YS5zZXRBcGlFbnRyeXBvaW50KHBhcmFtcy5wdXNod29vc2hVcmwpXTpbMywxMl07Y2FzZSAxMTpfYi5zZW50KCksX2IubGFiZWw9MTI7Y2FzZSAxMjpyZXR1cm5bNCx0aGlzLmRhdGEuc2V0U2RrVmVyc2lvbihcIjMuMjYuMFwiKV07Y2FzZSAxMzpyZXR1cm4gX2Iuc2VudCgpLFs0LHRoaXMuYXBpLmdldENvbmZpZyhbXCJwYWdlX3Zpc2l0XCIsXCJ2YXBpZF9rZXlcIixcIndlYl9pbl9hcHBzXCIsXCJldmVudHNcIixcInN1YnNjcmlwdGlvbl9wcm9tcHRcIl0pXTtjYXNlIDE0OnJldHVybiBjb25maWc9X2Iuc2VudCgpLHRoaXMub25HZXRDb25maWcoY29uZmlnJiZjb25maWcuZmVhdHVyZXMpLHRoaXMuc3Vic2NyaWJlV2lkZ2V0Q29uZmlnPV9fYXNzaWduKHtlbmFibGU6ITF9LHBhcmFtcy5zdWJzY3JpYmVXaWRnZXQpLHRoaXMuaW5ib3hXaWRnZXRDb25maWc9X19hc3NpZ24oe2VuYWJsZTohMX0scGFyYW1zLmluYm94V2lkZ2V0KSx0aGlzLnN1YnNjcmliZVBvcHVwQ29uZmlnPV9fYXNzaWduKHtlbmFibGU6ITF9LHBhcmFtcy5zdWJzY3JpYmVQb3B1cCksX2E9dGhpcyxbNCx0aGlzLmRhdGEuZ2V0U3RhdHVzQ29tbXVuaWNhdGlvbkRpc2FibGVkKCldO2Nhc2UgMTU6cmV0dXJuIF9hLmlzQ29tbXVuaWNhdGlvbkRpc2FibGVkPV9iLnNlbnQoKSxbNCx0aGlzLm9wZW4oKV07Y2FzZSAxNjpyZXR1cm4gX2Iuc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRTdGF0dXNVc2VySWRXYXNDaGFuZ2VkKCldO2Nhc2UgMTc6cmV0dXJuIHVzZXJJZFdhc0NoYW5nZT1fYi5zZW50KCksIXBhcmFtcy51c2VySWR8fFwidXNlcl9pZFwiPT09cGFyYW1zLnVzZXJJZHx8dXNlcklkV2FzQ2hhbmdlP1szLDE5XTpbNCx0aGlzLmFwaS5yZWdpc3RlclVzZXIocGFyYW1zLnVzZXJJZCldO2Nhc2UgMTg6X2Iuc2VudCgpLF9iLmxhYmVsPTE5O2Nhc2UgMTk6cmV0dXJuIHBhcmFtcy50YWdzJiZ0aGlzLmFwaS5zZXRUYWdzKHBhcmFtcy50YWdzKSxpbkFwcHNDb25maWc9X19hc3NpZ24oe2VuYWJsZTpjb25maWcuZmVhdHVyZXMud2ViX2luX2FwcHMmJmNvbmZpZy5mZWF0dXJlcy53ZWJfaW5fYXBwcy5lbmFibGVkfSxwYXJhbXMuaW5BcHBzKSxbNCx0aGlzLmluaXRJbkFwcChpbkFwcHNDb25maWcpXTtjYXNlIDIwOnJldHVybiBfYi5zZW50KCksdGhpcy5wbGF0Zm9ybUNoZWNrZXIuaXNBdmFpbGFibGVOb3RpZmljYXRpb25zP1s0LHRoaXMuaW5pdFB1c2hOb3RpZmljYXRpb25zKHBhcmFtcyldOlszLDIyXTtjYXNlIDIxOl9iLnNlbnQoKSxfYi5sYWJlbD0yMjtjYXNlIDIyOnJldHVybiBfYi50cnlzLnB1c2goWzIyLDI0LCwyNV0pLFs0LHRoaXMuaW5ib3hNb2RlbC51cGRhdGVNZXNzYWdlcygpXTtjYXNlIDIzOnJldHVybiBfYi5zZW50KCksWzMsMjVdO2Nhc2UgMjQ6cmV0dXJuIGVycm9yXzI9X2Iuc2VudCgpLGxvZ2dlcl8xLkxvZ2dlci53cml0ZShcImVycm9yXCIsZXJyb3JfMiksWzMsMjVdO2Nhc2UgMjU6cmV0dXJuIF9iLnRyeXMucHVzaChbMjUsMjcsLDI4XSksWzQsdGhpcy5pbml0RmFjZWJvb2socGFyYW1zKV07Y2FzZSAyNjpyZXR1cm4gX2Iuc2VudCgpLFszLDI4XTtjYXNlIDI3OnJldHVybiBlcnJvcl8zPV9iLnNlbnQoKSxsb2dnZXJfMS5Mb2dnZXIud3JpdGUoXCJlcnJvclwiLGVycm9yXzMpLFszLDI4XTtjYXNlIDI4OnJldHVybiB0aGlzLnJlYWR5PSEwLHRoaXMuZXZlbnRCdXMuZGlzcGF0Y2hFdmVudChcInJlYWR5XCIse30pLFs0LHRoaXMuZGF0YS5nZXREZWxheWVkRXZlbnQoKV07Y2FzZSAyOTpyZXR1cm4oZGVsYXllZEV2ZW50PV9iLnNlbnQoKSk/KHR5cGU9ZGVsYXllZEV2ZW50LnR5cGUscGF5bG9hZD1kZWxheWVkRXZlbnQucGF5bG9hZCxbNCx0aGlzLmVtaXRMZWdhY3lFdmVudHNGcm9tU2VydmljZVdvcmtlcih0eXBlLHBheWxvYWQpXSk6WzMsMzJdO2Nhc2UgMzA6cmV0dXJuIF9iLnNlbnQoKSxbNCx0aGlzLmRhdGEuc2V0RGVsYXllZEV2ZW50KG51bGwpXTtjYXNlIDMxOl9iLnNlbnQoKSxfYi5sYWJlbD0zMjtjYXNlIDMyOnJldHVyblwic2VydmljZVdvcmtlclwiaW4gbmF2aWdhdG9yJiYobmF2aWdhdG9yLnNlcnZpY2VXb3JrZXIub25tZXNzYWdlPXRoaXMub25TZXJ2aWNlV29ya2VyTWVzc2FnZSksbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJwdXNod29vc2gtd2Vic2RrLXN0YXR1c1wiLFwiaW5pdFwiKSxkb2N1bWVudC5kaXNwYXRjaEV2ZW50KG5ldyBDdXN0b21FdmVudChcInB1c2h3b29zaC5pbml0aWFsaXplZFwiLHtkZXRhaWw6e3B3OnRoaXN9fSkpLHRoaXMucGxhdGZvcm1DaGVja2VyLmlzU2FmYXJpJiYoaGFzaFJlZz0vI1AoLiopLyxoYXNoPWRlY29kZVVSSUNvbXBvbmVudChkb2N1bWVudC5sb2NhdGlvbi5oYXNoKSxoYXNoUmVnLnRlc3QoaGFzaCkmJnRoaXMuYXBpLnB1c2hTdGF0KGhhc2hSZWcuZXhlYyhoYXNoKVsxXSkudGhlbihmdW5jdGlvbnNfMS5jbGVhckxvY2F0aW9uSGFzaCkpLFsyXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLmRlZmF1bHRQcm9jZXNzPWZ1bmN0aW9uKGluaXRQYXJhbXMpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBlcm1pc3Npb24saXNDb21tdW5pY2F0aW9uRGlzYWJsZWQsaXNEcm9wQWxsRGF0YSxpc05lZWRSZXN1YnNjcmliZSxmZWF0dXJlcyxjdXJyZW50UHJvbXB0VXNlQ2FzZSxhdXRvU3Vic2NyaWJlLGlzTWFudWFsVW5zdWJzY3JpYmVkLGlzUmVnaXN0ZXIsd2lkZ2V0Q29uZmlnLGlzRGVmYXVsdFVzZUNhc2UsaXNOb3RTZXRVc2VDYXNlLHJlc3VsdDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYil7c3dpdGNoKF9iLmxhYmVsKXtjYXNlIDA6cmV0dXJuXCJncmFudGVkXCIhPT0ocGVybWlzc2lvbj10aGlzLmRyaXZlci5nZXRQZXJtaXNzaW9uKCkpP1szLDJdOls0LHRoaXMuZGF0YS5zZXRMYXN0UGVybWlzc2lvblN0YXR1cyhwZXJtaXNzaW9uKV07Y2FzZSAxOl9iLnNlbnQoKSxfYi5sYWJlbD0yO2Nhc2UgMjpyZXR1cm5bNCx0aGlzLmRhdGEuZ2V0U3RhdHVzQ29tbXVuaWNhdGlvbkRpc2FibGVkKCldO2Nhc2UgMzpyZXR1cm4gaXNDb21tdW5pY2F0aW9uRGlzYWJsZWQ9X2Iuc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRTdGF0dXNEcm9wQWxsRGF0YSgpXTtjYXNlIDQ6cmV0dXJuIGlzRHJvcEFsbERhdGE9X2Iuc2VudCgpLFs0LHRoaXMuZHJpdmVyLmNoZWNrSXNOZWVkUmVzdWJzY3JpYmUoKV07Y2FzZSA1OnJldHVybiBpc05lZWRSZXN1YnNjcmliZT1fYi5zZW50KCksWzQsdGhpcy5kYXRhLmdldEZlYXR1cmVzKCldO2Nhc2UgNjpyZXR1cm4gZmVhdHVyZXM9X2Iuc2VudCgpLGN1cnJlbnRQcm9tcHRVc2VDYXNlPWZlYXR1cmVzLnN1YnNjcmlwdGlvbl9wcm9tcHQmJmZlYXR1cmVzLnN1YnNjcmlwdGlvbl9wcm9tcHQudXNlX2Nhc2UsaXNDb21tdW5pY2F0aW9uRGlzYWJsZWR8fGlzRHJvcEFsbERhdGE/WzQsdGhpcy51bnN1YnNjcmliZSgpXTpbMyw4XTtjYXNlIDc6cmV0dXJuIF9iLnNlbnQoKSxbMl07Y2FzZSA4OnJldHVybiBpc05lZWRSZXN1YnNjcmliZT9bNCx0aGlzLnVuc3Vic2NyaWJlKCldOlszLDExXTtjYXNlIDk6cmV0dXJuIF9iLnNlbnQoKSxbNCx0aGlzLmRhdGEuc2V0U3RhdHVzTWFudWFsVW5zdWJzY3JpYmVkKCExKV07Y2FzZSAxMDpfYi5zZW50KCksX2IubGFiZWw9MTE7Y2FzZSAxMTpyZXR1cm4gYXV0b1N1YnNjcmliZT1pbml0UGFyYW1zLmF1dG9TdWJzY3JpYmUsWzQsdGhpcy5kYXRhLmdldFN0YXR1c01hbnVhbFVuc3Vic2NyaWJlZCgpXTtjYXNlIDEyOnJldHVybiBpc01hbnVhbFVuc3Vic2NyaWJlZD1fYi5zZW50KCksWzQsdGhpcy5hcGkuY2hlY2tEZXZpY2VTdWJzY3JpYmVGb3JQdXNoTm90aWZpY2F0aW9ucyghMSldO2Nhc2UgMTM6c3dpdGNoKGlzUmVnaXN0ZXI9X2Iuc2VudCgpLHBlcm1pc3Npb24pe2Nhc2UgQ09OU1RBTlRTLlBFUk1JU1NJT05fUFJPTVBUOnJldHVyblszLDE0XTtjYXNlIENPTlNUQU5UUy5QRVJNSVNTSU9OX0RFTklFRDpyZXR1cm5bMywyMl07Y2FzZSBDT05TVEFOVFMuUEVSTUlTU0lPTl9HUkFOVEVEOnJldHVyblszLDI1XX1yZXR1cm5bMywzMV07Y2FzZSAxNDpyZXR1cm4gdGhpcy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KFwicGVybWlzc2lvbi1kZWZhdWx0XCIse30pLGlzUmVnaXN0ZXI/WzQsdGhpcy51bnN1YnNjcmliZSgpXTpbMywxNl07Y2FzZSAxNTpfYi5zZW50KCksX2IubGFiZWw9MTY7Y2FzZSAxNjpyZXR1cm5bNCx0aGlzLmdldFdpZGdldENvbmZpZygpXTtjYXNlIDE3OnJldHVybiB3aWRnZXRDb25maWc9X2Iuc2VudCgpLFs0LHRoaXMuY2hlY2tDYW5TaG93QnlDYXBwaW5nKHdpZGdldENvbmZpZyldO2Nhc2UgMTg6cmV0dXJuIF9iLnNlbnQoKT9jdXJyZW50UHJvbXB0VXNlQ2FzZT09PUNPTlNUQU5UUy5TVUJTQ1JJUFRJT05fV0lER0VUX1VTRV9DQVNFX1RPUElDX0JBU0VEP1s0LHRoaXMuc3Vic2NyaXB0aW9uU2VnbWVudFdpZGdldC5pbml0KCldOlszLDIwXTpbMywzMV07Y2FzZSAxOTpfYi5zZW50KCksX2IubGFiZWw9MjA7Y2FzZSAyMDpyZXR1cm4gaXNEZWZhdWx0VXNlQ2FzZT1jdXJyZW50UHJvbXB0VXNlQ2FzZT09PUNPTlNUQU5UUy5TVUJTQ1JJUFRJT05fV0lER0VUX1VTRV9DQVNFX0RFRkFVTFQsaXNOb3RTZXRVc2VDYXNlPWN1cnJlbnRQcm9tcHRVc2VDYXNlPT09Q09OU1RBTlRTLlNVQlNDUklQVElPTl9XSURHRVRfVVNFX0NBU0VfTk9UX1NFVCYmYXV0b1N1YnNjcmliZSwoaXNEZWZhdWx0VXNlQ2FzZXx8aXNOb3RTZXRVc2VDYXNlKSYmKHRoaXMuc3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0LmluaXQod2lkZ2V0Q29uZmlnKSx0aGlzLnN1YnNjcmlwdGlvblByb21wdFdpZGdldC5zaG93KCkpLFs0LHRoaXMudXBkYXRlQ2FwcGluZ1BhcmFtcygpXTtjYXNlIDIxOnJldHVybiBfYi5zZW50KCksWzMsMzFdO2Nhc2UgMjI6cmV0dXJuIHRoaXMuZXZlbnRCdXMuZGlzcGF0Y2hFdmVudChcInBlcm1pc3Npb24tZGVuaWVkXCIse30pLGlzUmVnaXN0ZXI/WzQsdGhpcy51bnN1YnNjcmliZSgpXTpbMywyNF07Y2FzZSAyMzpfYi5zZW50KCksX2IubGFiZWw9MjQ7Y2FzZSAyNDpyZXR1cm5bMywzMV07Y2FzZSAyNTpyZXR1cm4gdGhpcy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KFwicGVybWlzc2lvbi1ncmFudGVkXCIse30pLGlzTWFudWFsVW5zdWJzY3JpYmVkJiZpc1JlZ2lzdGVyP1s0LHRoaXMudW5zdWJzY3JpYmUoKV06WzMsMjddO2Nhc2UgMjY6X2Iuc2VudCgpLF9iLmxhYmVsPTI3O2Nhc2UgMjc6cmV0dXJuIWlzUmVnaXN0ZXImJiFpc01hbnVhbFVuc3Vic2NyaWJlZHx8aXNOZWVkUmVzdWJzY3JpYmU/WzQsdGhpcy5zdWJzY3JpYmUoITApXTpbMywzMF07Y2FzZSAyODpyZXR1cm4gX2Iuc2VudCgpLGN1cnJlbnRQcm9tcHRVc2VDYXNlPT09Q09OU1RBTlRTLlNVQlNDUklQVElPTl9XSURHRVRfVVNFX0NBU0VfVE9QSUNfQkFTRUQ/KHJlc3VsdD1mZWF0dXJlcy5jaGFubmVscy5tYXAoZnVuY3Rpb24oY2hhbm5lbCl7cmV0dXJuIGNoYW5uZWwuY29kZX0pLFs0LHRoaXMuYXBpLnNldFRhZ3Moe1wiU3Vic2NyaXB0aW9uIFNlZ21lbnRzXCI6cmVzdWx0fSldKTpbMywzMF07Y2FzZSAyOTpfYi5zZW50KCksX2IubGFiZWw9MzA7Y2FzZSAzMDpyZXR1cm5bMywzMV07Y2FzZSAzMTpyZXR1cm5bMl19fSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5nZXRXaWRnZXRDb25maWc9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBmZWF0dXJlcyxjdXJyZW50Q29uZmlnLGNvbmZpZ1dpdGhEZWZhdWx0Q2FwcGluZztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldEZlYXR1cmVzKCldO2Nhc2UgMTpyZXR1cm4gZmVhdHVyZXM9X2Euc2VudCgpLGN1cnJlbnRDb25maWc9ZmVhdHVyZXMuc3Vic2NyaXB0aW9uX3Byb21wdF93aWRnZXQmJmZlYXR1cmVzLnN1YnNjcmlwdGlvbl9wcm9tcHRfd2lkZ2V0LnBhcmFtcyxjb25maWdXaXRoRGVmYXVsdENhcHBpbmc9X19hc3NpZ24oe2NhcHBpbmdDb3VudDpDT05TVEFOVFMuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfREVGQVVMVF9DT05GSUcuY2FwcGluZ0NvdW50LGNhcHBpbmdEZWxheTpDT05TVEFOVFMuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfREVGQVVMVF9DT05GSUcuY2FwcGluZ0RlbGF5fSxjdXJyZW50Q29uZmlnKSxbMixjdXJyZW50Q29uZmlnP2NvbmZpZ1dpdGhEZWZhdWx0Q2FwcGluZzpDT05TVEFOVFMuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfREVGQVVMVF9DT05GSUddfX0pfSl9LFB1c2h3b29zaC5wcm90b3R5cGUuY2hlY2tDYW5TaG93QnlDYXBwaW5nPWZ1bmN0aW9uKHdpZGdldENvbmZpZyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgY3VycmVudFRpbWUsZGlzcGxheUNvdW50LGxhc3RTZWVuVGltZSxjYW5TaG93QnlDYXBwaW5nLGNhblNob3dCeUxhc3RUaW1lO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm4gY3VycmVudFRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksWzQsdGhpcy5kYXRhLmdldFByb21wdERpc3BsYXlDb3VudCgpXTtjYXNlIDE6cmV0dXJuIGRpc3BsYXlDb3VudD1fYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldFByb21wdExhc3RTZWVuVGltZSgpXTtjYXNlIDI6cmV0dXJuIGxhc3RTZWVuVGltZT1fYS5zZW50KCksY2FuU2hvd0J5Q2FwcGluZz13aWRnZXRDb25maWcuY2FwcGluZ0NvdW50PmRpc3BsYXlDb3VudCxjYW5TaG93QnlMYXN0VGltZT1jdXJyZW50VGltZS1sYXN0U2VlblRpbWU+d2lkZ2V0Q29uZmlnLmNhcHBpbmdEZWxheSxbMixjYW5TaG93QnlDYXBwaW5nJiZjYW5TaG93QnlMYXN0VGltZV19fSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS51cGRhdGVDYXBwaW5nUGFyYW1zPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZGlzcGxheUNvdW50LGN1cnJlbnRUaW1lO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuZ2V0UHJvbXB0RGlzcGxheUNvdW50KCldO2Nhc2UgMTpyZXR1cm4gZGlzcGxheUNvdW50PV9hLnNlbnQoKSxjdXJyZW50VGltZT0obmV3IERhdGUpLmdldFRpbWUoKSxbNCx0aGlzLmRhdGEuc2V0UHJvbXB0RGlzcGxheUNvdW50KGRpc3BsYXlDb3VudCsxKV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5kYXRhLnNldFByb21wdExhc3RTZWVuVGltZShjdXJyZW50VGltZSldO2Nhc2UgMzpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLmluaXRGYWNlYm9vaz1mdW5jdGlvbihpbml0UGFyYW1zKXt2YXIgZmFjZWJvb2s9X19hc3NpZ24oe2VuYWJsZTohMSxwYWdlSWQ6XCJcIixjb250YWluZXJDbGFzczpcIlwifSxpbml0UGFyYW1zLmZhY2Vib29rKTtpZihmYWNlYm9vayYmZmFjZWJvb2suZW5hYmxlKXRyeXtuZXcgRmFjZWJvb2tNb2R1bGVfMS5kZWZhdWx0KHtwYWdlSWQ6ZmFjZWJvb2sucGFnZUlkLGNvbnRhaW5lckNsYXNzOmZhY2Vib29rLmNvbnRhaW5lckNsYXNzLGFwcGxpY2F0aW9uQ29kZTppbml0UGFyYW1zLmFwcGxpY2F0aW9uQ29kZSx1c2VySWQ6aW5pdFBhcmFtcy51c2VySWR8fFwiXCJ9KX1jYXRjaChlcnJvcil7bG9nZ2VyXzEuTG9nZ2VyLmVycm9yKGVycm9yLFwiZmFjZWJvb2sgbW9kdWxlIGluaXRpYWxpemF0aW9uIGZhaWxlZFwiKX19LFB1c2h3b29zaC5wcm90b3R5cGUuaW5pdEluQXBwPWZ1bmN0aW9uKHBhcmFtcyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZXJyb3JfNCxfdGhpcz10aGlzO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDppZighcGFyYW1zfHwhcGFyYW1zLmVuYWJsZSlyZXR1cm5bMyw0XTtfYS5sYWJlbD0xO2Nhc2UgMTpyZXR1cm4gX2EudHJ5cy5wdXNoKFsxLDMsLDRdKSx0aGlzLkluQXBwcz1uZXcgSW5BcHBzXzEuSW5BcHBzKHBhcmFtcyx0aGlzLHRoaXMuZXZlbnRCdXMsdGhpcy5hcGkpLFs0LHRoaXMuSW5BcHBzLmluaXQoKS50aGVuKGZ1bmN0aW9uKCl7bG9nZ2VyXzEuTG9nZ2VyLmluZm8oXCJJbkFwcHMgbW9kdWxlIGhhcyBiZWVuIGluaXRpYWxpemVkXCIpLF90aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJpbml0aWFsaXplLWluLWFwcHMtbW9kdWxlXCIse30pfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3Ipe2xvZ2dlcl8xLkxvZ2dlci5lcnJvcihlcnJvcixcIkluQXBwcyBtb2R1bGUgaW5pdGlhbGl6YXRpb24gaGFzIGJlZW4gZmFpbGVkXCIpfSldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFszLDRdO2Nhc2UgMzpyZXR1cm4gZXJyb3JfND1fYS5zZW50KCksbG9nZ2VyXzEuTG9nZ2VyLmVycm9yKGVycm9yXzQsXCJJbkFwcCBtb2R1bGUgaW5pdGlhbGl6YXRpb24gaGFzIGJlZW4gZmFpbGVkXCIpLFszLDRdO2Nhc2UgNDpyZXR1cm5bMl19fSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5vblNlcnZpY2VXb3JrZXJNZXNzYWdlPWZ1bmN0aW9uKGV2ZW50KXt2YXIgX2E9KGV2ZW50fHx7fSkuZGF0YSxfYj0odm9pZCAwPT09X2E/e306X2EpfHx7fSxfYz1fYi50eXBlLHR5cGU9dm9pZCAwPT09X2M/XCJcIjpfYyxfZD1fYi5wYXlsb2FkLHBheWxvYWQ9dm9pZCAwPT09X2Q/e306X2Q7dGhpcy5lbWl0TGVnYWN5RXZlbnRzRnJvbVNlcnZpY2VXb3JrZXIodHlwZSxwYXlsb2FkKX0sUHVzaHdvb3NoLnByb3RvdHlwZS5vcGVuPWZ1bmN0aW9uKGlzRm9yY2Upe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGxhc3RBcHBsaWNhdGlvbk9wZW5UaW1lLGN1cnJlbnRUaW1lLGlzU2VuZGluZ1BlcmlvZEV4Y2VlZGVkO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuZ2V0TGFzdE9wZW5BcHBsaWNhdGlvblRpbWUoKV07Y2FzZSAxOnJldHVybiBsYXN0QXBwbGljYXRpb25PcGVuVGltZT1fYS5zZW50KCksY3VycmVudFRpbWU9RGF0ZS5ub3coKSxsYXN0QXBwbGljYXRpb25PcGVuVGltZXx8KGxhc3RBcHBsaWNhdGlvbk9wZW5UaW1lPTApLGlzU2VuZGluZ1BlcmlvZEV4Y2VlZGVkPWN1cnJlbnRUaW1lLWxhc3RBcHBsaWNhdGlvbk9wZW5UaW1lPENPTlNUQU5UUy5QRVJJT0RfU0VORF9BUFBfT1BFTixpc0ZvcmNlfHwhaXNTZW5kaW5nUGVyaW9kRXhjZWVkZWQ/WzQsdGhpcy5kYXRhLnNldExhc3RPcGVuQXBwbGljYXRpb25UaW1lKGN1cnJlbnRUaW1lKV06WzJdO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuYXBpLmFwcGxpY2F0aW9uT3BlbigpXTtjYXNlIDM6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5vbkdldENvbmZpZz1mdW5jdGlvbihmZWF0dXJlcyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLnNldEZlYXR1cmVzKGZlYXR1cmVzKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksZmVhdHVyZXM/ZmVhdHVyZXMucGFnZV92aXNpdCYmZmVhdHVyZXMucGFnZV92aXNpdC5lbmFibGVkP1s0LHN0b3JhZ2VfMS5rZXlWYWx1ZS5zZXQoQ09OU1RBTlRTLlBBR0VfVklTSVRFRF9VUkwsZmVhdHVyZXMucGFnZV92aXNpdC5lbnRyeXBvaW50KV06WzMsM106WzMsNV07Y2FzZSAyOl9hLnNlbnQoKSx0aGlzLnNlbmRTdGF0aXN0aWNzVmlzaXRlZFBhZ2UoKSxfYS5sYWJlbD0zO2Nhc2UgMzpyZXR1cm4gZmVhdHVyZXMuZXZlbnRzJiZmZWF0dXJlcy5ldmVudHMubGVuZ3RoJiZmZWF0dXJlcy5ldmVudHMuc29tZShmdW5jdGlvbihldmVudCl7cmV0dXJuIGV2ZW50PT09Q09OU1RBTlRTLkVWRU5UX1BXX1NJVEVfT1BFTkVEfSkmJnRoaXMuc2VuZFBvc3RFdmVudFZpc2l0ZWRQYWdlKCksZmVhdHVyZXMudmFwaWRfa2V5P1s0LHRoaXMuZGF0YS5zZXRBcHBsaWNhdGlvblNlcnZlcktleShmZWF0dXJlcy52YXBpZF9rZXkpXTpbMyw1XTtjYXNlIDQ6X2Euc2VudCgpLF9hLmxhYmVsPTU7Y2FzZSA1OnJldHVyblsyXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLmluaXRQdXNoTm90aWZpY2F0aW9ucz1mdW5jdGlvbihwYXJhbXMpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGVycm9yXzU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5zZXREZWZhdWx0Tm90aWZpY2F0aW9uSW1hZ2UocGFyYW1zLmRlZmF1bHROb3RpZmljYXRpb25JbWFnZSldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuZGF0YS5zZXREZWZhdWx0Tm90aWZpY2F0aW9uVGl0bGUocGFyYW1zLmRlZmF1bHROb3RpZmljYXRpb25UaXRsZSldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuZGF0YS5zZXRTZXJ2aWNlV29ya2VyVXJsKHBhcmFtcy5zZXJ2aWNlV29ya2VyVXJsKV07Y2FzZSAzOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5kYXRhLnNldFNlcnZpY2VXb3JrZXJTY29wZShwYXJhbXMuc2NvcGUpXTtjYXNlIDQ6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuc2V0SW5pdFBhcmFtcyhfX2Fzc2lnbih7YXV0b1N1YnNjcmliZTohMH0scGFyYW1zKSldO2Nhc2UgNTpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuaW5pdERyaXZlcigpXTtjYXNlIDY6X2Euc2VudCgpLF9hLmxhYmVsPTc7Y2FzZSA3OnJldHVybiBfYS50cnlzLnB1c2goWzcsOSwsMTBdKSxbNCx0aGlzLmRlZmF1bHRQcm9jZXNzKHBhcmFtcyldO2Nhc2UgODpyZXR1cm4gX2Euc2VudCgpLFszLDEwXTtjYXNlIDk6cmV0dXJuIGVycm9yXzU9X2Euc2VudCgpLGxvZ2dlcl8xLkxvZ2dlci5lcnJvcihlcnJvcl81LFwiSW50ZXJuYWwgZXJyb3I6IGRlZmF1bHRQcm9jZXNzIGZhaWxcIiksWzMsMTBdO2Nhc2UgMTA6cmV0dXJuWzJdfX0pfSl9LFB1c2h3b29zaC5wcm90b3R5cGUuaW5pdERyaXZlcj1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHdlYlNpdGVQdXNoSWQ7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLnBsYXRmb3JtQ2hlY2tlci5pc1NhZmFyaT9bNCx0aGlzLmRhdGEuZ2V0SW5pdFBhcmFtcygpXTpbMywyXTtjYXNlIDE6aWYoISh3ZWJTaXRlUHVzaElkPV9hLnNlbnQoKS5zYWZhcmlXZWJzaXRlUHVzaElEKSl0aHJvdyBuZXcgRXJyb3IoXCJGb3Igd29yayB3aXRoIFNhZmFyaSBQdXNoIE5vdGlmaWNhdGlvbiBhZGQgc2FmYXJpV2Vic2l0ZVB1c2hJRCB0byBpbml0UGFyYW1zIVwiKTtyZXR1cm4gdGhpcy5kcml2ZXI9bmV3IFB1c2hTZXJ2aWNlXzEuUHVzaFNlcnZpY2VTYWZhcmkodGhpcy5hcGksdGhpcy5kYXRhLHt3ZWJTaXRlUHVzaElkOndlYlNpdGVQdXNoSWR9KSxbMl07Y2FzZSAyOnJldHVybiB0aGlzLnBsYXRmb3JtQ2hlY2tlci5pc0F2YWlsYWJsZVNlcnZpY2VXb3JrZXI/KHRoaXMuZHJpdmVyPW5ldyBQdXNoU2VydmljZV8xLlB1c2hTZXJ2aWNlRGVmYXVsdCh0aGlzLmFwaSx0aGlzLmRhdGEse30pLFsyXSk6WzJdfX0pfSl9LFB1c2h3b29zaC5wcm90b3R5cGUuc2VuZFBvc3RFdmVudFZpc2l0ZWRQYWdlPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdGl0bGUsaHJlZjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7cmV0dXJuIHRpdGxlPXdpbmRvdy5kb2N1bWVudC50aXRsZSxocmVmPXdpbmRvdy5sb2NhdGlvbi5ocmVmLHRoaXMuYXBpLnBvc3RFdmVudChDT05TVEFOVFMuRVZFTlRfUFdfU0lURV9PUEVORUQse3VybDpocmVmLHRpdGxlOnRpdGxlLGRldmljZV90eXBlOnRoaXMucGxhdGZvcm1DaGVja2VyLnBsYXRmb3JtfSksWzJdfSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5zdWJzY3JpYmVUb0xlZ2FjeUV2ZW50cz1mdW5jdGlvbih0eXBlLGhhbmRsZXIpe3ZhciBfdGhpcz10aGlzO3N3aXRjaCh0eXBlKXtjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9MT0FEOmhhbmRsZXIoKTticmVhaztjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9SRUFEWTppZih0aGlzLnJlYWR5KXtoYW5kbGVyKHRoaXMuYXBpKTticmVha310aGlzLmV2ZW50QnVzLmFkZEV2ZW50SGFuZGxlcihcInJlYWR5XCIsZnVuY3Rpb24oKXtyZXR1cm4gaGFuZGxlcihfdGhpcy5hcGkpfSk7YnJlYWs7Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fUkVHSVNURVI6dGhpcy5ldmVudEJ1cy5hZGRFdmVudEhhbmRsZXIoXCJyZWdpc3RlclwiLGZ1bmN0aW9uKCl7cmV0dXJuIGhhbmRsZXIoX3RoaXMuYXBpKX0pO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1NVQlNDUklCRTp0aGlzLmV2ZW50QnVzLmFkZEV2ZW50SGFuZGxlcihcInN1YnNjcmliZVwiLGZ1bmN0aW9uKCl7cmV0dXJuIGhhbmRsZXIoX3RoaXMuYXBpKX0pO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1VOU1VCU0NSSUJFOnRoaXMuZXZlbnRCdXMuYWRkRXZlbnRIYW5kbGVyKFwidW5zdWJzY3JpYmVcIixmdW5jdGlvbigpe3JldHVybiBoYW5kbGVyKF90aGlzLmFwaSl9KTticmVhaztjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9TV19JTklUX0VSUk9SOnRoaXMuZXZlbnRCdXMuYWRkRXZlbnRIYW5kbGVyKFwiaW5pdGlhbGl6ZS1zZXJ2aWNlLXdvcmtlci1lcnJvclwiLGZ1bmN0aW9uKF9hKXt2YXIgZXJyb3I9X2EuZXJyb3I7cmV0dXJuIGhhbmRsZXIoX3RoaXMuYXBpLGVycm9yKX0pO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1BVU0hfREVMSVZFUlk6dGhpcy5ldmVudEJ1cy5hZGRFdmVudEhhbmRsZXIoXCJyZWNlaXZlLXB1c2hcIixmdW5jdGlvbihfYSl7dmFyIG5vdGlmaWNhdGlvbj1fYS5ub3RpZmljYXRpb247cmV0dXJuIGhhbmRsZXIoX3RoaXMuYXBpLG5vdGlmaWNhdGlvbil9KTticmVhaztjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9OT1RJRklDQVRJT05fQ0xJQ0s6dGhpcy5ldmVudEJ1cy5hZGRFdmVudEhhbmRsZXIoXCJvcGVuLW5vdGlmaWNhdGlvblwiLGZ1bmN0aW9uKF9hKXt2YXIgbm90aWZpY2F0aW9uPV9hLm5vdGlmaWNhdGlvbjtyZXR1cm4gaGFuZGxlcihfdGhpcy5hcGksbm90aWZpY2F0aW9uKX0pO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX05PVElGSUNBVElPTl9DTE9TRTp0aGlzLmV2ZW50QnVzLmFkZEV2ZW50SGFuZGxlcihcImhpZGUtbm90aWZpY2F0aW9uXCIsZnVuY3Rpb24oX2Epe3ZhciBub3RpZmljYXRpb249X2Eubm90aWZpY2F0aW9uO3JldHVybiBoYW5kbGVyKF90aGlzLmFwaSxub3RpZmljYXRpb24pfSk7YnJlYWs7Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fQ0hBTkdFX0NPTU1VTklDQVRJT05fRU5BQkxFRDp0aGlzLmV2ZW50QnVzLmFkZEV2ZW50SGFuZGxlcihcImNoYW5nZS1lbmFibGVkLWNvbW11bmljYXRpb25cIixmdW5jdGlvbihfYSl7dmFyIGlzRW5hYmxlZD1fYS5pc0VuYWJsZWQ7cmV0dXJuIGhhbmRsZXIoX3RoaXMuYXBpLGlzRW5hYmxlZCl9KTticmVhaztjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9QVVRfTkVXX01FU1NBR0VfVE9fSU5CT1hfU1RPUkU6dGhpcy5ldmVudEJ1cy5hZGRFdmVudEhhbmRsZXIoXCJyZWNlaXZlLWluYm94LW1lc3NhZ2VcIixmdW5jdGlvbihfYSl7dmFyIG1lc3NhZ2U9X2EubWVzc2FnZTtyZXR1cm4gaGFuZGxlcihfdGhpcy5hcGksbWVzc2FnZSl9KTticmVhaztjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9VUERBVEVfSU5CT1hfTUVTU0FHRVM6dGhpcy5ldmVudEJ1cy5hZGRFdmVudEhhbmRsZXIoXCJ1cGRhdGUtaW5ib3gtbWVzc2FnZXNcIixmdW5jdGlvbihfYSl7dmFyIG1lc3NhZ2VzPV9hLm1lc3NhZ2VzO3JldHVybiBoYW5kbGVyKF90aGlzLmFwaSxtZXNzYWdlcyl9KTticmVhaztjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9TSE9XX05PVElGSUNBVElPTl9QRVJNSVNTSU9OX0RJQUxPRzp0aGlzLmV2ZW50QnVzLmFkZEV2ZW50SGFuZGxlcihcInNob3ctbm90aWZpY2F0aW9uLXBlcm1pc3Npb24tZGlhbG9nXCIsZnVuY3Rpb24oKXtyZXR1cm4gaGFuZGxlcihfdGhpcy5hcGkpfSk7YnJlYWs7Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fSElERV9OT1RJRklDQVRJT05fUEVSTUlTU0lPTl9ESUFMT0c6dGhpcy5ldmVudEJ1cy5hZGRFdmVudEhhbmRsZXIoXCJoaWRlLW5vdGlmaWNhdGlvbi1wZXJtaXNzaW9uLWRpYWxvZ1wiLGZ1bmN0aW9uKF9hKXt2YXIgcGVybWlzc2lvbj1fYS5wZXJtaXNzaW9uO3JldHVybiBoYW5kbGVyKF90aGlzLmFwaSxwZXJtaXNzaW9uKX0pO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1NIT1dfU1VCU0NSSVBUSU9OX1dJREdFVDp0aGlzLmV2ZW50QnVzLmFkZEV2ZW50SGFuZGxlcihcInNob3ctc3Vic2NyaXB0aW9uLXdpZGdldFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGhhbmRsZXIoX3RoaXMuYXBpKX0pO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX0hJREVfU1VCU0NSSVBUSU9OX1dJREdFVDp0aGlzLmV2ZW50QnVzLmFkZEV2ZW50SGFuZGxlcihcImhpZGUtc3Vic2NyaXB0aW9uLXdpZGdldFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGhhbmRsZXIoX3RoaXMuYXBpKX0pO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1BFUk1JU1NJT05fREVOSUVEOnRoaXMuZXZlbnRCdXMuYWRkRXZlbnRIYW5kbGVyKFwicGVybWlzc2lvbi1kZW5pZWRcIixmdW5jdGlvbigpe3JldHVybiBoYW5kbGVyKF90aGlzLmFwaSl9KTticmVhaztjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9QRVJNSVNTSU9OX1BST01QVDp0aGlzLmV2ZW50QnVzLmFkZEV2ZW50SGFuZGxlcihcInBlcm1pc3Npb24tZGVmYXVsdFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGhhbmRsZXIoX3RoaXMuYXBpKX0pO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1BFUk1JU1NJT05fR1JBTlRFRDp0aGlzLmV2ZW50QnVzLmFkZEV2ZW50SGFuZGxlcihcInBlcm1pc3Npb24tZ3JhbnRlZFwiLGZ1bmN0aW9uKCl7cmV0dXJuIGhhbmRsZXIoX3RoaXMuYXBpKX0pfX0sUHVzaHdvb3NoLnByb3RvdHlwZS5lbWl0TGVnYWN5RXZlbnRzRnJvbVNlcnZpY2VXb3JrZXI9ZnVuY3Rpb24odHlwZSxwYXlsb2FkKXtzd2l0Y2godHlwZSl7Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fUFVTSF9ERUxJVkVSWTp0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJyZWNlaXZlLXB1c2hcIix7bm90aWZpY2F0aW9uOnBheWxvYWR9KTticmVhaztjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9OT1RJRklDQVRJT05fQ0xJQ0s6dGhpcy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KFwib3Blbi1ub3RpZmljYXRpb25cIix7bm90aWZpY2F0aW9uOnBheWxvYWR9KTticmVhaztjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9OT1RJRklDQVRJT05fQ0xPU0U6dGhpcy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KFwiaGlkZS1ub3RpZmljYXRpb25cIix7bm90aWZpY2F0aW9uOnBheWxvYWR9KTticmVhaztjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9QVVRfTkVXX01FU1NBR0VfVE9fSU5CT1hfU1RPUkU6dGhpcy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KFwicmVjZWl2ZS1pbmJveC1tZXNzYWdlXCIse21lc3NhZ2U6cGF5bG9hZH0pfX0sUHVzaHdvb3NofSgpO2V4cG9ydHMuZGVmYXVsdD1QdXNod29vc2h9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBQdXNoU2VydmljZURlZmF1bHRfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDM4KTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIlB1c2hTZXJ2aWNlRGVmYXVsdFwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBQdXNoU2VydmljZURlZmF1bHRfMS5QdXNoU2VydmljZURlZmF1bHR9fSk7dmFyIFB1c2hTZXJ2aWNlU2FmYXJpXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg4MSk7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJQdXNoU2VydmljZVNhZmFyaVwiLHtlbnVtZXJhYmxlOiEwLGdldDpmdW5jdGlvbigpe3JldHVybiBQdXNoU2VydmljZVNhZmFyaV8xLlB1c2hTZXJ2aWNlU2FmYXJpfX0pfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX19hd2FpdGVyPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbih0aGlzQXJnLF9hcmd1bWVudHMsUCxnZW5lcmF0b3Ipe3JldHVybiBuZXcoUHx8KFA9UHJvbWlzZSkpKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiByZWplY3RlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLnRocm93KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiBzdGVwKHJlc3VsdCl7cmVzdWx0LmRvbmU/cmVzb2x2ZShyZXN1bHQudmFsdWUpOmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQP3ZhbHVlOm5ldyBQKGZ1bmN0aW9uKHJlc29sdmUpe3Jlc29sdmUodmFsdWUpfSl9KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQscmVqZWN0ZWQpfXN0ZXAoKGdlbmVyYXRvcj1nZW5lcmF0b3IuYXBwbHkodGhpc0FyZyxfYXJndW1lbnRzfHxbXSkpLm5leHQoKSl9KX0sX19nZW5lcmF0b3I9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24odGhpc0FyZyxib2R5KXt2YXIgZix5LHQsZyxfPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJnRbMF0pdGhyb3cgdFsxXTtyZXR1cm4gdFsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBnPXtuZXh0OnZlcmIoMCksdGhyb3c6dmVyYigxKSxyZXR1cm46dmVyYigyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYoZ1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxnO2Z1bmN0aW9uIHZlcmIobil7cmV0dXJuIGZ1bmN0aW9uKHYpe3JldHVybiBmdW5jdGlvbihvcCl7aWYoZil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO187KXRyeXtpZihmPTEseSYmKHQ9MiZvcFswXT95LnJldHVybjpvcFswXT95LnRocm93fHwoKHQ9eS5yZXR1cm4pJiZ0LmNhbGwoeSksMCk6eS5uZXh0KSYmISh0PXQuY2FsbCh5LG9wWzFdKSkuZG9uZSlyZXR1cm4gdDtzd2l0Y2goeT0wLHQmJihvcD1bMiZvcFswXSx0LnZhbHVlXSksb3BbMF0pe2Nhc2UgMDpjYXNlIDE6dD1vcDticmVhaztjYXNlIDQ6cmV0dXJuIF8ubGFiZWwrKyx7dmFsdWU6b3BbMV0sZG9uZTohMX07Y2FzZSA1Ol8ubGFiZWwrKyx5PW9wWzFdLG9wPVswXTtjb250aW51ZTtjYXNlIDc6b3A9Xy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoISh0PSh0PV8udHJ5cykubGVuZ3RoPjAmJnRbdC5sZW5ndGgtMV0pJiYoNj09PW9wWzBdfHwyPT09b3BbMF0pKXtfPTA7Y29udGludWV9aWYoMz09PW9wWzBdJiYoIXR8fG9wWzFdPnRbMF0mJm9wWzFdPHRbM10pKXtfLmxhYmVsPW9wWzFdO2JyZWFrfWlmKDY9PT1vcFswXSYmXy5sYWJlbDx0WzFdKXtfLmxhYmVsPXRbMV0sdD1vcDticmVha31pZih0JiZfLmxhYmVsPHRbMl0pe18ubGFiZWw9dFsyXSxfLm9wcy5wdXNoKG9wKTticmVha310WzJdJiZfLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWV9b3A9Ym9keS5jYWxsKHRoaXNBcmcsXyl9Y2F0Y2goZSl7b3A9WzYsZV0seT0wfWZpbmFsbHl7Zj10PTB9aWYoNSZvcFswXSl0aHJvdyBvcFsxXTtyZXR1cm57dmFsdWU6b3BbMF0/b3BbMV06dm9pZCAwLGRvbmU6ITB9fShbbix2XSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5QdXNoU2VydmljZVNhZmFyaT12b2lkIDA7dmFyIGxvZ2dlcl8xPV9fd2VicGFja19yZXF1aXJlX18oMyksQ09OU1RBTlRTPV9fd2VicGFja19yZXF1aXJlX18oMSksUHVzaFNlcnZpY2VTYWZhcmk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBQdXNoU2VydmljZVNhZmFyaShhcGksZGF0YSxjb25maWcpe3RoaXMuYXBpPWFwaSx0aGlzLmNvbmZpZz1jb25maWcsdGhpcy5kYXRhPWRhdGF9cmV0dXJuIFB1c2hTZXJ2aWNlU2FmYXJpLnByb3RvdHlwZS5nZXRQZXJtaXNzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UGVybWlzc2lvbkluZm8oKS5wZXJtaXNzaW9ufSxQdXNoU2VydmljZVNhZmFyaS5wcm90b3R5cGUuY2hlY2tJc1Blcm1pc3Npb25HcmFudGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UGVybWlzc2lvbigpPT09Q09OU1RBTlRTLlBFUk1JU1NJT05fR1JBTlRFRH0sUHVzaFNlcnZpY2VTYWZhcmkucHJvdG90eXBlLmNoZWNrSXNQZXJtaXNzaW9uRGVmYXVsdD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFBlcm1pc3Npb24oKT09PUNPTlNUQU5UUy5QRVJNSVNTSU9OX1BST01QVH0sUHVzaFNlcnZpY2VTYWZhcmkucHJvdG90eXBlLmNoZWNrSXNNYW51YWxVbnN1YnNjcmliZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuZ2V0U3RhdHVzTWFudWFsVW5zdWJzY3JpYmVkKCldO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LFB1c2hTZXJ2aWNlU2FmYXJpLnByb3RvdHlwZS5hc2tQZXJtaXNzaW9uPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgYXBwbGljYXRpb24saHdpZCxwYXlsb2FkLF90aGlzPXRoaXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXRBcHBsaWNhdGlvbkNvZGUoKV07Y2FzZSAxOnJldHVybiBhcHBsaWNhdGlvbj1fYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldEh3aWQoKV07Y2FzZSAyOnJldHVybiBod2lkPV9hLnNlbnQoKSxwYXlsb2FkPXthcHBsaWNhdGlvbjphcHBsaWNhdGlvbixod2lkOmh3aWR9LFsyLG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpe3NhZmFyaS5wdXNoTm90aWZpY2F0aW9uLnJlcXVlc3RQZXJtaXNzaW9uKF90aGlzLmNvbmZpZy5lbnRyeXBvaW50fHxcImh0dHBzOi8vY3AucHVzaHdvb3NoLmNvbS9qc29uLzEuMy9zYWZhcmlcIixfdGhpcy5jb25maWcud2ViU2l0ZVB1c2hJZCxwYXlsb2FkLGZ1bmN0aW9uKCl7cmV0dXJuIHJlc29sdmUoKX0pfSldfX0pfSl9LFB1c2hTZXJ2aWNlU2FmYXJpLnByb3RvdHlwZS5nZXRUb2tlbnM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtyZXR1cm5bMix0aGlzLmRhdGEuZ2V0VG9rZW5zKCldfSl9KX0sUHVzaFNlcnZpY2VTYWZhcmkucHJvdG90eXBlLnN1YnNjcmliZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGRldmljZVRva2VuO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5jaGVja0lzUGVybWlzc2lvbkdyYW50ZWQoKT9bNCx0aGlzLmdldFBlcm1pc3Npb25JbmZvKCldOihsb2dnZXJfMS5Mb2dnZXIuZXJyb3IoXCJZb3UgbXVzdCBoYXZlIHBlcm1pc3Npb24gZ3JhbnRlZCBiZWZvcmUgc3Vic2NyaWJlIVwiKSxbMl0pO2Nhc2UgMTpyZXR1cm4gZGV2aWNlVG9rZW49X2Euc2VudCgpLmRldmljZVRva2VuLFs0LHRoaXMuZGF0YS5zZXRUb2tlbnMoe3B1c2hUb2tlbjpkZXZpY2VUb2tlbn0pXTtjYXNlIDI6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLmFwaS5yZWdpc3RlckRldmljZSgpXTtjYXNlIDM6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sUHVzaFNlcnZpY2VTYWZhcmkucHJvdG90eXBlLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLnNldFRva2Vucyh7fSldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuZGF0YS5zZXRTdGF0dXNNYW51YWxVbnN1YnNjcmliZWQoITApXTtjYXNlIDI6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLmFwaS51bnJlZ2lzdGVyRGV2aWNlKCldO2Nhc2UgMzpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxQdXNoU2VydmljZVNhZmFyaS5wcm90b3R5cGUuY2hlY2tJc1JlZ2lzdGVyPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7cmV0dXJuWzIsdGhpcy5hcGkuY2hlY2tEZXZpY2VTdWJzY3JpYmVGb3JQdXNoTm90aWZpY2F0aW9ucygpXX0pfSl9LFB1c2hTZXJ2aWNlU2FmYXJpLnByb3RvdHlwZS5jaGVja0lzTmVlZFJlc3Vic2NyaWJlPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgc2F2ZWRXZWJTaXRlUHVzaElkLGlzQ2hhbmdlV2ViU2l0ZVB1c2hJZCxsYXN0UGVybWlzc2lvbixwZXJtaXNzaW9uO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuZ2V0V2ViU2l0ZVB1c2hJZCgpXTtjYXNlIDE6cmV0dXJuIHNhdmVkV2ViU2l0ZVB1c2hJZD1fYS5zZW50KCksaXNDaGFuZ2VXZWJTaXRlUHVzaElkPXZvaWQgMCE9PXNhdmVkV2ViU2l0ZVB1c2hJZCYmdGhpcy5jb25maWcud2ViU2l0ZVB1c2hJZCE9PXNhdmVkV2ViU2l0ZVB1c2hJZCxbNCx0aGlzLmRhdGEuc2V0V2ViU2l0ZVB1c2hJZCh0aGlzLmNvbmZpZy53ZWJTaXRlUHVzaElkKV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldExhc3RQZXJtaXNzaW9uU3RhdHVzKCldO2Nhc2UgMzpyZXR1cm4gbGFzdFBlcm1pc3Npb249X2Euc2VudCgpLHBlcm1pc3Npb249dGhpcy5nZXRQZXJtaXNzaW9uKCksbGFzdFBlcm1pc3Npb249PT1wZXJtaXNzaW9uP1szLDVdOls0LHRoaXMuZGF0YS5zZXRMYXN0UGVybWlzc2lvblN0YXR1cyhwZXJtaXNzaW9uKV07Y2FzZSA0OnJldHVybiBfYS5zZW50KCksWzIsITBdO2Nhc2UgNTpyZXR1cm5bMixpc0NoYW5nZVdlYlNpdGVQdXNoSWRdfX0pfSl9LFB1c2hTZXJ2aWNlU2FmYXJpLnByb3RvdHlwZS5nZXRQZXJtaXNzaW9uSW5mbz1mdW5jdGlvbigpe3JldHVybiBzYWZhcmkucHVzaE5vdGlmaWNhdGlvbi5wZXJtaXNzaW9uKHRoaXMuY29uZmlnLndlYlNpdGVQdXNoSWQpfSxQdXNoU2VydmljZVNhZmFyaX0oKTtleHBvcnRzLlB1c2hTZXJ2aWNlU2FmYXJpPVB1c2hTZXJ2aWNlU2FmYXJpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX19hc3NpZ249dGhpcyYmdGhpcy5fX2Fzc2lnbnx8ZnVuY3Rpb24oKXtyZXR1cm4oX19hc3NpZ249T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBzLGk9MSxuPWFyZ3VtZW50cy5sZW5ndGg7aTxuO2krKylmb3IodmFyIHAgaW4gcz1hcmd1bWVudHNbaV0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMscCkmJih0W3BdPXNbcF0pO3JldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLlBvcHVwPXZvaWQgMDt2YXIgUG9wdXBfaGVscGVyc18xPV9fd2VicGFja19yZXF1aXJlX18oODMpLFBvcHVwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUG9wdXAobmFtZXNwYWNlLG9uQ2xpY2tDbG9zZSxjb25maWcpe2lmKHRoaXMubmFtZXNwYWNlPW5hbWVzcGFjZSx0aGlzLm9uQ2xpY2tDbG9zZT1vbkNsaWNrQ2xvc2UsdGhpcy5jb25maWc9X19hc3NpZ24oe3Bvc2l0aW9uOlwiY2VudGVyXCJ9LGNvbmZpZyksIXRoaXMuZ2V0Um9vdEVsZW1lbnQoKSl7dmFyIGh0bWw9dGhpcy5jcmVhdGVIVE1MKCk7ZG9jdW1lbnQuYm9keS5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmVlbmRcIixodG1sKSx0aGlzLnJvb3RFbGVtZW50PXRoaXMuZ2V0RWxlbWVudFdpdGhDaGVja0V4aXN0KFwicm9vdFwiKTt2YXIgc3R5bGVzPVBvcHVwX2hlbHBlcnNfMS5nZXRTdHlsZXModGhpcy5uYW1lc3BhY2UpO2RvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVzKX10aGlzLnJvb3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJwdXNod29vc2gtXCIrdGhpcy5uYW1lc3BhY2UrXCItcG9wdXBfcG9zaXRpb25fXCIrdGhpcy5jb25maWcucG9zaXRpb24pLHRoaXMud3JhcHBlckVsZW1lbnQ9dGhpcy5nZXRFbGVtZW50V2l0aENoZWNrRXhpc3QoXCJ3cmFwcGVyXCIpLHRoaXMuaW5uZXJFbGVtZW50PXRoaXMuZ2V0RWxlbWVudFdpdGhDaGVja0V4aXN0KFwiaW5uZXJcIiksdGhpcy5ib2R5RWxlbWVudD10aGlzLmdldEVsZW1lbnRXaXRoQ2hlY2tFeGlzdChcImJvZHlcIiksdGhpcy5jbG9zZUVsZW1lbnQ9dGhpcy5nZXRFbGVtZW50V2l0aENoZWNrRXhpc3QoXCJjbG9zZVwiKSx0aGlzLmFkZEV2ZW50TGlzdGVuZXJzKCl9cmV0dXJuIFBvcHVwLnByb3RvdHlwZS51cGRhdGVDb250ZW50PWZ1bmN0aW9uKGh0bWwpe3RoaXMuYm9keUVsZW1lbnQuaW5uZXJIVE1MPWh0bWx9LFBvcHVwLnByb3RvdHlwZS5yZW1vdmVDb250ZW50PWZ1bmN0aW9uKCl7dGhpcy5ib2R5RWxlbWVudC5pbm5lckhUTUw9XCJcIn0sUG9wdXAucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXtkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsdGhpcy5yb290RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicHVzaHdvb3NoLVwiK3RoaXMubmFtZXNwYWNlK1wiLXBvcHVwX3Nob3dcIil9LFBvcHVwLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7ZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz1cImF1dG9cIix0aGlzLnJvb3RFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJwdXNod29vc2gtXCIrdGhpcy5uYW1lc3BhY2UrXCItcG9wdXBfc2hvd1wiKSx0aGlzLm9uQ2xpY2tDbG9zZSgpfSxQb3B1cC5wcm90b3R5cGUuZ2V0Um9vdEVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwdXNod29vc2gtXCIrdGhpcy5uYW1lc3BhY2UrXCItcG9wdXAtcm9vdFwiKX0sUG9wdXAucHJvdG90eXBlLmNyZWF0ZUhUTUw9ZnVuY3Rpb24oKXtyZXR1cm4nXFxuICAgICAgPGRpdlxcbiAgICAgICAgaWQ9XCJwdXNod29vc2gtJyt0aGlzLm5hbWVzcGFjZSsnLXBvcHVwLXJvb3RcIlxcbiAgICAgICAgY2xhc3M9XCJwdXNod29vc2gtJyt0aGlzLm5hbWVzcGFjZSsnLXBvcHVwXCJcXG4gICAgICA+XFxuICAgICAgICA8ZGl2XFxuICAgICAgICAgIGlkPVwicHVzaHdvb3NoLScrdGhpcy5uYW1lc3BhY2UrJy1wb3B1cC13cmFwcGVyXCJcXG4gICAgICAgICAgY2xhc3M9XCJwdXNod29vc2gtJyt0aGlzLm5hbWVzcGFjZSsnLXBvcHVwX193cmFwcGVyXCJcXG4gICAgICAgID5cXG4gICAgICAgICAgPGRpdlxcbiAgICAgICAgICAgIGlkPVwicHVzaHdvb3NoLScrdGhpcy5uYW1lc3BhY2UrJy1wb3B1cC1pbm5lclwiXFxuICAgICAgICAgICAgY2xhc3M9XCJwdXNod29vc2gtJyt0aGlzLm5hbWVzcGFjZSsnLXBvcHVwX19pbm5lclwiXFxuICAgICAgICAgID5cXG4gICAgICAgICAgICA8ZGl2XFxuICAgICAgICAgICAgICBpZD1cInB1c2h3b29zaC0nK3RoaXMubmFtZXNwYWNlKyctcG9wdXAtYm9keVwiXFxuICAgICAgICAgICAgICBjbGFzcz1cInB1c2h3b29zaC0nK3RoaXMubmFtZXNwYWNlKyctcG9wdXBfX2JvZHlcIlxcbiAgICAgICAgICAgID5cXG4gICAgICAgICAgICA8L2Rpdj5cXG4gICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgIDxidXR0b25cXG4gICAgICAgICAgICBpZD1cInB1c2h3b29zaC0nK3RoaXMubmFtZXNwYWNlKyctcG9wdXAtY2xvc2VcIlxcbiAgICAgICAgICAgIGNsYXNzPVwicHVzaHdvb3NoLScrdGhpcy5uYW1lc3BhY2UrJy1wb3B1cF9fY2xvc2VcIlxcbiAgICAgICAgICAgIHR5cGU9XCJidXR0b25cIlxcbiAgICAgICAgICA+XFxuICAgICAgICAgIDwvYnV0dG9uPlxcbiAgICAgICAgPC9kaXY+XFxuICAgICAgPC9kaXY+XFxuICAgICd9LFBvcHVwLnByb3RvdHlwZS5nZXRFbGVtZW50V2l0aENoZWNrRXhpc3Q9ZnVuY3Rpb24odHlwZSl7dmFyIGVsZW1lbnQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwdXNod29vc2gtXCIrdGhpcy5uYW1lc3BhY2UrXCItcG9wdXAtXCIrdHlwZSk7aWYoIWVsZW1lbnQpdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgZmluZCBlbGVtZW50IGJ5IGlkIFxcXCJwdXNod29vc2gtXCIrdGhpcy5uYW1lc3BhY2UrXCItcG9wdXAtXCIrdHlwZSsnXCInKTtyZXR1cm4gZWxlbWVudH0sUG9wdXAucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXJzPWZ1bmN0aW9uKCl7dmFyIF90aGlzPXRoaXM7dGhpcy5jbG9zZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtfdGhpcy5oaWRlKCl9KSxkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbihldmVudCl7dmFyIGNsaWNrSW5Jbm5lcj1fdGhpcy5pbm5lckVsZW1lbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0KSxjbGlja0luV3JhcHBlcj1fdGhpcy53cmFwcGVyRWxlbWVudC5jb250YWlucyhldmVudC50YXJnZXQpOyFjbGlja0luSW5uZXImJmNsaWNrSW5XcmFwcGVyJiZfdGhpcy5oaWRlKCl9KX0sUG9wdXB9KCk7ZXhwb3J0cy5Qb3B1cD1Qb3B1cH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5nZXRTdHlsZXM9dm9pZCAwLGV4cG9ydHMuZ2V0U3R5bGVzPWZ1bmN0aW9uKG5hbWVzcGFjZSl7dmFyIHN0eWxlcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7cmV0dXJuIHN0eWxlcy5pbm5lckhUTUw9XCJcXG4gICAgLnB1c2h3b29zaC1cIituYW1lc3BhY2UrXCItcG9wdXAge1xcbiAgICAgIHBvc2l0aW9uOiBmaXhlZDtcXG4gICAgICB0b3A6IDA7XFxuICAgICAgbGVmdDogMDtcXG4gICAgICB3aWR0aDogMTAwJTtcXG4gICAgICBoZWlnaHQ6IDEwMCU7XFxuICAgICAgZGlzcGxheTogbm9uZTtcXG4gICAgICB6LWluZGV4OiAyMTQ3NDgzNjQ4O1xcbiAgICAgIG9wYWNpdHk6IDAuOTk7XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtXCIrbmFtZXNwYWNlK1wiLXBvcHVwX3Nob3cge1xcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLVwiK25hbWVzcGFjZStcIi1wb3B1cF9fd3JhcHBlciB7XFxuICAgICAgd2lkdGg6IDEwMCU7XFxuICAgICAgaGVpZ2h0OiAxMDAlO1xcbiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgLjIpO1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLVwiK25hbWVzcGFjZStcIi1wb3B1cF9wb3NpdGlvbl9jZW50ZXIgLnB1c2h3b29zaC1cIituYW1lc3BhY2UrXCItcG9wdXBfX3dyYXBwZXIge1xcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gICAgfVxcbiAgICBcXG4gICAgLnB1c2h3b29zaC1cIituYW1lc3BhY2UrXCItcG9wdXBfcG9zaXRpb25fY2VudGVyIC5wdXNod29vc2gtXCIrbmFtZXNwYWNlK1wiLXBvcHVwX193cmFwcGVyOmFmdGVyIHtcXG4gICAgICBjb250ZW50OiAnJztcXG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgICAgd2lkdGg6IDFweDtcXG4gICAgICBoZWlnaHQ6IDEwMCU7XFxuICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG4gICAgfVxcbiAgICBcXG4gICAgLnB1c2h3b29zaC1cIituYW1lc3BhY2UrXCItcG9wdXBfX2lubmVyIHtcXG4gICAgICBtaW4td2lkdGg6IDMyMHB4O1xcbiAgICAgIG1heC13aWR0aDogMzgwcHg7XFxuICAgICAgd2lkdGg6IDEwMCU7XFxuICAgICAgbWFyZ2luOiAwIGF1dG87XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtXCIrbmFtZXNwYWNlK1wiLXBvcHVwX3Bvc2l0aW9uX2NlbnRlciAucHVzaHdvb3NoLVwiK25hbWVzcGFjZStcIi1wb3B1cF9faW5uZXIge1xcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLVwiK25hbWVzcGFjZStcIi1wb3B1cF9fYm9keSB7XFxuICAgICAgYmFja2dyb3VuZDogI2ZmZjtcXG4gICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xcbiAgICAgIHZlcnRpY2FsLWFsaWduOiBiYXNlbGluZTtcXG4gICAgICBib3gtc2hhZG93OiAwcHggMTBweCAxNnB4IHJnYmEoMCwgMCwgMCwgMC4xKSwgMHB4IDBweCA2cHggcmdiYSgwLCAwLCAwLCAwLjA2KTtcXG4gICAgICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtXCIrbmFtZXNwYWNlK1wiLXBvcHVwX19jbG9zZSB7XFxuICAgICAgYXBwZWFyYW5jZTogbm9uZTtcXG4gICAgICBib3JkZXI6IG5vbmU7XFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICAgICAgYm94LXNoYWRvdzogbm9uZTtcXG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICAgdG9wOiAyNHB4O1xcbiAgICAgIHJpZ2h0OiAyNHB4O1xcbiAgICAgIHdpZHRoOiA0MHB4O1xcbiAgICAgIGhlaWdodDogNDBweDtcXG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtXCIrbmFtZXNwYWNlK1wiLXBvcHVwX19jbG9zZTpiZWZvcmUge1xcbiAgICAgIGNvbnRlbnQ6ICcnO1xcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgICB0b3A6IDUwJTtcXG4gICAgICBsZWZ0OiA1MCU7XFxuICAgICAgd2lkdGg6IDMwcHg7XFxuICAgICAgaGVpZ2h0OiAycHg7XFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAuOCk7XFxuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoLTUwJSkgcm90YXRlKDQ1ZGVnKTtcXG4gICAgfVxcbiAgICBcXG4gICAgLnB1c2h3b29zaC1cIituYW1lc3BhY2UrXCItcG9wdXBfX2Nsb3NlOmFmdGVyIHtcXG4gICAgICBjb250ZW50OiAnJztcXG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICAgdG9wOiA1MCU7XFxuICAgICAgbGVmdDogNTAlO1xcbiAgICAgIHdpZHRoOiAzMHB4O1xcbiAgICAgIGhlaWdodDogMnB4O1xcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgLjgpO1xcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKSB0cmFuc2xhdGVZKC01MCUpIHJvdGF0ZSgtNDVkZWcpO1xcbiAgICB9XFxuICBcIixzdHlsZXN9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX19hd2FpdGVyPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbih0aGlzQXJnLF9hcmd1bWVudHMsUCxnZW5lcmF0b3Ipe3JldHVybiBuZXcoUHx8KFA9UHJvbWlzZSkpKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiByZWplY3RlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLnRocm93KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiBzdGVwKHJlc3VsdCl7cmVzdWx0LmRvbmU/cmVzb2x2ZShyZXN1bHQudmFsdWUpOmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQP3ZhbHVlOm5ldyBQKGZ1bmN0aW9uKHJlc29sdmUpe3Jlc29sdmUodmFsdWUpfSl9KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQscmVqZWN0ZWQpfXN0ZXAoKGdlbmVyYXRvcj1nZW5lcmF0b3IuYXBwbHkodGhpc0FyZyxfYXJndW1lbnRzfHxbXSkpLm5leHQoKSl9KX0sX19nZW5lcmF0b3I9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24odGhpc0FyZyxib2R5KXt2YXIgZix5LHQsZyxfPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJnRbMF0pdGhyb3cgdFsxXTtyZXR1cm4gdFsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBnPXtuZXh0OnZlcmIoMCksdGhyb3c6dmVyYigxKSxyZXR1cm46dmVyYigyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYoZ1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxnO2Z1bmN0aW9uIHZlcmIobil7cmV0dXJuIGZ1bmN0aW9uKHYpe3JldHVybiBmdW5jdGlvbihvcCl7aWYoZil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO187KXRyeXtpZihmPTEseSYmKHQ9MiZvcFswXT95LnJldHVybjpvcFswXT95LnRocm93fHwoKHQ9eS5yZXR1cm4pJiZ0LmNhbGwoeSksMCk6eS5uZXh0KSYmISh0PXQuY2FsbCh5LG9wWzFdKSkuZG9uZSlyZXR1cm4gdDtzd2l0Y2goeT0wLHQmJihvcD1bMiZvcFswXSx0LnZhbHVlXSksb3BbMF0pe2Nhc2UgMDpjYXNlIDE6dD1vcDticmVhaztjYXNlIDQ6cmV0dXJuIF8ubGFiZWwrKyx7dmFsdWU6b3BbMV0sZG9uZTohMX07Y2FzZSA1Ol8ubGFiZWwrKyx5PW9wWzFdLG9wPVswXTtjb250aW51ZTtjYXNlIDc6b3A9Xy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoISh0PSh0PV8udHJ5cykubGVuZ3RoPjAmJnRbdC5sZW5ndGgtMV0pJiYoNj09PW9wWzBdfHwyPT09b3BbMF0pKXtfPTA7Y29udGludWV9aWYoMz09PW9wWzBdJiYoIXR8fG9wWzFdPnRbMF0mJm9wWzFdPHRbM10pKXtfLmxhYmVsPW9wWzFdO2JyZWFrfWlmKDY9PT1vcFswXSYmXy5sYWJlbDx0WzFdKXtfLmxhYmVsPXRbMV0sdD1vcDticmVha31pZih0JiZfLmxhYmVsPHRbMl0pe18ubGFiZWw9dFsyXSxfLm9wcy5wdXNoKG9wKTticmVha310WzJdJiZfLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWV9b3A9Ym9keS5jYWxsKHRoaXNBcmcsXyl9Y2F0Y2goZSl7b3A9WzYsZV0seT0wfWZpbmFsbHl7Zj10PTB9aWYoNSZvcFswXSl0aHJvdyBvcFsxXTtyZXR1cm57dmFsdWU6b3BbMF0/b3BbMV06dm9pZCAwLGRvbmU6ITB9fShbbix2XSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5TdWJzY3JpcHRpb25TZWdtZW50c1dpZGdldD12b2lkIDA7dmFyIGdldFppcF8xPV9fd2VicGFja19yZXF1aXJlX18oNDgpLGxvZ2dlcl8xPV9fd2VicGFja19yZXF1aXJlX18oMyksU3Vic2NyaXB0aW9uU2VnbWVudHNXaWRnZXRfaGVscGVyc18xPV9fd2VicGFja19yZXF1aXJlX18oMTI0KSxTdWJzY3JpcHRpb25TZWdtZW50c1dpZGdldD1mdW5jdGlvbigpe2Z1bmN0aW9uIFN1YnNjcmlwdGlvblNlZ21lbnRzV2lkZ2V0KGV2ZW50QnVzLGRhdGEsYXBpQ2xpZW50LGFwaSxwb3B1cCxwdyl7dGhpcy5ldmVudEJ1cz1ldmVudEJ1cyx0aGlzLmRhdGE9ZGF0YSx0aGlzLmFwaUNsaWVudD1hcGlDbGllbnQsdGhpcy5hcGk9YXBpLHRoaXMucG9wdXA9cG9wdXAsdGhpcy5wdz1wd31yZXR1cm4gU3Vic2NyaXB0aW9uU2VnbWVudHNXaWRnZXQucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBpbkFwcENvZGUscmljaE1lZGlhVXJsLGNvbnRlbnQsc2VnbWVudHMsc29ydGVkU2VnbWVudHMsaHRtbCxzdHlsZXMsZGVueUVsZW1lbnQsYWNjZXB0RWxlbWVudCxfdGhpcz10aGlzO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldEluQXBwQ29kZSgpXTtjYXNlIDE6cmV0dXJuKGluQXBwQ29kZT1fYS5zZW50KCkpP1s0LHRoaXMuZ2V0UmljaE1lZGlhVXJsQnlJbkFwcENvZGUoaW5BcHBDb2RlKV06KGxvZ2dlcl8xLkxvZ2dlci5lcnJvcihcIkludGVybmFsIGVycm9yOiBDYW4ndCBmaW5kIGluLWFwcCBjb2RlIGZvciBidWlsZCBzdWJzY3JpcHRpb24gc2VnbWVudCB3aWRnZXQhXCIpLFsyXSk7Y2FzZSAyOnJldHVybihyaWNoTWVkaWFVcmw9X2Euc2VudCgpKT9bNCx0aGlzLmdldER5bmFtaWNDb250ZW50KHJpY2hNZWRpYVVybCldOihsb2dnZXJfMS5Mb2dnZXIuZXJyb3IoXCJJbnRlcm5hbCBlcnJvcjogQ2FuJ3QgZmluZCByaWNoIG1lZGlhIHVybCBmb3IgYnVpbGQgc3Vic2NyaXB0aW9uIHNlZ21lbnQgd2lkZ2V0IVwiKSxbMl0pO2Nhc2UgMzpyZXR1cm4gY29udGVudD1fYS5zZW50KCksWzQsdGhpcy5nZXRTZWdtZW50cygpXTtjYXNlIDQ6cmV0dXJuIHNlZ21lbnRzPV9hLnNlbnQoKSxjb250ZW50JiZzZWdtZW50cz8oc29ydGVkU2VnbWVudHM9c2VnbWVudHMuc29ydChmdW5jdGlvbihzZWdtZW50MSxzZWdtZW50Mil7cmV0dXJuIHNlZ21lbnQxLnBvc2l0aW9uLXNlZ21lbnQyLnBvc2l0aW9ufSksaHRtbD1TdWJzY3JpcHRpb25TZWdtZW50c1dpZGdldF9oZWxwZXJzXzEuZ2V0SFRNTChjb250ZW50LHNvcnRlZFNlZ21lbnRzKSxzdHlsZXM9U3Vic2NyaXB0aW9uU2VnbWVudHNXaWRnZXRfaGVscGVyc18xLmdldFN0eWxlcyhjb250ZW50KSxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlcyksdGhpcy5wb3B1cC51cGRhdGVDb250ZW50KGh0bWwpLGRlbnlFbGVtZW50PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50cy1kZW55XCIpLGFjY2VwdEVsZW1lbnQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzLWFjY2VwdFwiKSxkZW55RWxlbWVudCYmZGVueUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtfdGhpcy5oaWRlUG9wdXAoKX0pLGFjY2VwdEVsZW1lbnQmJmFjY2VwdEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXt2YXIgcmVzdWx0PVtdLHNlZ21lbnRzPWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJwdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19maWVsZFwiKTtpZihfdGhpcy5oaWRlUG9wdXAoKSxzZWdtZW50cyl7Zm9yKHZhciBpbmRleD0wO2luZGV4PHNlZ21lbnRzLmxlbmd0aDtpbmRleCsrKXt2YXIgZmllbGQ9c2VnbWVudHNbaW5kZXhdO2ZpZWxkLmNoZWNrZWQmJnJlc3VsdC5wdXNoKGZpZWxkLnZhbHVlKX1fdGhpcy5hcGkuc2V0VGFncyh7XCJTdWJzY3JpcHRpb24gU2VnbWVudHNcIjpyZXN1bHR9KSxfdGhpcy5wdy5zdWJzY3JpYmUoKX19KSx0aGlzLnNob3dQb3B1cCgpLFsyXSk6KGxvZ2dlcl8xLkxvZ2dlci5lcnJvcihcIkludGVybmFsIGVycm9yOiBDYW4ndCBnZXQgY29udGVudCBvciBzZWdtZW50cyBmb3IgYnVpbGQgc3Vic2NyaXB0aW9uIHNlZ21lbnQgd2lkZ2V0IVwiKSxbMl0pfX0pfSl9LFN1YnNjcmlwdGlvblNlZ21lbnRzV2lkZ2V0LnByb3RvdHlwZS5zaG93UG9wdXA9ZnVuY3Rpb24oKXt0aGlzLmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJzaG93LXN1YnNjcmlwdGlvbi13aWRnZXRcIix7fSksdGhpcy5wb3B1cC5zaG93KCl9LFN1YnNjcmlwdGlvblNlZ21lbnRzV2lkZ2V0LnByb3RvdHlwZS5oaWRlUG9wdXA9ZnVuY3Rpb24oKXt0aGlzLnBvcHVwLmhpZGUoKX0sU3Vic2NyaXB0aW9uU2VnbWVudHNXaWRnZXQucHJvdG90eXBlLmdldFJpY2hNZWRpYVVybEJ5SW5BcHBDb2RlPWZ1bmN0aW9uKGNvZGUpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGluQXBwcyxpbkFwcDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldEluQXBwcygpXTtjYXNlIDE6cmV0dXJuKGluQXBwcz1fYS5zZW50KCkpJiYoaW5BcHA9aW5BcHBzLmZpbmQoZnVuY3Rpb24oaW5BcHApe3JldHVybiBpbkFwcC5jb2RlPT09Y29kZX0pKT9bMixpbkFwcC51cmxdOlsyXX19KX0pfSxTdWJzY3JpcHRpb25TZWdtZW50c1dpZGdldC5wcm90b3R5cGUuZ2V0SW5BcHBDb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgYXBwbGljYXRpb24saHdpZCx1c2VySWQsZGV2aWNlVHlwZSxkZXZpY2VNb2RlbCxsYW5ndWFnZSx2ZXJzaW9uLHRpbWV6b25lLGRhdGUsdGltZSx0aW1lc3RhbXBVVEMsdGltZXN0YW1wQ3VycmVudCxyZXNwb25zZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldEFwcGxpY2F0aW9uQ29kZSgpXTtjYXNlIDE6cmV0dXJuIGFwcGxpY2F0aW9uPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0SHdpZCgpXTtjYXNlIDI6cmV0dXJuIGh3aWQ9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRVc2VySWQoKV07Y2FzZSAzOnJldHVybiB1c2VySWQ9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXREZXZpY2VUeXBlKCldO2Nhc2UgNDpyZXR1cm4gZGV2aWNlVHlwZT1fYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldERldmljZU1vZGVsKCldO2Nhc2UgNTpyZXR1cm4gZGV2aWNlTW9kZWw9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRMYW5ndWFnZSgpXTtjYXNlIDY6cmV0dXJuIGxhbmd1YWdlPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0U2RrVmVyc2lvbigpXTtjYXNlIDc6cmV0dXJuIHZlcnNpb249X2Euc2VudCgpLHRpbWV6b25lPTYwKi0obmV3IERhdGUpLmdldFRpbWV6b25lT2Zmc2V0KCksZGF0ZT1uZXcgRGF0ZSx0aW1lPWRhdGUuZ2V0VGltZSgpLHRpbWVzdGFtcFVUQz1NYXRoLmZsb29yKHRpbWUvMWUzKSx0aW1lc3RhbXBDdXJyZW50PXRpbWVzdGFtcFVUQy1kYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkvNjAqMzYwMCxbNCx0aGlzLmFwaUNsaWVudC5wb3N0RXZlbnQoe2FwcGxpY2F0aW9uOmFwcGxpY2F0aW9uLGh3aWQ6aHdpZCx1c2VySWQ6dXNlcklkfHxod2lkLGRldmljZV90eXBlOmRldmljZVR5cGUsZGV2aWNlX21vZGVsOmRldmljZU1vZGVsLGxhbmd1YWdlOmxhbmd1YWdlLHY6dmVyc2lvbix0aW1lem9uZTp0aW1lem9uZSx0aW1lc3RhbXBVVEM6dGltZXN0YW1wVVRDLHRpbWVzdGFtcEN1cnJlbnQ6dGltZXN0YW1wQ3VycmVudCxldmVudDpcIlN1YnNjcmlwdGlvbiBTZWdtZW50c1wiLGF0dHJpYnV0ZXM6e319KV07Y2FzZSA4OnJldHVyblsyLChyZXNwb25zZT1fYS5zZW50KCkpJiZyZXNwb25zZS5jb2RlXX19KX0pfSxTdWJzY3JpcHRpb25TZWdtZW50c1dpZGdldC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBmZWF0dXJlcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldEZlYXR1cmVzKCldO2Nhc2UgMTpyZXR1cm5bMiwoZmVhdHVyZXM9X2Euc2VudCgpKSYmZmVhdHVyZXMuY2hhbm5lbHNdfX0pfSl9LFN1YnNjcmlwdGlvblNlZ21lbnRzV2lkZ2V0LnByb3RvdHlwZS5nZXREeW5hbWljQ29udGVudD1mdW5jdGlvbih1cmwpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGpzemlwLGRhdGEsX2EsX2I7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Mpe3N3aXRjaChfYy5sYWJlbCl7Y2FzZSAwOnJldHVybls0LGdldFppcF8xLmdldFppcCh1cmwpXTtjYXNlIDE6cmV0dXJuIGpzemlwPV9jLnNlbnQoKSxfYj0oX2E9SlNPTikucGFyc2UsWzQsanN6aXAuZmlsZShcInB1c2h3b29zaC5qc29uXCIpLmFzeW5jKFwidGV4dFwiKV07Y2FzZSAyOnJldHVyblsyLChkYXRhPV9iLmFwcGx5KF9hLFtfYy5zZW50KCldKSkmJmRhdGEubG9jYWxpemF0aW9uJiZkYXRhLmRlZmF1bHRfbGFuZ3VhZ2UmJmRhdGEubG9jYWxpemF0aW9uW2RhdGEuZGVmYXVsdF9sYW5ndWFnZV1dfX0pfSl9LFN1YnNjcmlwdGlvblNlZ21lbnRzV2lkZ2V0fSgpO2V4cG9ydHMuU3Vic2NyaXB0aW9uU2VnbWVudHNXaWRnZXQ9U3Vic2NyaXB0aW9uU2VnbWVudHNXaWRnZXR9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIEpTWmlwKCl7aWYoISh0aGlzIGluc3RhbmNlb2YgSlNaaXApKXJldHVybiBuZXcgSlNaaXA7aWYoYXJndW1lbnRzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgY29uc3RydWN0b3Igd2l0aCBwYXJhbWV0ZXJzIGhhcyBiZWVuIHJlbW92ZWQgaW4gSlNaaXAgMy4wLCBwbGVhc2UgY2hlY2sgdGhlIHVwZ3JhZGUgZ3VpZGUuXCIpO3RoaXMuZmlsZXM9e30sdGhpcy5jb21tZW50PW51bGwsdGhpcy5yb290PVwiXCIsdGhpcy5jbG9uZT1mdW5jdGlvbigpe3ZhciBuZXdPYmo9bmV3IEpTWmlwO2Zvcih2YXIgaSBpbiB0aGlzKVwiZnVuY3Rpb25cIiE9dHlwZW9mIHRoaXNbaV0mJihuZXdPYmpbaV09dGhpc1tpXSk7cmV0dXJuIG5ld09ian19SlNaaXAucHJvdG90eXBlPV9fd2VicGFja19yZXF1aXJlX18oODYpLEpTWmlwLnByb3RvdHlwZS5sb2FkQXN5bmM9X193ZWJwYWNrX3JlcXVpcmVfXygxMTkpLEpTWmlwLnN1cHBvcnQ9X193ZWJwYWNrX3JlcXVpcmVfXyg3KSxKU1ppcC5kZWZhdWx0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDU5KSxKU1ppcC52ZXJzaW9uPVwiMy4yLjBcIixKU1ppcC5sb2FkQXN5bmM9ZnVuY3Rpb24oY29udGVudCxvcHRpb25zKXtyZXR1cm4obmV3IEpTWmlwKS5sb2FkQXN5bmMoY29udGVudCxvcHRpb25zKX0sSlNaaXAuZXh0ZXJuYWw9X193ZWJwYWNrX3JlcXVpcmVfXygyNCksbW9kdWxlLmV4cG9ydHM9SlNaaXB9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciB1dGY4PV9fd2VicGFja19yZXF1aXJlX18oMTQpLHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMCksR2VuZXJpY1dvcmtlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpLFN0cmVhbUhlbHBlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDU4KSxkZWZhdWx0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDU5KSxDb21wcmVzc2VkT2JqZWN0PV9fd2VicGFja19yZXF1aXJlX18oNDIpLFppcE9iamVjdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEwNSksZ2VuZXJhdGU9X193ZWJwYWNrX3JlcXVpcmVfXygxMDYpLG5vZGVqc1V0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMjkpLE5vZGVqc1N0cmVhbUlucHV0QWRhcHRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDExOCksZmlsZUFkZD1mdW5jdGlvbihuYW1lLGRhdGEsb3JpZ2luYWxPcHRpb25zKXt2YXIgcGFyZW50LGRhdGFUeXBlPXV0aWxzLmdldFR5cGVPZihkYXRhKSxvPXV0aWxzLmV4dGVuZChvcmlnaW5hbE9wdGlvbnN8fHt9LGRlZmF1bHRzKTtvLmRhdGU9by5kYXRlfHxuZXcgRGF0ZSxudWxsIT09by5jb21wcmVzc2lvbiYmKG8uY29tcHJlc3Npb249by5jb21wcmVzc2lvbi50b1VwcGVyQ2FzZSgpKSxcInN0cmluZ1wiPT10eXBlb2Ygby51bml4UGVybWlzc2lvbnMmJihvLnVuaXhQZXJtaXNzaW9ucz1wYXJzZUludChvLnVuaXhQZXJtaXNzaW9ucyw4KSksby51bml4UGVybWlzc2lvbnMmJjE2Mzg0Jm8udW5peFBlcm1pc3Npb25zJiYoby5kaXI9ITApLG8uZG9zUGVybWlzc2lvbnMmJjE2Jm8uZG9zUGVybWlzc2lvbnMmJihvLmRpcj0hMCksby5kaXImJihuYW1lPWZvcmNlVHJhaWxpbmdTbGFzaChuYW1lKSksby5jcmVhdGVGb2xkZXJzJiYocGFyZW50PXBhcmVudEZvbGRlcihuYW1lKSkmJmZvbGRlckFkZC5jYWxsKHRoaXMscGFyZW50LCEwKTt2YXIgaXNVbmljb2RlU3RyaW5nPVwic3RyaW5nXCI9PT1kYXRhVHlwZSYmITE9PT1vLmJpbmFyeSYmITE9PT1vLmJhc2U2NDtvcmlnaW5hbE9wdGlvbnMmJnZvaWQgMCE9PW9yaWdpbmFsT3B0aW9ucy5iaW5hcnl8fChvLmJpbmFyeT0haXNVbmljb2RlU3RyaW5nKSwoZGF0YSBpbnN0YW5jZW9mIENvbXByZXNzZWRPYmplY3QmJjA9PT1kYXRhLnVuY29tcHJlc3NlZFNpemV8fG8uZGlyfHwhZGF0YXx8MD09PWRhdGEubGVuZ3RoKSYmKG8uYmFzZTY0PSExLG8uYmluYXJ5PSEwLGRhdGE9XCJcIixvLmNvbXByZXNzaW9uPVwiU1RPUkVcIixkYXRhVHlwZT1cInN0cmluZ1wiKTt2YXIgemlwT2JqZWN0Q29udGVudD1udWxsO3ppcE9iamVjdENvbnRlbnQ9ZGF0YSBpbnN0YW5jZW9mIENvbXByZXNzZWRPYmplY3R8fGRhdGEgaW5zdGFuY2VvZiBHZW5lcmljV29ya2VyP2RhdGE6bm9kZWpzVXRpbHMuaXNOb2RlJiZub2RlanNVdGlscy5pc1N0cmVhbShkYXRhKT9uZXcgTm9kZWpzU3RyZWFtSW5wdXRBZGFwdGVyKG5hbWUsZGF0YSk6dXRpbHMucHJlcGFyZUNvbnRlbnQobmFtZSxkYXRhLG8uYmluYXJ5LG8ub3B0aW1pemVkQmluYXJ5U3RyaW5nLG8uYmFzZTY0KTt2YXIgb2JqZWN0PW5ldyBaaXBPYmplY3QobmFtZSx6aXBPYmplY3RDb250ZW50LG8pO3RoaXMuZmlsZXNbbmFtZV09b2JqZWN0fSxwYXJlbnRGb2xkZXI9ZnVuY3Rpb24ocGF0aCl7XCIvXCI9PT1wYXRoLnNsaWNlKC0xKSYmKHBhdGg9cGF0aC5zdWJzdHJpbmcoMCxwYXRoLmxlbmd0aC0xKSk7dmFyIGxhc3RTbGFzaD1wYXRoLmxhc3RJbmRleE9mKFwiL1wiKTtyZXR1cm4gbGFzdFNsYXNoPjA/cGF0aC5zdWJzdHJpbmcoMCxsYXN0U2xhc2gpOlwiXCJ9LGZvcmNlVHJhaWxpbmdTbGFzaD1mdW5jdGlvbihwYXRoKXtyZXR1cm5cIi9cIiE9PXBhdGguc2xpY2UoLTEpJiYocGF0aCs9XCIvXCIpLHBhdGh9LGZvbGRlckFkZD1mdW5jdGlvbihuYW1lLGNyZWF0ZUZvbGRlcnMpe3JldHVybiBjcmVhdGVGb2xkZXJzPXZvaWQgMCE9PWNyZWF0ZUZvbGRlcnM/Y3JlYXRlRm9sZGVyczpkZWZhdWx0cy5jcmVhdGVGb2xkZXJzLG5hbWU9Zm9yY2VUcmFpbGluZ1NsYXNoKG5hbWUpLHRoaXMuZmlsZXNbbmFtZV18fGZpbGVBZGQuY2FsbCh0aGlzLG5hbWUsbnVsbCx7ZGlyOiEwLGNyZWF0ZUZvbGRlcnM6Y3JlYXRlRm9sZGVyc30pLHRoaXMuZmlsZXNbbmFtZV19O2Z1bmN0aW9uIGlzUmVnRXhwKG9iamVjdCl7cmV0dXJuXCJbb2JqZWN0IFJlZ0V4cF1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmplY3QpfXZhciBvdXQ9e2xvYWQ6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIG1ldGhvZCBoYXMgYmVlbiByZW1vdmVkIGluIEpTWmlwIDMuMCwgcGxlYXNlIGNoZWNrIHRoZSB1cGdyYWRlIGd1aWRlLlwiKX0sZm9yRWFjaDpmdW5jdGlvbihjYil7dmFyIGZpbGVuYW1lLHJlbGF0aXZlUGF0aCxmaWxlO2ZvcihmaWxlbmFtZSBpbiB0aGlzLmZpbGVzKXRoaXMuZmlsZXMuaGFzT3duUHJvcGVydHkoZmlsZW5hbWUpJiYoZmlsZT10aGlzLmZpbGVzW2ZpbGVuYW1lXSwocmVsYXRpdmVQYXRoPWZpbGVuYW1lLnNsaWNlKHRoaXMucm9vdC5sZW5ndGgsZmlsZW5hbWUubGVuZ3RoKSkmJmZpbGVuYW1lLnNsaWNlKDAsdGhpcy5yb290Lmxlbmd0aCk9PT10aGlzLnJvb3QmJmNiKHJlbGF0aXZlUGF0aCxmaWxlKSl9LGZpbHRlcjpmdW5jdGlvbihzZWFyY2gpe3ZhciByZXN1bHQ9W107cmV0dXJuIHRoaXMuZm9yRWFjaChmdW5jdGlvbihyZWxhdGl2ZVBhdGgsZW50cnkpe3NlYXJjaChyZWxhdGl2ZVBhdGgsZW50cnkpJiZyZXN1bHQucHVzaChlbnRyeSl9KSxyZXN1bHR9LGZpbGU6ZnVuY3Rpb24obmFtZSxkYXRhLG8pe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihpc1JlZ0V4cChuYW1lKSl7dmFyIHJlZ2V4cD1uYW1lO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbihyZWxhdGl2ZVBhdGgsZmlsZSl7cmV0dXJuIWZpbGUuZGlyJiZyZWdleHAudGVzdChyZWxhdGl2ZVBhdGgpfSl9dmFyIG9iaj10aGlzLmZpbGVzW3RoaXMucm9vdCtuYW1lXTtyZXR1cm4gb2JqJiYhb2JqLmRpcj9vYmo6bnVsbH1yZXR1cm4gbmFtZT10aGlzLnJvb3QrbmFtZSxmaWxlQWRkLmNhbGwodGhpcyxuYW1lLGRhdGEsbyksdGhpc30sZm9sZGVyOmZ1bmN0aW9uKGFyZyl7aWYoIWFyZylyZXR1cm4gdGhpcztpZihpc1JlZ0V4cChhcmcpKXJldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbihyZWxhdGl2ZVBhdGgsZmlsZSl7cmV0dXJuIGZpbGUuZGlyJiZhcmcudGVzdChyZWxhdGl2ZVBhdGgpfSk7dmFyIG5hbWU9dGhpcy5yb290K2FyZyxuZXdGb2xkZXI9Zm9sZGVyQWRkLmNhbGwodGhpcyxuYW1lKSxyZXQ9dGhpcy5jbG9uZSgpO3JldHVybiByZXQucm9vdD1uZXdGb2xkZXIubmFtZSxyZXR9LHJlbW92ZTpmdW5jdGlvbihuYW1lKXtuYW1lPXRoaXMucm9vdCtuYW1lO3ZhciBmaWxlPXRoaXMuZmlsZXNbbmFtZV07aWYoZmlsZXx8KFwiL1wiIT09bmFtZS5zbGljZSgtMSkmJihuYW1lKz1cIi9cIiksZmlsZT10aGlzLmZpbGVzW25hbWVdKSxmaWxlJiYhZmlsZS5kaXIpZGVsZXRlIHRoaXMuZmlsZXNbbmFtZV07ZWxzZSBmb3IodmFyIGtpZHM9dGhpcy5maWx0ZXIoZnVuY3Rpb24ocmVsYXRpdmVQYXRoLGZpbGUpe3JldHVybiBmaWxlLm5hbWUuc2xpY2UoMCxuYW1lLmxlbmd0aCk9PT1uYW1lfSksaT0wO2k8a2lkcy5sZW5ndGg7aSsrKWRlbGV0ZSB0aGlzLmZpbGVzW2tpZHNbaV0ubmFtZV07cmV0dXJuIHRoaXN9LGdlbmVyYXRlOmZ1bmN0aW9uKG9wdGlvbnMpe3Rocm93IG5ldyBFcnJvcihcIlRoaXMgbWV0aG9kIGhhcyBiZWVuIHJlbW92ZWQgaW4gSlNaaXAgMy4wLCBwbGVhc2UgY2hlY2sgdGhlIHVwZ3JhZGUgZ3VpZGUuXCIpfSxnZW5lcmF0ZUludGVybmFsU3RyZWFtOmZ1bmN0aW9uKG9wdGlvbnMpe3ZhciB3b3JrZXIsb3B0cz17fTt0cnl7aWYoKG9wdHM9dXRpbHMuZXh0ZW5kKG9wdGlvbnN8fHt9LHtzdHJlYW1GaWxlczohMSxjb21wcmVzc2lvbjpcIlNUT1JFXCIsY29tcHJlc3Npb25PcHRpb25zOm51bGwsdHlwZTpcIlwiLHBsYXRmb3JtOlwiRE9TXCIsY29tbWVudDpudWxsLG1pbWVUeXBlOlwiYXBwbGljYXRpb24vemlwXCIsZW5jb2RlRmlsZU5hbWU6dXRmOC51dGY4ZW5jb2RlfSkpLnR5cGU9b3B0cy50eXBlLnRvTG93ZXJDYXNlKCksb3B0cy5jb21wcmVzc2lvbj1vcHRzLmNvbXByZXNzaW9uLnRvVXBwZXJDYXNlKCksXCJiaW5hcnlzdHJpbmdcIj09PW9wdHMudHlwZSYmKG9wdHMudHlwZT1cInN0cmluZ1wiKSwhb3B0cy50eXBlKXRocm93IG5ldyBFcnJvcihcIk5vIG91dHB1dCB0eXBlIHNwZWNpZmllZC5cIik7dXRpbHMuY2hlY2tTdXBwb3J0KG9wdHMudHlwZSksXCJkYXJ3aW5cIiE9PW9wdHMucGxhdGZvcm0mJlwiZnJlZWJzZFwiIT09b3B0cy5wbGF0Zm9ybSYmXCJsaW51eFwiIT09b3B0cy5wbGF0Zm9ybSYmXCJzdW5vc1wiIT09b3B0cy5wbGF0Zm9ybXx8KG9wdHMucGxhdGZvcm09XCJVTklYXCIpLFwid2luMzJcIj09PW9wdHMucGxhdGZvcm0mJihvcHRzLnBsYXRmb3JtPVwiRE9TXCIpO3ZhciBjb21tZW50PW9wdHMuY29tbWVudHx8dGhpcy5jb21tZW50fHxcIlwiO3dvcmtlcj1nZW5lcmF0ZS5nZW5lcmF0ZVdvcmtlcih0aGlzLG9wdHMsY29tbWVudCl9Y2F0Y2goZSl7KHdvcmtlcj1uZXcgR2VuZXJpY1dvcmtlcihcImVycm9yXCIpKS5lcnJvcihlKX1yZXR1cm4gbmV3IFN0cmVhbUhlbHBlcih3b3JrZXIsb3B0cy50eXBlfHxcInN0cmluZ1wiLG9wdHMubWltZVR5cGUpfSxnZW5lcmF0ZUFzeW5jOmZ1bmN0aW9uKG9wdGlvbnMsb25VcGRhdGUpe3JldHVybiB0aGlzLmdlbmVyYXRlSW50ZXJuYWxTdHJlYW0ob3B0aW9ucykuYWNjdW11bGF0ZShvblVwZGF0ZSl9LGdlbmVyYXRlTm9kZVN0cmVhbTpmdW5jdGlvbihvcHRpb25zLG9uVXBkYXRlKXtyZXR1cm4ob3B0aW9ucz1vcHRpb25zfHx7fSkudHlwZXx8KG9wdGlvbnMudHlwZT1cIm5vZGVidWZmZXJcIiksdGhpcy5nZW5lcmF0ZUludGVybmFsU3RyZWFtKG9wdGlvbnMpLnRvTm9kZWpzU3RyZWFtKG9uVXBkYXRlKX19O21vZHVsZS5leHBvcnRzPW91dH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZXhwb3J0cy5ieXRlTGVuZ3RoPWZ1bmN0aW9uKGI2NCl7dmFyIGxlbnM9Z2V0TGVucyhiNjQpLHZhbGlkTGVuPWxlbnNbMF0scGxhY2VIb2xkZXJzTGVuPWxlbnNbMV07cmV0dXJuIDMqKHZhbGlkTGVuK3BsYWNlSG9sZGVyc0xlbikvNC1wbGFjZUhvbGRlcnNMZW59LGV4cG9ydHMudG9CeXRlQXJyYXk9ZnVuY3Rpb24oYjY0KXt2YXIgdG1wLGksbGVucz1nZXRMZW5zKGI2NCksdmFsaWRMZW49bGVuc1swXSxwbGFjZUhvbGRlcnNMZW49bGVuc1sxXSxhcnI9bmV3IEFycihmdW5jdGlvbihiNjQsdmFsaWRMZW4scGxhY2VIb2xkZXJzTGVuKXtyZXR1cm4gMyoodmFsaWRMZW4rcGxhY2VIb2xkZXJzTGVuKS80LXBsYWNlSG9sZGVyc0xlbn0oMCx2YWxpZExlbixwbGFjZUhvbGRlcnNMZW4pKSxjdXJCeXRlPTAsbGVuPXBsYWNlSG9sZGVyc0xlbj4wP3ZhbGlkTGVuLTQ6dmFsaWRMZW47Zm9yKGk9MDtpPGxlbjtpKz00KXRtcD1yZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldPDwxOHxyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSsxKV08PDEyfHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKzIpXTw8NnxyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSszKV0sYXJyW2N1ckJ5dGUrK109dG1wPj4xNiYyNTUsYXJyW2N1ckJ5dGUrK109dG1wPj44JjI1NSxhcnJbY3VyQnl0ZSsrXT0yNTUmdG1wOzI9PT1wbGFjZUhvbGRlcnNMZW4mJih0bXA9cmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXTw8MnxyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSsxKV0+PjQsYXJyW2N1ckJ5dGUrK109MjU1JnRtcCk7MT09PXBsYWNlSG9sZGVyc0xlbiYmKHRtcD1yZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldPDwxMHxyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSsxKV08PDR8cmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkrMildPj4yLGFycltjdXJCeXRlKytdPXRtcD4+OCYyNTUsYXJyW2N1ckJ5dGUrK109MjU1JnRtcCk7cmV0dXJuIGFycn0sZXhwb3J0cy5mcm9tQnl0ZUFycmF5PWZ1bmN0aW9uKHVpbnQ4KXtmb3IodmFyIHRtcCxsZW49dWludDgubGVuZ3RoLGV4dHJhQnl0ZXM9bGVuJTMscGFydHM9W10saT0wLGxlbjI9bGVuLWV4dHJhQnl0ZXM7aTxsZW4yO2krPTE2MzgzKXBhcnRzLnB1c2goZW5jb2RlQ2h1bmsodWludDgsaSxpKzE2MzgzPmxlbjI/bGVuMjppKzE2MzgzKSk7MT09PWV4dHJhQnl0ZXM/KHRtcD11aW50OFtsZW4tMV0scGFydHMucHVzaChsb29rdXBbdG1wPj4yXStsb29rdXBbdG1wPDw0JjYzXStcIj09XCIpKToyPT09ZXh0cmFCeXRlcyYmKHRtcD0odWludDhbbGVuLTJdPDw4KSt1aW50OFtsZW4tMV0scGFydHMucHVzaChsb29rdXBbdG1wPj4xMF0rbG9va3VwW3RtcD4+NCY2M10rbG9va3VwW3RtcDw8MiY2M10rXCI9XCIpKTtyZXR1cm4gcGFydHMuam9pbihcIlwiKX07Zm9yKHZhciBsb29rdXA9W10scmV2TG9va3VwPVtdLEFycj1cInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDhBcnJheT9VaW50OEFycmF5OkFycmF5LGNvZGU9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCIsaT0wLGxlbj1jb2RlLmxlbmd0aDtpPGxlbjsrK2kpbG9va3VwW2ldPWNvZGVbaV0scmV2TG9va3VwW2NvZGUuY2hhckNvZGVBdChpKV09aTtmdW5jdGlvbiBnZXRMZW5zKGI2NCl7dmFyIGxlbj1iNjQubGVuZ3RoO2lmKGxlbiU0PjApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNFwiKTt2YXIgdmFsaWRMZW49YjY0LmluZGV4T2YoXCI9XCIpO3JldHVybi0xPT09dmFsaWRMZW4mJih2YWxpZExlbj1sZW4pLFt2YWxpZExlbix2YWxpZExlbj09PWxlbj8wOjQtdmFsaWRMZW4lNF19ZnVuY3Rpb24gdHJpcGxldFRvQmFzZTY0KG51bSl7cmV0dXJuIGxvb2t1cFtudW0+PjE4JjYzXStsb29rdXBbbnVtPj4xMiY2M10rbG9va3VwW251bT4+NiY2M10rbG9va3VwWzYzJm51bV19ZnVuY3Rpb24gZW5jb2RlQ2h1bmsodWludDgsc3RhcnQsZW5kKXtmb3IodmFyIHRtcCxvdXRwdXQ9W10saT1zdGFydDtpPGVuZDtpKz0zKXRtcD0odWludDhbaV08PDE2JjE2NzExNjgwKSsodWludDhbaSsxXTw8OCY2NTI4MCkrKDI1NSZ1aW50OFtpKzJdKSxvdXRwdXQucHVzaCh0cmlwbGV0VG9CYXNlNjQodG1wKSk7cmV0dXJuIG91dHB1dC5qb2luKFwiXCIpfXJldkxvb2t1cFtcIi1cIi5jaGFyQ29kZUF0KDApXT02MixyZXZMb29rdXBbXCJfXCIuY2hhckNvZGVBdCgwKV09NjN9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXtcbi8qISBpZWVlNzU0LiBCU0QtMy1DbGF1c2UgTGljZW5zZS4gRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnL29wZW5zb3VyY2U+ICovXG5leHBvcnRzLnJlYWQ9ZnVuY3Rpb24oYnVmZmVyLG9mZnNldCxpc0xFLG1MZW4sbkJ5dGVzKXt2YXIgZSxtLGVMZW49OCpuQnl0ZXMtbUxlbi0xLGVNYXg9KDE8PGVMZW4pLTEsZUJpYXM9ZU1heD4+MSxuQml0cz0tNyxpPWlzTEU/bkJ5dGVzLTE6MCxkPWlzTEU/LTE6MSxzPWJ1ZmZlcltvZmZzZXQraV07Zm9yKGkrPWQsZT1zJigxPDwtbkJpdHMpLTEscz4+PS1uQml0cyxuQml0cys9ZUxlbjtuQml0cz4wO2U9MjU2KmUrYnVmZmVyW29mZnNldCtpXSxpKz1kLG5CaXRzLT04KTtmb3IobT1lJigxPDwtbkJpdHMpLTEsZT4+PS1uQml0cyxuQml0cys9bUxlbjtuQml0cz4wO209MjU2Km0rYnVmZmVyW29mZnNldCtpXSxpKz1kLG5CaXRzLT04KTtpZigwPT09ZSllPTEtZUJpYXM7ZWxzZXtpZihlPT09ZU1heClyZXR1cm4gbT9OYU46MS8wKihzPy0xOjEpO20rPU1hdGgucG93KDIsbUxlbiksZS09ZUJpYXN9cmV0dXJuKHM/LTE6MSkqbSpNYXRoLnBvdygyLGUtbUxlbil9LGV4cG9ydHMud3JpdGU9ZnVuY3Rpb24oYnVmZmVyLHZhbHVlLG9mZnNldCxpc0xFLG1MZW4sbkJ5dGVzKXt2YXIgZSxtLGMsZUxlbj04Km5CeXRlcy1tTGVuLTEsZU1heD0oMTw8ZUxlbiktMSxlQmlhcz1lTWF4Pj4xLHJ0PTIzPT09bUxlbj9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAsaT1pc0xFPzA6bkJ5dGVzLTEsZD1pc0xFPzE6LTEscz12YWx1ZTwwfHwwPT09dmFsdWUmJjEvdmFsdWU8MD8xOjA7Zm9yKHZhbHVlPU1hdGguYWJzKHZhbHVlKSxpc05hTih2YWx1ZSl8fHZhbHVlPT09MS8wPyhtPWlzTmFOKHZhbHVlKT8xOjAsZT1lTWF4KTooZT1NYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKS9NYXRoLkxOMiksdmFsdWUqKGM9TWF0aC5wb3coMiwtZSkpPDEmJihlLS0sYyo9MiksKHZhbHVlKz1lK2VCaWFzPj0xP3J0L2M6cnQqTWF0aC5wb3coMiwxLWVCaWFzKSkqYz49MiYmKGUrKyxjLz0yKSxlK2VCaWFzPj1lTWF4PyhtPTAsZT1lTWF4KTplK2VCaWFzPj0xPyhtPSh2YWx1ZSpjLTEpKk1hdGgucG93KDIsbUxlbiksZSs9ZUJpYXMpOihtPXZhbHVlKk1hdGgucG93KDIsZUJpYXMtMSkqTWF0aC5wb3coMixtTGVuKSxlPTApKTttTGVuPj04O2J1ZmZlcltvZmZzZXQraV09MjU1Jm0saSs9ZCxtLz0yNTYsbUxlbi09OCk7Zm9yKGU9ZTw8bUxlbnxtLGVMZW4rPW1MZW47ZUxlbj4wO2J1ZmZlcltvZmZzZXQraV09MjU1JmUsaSs9ZCxlLz0yNTYsZUxlbi09OCk7YnVmZmVyW29mZnNldCtpLWRdfD0xMjgqc319LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe21vZHVsZS5leHBvcnRzPVN0cmVhbTt2YXIgRUU9X193ZWJwYWNrX3JlcXVpcmVfXygzOSkuRXZlbnRFbWl0dGVyO2Z1bmN0aW9uIFN0cmVhbSgpe0VFLmNhbGwodGhpcyl9X193ZWJwYWNrX3JlcXVpcmVfXygxNSkoU3RyZWFtLEVFKSxTdHJlYW0uUmVhZGFibGU9X193ZWJwYWNrX3JlcXVpcmVfXyg0MCksU3RyZWFtLldyaXRhYmxlPV9fd2VicGFja19yZXF1aXJlX18oOTYpLFN0cmVhbS5EdXBsZXg9X193ZWJwYWNrX3JlcXVpcmVfXyg5NyksU3RyZWFtLlRyYW5zZm9ybT1fX3dlYnBhY2tfcmVxdWlyZV9fKDk4KSxTdHJlYW0uUGFzc1Rocm91Z2g9X193ZWJwYWNrX3JlcXVpcmVfXyg5OSksU3RyZWFtLlN0cmVhbT1TdHJlYW0sU3RyZWFtLnByb3RvdHlwZS5waXBlPWZ1bmN0aW9uKGRlc3Qsb3B0aW9ucyl7dmFyIHNvdXJjZT10aGlzO2Z1bmN0aW9uIG9uZGF0YShjaHVuayl7ZGVzdC53cml0YWJsZSYmITE9PT1kZXN0LndyaXRlKGNodW5rKSYmc291cmNlLnBhdXNlJiZzb3VyY2UucGF1c2UoKX1mdW5jdGlvbiBvbmRyYWluKCl7c291cmNlLnJlYWRhYmxlJiZzb3VyY2UucmVzdW1lJiZzb3VyY2UucmVzdW1lKCl9c291cmNlLm9uKFwiZGF0YVwiLG9uZGF0YSksZGVzdC5vbihcImRyYWluXCIsb25kcmFpbiksZGVzdC5faXNTdGRpb3x8b3B0aW9ucyYmITE9PT1vcHRpb25zLmVuZHx8KHNvdXJjZS5vbihcImVuZFwiLG9uZW5kKSxzb3VyY2Uub24oXCJjbG9zZVwiLG9uY2xvc2UpKTt2YXIgZGlkT25FbmQ9ITE7ZnVuY3Rpb24gb25lbmQoKXtkaWRPbkVuZHx8KGRpZE9uRW5kPSEwLGRlc3QuZW5kKCkpfWZ1bmN0aW9uIG9uY2xvc2UoKXtkaWRPbkVuZHx8KGRpZE9uRW5kPSEwLFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlc3QuZGVzdHJveSYmZGVzdC5kZXN0cm95KCkpfWZ1bmN0aW9uIG9uZXJyb3IoZXIpe2lmKGNsZWFudXAoKSwwPT09RUUubGlzdGVuZXJDb3VudCh0aGlzLFwiZXJyb3JcIikpdGhyb3cgZXJ9ZnVuY3Rpb24gY2xlYW51cCgpe3NvdXJjZS5yZW1vdmVMaXN0ZW5lcihcImRhdGFcIixvbmRhdGEpLGRlc3QucmVtb3ZlTGlzdGVuZXIoXCJkcmFpblwiLG9uZHJhaW4pLHNvdXJjZS5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLG9uZW5kKSxzb3VyY2UucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLG9uY2xvc2UpLHNvdXJjZS5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsb25lcnJvciksZGVzdC5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsb25lcnJvciksc291cmNlLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsY2xlYW51cCksc291cmNlLnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixjbGVhbnVwKSxkZXN0LnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixjbGVhbnVwKX1yZXR1cm4gc291cmNlLm9uKFwiZXJyb3JcIixvbmVycm9yKSxkZXN0Lm9uKFwiZXJyb3JcIixvbmVycm9yKSxzb3VyY2Uub24oXCJlbmRcIixjbGVhbnVwKSxzb3VyY2Uub24oXCJjbG9zZVwiLGNsZWFudXApLGRlc3Qub24oXCJjbG9zZVwiLGNsZWFudXApLGRlc3QuZW1pdChcInBpcGVcIixzb3VyY2UpLGRlc3R9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgQnVmZmVyPV9fd2VicGFja19yZXF1aXJlX18oMjgpLkJ1ZmZlcix1dGlsPV9fd2VicGFja19yZXF1aXJlX18oOTIpO2Z1bmN0aW9uIGNvcHlCdWZmZXIoc3JjLHRhcmdldCxvZmZzZXQpe3NyYy5jb3B5KHRhcmdldCxvZmZzZXQpfW1vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gQnVmZmVyTGlzdCgpeyFmdW5jdGlvbihpbnN0YW5jZSxDb25zdHJ1Y3Rvcil7aWYoIShpbnN0YW5jZSBpbnN0YW5jZW9mIENvbnN0cnVjdG9yKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IGNhbGwgYSBjbGFzcyBhcyBhIGZ1bmN0aW9uXCIpfSh0aGlzLEJ1ZmZlckxpc3QpLHRoaXMuaGVhZD1udWxsLHRoaXMudGFpbD1udWxsLHRoaXMubGVuZ3RoPTB9cmV0dXJuIEJ1ZmZlckxpc3QucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24odil7dmFyIGVudHJ5PXtkYXRhOnYsbmV4dDpudWxsfTt0aGlzLmxlbmd0aD4wP3RoaXMudGFpbC5uZXh0PWVudHJ5OnRoaXMuaGVhZD1lbnRyeSx0aGlzLnRhaWw9ZW50cnksKyt0aGlzLmxlbmd0aH0sQnVmZmVyTGlzdC5wcm90b3R5cGUudW5zaGlmdD1mdW5jdGlvbih2KXt2YXIgZW50cnk9e2RhdGE6dixuZXh0OnRoaXMuaGVhZH07MD09PXRoaXMubGVuZ3RoJiYodGhpcy50YWlsPWVudHJ5KSx0aGlzLmhlYWQ9ZW50cnksKyt0aGlzLmxlbmd0aH0sQnVmZmVyTGlzdC5wcm90b3R5cGUuc2hpZnQ9ZnVuY3Rpb24oKXtpZigwIT09dGhpcy5sZW5ndGgpe3ZhciByZXQ9dGhpcy5oZWFkLmRhdGE7cmV0dXJuIDE9PT10aGlzLmxlbmd0aD90aGlzLmhlYWQ9dGhpcy50YWlsPW51bGw6dGhpcy5oZWFkPXRoaXMuaGVhZC5uZXh0LC0tdGhpcy5sZW5ndGgscmV0fX0sQnVmZmVyTGlzdC5wcm90b3R5cGUuY2xlYXI9ZnVuY3Rpb24oKXt0aGlzLmhlYWQ9dGhpcy50YWlsPW51bGwsdGhpcy5sZW5ndGg9MH0sQnVmZmVyTGlzdC5wcm90b3R5cGUuam9pbj1mdW5jdGlvbihzKXtpZigwPT09dGhpcy5sZW5ndGgpcmV0dXJuXCJcIjtmb3IodmFyIHA9dGhpcy5oZWFkLHJldD1cIlwiK3AuZGF0YTtwPXAubmV4dDspcmV0Kz1zK3AuZGF0YTtyZXR1cm4gcmV0fSxCdWZmZXJMaXN0LnByb3RvdHlwZS5jb25jYXQ9ZnVuY3Rpb24obil7aWYoMD09PXRoaXMubGVuZ3RoKXJldHVybiBCdWZmZXIuYWxsb2MoMCk7aWYoMT09PXRoaXMubGVuZ3RoKXJldHVybiB0aGlzLmhlYWQuZGF0YTtmb3IodmFyIHJldD1CdWZmZXIuYWxsb2NVbnNhZmUobj4+PjApLHA9dGhpcy5oZWFkLGk9MDtwOyljb3B5QnVmZmVyKHAuZGF0YSxyZXQsaSksaSs9cC5kYXRhLmxlbmd0aCxwPXAubmV4dDtyZXR1cm4gcmV0fSxCdWZmZXJMaXN0fSgpLHV0aWwmJnV0aWwuaW5zcGVjdCYmdXRpbC5pbnNwZWN0LmN1c3RvbSYmKG1vZHVsZS5leHBvcnRzLnByb3RvdHlwZVt1dGlsLmluc3BlY3QuY3VzdG9tXT1mdW5jdGlvbigpe3ZhciBvYmo9dXRpbC5pbnNwZWN0KHtsZW5ndGg6dGhpcy5sZW5ndGh9KTtyZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5uYW1lK1wiIFwiK29ian0pfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsoZnVuY3Rpb24oZ2xvYmFsLHByb2Nlc3MpeyFmdW5jdGlvbihnbG9iYWwsdW5kZWZpbmVkKXtcInVzZSBzdHJpY3RcIjtpZighZ2xvYmFsLnNldEltbWVkaWF0ZSl7dmFyIHJlZ2lzdGVySW1tZWRpYXRlLG5leHRIYW5kbGU9MSx0YXNrc0J5SGFuZGxlPXt9LGN1cnJlbnRseVJ1bm5pbmdBVGFzaz0hMSxkb2M9Z2xvYmFsLmRvY3VtZW50LGF0dGFjaFRvPU9iamVjdC5nZXRQcm90b3R5cGVPZiYmT2JqZWN0LmdldFByb3RvdHlwZU9mKGdsb2JhbCk7YXR0YWNoVG89YXR0YWNoVG8mJmF0dGFjaFRvLnNldFRpbWVvdXQ/YXR0YWNoVG86Z2xvYmFsLFwiW29iamVjdCBwcm9jZXNzXVwiPT09e30udG9TdHJpbmcuY2FsbChnbG9iYWwucHJvY2Vzcyk/cmVnaXN0ZXJJbW1lZGlhdGU9ZnVuY3Rpb24oaGFuZGxlKXtwcm9jZXNzLm5leHRUaWNrKGZ1bmN0aW9uKCl7cnVuSWZQcmVzZW50KGhhbmRsZSl9KX06ZnVuY3Rpb24oKXtpZihnbG9iYWwucG9zdE1lc3NhZ2UmJiFnbG9iYWwuaW1wb3J0U2NyaXB0cyl7dmFyIHBvc3RNZXNzYWdlSXNBc3luY2hyb25vdXM9ITAsb2xkT25NZXNzYWdlPWdsb2JhbC5vbm1lc3NhZ2U7cmV0dXJuIGdsb2JhbC5vbm1lc3NhZ2U9ZnVuY3Rpb24oKXtwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzPSExfSxnbG9iYWwucG9zdE1lc3NhZ2UoXCJcIixcIipcIiksZ2xvYmFsLm9ubWVzc2FnZT1vbGRPbk1lc3NhZ2UscG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91c319KCk/ZnVuY3Rpb24oKXt2YXIgbWVzc2FnZVByZWZpeD1cInNldEltbWVkaWF0ZSRcIitNYXRoLnJhbmRvbSgpK1wiJFwiLG9uR2xvYmFsTWVzc2FnZT1mdW5jdGlvbihldmVudCl7ZXZlbnQuc291cmNlPT09Z2xvYmFsJiZcInN0cmluZ1wiPT10eXBlb2YgZXZlbnQuZGF0YSYmMD09PWV2ZW50LmRhdGEuaW5kZXhPZihtZXNzYWdlUHJlZml4KSYmcnVuSWZQcmVzZW50KCtldmVudC5kYXRhLnNsaWNlKG1lc3NhZ2VQcmVmaXgubGVuZ3RoKSl9O2dsb2JhbC5hZGRFdmVudExpc3RlbmVyP2dsb2JhbC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLG9uR2xvYmFsTWVzc2FnZSwhMSk6Z2xvYmFsLmF0dGFjaEV2ZW50KFwib25tZXNzYWdlXCIsb25HbG9iYWxNZXNzYWdlKSxyZWdpc3RlckltbWVkaWF0ZT1mdW5jdGlvbihoYW5kbGUpe2dsb2JhbC5wb3N0TWVzc2FnZShtZXNzYWdlUHJlZml4K2hhbmRsZSxcIipcIil9fSgpOmdsb2JhbC5NZXNzYWdlQ2hhbm5lbD9mdW5jdGlvbigpe3ZhciBjaGFubmVsPW5ldyBNZXNzYWdlQ2hhbm5lbDtjaGFubmVsLnBvcnQxLm9ubWVzc2FnZT1mdW5jdGlvbihldmVudCl7cnVuSWZQcmVzZW50KGV2ZW50LmRhdGEpfSxyZWdpc3RlckltbWVkaWF0ZT1mdW5jdGlvbihoYW5kbGUpe2NoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoaGFuZGxlKX19KCk6ZG9jJiZcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiaW4gZG9jLmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik/ZnVuY3Rpb24oKXt2YXIgaHRtbD1kb2MuZG9jdW1lbnRFbGVtZW50O3JlZ2lzdGVySW1tZWRpYXRlPWZ1bmN0aW9uKGhhbmRsZSl7dmFyIHNjcmlwdD1kb2MuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7cnVuSWZQcmVzZW50KGhhbmRsZSksc2NyaXB0Lm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGh0bWwucmVtb3ZlQ2hpbGQoc2NyaXB0KSxzY3JpcHQ9bnVsbH0saHRtbC5hcHBlbmRDaGlsZChzY3JpcHQpfX0oKTpyZWdpc3RlckltbWVkaWF0ZT1mdW5jdGlvbihoYW5kbGUpe3NldFRpbWVvdXQocnVuSWZQcmVzZW50LDAsaGFuZGxlKX0sYXR0YWNoVG8uc2V0SW1tZWRpYXRlPWZ1bmN0aW9uKGNhbGxiYWNrKXtcImZ1bmN0aW9uXCIhPXR5cGVvZiBjYWxsYmFjayYmKGNhbGxiYWNrPW5ldyBGdW5jdGlvbihcIlwiK2NhbGxiYWNrKSk7Zm9yKHZhciBhcmdzPW5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoLTEpLGk9MDtpPGFyZ3MubGVuZ3RoO2krKylhcmdzW2ldPWFyZ3VtZW50c1tpKzFdO3ZhciB0YXNrPXtjYWxsYmFjazpjYWxsYmFjayxhcmdzOmFyZ3N9O3JldHVybiB0YXNrc0J5SGFuZGxlW25leHRIYW5kbGVdPXRhc2sscmVnaXN0ZXJJbW1lZGlhdGUobmV4dEhhbmRsZSksbmV4dEhhbmRsZSsrfSxhdHRhY2hUby5jbGVhckltbWVkaWF0ZT1jbGVhckltbWVkaWF0ZX1mdW5jdGlvbiBjbGVhckltbWVkaWF0ZShoYW5kbGUpe2RlbGV0ZSB0YXNrc0J5SGFuZGxlW2hhbmRsZV19ZnVuY3Rpb24gcnVuSWZQcmVzZW50KGhhbmRsZSl7aWYoY3VycmVudGx5UnVubmluZ0FUYXNrKXNldFRpbWVvdXQocnVuSWZQcmVzZW50LDAsaGFuZGxlKTtlbHNle3ZhciB0YXNrPXRhc2tzQnlIYW5kbGVbaGFuZGxlXTtpZih0YXNrKXtjdXJyZW50bHlSdW5uaW5nQVRhc2s9ITA7dHJ5eyFmdW5jdGlvbih0YXNrKXt2YXIgY2FsbGJhY2s9dGFzay5jYWxsYmFjayxhcmdzPXRhc2suYXJncztzd2l0Y2goYXJncy5sZW5ndGgpe2Nhc2UgMDpjYWxsYmFjaygpO2JyZWFrO2Nhc2UgMTpjYWxsYmFjayhhcmdzWzBdKTticmVhaztjYXNlIDI6Y2FsbGJhY2soYXJnc1swXSxhcmdzWzFdKTticmVhaztjYXNlIDM6Y2FsbGJhY2soYXJnc1swXSxhcmdzWzFdLGFyZ3NbMl0pO2JyZWFrO2RlZmF1bHQ6Y2FsbGJhY2suYXBwbHkodW5kZWZpbmVkLGFyZ3MpfX0odGFzayl9ZmluYWxseXtjbGVhckltbWVkaWF0ZShoYW5kbGUpLGN1cnJlbnRseVJ1bm5pbmdBVGFzaz0hMX19fX19KFwidW5kZWZpbmVkXCI9PXR5cGVvZiBzZWxmP3ZvaWQgMD09PWdsb2JhbD90aGlzOmdsb2JhbDpzZWxmKX0pLmNhbGwodGhpcyxfX3dlYnBhY2tfcmVxdWlyZV9fKDExKSxfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18peyhmdW5jdGlvbihnbG9iYWwpe2Z1bmN0aW9uIGNvbmZpZyhuYW1lKXt0cnl7aWYoIWdsb2JhbC5sb2NhbFN0b3JhZ2UpcmV0dXJuITF9Y2F0Y2goXyl7cmV0dXJuITF9dmFyIHZhbD1nbG9iYWwubG9jYWxTdG9yYWdlW25hbWVdO3JldHVybiBudWxsIT12YWwmJlwidHJ1ZVwiPT09U3RyaW5nKHZhbCkudG9Mb3dlckNhc2UoKX1tb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihmbixtc2cpe2lmKGNvbmZpZyhcIm5vRGVwcmVjYXRpb25cIikpcmV0dXJuIGZuO3ZhciB3YXJuZWQ9ITE7cmV0dXJuIGZ1bmN0aW9uKCl7aWYoIXdhcm5lZCl7aWYoY29uZmlnKFwidGhyb3dEZXByZWNhdGlvblwiKSl0aHJvdyBuZXcgRXJyb3IobXNnKTtjb25maWcoXCJ0cmFjZURlcHJlY2F0aW9uXCIpP2NvbnNvbGUudHJhY2UobXNnKTpjb25zb2xlLndhcm4obXNnKSx3YXJuZWQ9ITB9cmV0dXJuIGZuLmFwcGx5KHRoaXMsYXJndW1lbnRzKX19fSkuY2FsbCh0aGlzLF9fd2VicGFja19yZXF1aXJlX18oMTEpKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7bW9kdWxlLmV4cG9ydHM9UGFzc1Rocm91Z2g7dmFyIFRyYW5zZm9ybT1fX3dlYnBhY2tfcmVxdWlyZV9fKDU2KSx1dGlsPU9iamVjdC5jcmVhdGUoX193ZWJwYWNrX3JlcXVpcmVfXygyMykpO2Z1bmN0aW9uIFBhc3NUaHJvdWdoKG9wdGlvbnMpe2lmKCEodGhpcyBpbnN0YW5jZW9mIFBhc3NUaHJvdWdoKSlyZXR1cm4gbmV3IFBhc3NUaHJvdWdoKG9wdGlvbnMpO1RyYW5zZm9ybS5jYWxsKHRoaXMsb3B0aW9ucyl9dXRpbC5pbmhlcml0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDE1KSx1dGlsLmluaGVyaXRzKFBhc3NUaHJvdWdoLFRyYW5zZm9ybSksUGFzc1Rocm91Z2gucHJvdG90eXBlLl90cmFuc2Zvcm09ZnVuY3Rpb24oY2h1bmssZW5jb2RpbmcsY2Ipe2NiKG51bGwsY2h1bmspfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7bW9kdWxlLmV4cG9ydHM9X193ZWJwYWNrX3JlcXVpcmVfXyg0MSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe21vZHVsZS5leHBvcnRzPV9fd2VicGFja19yZXF1aXJlX18oMTIpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXttb2R1bGUuZXhwb3J0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDQwKS5UcmFuc2Zvcm19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe21vZHVsZS5leHBvcnRzPV9fd2VicGFja19yZXF1aXJlX18oNDApLlBhc3NUaHJvdWdofSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oc2V0SW1tZWRpYXRlKXttb2R1bGUuZXhwb3J0cz1cImZ1bmN0aW9uXCI9PXR5cGVvZiBzZXRJbW1lZGlhdGU/c2V0SW1tZWRpYXRlOmZ1bmN0aW9uKCl7dmFyIGFyZ3M9W10uc2xpY2UuYXBwbHkoYXJndW1lbnRzKTthcmdzLnNwbGljZSgxLDAsMCksc2V0VGltZW91dC5hcHBseShudWxsLGFyZ3MpfX0pLmNhbGwodGhpcyxfX3dlYnBhY2tfcmVxdWlyZV9fKDU0KS5zZXRJbW1lZGlhdGUpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgaW1tZWRpYXRlPV9fd2VicGFja19yZXF1aXJlX18oMTAyKTtmdW5jdGlvbiBJTlRFUk5BTCgpe312YXIgaGFuZGxlcnM9e30sUkVKRUNURUQ9W1wiUkVKRUNURURcIl0sRlVMRklMTEVEPVtcIkZVTEZJTExFRFwiXSxQRU5ESU5HPVtcIlBFTkRJTkdcIl07ZnVuY3Rpb24gUHJvbWlzZShyZXNvbHZlcil7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgcmVzb2x2ZXIpdGhyb3cgbmV3IFR5cGVFcnJvcihcInJlc29sdmVyIG11c3QgYmUgYSBmdW5jdGlvblwiKTt0aGlzLnN0YXRlPVBFTkRJTkcsdGhpcy5xdWV1ZT1bXSx0aGlzLm91dGNvbWU9dm9pZCAwLHJlc29sdmVyIT09SU5URVJOQUwmJnNhZmVseVJlc29sdmVUaGVuYWJsZSh0aGlzLHJlc29sdmVyKX1mdW5jdGlvbiBRdWV1ZUl0ZW0ocHJvbWlzZSxvbkZ1bGZpbGxlZCxvblJlamVjdGVkKXt0aGlzLnByb21pc2U9cHJvbWlzZSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBvbkZ1bGZpbGxlZCYmKHRoaXMub25GdWxmaWxsZWQ9b25GdWxmaWxsZWQsdGhpcy5jYWxsRnVsZmlsbGVkPXRoaXMub3RoZXJDYWxsRnVsZmlsbGVkKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBvblJlamVjdGVkJiYodGhpcy5vblJlamVjdGVkPW9uUmVqZWN0ZWQsdGhpcy5jYWxsUmVqZWN0ZWQ9dGhpcy5vdGhlckNhbGxSZWplY3RlZCl9ZnVuY3Rpb24gdW53cmFwKHByb21pc2UsZnVuYyx2YWx1ZSl7aW1tZWRpYXRlKGZ1bmN0aW9uKCl7dmFyIHJldHVyblZhbHVlO3RyeXtyZXR1cm5WYWx1ZT1mdW5jKHZhbHVlKX1jYXRjaChlKXtyZXR1cm4gaGFuZGxlcnMucmVqZWN0KHByb21pc2UsZSl9cmV0dXJuVmFsdWU9PT1wcm9taXNlP2hhbmRsZXJzLnJlamVjdChwcm9taXNlLG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgcmVzb2x2ZSBwcm9taXNlIHdpdGggaXRzZWxmXCIpKTpoYW5kbGVycy5yZXNvbHZlKHByb21pc2UscmV0dXJuVmFsdWUpfSl9ZnVuY3Rpb24gZ2V0VGhlbihvYmope3ZhciB0aGVuPW9iaiYmb2JqLnRoZW47aWYob2JqJiYoXCJvYmplY3RcIj09dHlwZW9mIG9ianx8XCJmdW5jdGlvblwiPT10eXBlb2Ygb2JqKSYmXCJmdW5jdGlvblwiPT10eXBlb2YgdGhlbilyZXR1cm4gZnVuY3Rpb24oKXt0aGVuLmFwcGx5KG9iaixhcmd1bWVudHMpfX1mdW5jdGlvbiBzYWZlbHlSZXNvbHZlVGhlbmFibGUoc2VsZix0aGVuYWJsZSl7dmFyIGNhbGxlZD0hMTtmdW5jdGlvbiBvbkVycm9yKHZhbHVlKXtjYWxsZWR8fChjYWxsZWQ9ITAsaGFuZGxlcnMucmVqZWN0KHNlbGYsdmFsdWUpKX1mdW5jdGlvbiBvblN1Y2Nlc3ModmFsdWUpe2NhbGxlZHx8KGNhbGxlZD0hMCxoYW5kbGVycy5yZXNvbHZlKHNlbGYsdmFsdWUpKX12YXIgcmVzdWx0PXRyeUNhdGNoKGZ1bmN0aW9uKCl7dGhlbmFibGUob25TdWNjZXNzLG9uRXJyb3IpfSk7XCJlcnJvclwiPT09cmVzdWx0LnN0YXR1cyYmb25FcnJvcihyZXN1bHQudmFsdWUpfWZ1bmN0aW9uIHRyeUNhdGNoKGZ1bmMsdmFsdWUpe3ZhciBvdXQ9e307dHJ5e291dC52YWx1ZT1mdW5jKHZhbHVlKSxvdXQuc3RhdHVzPVwic3VjY2Vzc1wifWNhdGNoKGUpe291dC5zdGF0dXM9XCJlcnJvclwiLG91dC52YWx1ZT1lfXJldHVybiBvdXR9bW9kdWxlLmV4cG9ydHM9UHJvbWlzZSxQcm9taXNlLnByb3RvdHlwZS5maW5hbGx5PWZ1bmN0aW9uKGNhbGxiYWNrKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBjYWxsYmFjaylyZXR1cm4gdGhpczt2YXIgcD10aGlzLmNvbnN0cnVjdG9yO3JldHVybiB0aGlzLnRoZW4oZnVuY3Rpb24odmFsdWUpe3JldHVybiBwLnJlc29sdmUoY2FsbGJhY2soKSkudGhlbihmdW5jdGlvbigpe3JldHVybiB2YWx1ZX0pfSxmdW5jdGlvbihyZWFzb24pe3JldHVybiBwLnJlc29sdmUoY2FsbGJhY2soKSkudGhlbihmdW5jdGlvbigpe3Rocm93IHJlYXNvbn0pfSl9LFByb21pc2UucHJvdG90eXBlLmNhdGNoPWZ1bmN0aW9uKG9uUmVqZWN0ZWQpe3JldHVybiB0aGlzLnRoZW4obnVsbCxvblJlamVjdGVkKX0sUHJvbWlzZS5wcm90b3R5cGUudGhlbj1mdW5jdGlvbihvbkZ1bGZpbGxlZCxvblJlamVjdGVkKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBvbkZ1bGZpbGxlZCYmdGhpcy5zdGF0ZT09PUZVTEZJTExFRHx8XCJmdW5jdGlvblwiIT10eXBlb2Ygb25SZWplY3RlZCYmdGhpcy5zdGF0ZT09PVJFSkVDVEVEKXJldHVybiB0aGlzO3ZhciBwcm9taXNlPW5ldyB0aGlzLmNvbnN0cnVjdG9yKElOVEVSTkFMKTt0aGlzLnN0YXRlIT09UEVORElORz91bndyYXAocHJvbWlzZSx0aGlzLnN0YXRlPT09RlVMRklMTEVEP29uRnVsZmlsbGVkOm9uUmVqZWN0ZWQsdGhpcy5vdXRjb21lKTp0aGlzLnF1ZXVlLnB1c2gobmV3IFF1ZXVlSXRlbShwcm9taXNlLG9uRnVsZmlsbGVkLG9uUmVqZWN0ZWQpKTtyZXR1cm4gcHJvbWlzZX0sUXVldWVJdGVtLnByb3RvdHlwZS5jYWxsRnVsZmlsbGVkPWZ1bmN0aW9uKHZhbHVlKXtoYW5kbGVycy5yZXNvbHZlKHRoaXMucHJvbWlzZSx2YWx1ZSl9LFF1ZXVlSXRlbS5wcm90b3R5cGUub3RoZXJDYWxsRnVsZmlsbGVkPWZ1bmN0aW9uKHZhbHVlKXt1bndyYXAodGhpcy5wcm9taXNlLHRoaXMub25GdWxmaWxsZWQsdmFsdWUpfSxRdWV1ZUl0ZW0ucHJvdG90eXBlLmNhbGxSZWplY3RlZD1mdW5jdGlvbih2YWx1ZSl7aGFuZGxlcnMucmVqZWN0KHRoaXMucHJvbWlzZSx2YWx1ZSl9LFF1ZXVlSXRlbS5wcm90b3R5cGUub3RoZXJDYWxsUmVqZWN0ZWQ9ZnVuY3Rpb24odmFsdWUpe3Vud3JhcCh0aGlzLnByb21pc2UsdGhpcy5vblJlamVjdGVkLHZhbHVlKX0saGFuZGxlcnMucmVzb2x2ZT1mdW5jdGlvbihzZWxmLHZhbHVlKXt2YXIgcmVzdWx0PXRyeUNhdGNoKGdldFRoZW4sdmFsdWUpO2lmKFwiZXJyb3JcIj09PXJlc3VsdC5zdGF0dXMpcmV0dXJuIGhhbmRsZXJzLnJlamVjdChzZWxmLHJlc3VsdC52YWx1ZSk7dmFyIHRoZW5hYmxlPXJlc3VsdC52YWx1ZTtpZih0aGVuYWJsZSlzYWZlbHlSZXNvbHZlVGhlbmFibGUoc2VsZix0aGVuYWJsZSk7ZWxzZXtzZWxmLnN0YXRlPUZVTEZJTExFRCxzZWxmLm91dGNvbWU9dmFsdWU7Zm9yKHZhciBpPS0xLGxlbj1zZWxmLnF1ZXVlLmxlbmd0aDsrK2k8bGVuOylzZWxmLnF1ZXVlW2ldLmNhbGxGdWxmaWxsZWQodmFsdWUpfXJldHVybiBzZWxmfSxoYW5kbGVycy5yZWplY3Q9ZnVuY3Rpb24oc2VsZixlcnJvcil7c2VsZi5zdGF0ZT1SRUpFQ1RFRCxzZWxmLm91dGNvbWU9ZXJyb3I7Zm9yKHZhciBpPS0xLGxlbj1zZWxmLnF1ZXVlLmxlbmd0aDsrK2k8bGVuOylzZWxmLnF1ZXVlW2ldLmNhbGxSZWplY3RlZChlcnJvcik7cmV0dXJuIHNlbGZ9LFByb21pc2UucmVzb2x2ZT1mdW5jdGlvbih2YWx1ZSl7aWYodmFsdWUgaW5zdGFuY2VvZiB0aGlzKXJldHVybiB2YWx1ZTtyZXR1cm4gaGFuZGxlcnMucmVzb2x2ZShuZXcgdGhpcyhJTlRFUk5BTCksdmFsdWUpfSxQcm9taXNlLnJlamVjdD1mdW5jdGlvbihyZWFzb24pe3ZhciBwcm9taXNlPW5ldyB0aGlzKElOVEVSTkFMKTtyZXR1cm4gaGFuZGxlcnMucmVqZWN0KHByb21pc2UscmVhc29uKX0sUHJvbWlzZS5hbGw9ZnVuY3Rpb24oaXRlcmFibGUpe3ZhciBzZWxmPXRoaXM7aWYoXCJbb2JqZWN0IEFycmF5XVwiIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXJhYmxlKSlyZXR1cm4gdGhpcy5yZWplY3QobmV3IFR5cGVFcnJvcihcIm11c3QgYmUgYW4gYXJyYXlcIikpO3ZhciBsZW49aXRlcmFibGUubGVuZ3RoLGNhbGxlZD0hMTtpZighbGVuKXJldHVybiB0aGlzLnJlc29sdmUoW10pO3ZhciB2YWx1ZXM9bmV3IEFycmF5KGxlbikscmVzb2x2ZWQ9MCxpPS0xLHByb21pc2U9bmV3IHRoaXMoSU5URVJOQUwpO2Zvcig7KytpPGxlbjspYWxsUmVzb2x2ZXIoaXRlcmFibGVbaV0saSk7cmV0dXJuIHByb21pc2U7ZnVuY3Rpb24gYWxsUmVzb2x2ZXIodmFsdWUsaSl7c2VsZi5yZXNvbHZlKHZhbHVlKS50aGVuKGZ1bmN0aW9uKG91dFZhbHVlKXt2YWx1ZXNbaV09b3V0VmFsdWUsKytyZXNvbHZlZCE9PWxlbnx8Y2FsbGVkfHwoY2FsbGVkPSEwLGhhbmRsZXJzLnJlc29sdmUocHJvbWlzZSx2YWx1ZXMpKX0sZnVuY3Rpb24oZXJyb3Ipe2NhbGxlZHx8KGNhbGxlZD0hMCxoYW5kbGVycy5yZWplY3QocHJvbWlzZSxlcnJvcikpfSl9fSxQcm9taXNlLnJhY2U9ZnVuY3Rpb24oaXRlcmFibGUpe3ZhciBzZWxmPXRoaXM7aWYoXCJbb2JqZWN0IEFycmF5XVwiIT09T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGl0ZXJhYmxlKSlyZXR1cm4gdGhpcy5yZWplY3QobmV3IFR5cGVFcnJvcihcIm11c3QgYmUgYW4gYXJyYXlcIikpO3ZhciBsZW49aXRlcmFibGUubGVuZ3RoLGNhbGxlZD0hMTtpZighbGVuKXJldHVybiB0aGlzLnJlc29sdmUoW10pO3ZhciBpPS0xLHByb21pc2U9bmV3IHRoaXMoSU5URVJOQUwpO2Zvcig7KytpPGxlbjspcmVzb2x2ZXIoaXRlcmFibGVbaV0pO3JldHVybiBwcm9taXNlO2Z1bmN0aW9uIHJlc29sdmVyKHZhbHVlKXtzZWxmLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24ocmVzcG9uc2Upe2NhbGxlZHx8KGNhbGxlZD0hMCxoYW5kbGVycy5yZXNvbHZlKHByb21pc2UscmVzcG9uc2UpKX0sZnVuY3Rpb24oZXJyb3Ipe2NhbGxlZHx8KGNhbGxlZD0hMCxoYW5kbGVycy5yZWplY3QocHJvbWlzZSxlcnJvcikpfSl9fX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGdsb2JhbCl7dmFyIHNjaGVkdWxlRHJhaW4sZHJhaW5pbmcsTXV0YXRpb249Z2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXJ8fGdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO2lmKE11dGF0aW9uKXt2YXIgY2FsbGVkPTAsb2JzZXJ2ZXI9bmV3IE11dGF0aW9uKG5leHRUaWNrKSxlbGVtZW50PWdsb2JhbC5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKTtvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQse2NoYXJhY3RlckRhdGE6ITB9KSxzY2hlZHVsZURyYWluPWZ1bmN0aW9uKCl7ZWxlbWVudC5kYXRhPWNhbGxlZD0rK2NhbGxlZCUyfX1lbHNlIGlmKGdsb2JhbC5zZXRJbW1lZGlhdGV8fHZvaWQgMD09PWdsb2JhbC5NZXNzYWdlQ2hhbm5lbClzY2hlZHVsZURyYWluPVwiZG9jdW1lbnRcImluIGdsb2JhbCYmXCJvbnJlYWR5c3RhdGVjaGFuZ2VcImluIGdsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpP2Z1bmN0aW9uKCl7dmFyIHNjcmlwdEVsPWdsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO3NjcmlwdEVsLm9ucmVhZHlzdGF0ZWNoYW5nZT1mdW5jdGlvbigpe25leHRUaWNrKCksc2NyaXB0RWwub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsc2NyaXB0RWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzY3JpcHRFbCksc2NyaXB0RWw9bnVsbH0sZ2xvYmFsLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChzY3JpcHRFbCl9OmZ1bmN0aW9uKCl7c2V0VGltZW91dChuZXh0VGljaywwKX07ZWxzZXt2YXIgY2hhbm5lbD1uZXcgZ2xvYmFsLk1lc3NhZ2VDaGFubmVsO2NoYW5uZWwucG9ydDEub25tZXNzYWdlPW5leHRUaWNrLHNjaGVkdWxlRHJhaW49ZnVuY3Rpb24oKXtjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKDApfX12YXIgcXVldWU9W107ZnVuY3Rpb24gbmV4dFRpY2soKXt2YXIgaSxvbGRRdWV1ZTtkcmFpbmluZz0hMDtmb3IodmFyIGxlbj1xdWV1ZS5sZW5ndGg7bGVuOyl7Zm9yKG9sZFF1ZXVlPXF1ZXVlLHF1ZXVlPVtdLGk9LTE7KytpPGxlbjspb2xkUXVldWVbaV0oKTtsZW49cXVldWUubGVuZ3RofWRyYWluaW5nPSExfW1vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKHRhc2spezEhPT1xdWV1ZS5wdXNoKHRhc2spfHxkcmFpbmluZ3x8c2NoZWR1bGVEcmFpbigpfX0pLmNhbGwodGhpcyxfX3dlYnBhY2tfcmVxdWlyZV9fKDExKSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBHZW5lcmljV29ya2VyPV9fd2VicGFja19yZXF1aXJlX18oMiksdXRpbHM9X193ZWJwYWNrX3JlcXVpcmVfXygwKTtmdW5jdGlvbiBDb252ZXJ0V29ya2VyKGRlc3RUeXBlKXtHZW5lcmljV29ya2VyLmNhbGwodGhpcyxcIkNvbnZlcnRXb3JrZXIgdG8gXCIrZGVzdFR5cGUpLHRoaXMuZGVzdFR5cGU9ZGVzdFR5cGV9dXRpbHMuaW5oZXJpdHMoQ29udmVydFdvcmtlcixHZW5lcmljV29ya2VyKSxDb252ZXJ0V29ya2VyLnByb3RvdHlwZS5wcm9jZXNzQ2h1bms9ZnVuY3Rpb24oY2h1bmspe3RoaXMucHVzaCh7ZGF0YTp1dGlscy50cmFuc2Zvcm1Ubyh0aGlzLmRlc3RUeXBlLGNodW5rLmRhdGEpLG1ldGE6Y2h1bmsubWV0YX0pfSxtb2R1bGUuZXhwb3J0cz1Db252ZXJ0V29ya2VyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgUmVhZGFibGU9X193ZWJwYWNrX3JlcXVpcmVfXyg1MCkuUmVhZGFibGU7ZnVuY3Rpb24gTm9kZWpzU3RyZWFtT3V0cHV0QWRhcHRlcihoZWxwZXIsb3B0aW9ucyx1cGRhdGVDYil7UmVhZGFibGUuY2FsbCh0aGlzLG9wdGlvbnMpLHRoaXMuX2hlbHBlcj1oZWxwZXI7dmFyIHNlbGY9dGhpcztoZWxwZXIub24oXCJkYXRhXCIsZnVuY3Rpb24oZGF0YSxtZXRhKXtzZWxmLnB1c2goZGF0YSl8fHNlbGYuX2hlbHBlci5wYXVzZSgpLHVwZGF0ZUNiJiZ1cGRhdGVDYihtZXRhKX0pLm9uKFwiZXJyb3JcIixmdW5jdGlvbihlKXtzZWxmLmVtaXQoXCJlcnJvclwiLGUpfSkub24oXCJlbmRcIixmdW5jdGlvbigpe3NlbGYucHVzaChudWxsKX0pfV9fd2VicGFja19yZXF1aXJlX18oMCkuaW5oZXJpdHMoTm9kZWpzU3RyZWFtT3V0cHV0QWRhcHRlcixSZWFkYWJsZSksTm9kZWpzU3RyZWFtT3V0cHV0QWRhcHRlci5wcm90b3R5cGUuX3JlYWQ9ZnVuY3Rpb24oKXt0aGlzLl9oZWxwZXIucmVzdW1lKCl9LG1vZHVsZS5leHBvcnRzPU5vZGVqc1N0cmVhbU91dHB1dEFkYXB0ZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBTdHJlYW1IZWxwZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg1OCksRGF0YVdvcmtlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDYwKSx1dGY4PV9fd2VicGFja19yZXF1aXJlX18oMTQpLENvbXByZXNzZWRPYmplY3Q9X193ZWJwYWNrX3JlcXVpcmVfXyg0MiksR2VuZXJpY1dvcmtlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpLFppcE9iamVjdD1mdW5jdGlvbihuYW1lLGRhdGEsb3B0aW9ucyl7dGhpcy5uYW1lPW5hbWUsdGhpcy5kaXI9b3B0aW9ucy5kaXIsdGhpcy5kYXRlPW9wdGlvbnMuZGF0ZSx0aGlzLmNvbW1lbnQ9b3B0aW9ucy5jb21tZW50LHRoaXMudW5peFBlcm1pc3Npb25zPW9wdGlvbnMudW5peFBlcm1pc3Npb25zLHRoaXMuZG9zUGVybWlzc2lvbnM9b3B0aW9ucy5kb3NQZXJtaXNzaW9ucyx0aGlzLl9kYXRhPWRhdGEsdGhpcy5fZGF0YUJpbmFyeT1vcHRpb25zLmJpbmFyeSx0aGlzLm9wdGlvbnM9e2NvbXByZXNzaW9uOm9wdGlvbnMuY29tcHJlc3Npb24sY29tcHJlc3Npb25PcHRpb25zOm9wdGlvbnMuY29tcHJlc3Npb25PcHRpb25zfX07WmlwT2JqZWN0LnByb3RvdHlwZT17aW50ZXJuYWxTdHJlYW06ZnVuY3Rpb24odHlwZSl7dmFyIHJlc3VsdD1udWxsLG91dHB1dFR5cGU9XCJzdHJpbmdcIjt0cnl7aWYoIXR5cGUpdGhyb3cgbmV3IEVycm9yKFwiTm8gb3V0cHV0IHR5cGUgc3BlY2lmaWVkLlwiKTt2YXIgYXNrVW5pY29kZVN0cmluZz1cInN0cmluZ1wiPT09KG91dHB1dFR5cGU9dHlwZS50b0xvd2VyQ2FzZSgpKXx8XCJ0ZXh0XCI9PT1vdXRwdXRUeXBlO1wiYmluYXJ5c3RyaW5nXCIhPT1vdXRwdXRUeXBlJiZcInRleHRcIiE9PW91dHB1dFR5cGV8fChvdXRwdXRUeXBlPVwic3RyaW5nXCIpLHJlc3VsdD10aGlzLl9kZWNvbXByZXNzV29ya2VyKCk7dmFyIGlzVW5pY29kZVN0cmluZz0hdGhpcy5fZGF0YUJpbmFyeTtpc1VuaWNvZGVTdHJpbmcmJiFhc2tVbmljb2RlU3RyaW5nJiYocmVzdWx0PXJlc3VsdC5waXBlKG5ldyB1dGY4LlV0ZjhFbmNvZGVXb3JrZXIpKSwhaXNVbmljb2RlU3RyaW5nJiZhc2tVbmljb2RlU3RyaW5nJiYocmVzdWx0PXJlc3VsdC5waXBlKG5ldyB1dGY4LlV0ZjhEZWNvZGVXb3JrZXIpKX1jYXRjaChlKXsocmVzdWx0PW5ldyBHZW5lcmljV29ya2VyKFwiZXJyb3JcIikpLmVycm9yKGUpfXJldHVybiBuZXcgU3RyZWFtSGVscGVyKHJlc3VsdCxvdXRwdXRUeXBlLFwiXCIpfSxhc3luYzpmdW5jdGlvbih0eXBlLG9uVXBkYXRlKXtyZXR1cm4gdGhpcy5pbnRlcm5hbFN0cmVhbSh0eXBlKS5hY2N1bXVsYXRlKG9uVXBkYXRlKX0sbm9kZVN0cmVhbTpmdW5jdGlvbih0eXBlLG9uVXBkYXRlKXtyZXR1cm4gdGhpcy5pbnRlcm5hbFN0cmVhbSh0eXBlfHxcIm5vZGVidWZmZXJcIikudG9Ob2RlanNTdHJlYW0ob25VcGRhdGUpfSxfY29tcHJlc3NXb3JrZXI6ZnVuY3Rpb24oY29tcHJlc3Npb24sY29tcHJlc3Npb25PcHRpb25zKXtpZih0aGlzLl9kYXRhIGluc3RhbmNlb2YgQ29tcHJlc3NlZE9iamVjdCYmdGhpcy5fZGF0YS5jb21wcmVzc2lvbi5tYWdpYz09PWNvbXByZXNzaW9uLm1hZ2ljKXJldHVybiB0aGlzLl9kYXRhLmdldENvbXByZXNzZWRXb3JrZXIoKTt2YXIgcmVzdWx0PXRoaXMuX2RlY29tcHJlc3NXb3JrZXIoKTtyZXR1cm4gdGhpcy5fZGF0YUJpbmFyeXx8KHJlc3VsdD1yZXN1bHQucGlwZShuZXcgdXRmOC5VdGY4RW5jb2RlV29ya2VyKSksQ29tcHJlc3NlZE9iamVjdC5jcmVhdGVXb3JrZXJGcm9tKHJlc3VsdCxjb21wcmVzc2lvbixjb21wcmVzc2lvbk9wdGlvbnMpfSxfZGVjb21wcmVzc1dvcmtlcjpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9kYXRhIGluc3RhbmNlb2YgQ29tcHJlc3NlZE9iamVjdD90aGlzLl9kYXRhLmdldENvbnRlbnRXb3JrZXIoKTp0aGlzLl9kYXRhIGluc3RhbmNlb2YgR2VuZXJpY1dvcmtlcj90aGlzLl9kYXRhOm5ldyBEYXRhV29ya2VyKHRoaXMuX2RhdGEpfX07Zm9yKHZhciByZW1vdmVkTWV0aG9kcz1bXCJhc1RleHRcIixcImFzQmluYXJ5XCIsXCJhc05vZGVCdWZmZXJcIixcImFzVWludDhBcnJheVwiLFwiYXNBcnJheUJ1ZmZlclwiXSxyZW1vdmVkRm49ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIG1ldGhvZCBoYXMgYmVlbiByZW1vdmVkIGluIEpTWmlwIDMuMCwgcGxlYXNlIGNoZWNrIHRoZSB1cGdyYWRlIGd1aWRlLlwiKX0saT0wO2k8cmVtb3ZlZE1ldGhvZHMubGVuZ3RoO2krKylaaXBPYmplY3QucHJvdG90eXBlW3JlbW92ZWRNZXRob2RzW2ldXT1yZW1vdmVkRm47bW9kdWxlLmV4cG9ydHM9WmlwT2JqZWN0fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgY29tcHJlc3Npb25zPV9fd2VicGFja19yZXF1aXJlX18oNjMpLFppcEZpbGVXb3JrZXI9X193ZWJwYWNrX3JlcXVpcmVfXygxMTcpO2V4cG9ydHMuZ2VuZXJhdGVXb3JrZXI9ZnVuY3Rpb24oemlwLG9wdGlvbnMsY29tbWVudCl7dmFyIHppcEZpbGVXb3JrZXI9bmV3IFppcEZpbGVXb3JrZXIob3B0aW9ucy5zdHJlYW1GaWxlcyxjb21tZW50LG9wdGlvbnMucGxhdGZvcm0sb3B0aW9ucy5lbmNvZGVGaWxlTmFtZSksZW50cmllc0NvdW50PTA7dHJ5e3ppcC5mb3JFYWNoKGZ1bmN0aW9uKHJlbGF0aXZlUGF0aCxmaWxlKXtlbnRyaWVzQ291bnQrKzt2YXIgY29tcHJlc3Npb249ZnVuY3Rpb24oZmlsZUNvbXByZXNzaW9uLHppcENvbXByZXNzaW9uKXt2YXIgY29tcHJlc3Npb25OYW1lPWZpbGVDb21wcmVzc2lvbnx8emlwQ29tcHJlc3Npb24sY29tcHJlc3Npb249Y29tcHJlc3Npb25zW2NvbXByZXNzaW9uTmFtZV07aWYoIWNvbXByZXNzaW9uKXRocm93IG5ldyBFcnJvcihjb21wcmVzc2lvbk5hbWUrXCIgaXMgbm90IGEgdmFsaWQgY29tcHJlc3Npb24gbWV0aG9kICFcIik7cmV0dXJuIGNvbXByZXNzaW9ufShmaWxlLm9wdGlvbnMuY29tcHJlc3Npb24sb3B0aW9ucy5jb21wcmVzc2lvbiksY29tcHJlc3Npb25PcHRpb25zPWZpbGUub3B0aW9ucy5jb21wcmVzc2lvbk9wdGlvbnN8fG9wdGlvbnMuY29tcHJlc3Npb25PcHRpb25zfHx7fSxkaXI9ZmlsZS5kaXIsZGF0ZT1maWxlLmRhdGU7ZmlsZS5fY29tcHJlc3NXb3JrZXIoY29tcHJlc3Npb24sY29tcHJlc3Npb25PcHRpb25zKS53aXRoU3RyZWFtSW5mbyhcImZpbGVcIix7bmFtZTpyZWxhdGl2ZVBhdGgsZGlyOmRpcixkYXRlOmRhdGUsY29tbWVudDpmaWxlLmNvbW1lbnR8fFwiXCIsdW5peFBlcm1pc3Npb25zOmZpbGUudW5peFBlcm1pc3Npb25zLGRvc1Blcm1pc3Npb25zOmZpbGUuZG9zUGVybWlzc2lvbnN9KS5waXBlKHppcEZpbGVXb3JrZXIpfSksemlwRmlsZVdvcmtlci5lbnRyaWVzQ291bnQ9ZW50cmllc0NvdW50fWNhdGNoKGUpe3ppcEZpbGVXb3JrZXIuZXJyb3IoZSl9cmV0dXJuIHppcEZpbGVXb3JrZXJ9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgVVNFX1RZUEVEQVJSQVk9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXkmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50MTZBcnJheSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQzMkFycmF5LHBha289X193ZWJwYWNrX3JlcXVpcmVfXygxMDgpLHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMCksR2VuZXJpY1dvcmtlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpLEFSUkFZX1RZUEU9VVNFX1RZUEVEQVJSQVk/XCJ1aW50OGFycmF5XCI6XCJhcnJheVwiO2Z1bmN0aW9uIEZsYXRlV29ya2VyKGFjdGlvbixvcHRpb25zKXtHZW5lcmljV29ya2VyLmNhbGwodGhpcyxcIkZsYXRlV29ya2VyL1wiK2FjdGlvbiksdGhpcy5fcGFrbz1udWxsLHRoaXMuX3Bha29BY3Rpb249YWN0aW9uLHRoaXMuX3Bha29PcHRpb25zPW9wdGlvbnMsdGhpcy5tZXRhPXt9fWV4cG9ydHMubWFnaWM9XCJcXGJcXDBcIix1dGlscy5pbmhlcml0cyhGbGF0ZVdvcmtlcixHZW5lcmljV29ya2VyKSxGbGF0ZVdvcmtlci5wcm90b3R5cGUucHJvY2Vzc0NodW5rPWZ1bmN0aW9uKGNodW5rKXt0aGlzLm1ldGE9Y2h1bmsubWV0YSxudWxsPT09dGhpcy5fcGFrbyYmdGhpcy5fY3JlYXRlUGFrbygpLHRoaXMuX3Bha28ucHVzaCh1dGlscy50cmFuc2Zvcm1UbyhBUlJBWV9UWVBFLGNodW5rLmRhdGEpLCExKX0sRmxhdGVXb3JrZXIucHJvdG90eXBlLmZsdXNoPWZ1bmN0aW9uKCl7R2VuZXJpY1dvcmtlci5wcm90b3R5cGUuZmx1c2guY2FsbCh0aGlzKSxudWxsPT09dGhpcy5fcGFrbyYmdGhpcy5fY3JlYXRlUGFrbygpLHRoaXMuX3Bha28ucHVzaChbXSwhMCl9LEZsYXRlV29ya2VyLnByb3RvdHlwZS5jbGVhblVwPWZ1bmN0aW9uKCl7R2VuZXJpY1dvcmtlci5wcm90b3R5cGUuY2xlYW5VcC5jYWxsKHRoaXMpLHRoaXMuX3Bha289bnVsbH0sRmxhdGVXb3JrZXIucHJvdG90eXBlLl9jcmVhdGVQYWtvPWZ1bmN0aW9uKCl7dGhpcy5fcGFrbz1uZXcgcGFrb1t0aGlzLl9wYWtvQWN0aW9uXSh7cmF3OiEwLGxldmVsOnRoaXMuX3Bha29PcHRpb25zLmxldmVsfHwtMX0pO3ZhciBzZWxmPXRoaXM7dGhpcy5fcGFrby5vbkRhdGE9ZnVuY3Rpb24oZGF0YSl7c2VsZi5wdXNoKHtkYXRhOmRhdGEsbWV0YTpzZWxmLm1ldGF9KX19LGV4cG9ydHMuY29tcHJlc3NXb3JrZXI9ZnVuY3Rpb24oY29tcHJlc3Npb25PcHRpb25zKXtyZXR1cm4gbmV3IEZsYXRlV29ya2VyKFwiRGVmbGF0ZVwiLGNvbXByZXNzaW9uT3B0aW9ucyl9LGV4cG9ydHMudW5jb21wcmVzc1dvcmtlcj1mdW5jdGlvbigpe3JldHVybiBuZXcgRmxhdGVXb3JrZXIoXCJJbmZsYXRlXCIse30pfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHBha289e307KDAsX193ZWJwYWNrX3JlcXVpcmVfXyg4KS5hc3NpZ24pKHBha28sX193ZWJwYWNrX3JlcXVpcmVfXygxMDkpLF9fd2VicGFja19yZXF1aXJlX18oMTEyKSxfX3dlYnBhY2tfcmVxdWlyZV9fKDY4KSksbW9kdWxlLmV4cG9ydHM9cGFrb30sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHpsaWJfZGVmbGF0ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDExMCksdXRpbHM9X193ZWJwYWNrX3JlcXVpcmVfXyg4KSxzdHJpbmdzPV9fd2VicGFja19yZXF1aXJlX18oNjYpLG1zZz1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KSxaU3RyZWFtPV9fd2VicGFja19yZXF1aXJlX18oNjcpLHRvU3RyaW5nPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcsWl9PSz0wLFpfREVGQVVMVF9DT01QUkVTU0lPTj0tMSxaX0RFRkFVTFRfU1RSQVRFR1k9MCxaX0RFRkxBVEVEPTg7ZnVuY3Rpb24gRGVmbGF0ZShvcHRpb25zKXtpZighKHRoaXMgaW5zdGFuY2VvZiBEZWZsYXRlKSlyZXR1cm4gbmV3IERlZmxhdGUob3B0aW9ucyk7dGhpcy5vcHRpb25zPXV0aWxzLmFzc2lnbih7bGV2ZWw6Wl9ERUZBVUxUX0NPTVBSRVNTSU9OLG1ldGhvZDpaX0RFRkxBVEVELGNodW5rU2l6ZToxNjM4NCx3aW5kb3dCaXRzOjE1LG1lbUxldmVsOjgsc3RyYXRlZ3k6Wl9ERUZBVUxUX1NUUkFURUdZLHRvOlwiXCJ9LG9wdGlvbnN8fHt9KTt2YXIgb3B0PXRoaXMub3B0aW9ucztvcHQucmF3JiZvcHQud2luZG93Qml0cz4wP29wdC53aW5kb3dCaXRzPS1vcHQud2luZG93Qml0czpvcHQuZ3ppcCYmb3B0LndpbmRvd0JpdHM+MCYmb3B0LndpbmRvd0JpdHM8MTYmJihvcHQud2luZG93Qml0cys9MTYpLHRoaXMuZXJyPTAsdGhpcy5tc2c9XCJcIix0aGlzLmVuZGVkPSExLHRoaXMuY2h1bmtzPVtdLHRoaXMuc3RybT1uZXcgWlN0cmVhbSx0aGlzLnN0cm0uYXZhaWxfb3V0PTA7dmFyIHN0YXR1cz16bGliX2RlZmxhdGUuZGVmbGF0ZUluaXQyKHRoaXMuc3RybSxvcHQubGV2ZWwsb3B0Lm1ldGhvZCxvcHQud2luZG93Qml0cyxvcHQubWVtTGV2ZWwsb3B0LnN0cmF0ZWd5KTtpZihzdGF0dXMhPT1aX09LKXRocm93IG5ldyBFcnJvcihtc2dbc3RhdHVzXSk7aWYob3B0LmhlYWRlciYmemxpYl9kZWZsYXRlLmRlZmxhdGVTZXRIZWFkZXIodGhpcy5zdHJtLG9wdC5oZWFkZXIpLG9wdC5kaWN0aW9uYXJ5KXt2YXIgZGljdDtpZihkaWN0PVwic3RyaW5nXCI9PXR5cGVvZiBvcHQuZGljdGlvbmFyeT9zdHJpbmdzLnN0cmluZzJidWYob3B0LmRpY3Rpb25hcnkpOlwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIj09PXRvU3RyaW5nLmNhbGwob3B0LmRpY3Rpb25hcnkpP25ldyBVaW50OEFycmF5KG9wdC5kaWN0aW9uYXJ5KTpvcHQuZGljdGlvbmFyeSwoc3RhdHVzPXpsaWJfZGVmbGF0ZS5kZWZsYXRlU2V0RGljdGlvbmFyeSh0aGlzLnN0cm0sZGljdCkpIT09Wl9PSyl0aHJvdyBuZXcgRXJyb3IobXNnW3N0YXR1c10pO3RoaXMuX2RpY3Rfc2V0PSEwfX1mdW5jdGlvbiBkZWZsYXRlKGlucHV0LG9wdGlvbnMpe3ZhciBkZWZsYXRvcj1uZXcgRGVmbGF0ZShvcHRpb25zKTtpZihkZWZsYXRvci5wdXNoKGlucHV0LCEwKSxkZWZsYXRvci5lcnIpdGhyb3cgZGVmbGF0b3IubXNnfHxtc2dbZGVmbGF0b3IuZXJyXTtyZXR1cm4gZGVmbGF0b3IucmVzdWx0fURlZmxhdGUucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oZGF0YSxtb2RlKXt2YXIgc3RhdHVzLF9tb2RlLHN0cm09dGhpcy5zdHJtLGNodW5rU2l6ZT10aGlzLm9wdGlvbnMuY2h1bmtTaXplO2lmKHRoaXMuZW5kZWQpcmV0dXJuITE7X21vZGU9bW9kZT09PX5+bW9kZT9tb2RlOiEwPT09bW9kZT80OjAsXCJzdHJpbmdcIj09dHlwZW9mIGRhdGE/c3RybS5pbnB1dD1zdHJpbmdzLnN0cmluZzJidWYoZGF0YSk6XCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiPT09dG9TdHJpbmcuY2FsbChkYXRhKT9zdHJtLmlucHV0PW5ldyBVaW50OEFycmF5KGRhdGEpOnN0cm0uaW5wdXQ9ZGF0YSxzdHJtLm5leHRfaW49MCxzdHJtLmF2YWlsX2luPXN0cm0uaW5wdXQubGVuZ3RoO2Rve2lmKDA9PT1zdHJtLmF2YWlsX291dCYmKHN0cm0ub3V0cHV0PW5ldyB1dGlscy5CdWY4KGNodW5rU2l6ZSksc3RybS5uZXh0X291dD0wLHN0cm0uYXZhaWxfb3V0PWNodW5rU2l6ZSksMSE9PShzdGF0dXM9emxpYl9kZWZsYXRlLmRlZmxhdGUoc3RybSxfbW9kZSkpJiZzdGF0dXMhPT1aX09LKXJldHVybiB0aGlzLm9uRW5kKHN0YXR1cyksdGhpcy5lbmRlZD0hMCwhMTswIT09c3RybS5hdmFpbF9vdXQmJigwIT09c3RybS5hdmFpbF9pbnx8NCE9PV9tb2RlJiYyIT09X21vZGUpfHwoXCJzdHJpbmdcIj09PXRoaXMub3B0aW9ucy50bz90aGlzLm9uRGF0YShzdHJpbmdzLmJ1ZjJiaW5zdHJpbmcodXRpbHMuc2hyaW5rQnVmKHN0cm0ub3V0cHV0LHN0cm0ubmV4dF9vdXQpKSk6dGhpcy5vbkRhdGEodXRpbHMuc2hyaW5rQnVmKHN0cm0ub3V0cHV0LHN0cm0ubmV4dF9vdXQpKSl9d2hpbGUoKHN0cm0uYXZhaWxfaW4+MHx8MD09PXN0cm0uYXZhaWxfb3V0KSYmMSE9PXN0YXR1cyk7cmV0dXJuIDQ9PT1fbW9kZT8oc3RhdHVzPXpsaWJfZGVmbGF0ZS5kZWZsYXRlRW5kKHRoaXMuc3RybSksdGhpcy5vbkVuZChzdGF0dXMpLHRoaXMuZW5kZWQ9ITAsc3RhdHVzPT09Wl9PSyk6MiE9PV9tb2RlfHwodGhpcy5vbkVuZChaX09LKSxzdHJtLmF2YWlsX291dD0wLCEwKX0sRGVmbGF0ZS5wcm90b3R5cGUub25EYXRhPWZ1bmN0aW9uKGNodW5rKXt0aGlzLmNodW5rcy5wdXNoKGNodW5rKX0sRGVmbGF0ZS5wcm90b3R5cGUub25FbmQ9ZnVuY3Rpb24oc3RhdHVzKXtzdGF0dXM9PT1aX09LJiYoXCJzdHJpbmdcIj09PXRoaXMub3B0aW9ucy50bz90aGlzLnJlc3VsdD10aGlzLmNodW5rcy5qb2luKFwiXCIpOnRoaXMucmVzdWx0PXV0aWxzLmZsYXR0ZW5DaHVua3ModGhpcy5jaHVua3MpKSx0aGlzLmNodW5rcz1bXSx0aGlzLmVycj1zdGF0dXMsdGhpcy5tc2c9dGhpcy5zdHJtLm1zZ30sZXhwb3J0cy5EZWZsYXRlPURlZmxhdGUsZXhwb3J0cy5kZWZsYXRlPWRlZmxhdGUsZXhwb3J0cy5kZWZsYXRlUmF3PWZ1bmN0aW9uKGlucHV0LG9wdGlvbnMpe3JldHVybihvcHRpb25zPW9wdGlvbnN8fHt9KS5yYXc9ITAsZGVmbGF0ZShpbnB1dCxvcHRpb25zKX0sZXhwb3J0cy5nemlwPWZ1bmN0aW9uKGlucHV0LG9wdGlvbnMpe3JldHVybihvcHRpb25zPW9wdGlvbnN8fHt9KS5nemlwPSEwLGRlZmxhdGUoaW5wdXQsb3B0aW9ucyl9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgY29uZmlndXJhdGlvbl90YWJsZSx1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDgpLHRyZWVzPV9fd2VicGFja19yZXF1aXJlX18oMTExKSxhZGxlcjMyPV9fd2VicGFja19yZXF1aXJlX18oNjQpLGNyYzMyPV9fd2VicGFja19yZXF1aXJlX18oNjUpLG1zZz1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KSxaX05PX0ZMVVNIPTAsWl9QQVJUSUFMX0ZMVVNIPTEsWl9GVUxMX0ZMVVNIPTMsWl9GSU5JU0g9NCxaX0JMT0NLPTUsWl9PSz0wLFpfU1RSRUFNX0VORD0xLFpfU1RSRUFNX0VSUk9SPS0yLFpfREFUQV9FUlJPUj0tMyxaX0JVRl9FUlJPUj0tNSxaX0RFRkFVTFRfQ09NUFJFU1NJT049LTEsWl9GSUxURVJFRD0xLFpfSFVGRk1BTl9PTkxZPTIsWl9STEU9MyxaX0ZJWEVEPTQsWl9ERUZBVUxUX1NUUkFURUdZPTAsWl9VTktOT1dOPTIsWl9ERUZMQVRFRD04LE1BWF9NRU1fTEVWRUw9OSxNQVhfV0JJVFM9MTUsREVGX01FTV9MRVZFTD04LExfQ09ERVM9Mjg2LERfQ09ERVM9MzAsQkxfQ09ERVM9MTksSEVBUF9TSVpFPTIqTF9DT0RFUysxLE1BWF9CSVRTPTE1LE1JTl9NQVRDSD0zLE1BWF9NQVRDSD0yNTgsTUlOX0xPT0tBSEVBRD1NQVhfTUFUQ0grTUlOX01BVENIKzEsUFJFU0VUX0RJQ1Q9MzIsSU5JVF9TVEFURT00MixFWFRSQV9TVEFURT02OSxOQU1FX1NUQVRFPTczLENPTU1FTlRfU1RBVEU9OTEsSENSQ19TVEFURT0xMDMsQlVTWV9TVEFURT0xMTMsRklOSVNIX1NUQVRFPTY2NixCU19ORUVEX01PUkU9MSxCU19CTE9DS19ET05FPTIsQlNfRklOSVNIX1NUQVJURUQ9MyxCU19GSU5JU0hfRE9ORT00LE9TX0NPREU9MztmdW5jdGlvbiBlcnIoc3RybSxlcnJvckNvZGUpe3JldHVybiBzdHJtLm1zZz1tc2dbZXJyb3JDb2RlXSxlcnJvckNvZGV9ZnVuY3Rpb24gcmFuayhmKXtyZXR1cm4oZjw8MSktKGY+ND85OjApfWZ1bmN0aW9uIHplcm8oYnVmKXtmb3IodmFyIGxlbj1idWYubGVuZ3RoOy0tbGVuPj0wOylidWZbbGVuXT0wfWZ1bmN0aW9uIGZsdXNoX3BlbmRpbmcoc3RybSl7dmFyIHM9c3RybS5zdGF0ZSxsZW49cy5wZW5kaW5nO2xlbj5zdHJtLmF2YWlsX291dCYmKGxlbj1zdHJtLmF2YWlsX291dCksMCE9PWxlbiYmKHV0aWxzLmFycmF5U2V0KHN0cm0ub3V0cHV0LHMucGVuZGluZ19idWYscy5wZW5kaW5nX291dCxsZW4sc3RybS5uZXh0X291dCksc3RybS5uZXh0X291dCs9bGVuLHMucGVuZGluZ19vdXQrPWxlbixzdHJtLnRvdGFsX291dCs9bGVuLHN0cm0uYXZhaWxfb3V0LT1sZW4scy5wZW5kaW5nLT1sZW4sMD09PXMucGVuZGluZyYmKHMucGVuZGluZ19vdXQ9MCkpfWZ1bmN0aW9uIGZsdXNoX2Jsb2NrX29ubHkocyxsYXN0KXt0cmVlcy5fdHJfZmx1c2hfYmxvY2socyxzLmJsb2NrX3N0YXJ0Pj0wP3MuYmxvY2tfc3RhcnQ6LTEscy5zdHJzdGFydC1zLmJsb2NrX3N0YXJ0LGxhc3QpLHMuYmxvY2tfc3RhcnQ9cy5zdHJzdGFydCxmbHVzaF9wZW5kaW5nKHMuc3RybSl9ZnVuY3Rpb24gcHV0X2J5dGUocyxiKXtzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXT1ifWZ1bmN0aW9uIHB1dFNob3J0TVNCKHMsYil7cy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcrK109Yj4+PjgmMjU1LHMucGVuZGluZ19idWZbcy5wZW5kaW5nKytdPTI1NSZifWZ1bmN0aW9uIHJlYWRfYnVmKHN0cm0sYnVmLHN0YXJ0LHNpemUpe3ZhciBsZW49c3RybS5hdmFpbF9pbjtyZXR1cm4gbGVuPnNpemUmJihsZW49c2l6ZSksMD09PWxlbj8wOihzdHJtLmF2YWlsX2luLT1sZW4sdXRpbHMuYXJyYXlTZXQoYnVmLHN0cm0uaW5wdXQsc3RybS5uZXh0X2luLGxlbixzdGFydCksMT09PXN0cm0uc3RhdGUud3JhcD9zdHJtLmFkbGVyPWFkbGVyMzIoc3RybS5hZGxlcixidWYsbGVuLHN0YXJ0KToyPT09c3RybS5zdGF0ZS53cmFwJiYoc3RybS5hZGxlcj1jcmMzMihzdHJtLmFkbGVyLGJ1ZixsZW4sc3RhcnQpKSxzdHJtLm5leHRfaW4rPWxlbixzdHJtLnRvdGFsX2luKz1sZW4sbGVuKX1mdW5jdGlvbiBsb25nZXN0X21hdGNoKHMsY3VyX21hdGNoKXt2YXIgbWF0Y2gsbGVuLGNoYWluX2xlbmd0aD1zLm1heF9jaGFpbl9sZW5ndGgsc2Nhbj1zLnN0cnN0YXJ0LGJlc3RfbGVuPXMucHJldl9sZW5ndGgsbmljZV9tYXRjaD1zLm5pY2VfbWF0Y2gsbGltaXQ9cy5zdHJzdGFydD5zLndfc2l6ZS1NSU5fTE9PS0FIRUFEP3Muc3Ryc3RhcnQtKHMud19zaXplLU1JTl9MT09LQUhFQUQpOjAsX3dpbj1zLndpbmRvdyx3bWFzaz1zLndfbWFzayxwcmV2PXMucHJldixzdHJlbmQ9cy5zdHJzdGFydCtNQVhfTUFUQ0gsc2Nhbl9lbmQxPV93aW5bc2NhbitiZXN0X2xlbi0xXSxzY2FuX2VuZD1fd2luW3NjYW4rYmVzdF9sZW5dO3MucHJldl9sZW5ndGg+PXMuZ29vZF9tYXRjaCYmKGNoYWluX2xlbmd0aD4+PTIpLG5pY2VfbWF0Y2g+cy5sb29rYWhlYWQmJihuaWNlX21hdGNoPXMubG9va2FoZWFkKTtkb3tpZihfd2luWyhtYXRjaD1jdXJfbWF0Y2gpK2Jlc3RfbGVuXT09PXNjYW5fZW5kJiZfd2luW21hdGNoK2Jlc3RfbGVuLTFdPT09c2Nhbl9lbmQxJiZfd2luW21hdGNoXT09PV93aW5bc2Nhbl0mJl93aW5bKyttYXRjaF09PT1fd2luW3NjYW4rMV0pe3NjYW4rPTIsbWF0Y2grKztkb3t9d2hpbGUoX3dpblsrK3NjYW5dPT09X3dpblsrK21hdGNoXSYmX3dpblsrK3NjYW5dPT09X3dpblsrK21hdGNoXSYmX3dpblsrK3NjYW5dPT09X3dpblsrK21hdGNoXSYmX3dpblsrK3NjYW5dPT09X3dpblsrK21hdGNoXSYmX3dpblsrK3NjYW5dPT09X3dpblsrK21hdGNoXSYmX3dpblsrK3NjYW5dPT09X3dpblsrK21hdGNoXSYmX3dpblsrK3NjYW5dPT09X3dpblsrK21hdGNoXSYmX3dpblsrK3NjYW5dPT09X3dpblsrK21hdGNoXSYmc2NhbjxzdHJlbmQpO2lmKGxlbj1NQVhfTUFUQ0gtKHN0cmVuZC1zY2FuKSxzY2FuPXN0cmVuZC1NQVhfTUFUQ0gsbGVuPmJlc3RfbGVuKXtpZihzLm1hdGNoX3N0YXJ0PWN1cl9tYXRjaCxiZXN0X2xlbj1sZW4sbGVuPj1uaWNlX21hdGNoKWJyZWFrO3NjYW5fZW5kMT1fd2luW3NjYW4rYmVzdF9sZW4tMV0sc2Nhbl9lbmQ9X3dpbltzY2FuK2Jlc3RfbGVuXX19fXdoaWxlKChjdXJfbWF0Y2g9cHJldltjdXJfbWF0Y2gmd21hc2tdKT5saW1pdCYmMCE9LS1jaGFpbl9sZW5ndGgpO3JldHVybiBiZXN0X2xlbjw9cy5sb29rYWhlYWQ/YmVzdF9sZW46cy5sb29rYWhlYWR9ZnVuY3Rpb24gZmlsbF93aW5kb3cocyl7dmFyIHAsbixtLG1vcmUsc3RyLF93X3NpemU9cy53X3NpemU7ZG97aWYobW9yZT1zLndpbmRvd19zaXplLXMubG9va2FoZWFkLXMuc3Ryc3RhcnQscy5zdHJzdGFydD49X3dfc2l6ZSsoX3dfc2l6ZS1NSU5fTE9PS0FIRUFEKSl7dXRpbHMuYXJyYXlTZXQocy53aW5kb3cscy53aW5kb3csX3dfc2l6ZSxfd19zaXplLDApLHMubWF0Y2hfc3RhcnQtPV93X3NpemUscy5zdHJzdGFydC09X3dfc2l6ZSxzLmJsb2NrX3N0YXJ0LT1fd19zaXplLHA9bj1zLmhhc2hfc2l6ZTtkb3ttPXMuaGVhZFstLXBdLHMuaGVhZFtwXT1tPj1fd19zaXplP20tX3dfc2l6ZTowfXdoaWxlKC0tbik7cD1uPV93X3NpemU7ZG97bT1zLnByZXZbLS1wXSxzLnByZXZbcF09bT49X3dfc2l6ZT9tLV93X3NpemU6MH13aGlsZSgtLW4pO21vcmUrPV93X3NpemV9aWYoMD09PXMuc3RybS5hdmFpbF9pbilicmVhaztpZihuPXJlYWRfYnVmKHMuc3RybSxzLndpbmRvdyxzLnN0cnN0YXJ0K3MubG9va2FoZWFkLG1vcmUpLHMubG9va2FoZWFkKz1uLHMubG9va2FoZWFkK3MuaW5zZXJ0Pj1NSU5fTUFUQ0gpZm9yKHN0cj1zLnN0cnN0YXJ0LXMuaW5zZXJ0LHMuaW5zX2g9cy53aW5kb3dbc3RyXSxzLmluc19oPShzLmluc19oPDxzLmhhc2hfc2hpZnRecy53aW5kb3dbc3RyKzFdKSZzLmhhc2hfbWFzaztzLmluc2VydCYmKHMuaW5zX2g9KHMuaW5zX2g8PHMuaGFzaF9zaGlmdF5zLndpbmRvd1tzdHIrTUlOX01BVENILTFdKSZzLmhhc2hfbWFzayxzLnByZXZbc3RyJnMud19tYXNrXT1zLmhlYWRbcy5pbnNfaF0scy5oZWFkW3MuaW5zX2hdPXN0cixzdHIrKyxzLmluc2VydC0tLCEocy5sb29rYWhlYWQrcy5pbnNlcnQ8TUlOX01BVENIKSk7KTt9d2hpbGUocy5sb29rYWhlYWQ8TUlOX0xPT0tBSEVBRCYmMCE9PXMuc3RybS5hdmFpbF9pbil9ZnVuY3Rpb24gZGVmbGF0ZV9mYXN0KHMsZmx1c2gpe2Zvcih2YXIgaGFzaF9oZWFkLGJmbHVzaDs7KXtpZihzLmxvb2thaGVhZDxNSU5fTE9PS0FIRUFEKXtpZihmaWxsX3dpbmRvdyhzKSxzLmxvb2thaGVhZDxNSU5fTE9PS0FIRUFEJiZmbHVzaD09PVpfTk9fRkxVU0gpcmV0dXJuIEJTX05FRURfTU9SRTtpZigwPT09cy5sb29rYWhlYWQpYnJlYWt9aWYoaGFzaF9oZWFkPTAscy5sb29rYWhlYWQ+PU1JTl9NQVRDSCYmKHMuaW5zX2g9KHMuaW5zX2g8PHMuaGFzaF9zaGlmdF5zLndpbmRvd1tzLnN0cnN0YXJ0K01JTl9NQVRDSC0xXSkmcy5oYXNoX21hc2ssaGFzaF9oZWFkPXMucHJldltzLnN0cnN0YXJ0JnMud19tYXNrXT1zLmhlYWRbcy5pbnNfaF0scy5oZWFkW3MuaW5zX2hdPXMuc3Ryc3RhcnQpLDAhPT1oYXNoX2hlYWQmJnMuc3Ryc3RhcnQtaGFzaF9oZWFkPD1zLndfc2l6ZS1NSU5fTE9PS0FIRUFEJiYocy5tYXRjaF9sZW5ndGg9bG9uZ2VzdF9tYXRjaChzLGhhc2hfaGVhZCkpLHMubWF0Y2hfbGVuZ3RoPj1NSU5fTUFUQ0gpaWYoYmZsdXNoPXRyZWVzLl90cl90YWxseShzLHMuc3Ryc3RhcnQtcy5tYXRjaF9zdGFydCxzLm1hdGNoX2xlbmd0aC1NSU5fTUFUQ0gpLHMubG9va2FoZWFkLT1zLm1hdGNoX2xlbmd0aCxzLm1hdGNoX2xlbmd0aDw9cy5tYXhfbGF6eV9tYXRjaCYmcy5sb29rYWhlYWQ+PU1JTl9NQVRDSCl7cy5tYXRjaF9sZW5ndGgtLTtkb3tzLnN0cnN0YXJ0Kysscy5pbnNfaD0ocy5pbnNfaDw8cy5oYXNoX3NoaWZ0XnMud2luZG93W3Muc3Ryc3RhcnQrTUlOX01BVENILTFdKSZzLmhhc2hfbWFzayxoYXNoX2hlYWQ9cy5wcmV2W3Muc3Ryc3RhcnQmcy53X21hc2tdPXMuaGVhZFtzLmluc19oXSxzLmhlYWRbcy5pbnNfaF09cy5zdHJzdGFydH13aGlsZSgwIT0tLXMubWF0Y2hfbGVuZ3RoKTtzLnN0cnN0YXJ0Kyt9ZWxzZSBzLnN0cnN0YXJ0Kz1zLm1hdGNoX2xlbmd0aCxzLm1hdGNoX2xlbmd0aD0wLHMuaW5zX2g9cy53aW5kb3dbcy5zdHJzdGFydF0scy5pbnNfaD0ocy5pbnNfaDw8cy5oYXNoX3NoaWZ0XnMud2luZG93W3Muc3Ryc3RhcnQrMV0pJnMuaGFzaF9tYXNrO2Vsc2UgYmZsdXNoPXRyZWVzLl90cl90YWxseShzLDAscy53aW5kb3dbcy5zdHJzdGFydF0pLHMubG9va2FoZWFkLS0scy5zdHJzdGFydCsrO2lmKGJmbHVzaCYmKGZsdXNoX2Jsb2NrX29ubHkocywhMSksMD09PXMuc3RybS5hdmFpbF9vdXQpKXJldHVybiBCU19ORUVEX01PUkV9cmV0dXJuIHMuaW5zZXJ0PXMuc3Ryc3RhcnQ8TUlOX01BVENILTE/cy5zdHJzdGFydDpNSU5fTUFUQ0gtMSxmbHVzaD09PVpfRklOSVNIPyhmbHVzaF9ibG9ja19vbmx5KHMsITApLDA9PT1zLnN0cm0uYXZhaWxfb3V0P0JTX0ZJTklTSF9TVEFSVEVEOkJTX0ZJTklTSF9ET05FKTpzLmxhc3RfbGl0JiYoZmx1c2hfYmxvY2tfb25seShzLCExKSwwPT09cy5zdHJtLmF2YWlsX291dCk/QlNfTkVFRF9NT1JFOkJTX0JMT0NLX0RPTkV9ZnVuY3Rpb24gZGVmbGF0ZV9zbG93KHMsZmx1c2gpe2Zvcih2YXIgaGFzaF9oZWFkLGJmbHVzaCxtYXhfaW5zZXJ0Ozspe2lmKHMubG9va2FoZWFkPE1JTl9MT09LQUhFQUQpe2lmKGZpbGxfd2luZG93KHMpLHMubG9va2FoZWFkPE1JTl9MT09LQUhFQUQmJmZsdXNoPT09Wl9OT19GTFVTSClyZXR1cm4gQlNfTkVFRF9NT1JFO2lmKDA9PT1zLmxvb2thaGVhZClicmVha31pZihoYXNoX2hlYWQ9MCxzLmxvb2thaGVhZD49TUlOX01BVENIJiYocy5pbnNfaD0ocy5pbnNfaDw8cy5oYXNoX3NoaWZ0XnMud2luZG93W3Muc3Ryc3RhcnQrTUlOX01BVENILTFdKSZzLmhhc2hfbWFzayxoYXNoX2hlYWQ9cy5wcmV2W3Muc3Ryc3RhcnQmcy53X21hc2tdPXMuaGVhZFtzLmluc19oXSxzLmhlYWRbcy5pbnNfaF09cy5zdHJzdGFydCkscy5wcmV2X2xlbmd0aD1zLm1hdGNoX2xlbmd0aCxzLnByZXZfbWF0Y2g9cy5tYXRjaF9zdGFydCxzLm1hdGNoX2xlbmd0aD1NSU5fTUFUQ0gtMSwwIT09aGFzaF9oZWFkJiZzLnByZXZfbGVuZ3RoPHMubWF4X2xhenlfbWF0Y2gmJnMuc3Ryc3RhcnQtaGFzaF9oZWFkPD1zLndfc2l6ZS1NSU5fTE9PS0FIRUFEJiYocy5tYXRjaF9sZW5ndGg9bG9uZ2VzdF9tYXRjaChzLGhhc2hfaGVhZCkscy5tYXRjaF9sZW5ndGg8PTUmJihzLnN0cmF0ZWd5PT09Wl9GSUxURVJFRHx8cy5tYXRjaF9sZW5ndGg9PT1NSU5fTUFUQ0gmJnMuc3Ryc3RhcnQtcy5tYXRjaF9zdGFydD40MDk2KSYmKHMubWF0Y2hfbGVuZ3RoPU1JTl9NQVRDSC0xKSkscy5wcmV2X2xlbmd0aD49TUlOX01BVENIJiZzLm1hdGNoX2xlbmd0aDw9cy5wcmV2X2xlbmd0aCl7bWF4X2luc2VydD1zLnN0cnN0YXJ0K3MubG9va2FoZWFkLU1JTl9NQVRDSCxiZmx1c2g9dHJlZXMuX3RyX3RhbGx5KHMscy5zdHJzdGFydC0xLXMucHJldl9tYXRjaCxzLnByZXZfbGVuZ3RoLU1JTl9NQVRDSCkscy5sb29rYWhlYWQtPXMucHJldl9sZW5ndGgtMSxzLnByZXZfbGVuZ3RoLT0yO2Rveysrcy5zdHJzdGFydDw9bWF4X2luc2VydCYmKHMuaW5zX2g9KHMuaW5zX2g8PHMuaGFzaF9zaGlmdF5zLndpbmRvd1tzLnN0cnN0YXJ0K01JTl9NQVRDSC0xXSkmcy5oYXNoX21hc2ssaGFzaF9oZWFkPXMucHJldltzLnN0cnN0YXJ0JnMud19tYXNrXT1zLmhlYWRbcy5pbnNfaF0scy5oZWFkW3MuaW5zX2hdPXMuc3Ryc3RhcnQpfXdoaWxlKDAhPS0tcy5wcmV2X2xlbmd0aCk7aWYocy5tYXRjaF9hdmFpbGFibGU9MCxzLm1hdGNoX2xlbmd0aD1NSU5fTUFUQ0gtMSxzLnN0cnN0YXJ0KyssYmZsdXNoJiYoZmx1c2hfYmxvY2tfb25seShzLCExKSwwPT09cy5zdHJtLmF2YWlsX291dCkpcmV0dXJuIEJTX05FRURfTU9SRX1lbHNlIGlmKHMubWF0Y2hfYXZhaWxhYmxlKXtpZigoYmZsdXNoPXRyZWVzLl90cl90YWxseShzLDAscy53aW5kb3dbcy5zdHJzdGFydC0xXSkpJiZmbHVzaF9ibG9ja19vbmx5KHMsITEpLHMuc3Ryc3RhcnQrKyxzLmxvb2thaGVhZC0tLDA9PT1zLnN0cm0uYXZhaWxfb3V0KXJldHVybiBCU19ORUVEX01PUkV9ZWxzZSBzLm1hdGNoX2F2YWlsYWJsZT0xLHMuc3Ryc3RhcnQrKyxzLmxvb2thaGVhZC0tfXJldHVybiBzLm1hdGNoX2F2YWlsYWJsZSYmKGJmbHVzaD10cmVlcy5fdHJfdGFsbHkocywwLHMud2luZG93W3Muc3Ryc3RhcnQtMV0pLHMubWF0Y2hfYXZhaWxhYmxlPTApLHMuaW5zZXJ0PXMuc3Ryc3RhcnQ8TUlOX01BVENILTE/cy5zdHJzdGFydDpNSU5fTUFUQ0gtMSxmbHVzaD09PVpfRklOSVNIPyhmbHVzaF9ibG9ja19vbmx5KHMsITApLDA9PT1zLnN0cm0uYXZhaWxfb3V0P0JTX0ZJTklTSF9TVEFSVEVEOkJTX0ZJTklTSF9ET05FKTpzLmxhc3RfbGl0JiYoZmx1c2hfYmxvY2tfb25seShzLCExKSwwPT09cy5zdHJtLmF2YWlsX291dCk/QlNfTkVFRF9NT1JFOkJTX0JMT0NLX0RPTkV9ZnVuY3Rpb24gQ29uZmlnKGdvb2RfbGVuZ3RoLG1heF9sYXp5LG5pY2VfbGVuZ3RoLG1heF9jaGFpbixmdW5jKXt0aGlzLmdvb2RfbGVuZ3RoPWdvb2RfbGVuZ3RoLHRoaXMubWF4X2xhenk9bWF4X2xhenksdGhpcy5uaWNlX2xlbmd0aD1uaWNlX2xlbmd0aCx0aGlzLm1heF9jaGFpbj1tYXhfY2hhaW4sdGhpcy5mdW5jPWZ1bmN9ZnVuY3Rpb24gZGVmbGF0ZVJlc2V0S2VlcChzdHJtKXt2YXIgcztyZXR1cm4gc3RybSYmc3RybS5zdGF0ZT8oc3RybS50b3RhbF9pbj1zdHJtLnRvdGFsX291dD0wLHN0cm0uZGF0YV90eXBlPVpfVU5LTk9XTiwocz1zdHJtLnN0YXRlKS5wZW5kaW5nPTAscy5wZW5kaW5nX291dD0wLHMud3JhcDwwJiYocy53cmFwPS1zLndyYXApLHMuc3RhdHVzPXMud3JhcD9JTklUX1NUQVRFOkJVU1lfU1RBVEUsc3RybS5hZGxlcj0yPT09cy53cmFwPzA6MSxzLmxhc3RfZmx1c2g9Wl9OT19GTFVTSCx0cmVlcy5fdHJfaW5pdChzKSxaX09LKTplcnIoc3RybSxaX1NUUkVBTV9FUlJPUil9ZnVuY3Rpb24gZGVmbGF0ZVJlc2V0KHN0cm0pe3ZhciByZXQ9ZGVmbGF0ZVJlc2V0S2VlcChzdHJtKTtyZXR1cm4gcmV0PT09Wl9PSyYmZnVuY3Rpb24ocyl7cy53aW5kb3dfc2l6ZT0yKnMud19zaXplLHplcm8ocy5oZWFkKSxzLm1heF9sYXp5X21hdGNoPWNvbmZpZ3VyYXRpb25fdGFibGVbcy5sZXZlbF0ubWF4X2xhenkscy5nb29kX21hdGNoPWNvbmZpZ3VyYXRpb25fdGFibGVbcy5sZXZlbF0uZ29vZF9sZW5ndGgscy5uaWNlX21hdGNoPWNvbmZpZ3VyYXRpb25fdGFibGVbcy5sZXZlbF0ubmljZV9sZW5ndGgscy5tYXhfY2hhaW5fbGVuZ3RoPWNvbmZpZ3VyYXRpb25fdGFibGVbcy5sZXZlbF0ubWF4X2NoYWluLHMuc3Ryc3RhcnQ9MCxzLmJsb2NrX3N0YXJ0PTAscy5sb29rYWhlYWQ9MCxzLmluc2VydD0wLHMubWF0Y2hfbGVuZ3RoPXMucHJldl9sZW5ndGg9TUlOX01BVENILTEscy5tYXRjaF9hdmFpbGFibGU9MCxzLmluc19oPTB9KHN0cm0uc3RhdGUpLHJldH1mdW5jdGlvbiBkZWZsYXRlSW5pdDIoc3RybSxsZXZlbCxtZXRob2Qsd2luZG93Qml0cyxtZW1MZXZlbCxzdHJhdGVneSl7aWYoIXN0cm0pcmV0dXJuIFpfU1RSRUFNX0VSUk9SO3ZhciB3cmFwPTE7aWYobGV2ZWw9PT1aX0RFRkFVTFRfQ09NUFJFU1NJT04mJihsZXZlbD02KSx3aW5kb3dCaXRzPDA/KHdyYXA9MCx3aW5kb3dCaXRzPS13aW5kb3dCaXRzKTp3aW5kb3dCaXRzPjE1JiYod3JhcD0yLHdpbmRvd0JpdHMtPTE2KSxtZW1MZXZlbDwxfHxtZW1MZXZlbD5NQVhfTUVNX0xFVkVMfHxtZXRob2QhPT1aX0RFRkxBVEVEfHx3aW5kb3dCaXRzPDh8fHdpbmRvd0JpdHM+MTV8fGxldmVsPDB8fGxldmVsPjl8fHN0cmF0ZWd5PDB8fHN0cmF0ZWd5PlpfRklYRUQpcmV0dXJuIGVycihzdHJtLFpfU1RSRUFNX0VSUk9SKTs4PT09d2luZG93Qml0cyYmKHdpbmRvd0JpdHM9OSk7dmFyIHM9bmV3IGZ1bmN0aW9uKCl7dGhpcy5zdHJtPW51bGwsdGhpcy5zdGF0dXM9MCx0aGlzLnBlbmRpbmdfYnVmPW51bGwsdGhpcy5wZW5kaW5nX2J1Zl9zaXplPTAsdGhpcy5wZW5kaW5nX291dD0wLHRoaXMucGVuZGluZz0wLHRoaXMud3JhcD0wLHRoaXMuZ3poZWFkPW51bGwsdGhpcy5nemluZGV4PTAsdGhpcy5tZXRob2Q9Wl9ERUZMQVRFRCx0aGlzLmxhc3RfZmx1c2g9LTEsdGhpcy53X3NpemU9MCx0aGlzLndfYml0cz0wLHRoaXMud19tYXNrPTAsdGhpcy53aW5kb3c9bnVsbCx0aGlzLndpbmRvd19zaXplPTAsdGhpcy5wcmV2PW51bGwsdGhpcy5oZWFkPW51bGwsdGhpcy5pbnNfaD0wLHRoaXMuaGFzaF9zaXplPTAsdGhpcy5oYXNoX2JpdHM9MCx0aGlzLmhhc2hfbWFzaz0wLHRoaXMuaGFzaF9zaGlmdD0wLHRoaXMuYmxvY2tfc3RhcnQ9MCx0aGlzLm1hdGNoX2xlbmd0aD0wLHRoaXMucHJldl9tYXRjaD0wLHRoaXMubWF0Y2hfYXZhaWxhYmxlPTAsdGhpcy5zdHJzdGFydD0wLHRoaXMubWF0Y2hfc3RhcnQ9MCx0aGlzLmxvb2thaGVhZD0wLHRoaXMucHJldl9sZW5ndGg9MCx0aGlzLm1heF9jaGFpbl9sZW5ndGg9MCx0aGlzLm1heF9sYXp5X21hdGNoPTAsdGhpcy5sZXZlbD0wLHRoaXMuc3RyYXRlZ3k9MCx0aGlzLmdvb2RfbWF0Y2g9MCx0aGlzLm5pY2VfbWF0Y2g9MCx0aGlzLmR5bl9sdHJlZT1uZXcgdXRpbHMuQnVmMTYoMipIRUFQX1NJWkUpLHRoaXMuZHluX2R0cmVlPW5ldyB1dGlscy5CdWYxNigyKigyKkRfQ09ERVMrMSkpLHRoaXMuYmxfdHJlZT1uZXcgdXRpbHMuQnVmMTYoMiooMipCTF9DT0RFUysxKSksemVybyh0aGlzLmR5bl9sdHJlZSksemVybyh0aGlzLmR5bl9kdHJlZSksemVybyh0aGlzLmJsX3RyZWUpLHRoaXMubF9kZXNjPW51bGwsdGhpcy5kX2Rlc2M9bnVsbCx0aGlzLmJsX2Rlc2M9bnVsbCx0aGlzLmJsX2NvdW50PW5ldyB1dGlscy5CdWYxNihNQVhfQklUUysxKSx0aGlzLmhlYXA9bmV3IHV0aWxzLkJ1ZjE2KDIqTF9DT0RFUysxKSx6ZXJvKHRoaXMuaGVhcCksdGhpcy5oZWFwX2xlbj0wLHRoaXMuaGVhcF9tYXg9MCx0aGlzLmRlcHRoPW5ldyB1dGlscy5CdWYxNigyKkxfQ09ERVMrMSksemVybyh0aGlzLmRlcHRoKSx0aGlzLmxfYnVmPTAsdGhpcy5saXRfYnVmc2l6ZT0wLHRoaXMubGFzdF9saXQ9MCx0aGlzLmRfYnVmPTAsdGhpcy5vcHRfbGVuPTAsdGhpcy5zdGF0aWNfbGVuPTAsdGhpcy5tYXRjaGVzPTAsdGhpcy5pbnNlcnQ9MCx0aGlzLmJpX2J1Zj0wLHRoaXMuYmlfdmFsaWQ9MH07cmV0dXJuIHN0cm0uc3RhdGU9cyxzLnN0cm09c3RybSxzLndyYXA9d3JhcCxzLmd6aGVhZD1udWxsLHMud19iaXRzPXdpbmRvd0JpdHMscy53X3NpemU9MTw8cy53X2JpdHMscy53X21hc2s9cy53X3NpemUtMSxzLmhhc2hfYml0cz1tZW1MZXZlbCs3LHMuaGFzaF9zaXplPTE8PHMuaGFzaF9iaXRzLHMuaGFzaF9tYXNrPXMuaGFzaF9zaXplLTEscy5oYXNoX3NoaWZ0PX5+KChzLmhhc2hfYml0cytNSU5fTUFUQ0gtMSkvTUlOX01BVENIKSxzLndpbmRvdz1uZXcgdXRpbHMuQnVmOCgyKnMud19zaXplKSxzLmhlYWQ9bmV3IHV0aWxzLkJ1ZjE2KHMuaGFzaF9zaXplKSxzLnByZXY9bmV3IHV0aWxzLkJ1ZjE2KHMud19zaXplKSxzLmxpdF9idWZzaXplPTE8PG1lbUxldmVsKzYscy5wZW5kaW5nX2J1Zl9zaXplPTQqcy5saXRfYnVmc2l6ZSxzLnBlbmRpbmdfYnVmPW5ldyB1dGlscy5CdWY4KHMucGVuZGluZ19idWZfc2l6ZSkscy5kX2J1Zj0xKnMubGl0X2J1ZnNpemUscy5sX2J1Zj0zKnMubGl0X2J1ZnNpemUscy5sZXZlbD1sZXZlbCxzLnN0cmF0ZWd5PXN0cmF0ZWd5LHMubWV0aG9kPW1ldGhvZCxkZWZsYXRlUmVzZXQoc3RybSl9Y29uZmlndXJhdGlvbl90YWJsZT1bbmV3IENvbmZpZygwLDAsMCwwLGZ1bmN0aW9uKHMsZmx1c2gpe3ZhciBtYXhfYmxvY2tfc2l6ZT02NTUzNTtmb3IobWF4X2Jsb2NrX3NpemU+cy5wZW5kaW5nX2J1Zl9zaXplLTUmJihtYXhfYmxvY2tfc2l6ZT1zLnBlbmRpbmdfYnVmX3NpemUtNSk7Oyl7aWYocy5sb29rYWhlYWQ8PTEpe2lmKGZpbGxfd2luZG93KHMpLDA9PT1zLmxvb2thaGVhZCYmZmx1c2g9PT1aX05PX0ZMVVNIKXJldHVybiBCU19ORUVEX01PUkU7aWYoMD09PXMubG9va2FoZWFkKWJyZWFrfXMuc3Ryc3RhcnQrPXMubG9va2FoZWFkLHMubG9va2FoZWFkPTA7dmFyIG1heF9zdGFydD1zLmJsb2NrX3N0YXJ0K21heF9ibG9ja19zaXplO2lmKCgwPT09cy5zdHJzdGFydHx8cy5zdHJzdGFydD49bWF4X3N0YXJ0KSYmKHMubG9va2FoZWFkPXMuc3Ryc3RhcnQtbWF4X3N0YXJ0LHMuc3Ryc3RhcnQ9bWF4X3N0YXJ0LGZsdXNoX2Jsb2NrX29ubHkocywhMSksMD09PXMuc3RybS5hdmFpbF9vdXQpKXJldHVybiBCU19ORUVEX01PUkU7aWYocy5zdHJzdGFydC1zLmJsb2NrX3N0YXJ0Pj1zLndfc2l6ZS1NSU5fTE9PS0FIRUFEJiYoZmx1c2hfYmxvY2tfb25seShzLCExKSwwPT09cy5zdHJtLmF2YWlsX291dCkpcmV0dXJuIEJTX05FRURfTU9SRX1yZXR1cm4gcy5pbnNlcnQ9MCxmbHVzaD09PVpfRklOSVNIPyhmbHVzaF9ibG9ja19vbmx5KHMsITApLDA9PT1zLnN0cm0uYXZhaWxfb3V0P0JTX0ZJTklTSF9TVEFSVEVEOkJTX0ZJTklTSF9ET05FKToocy5zdHJzdGFydD5zLmJsb2NrX3N0YXJ0JiYoZmx1c2hfYmxvY2tfb25seShzLCExKSxzLnN0cm0uYXZhaWxfb3V0KSxCU19ORUVEX01PUkUpfSksbmV3IENvbmZpZyg0LDQsOCw0LGRlZmxhdGVfZmFzdCksbmV3IENvbmZpZyg0LDUsMTYsOCxkZWZsYXRlX2Zhc3QpLG5ldyBDb25maWcoNCw2LDMyLDMyLGRlZmxhdGVfZmFzdCksbmV3IENvbmZpZyg0LDQsMTYsMTYsZGVmbGF0ZV9zbG93KSxuZXcgQ29uZmlnKDgsMTYsMzIsMzIsZGVmbGF0ZV9zbG93KSxuZXcgQ29uZmlnKDgsMTYsMTI4LDEyOCxkZWZsYXRlX3Nsb3cpLG5ldyBDb25maWcoOCwzMiwxMjgsMjU2LGRlZmxhdGVfc2xvdyksbmV3IENvbmZpZygzMiwxMjgsMjU4LDEwMjQsZGVmbGF0ZV9zbG93KSxuZXcgQ29uZmlnKDMyLDI1OCwyNTgsNDA5NixkZWZsYXRlX3Nsb3cpXSxleHBvcnRzLmRlZmxhdGVJbml0PWZ1bmN0aW9uKHN0cm0sbGV2ZWwpe3JldHVybiBkZWZsYXRlSW5pdDIoc3RybSxsZXZlbCxaX0RFRkxBVEVELE1BWF9XQklUUyxERUZfTUVNX0xFVkVMLFpfREVGQVVMVF9TVFJBVEVHWSl9LGV4cG9ydHMuZGVmbGF0ZUluaXQyPWRlZmxhdGVJbml0MixleHBvcnRzLmRlZmxhdGVSZXNldD1kZWZsYXRlUmVzZXQsZXhwb3J0cy5kZWZsYXRlUmVzZXRLZWVwPWRlZmxhdGVSZXNldEtlZXAsZXhwb3J0cy5kZWZsYXRlU2V0SGVhZGVyPWZ1bmN0aW9uKHN0cm0saGVhZCl7cmV0dXJuIHN0cm0mJnN0cm0uc3RhdGU/MiE9PXN0cm0uc3RhdGUud3JhcD9aX1NUUkVBTV9FUlJPUjooc3RybS5zdGF0ZS5nemhlYWQ9aGVhZCxaX09LKTpaX1NUUkVBTV9FUlJPUn0sZXhwb3J0cy5kZWZsYXRlPWZ1bmN0aW9uKHN0cm0sZmx1c2gpe3ZhciBvbGRfZmx1c2gscyxiZWcsdmFsO2lmKCFzdHJtfHwhc3RybS5zdGF0ZXx8Zmx1c2g+Wl9CTE9DS3x8Zmx1c2g8MClyZXR1cm4gc3RybT9lcnIoc3RybSxaX1NUUkVBTV9FUlJPUik6Wl9TVFJFQU1fRVJST1I7aWYocz1zdHJtLnN0YXRlLCFzdHJtLm91dHB1dHx8IXN0cm0uaW5wdXQmJjAhPT1zdHJtLmF2YWlsX2lufHxzLnN0YXR1cz09PUZJTklTSF9TVEFURSYmZmx1c2ghPT1aX0ZJTklTSClyZXR1cm4gZXJyKHN0cm0sMD09PXN0cm0uYXZhaWxfb3V0P1pfQlVGX0VSUk9SOlpfU1RSRUFNX0VSUk9SKTtpZihzLnN0cm09c3RybSxvbGRfZmx1c2g9cy5sYXN0X2ZsdXNoLHMubGFzdF9mbHVzaD1mbHVzaCxzLnN0YXR1cz09PUlOSVRfU1RBVEUpaWYoMj09PXMud3JhcClzdHJtLmFkbGVyPTAscHV0X2J5dGUocywzMSkscHV0X2J5dGUocywxMzkpLHB1dF9ieXRlKHMsOCkscy5nemhlYWQ/KHB1dF9ieXRlKHMsKHMuZ3poZWFkLnRleHQ/MTowKSsocy5nemhlYWQuaGNyYz8yOjApKyhzLmd6aGVhZC5leHRyYT80OjApKyhzLmd6aGVhZC5uYW1lPzg6MCkrKHMuZ3poZWFkLmNvbW1lbnQ/MTY6MCkpLHB1dF9ieXRlKHMsMjU1JnMuZ3poZWFkLnRpbWUpLHB1dF9ieXRlKHMscy5nemhlYWQudGltZT4+OCYyNTUpLHB1dF9ieXRlKHMscy5nemhlYWQudGltZT4+MTYmMjU1KSxwdXRfYnl0ZShzLHMuZ3poZWFkLnRpbWU+PjI0JjI1NSkscHV0X2J5dGUocyw5PT09cy5sZXZlbD8yOnMuc3RyYXRlZ3k+PVpfSFVGRk1BTl9PTkxZfHxzLmxldmVsPDI/NDowKSxwdXRfYnl0ZShzLDI1NSZzLmd6aGVhZC5vcykscy5nemhlYWQuZXh0cmEmJnMuZ3poZWFkLmV4dHJhLmxlbmd0aCYmKHB1dF9ieXRlKHMsMjU1JnMuZ3poZWFkLmV4dHJhLmxlbmd0aCkscHV0X2J5dGUocyxzLmd6aGVhZC5leHRyYS5sZW5ndGg+PjgmMjU1KSkscy5nemhlYWQuaGNyYyYmKHN0cm0uYWRsZXI9Y3JjMzIoc3RybS5hZGxlcixzLnBlbmRpbmdfYnVmLHMucGVuZGluZywwKSkscy5nemluZGV4PTAscy5zdGF0dXM9RVhUUkFfU1RBVEUpOihwdXRfYnl0ZShzLDApLHB1dF9ieXRlKHMsMCkscHV0X2J5dGUocywwKSxwdXRfYnl0ZShzLDApLHB1dF9ieXRlKHMsMCkscHV0X2J5dGUocyw5PT09cy5sZXZlbD8yOnMuc3RyYXRlZ3k+PVpfSFVGRk1BTl9PTkxZfHxzLmxldmVsPDI/NDowKSxwdXRfYnl0ZShzLE9TX0NPREUpLHMuc3RhdHVzPUJVU1lfU1RBVEUpO2Vsc2V7dmFyIGhlYWRlcj1aX0RFRkxBVEVEKyhzLndfYml0cy04PDw0KTw8ODtoZWFkZXJ8PShzLnN0cmF0ZWd5Pj1aX0hVRkZNQU5fT05MWXx8cy5sZXZlbDwyPzA6cy5sZXZlbDw2PzE6Nj09PXMubGV2ZWw/MjozKTw8NiwwIT09cy5zdHJzdGFydCYmKGhlYWRlcnw9UFJFU0VUX0RJQ1QpLGhlYWRlcis9MzEtaGVhZGVyJTMxLHMuc3RhdHVzPUJVU1lfU1RBVEUscHV0U2hvcnRNU0IocyxoZWFkZXIpLDAhPT1zLnN0cnN0YXJ0JiYocHV0U2hvcnRNU0IocyxzdHJtLmFkbGVyPj4+MTYpLHB1dFNob3J0TVNCKHMsNjU1MzUmc3RybS5hZGxlcikpLHN0cm0uYWRsZXI9MX1pZihzLnN0YXR1cz09PUVYVFJBX1NUQVRFKWlmKHMuZ3poZWFkLmV4dHJhKXtmb3IoYmVnPXMucGVuZGluZztzLmd6aW5kZXg8KDY1NTM1JnMuZ3poZWFkLmV4dHJhLmxlbmd0aCkmJihzLnBlbmRpbmchPT1zLnBlbmRpbmdfYnVmX3NpemV8fChzLmd6aGVhZC5oY3JjJiZzLnBlbmRpbmc+YmVnJiYoc3RybS5hZGxlcj1jcmMzMihzdHJtLmFkbGVyLHMucGVuZGluZ19idWYscy5wZW5kaW5nLWJlZyxiZWcpKSxmbHVzaF9wZW5kaW5nKHN0cm0pLGJlZz1zLnBlbmRpbmcscy5wZW5kaW5nIT09cy5wZW5kaW5nX2J1Zl9zaXplKSk7KXB1dF9ieXRlKHMsMjU1JnMuZ3poZWFkLmV4dHJhW3MuZ3ppbmRleF0pLHMuZ3ppbmRleCsrO3MuZ3poZWFkLmhjcmMmJnMucGVuZGluZz5iZWcmJihzdHJtLmFkbGVyPWNyYzMyKHN0cm0uYWRsZXIscy5wZW5kaW5nX2J1ZixzLnBlbmRpbmctYmVnLGJlZykpLHMuZ3ppbmRleD09PXMuZ3poZWFkLmV4dHJhLmxlbmd0aCYmKHMuZ3ppbmRleD0wLHMuc3RhdHVzPU5BTUVfU1RBVEUpfWVsc2Ugcy5zdGF0dXM9TkFNRV9TVEFURTtpZihzLnN0YXR1cz09PU5BTUVfU1RBVEUpaWYocy5nemhlYWQubmFtZSl7YmVnPXMucGVuZGluZztkb3tpZihzLnBlbmRpbmc9PT1zLnBlbmRpbmdfYnVmX3NpemUmJihzLmd6aGVhZC5oY3JjJiZzLnBlbmRpbmc+YmVnJiYoc3RybS5hZGxlcj1jcmMzMihzdHJtLmFkbGVyLHMucGVuZGluZ19idWYscy5wZW5kaW5nLWJlZyxiZWcpKSxmbHVzaF9wZW5kaW5nKHN0cm0pLGJlZz1zLnBlbmRpbmcscy5wZW5kaW5nPT09cy5wZW5kaW5nX2J1Zl9zaXplKSl7dmFsPTE7YnJlYWt9dmFsPXMuZ3ppbmRleDxzLmd6aGVhZC5uYW1lLmxlbmd0aD8yNTUmcy5nemhlYWQubmFtZS5jaGFyQ29kZUF0KHMuZ3ppbmRleCsrKTowLHB1dF9ieXRlKHMsdmFsKX13aGlsZSgwIT09dmFsKTtzLmd6aGVhZC5oY3JjJiZzLnBlbmRpbmc+YmVnJiYoc3RybS5hZGxlcj1jcmMzMihzdHJtLmFkbGVyLHMucGVuZGluZ19idWYscy5wZW5kaW5nLWJlZyxiZWcpKSwwPT09dmFsJiYocy5nemluZGV4PTAscy5zdGF0dXM9Q09NTUVOVF9TVEFURSl9ZWxzZSBzLnN0YXR1cz1DT01NRU5UX1NUQVRFO2lmKHMuc3RhdHVzPT09Q09NTUVOVF9TVEFURSlpZihzLmd6aGVhZC5jb21tZW50KXtiZWc9cy5wZW5kaW5nO2Rve2lmKHMucGVuZGluZz09PXMucGVuZGluZ19idWZfc2l6ZSYmKHMuZ3poZWFkLmhjcmMmJnMucGVuZGluZz5iZWcmJihzdHJtLmFkbGVyPWNyYzMyKHN0cm0uYWRsZXIscy5wZW5kaW5nX2J1ZixzLnBlbmRpbmctYmVnLGJlZykpLGZsdXNoX3BlbmRpbmcoc3RybSksYmVnPXMucGVuZGluZyxzLnBlbmRpbmc9PT1zLnBlbmRpbmdfYnVmX3NpemUpKXt2YWw9MTticmVha312YWw9cy5nemluZGV4PHMuZ3poZWFkLmNvbW1lbnQubGVuZ3RoPzI1NSZzLmd6aGVhZC5jb21tZW50LmNoYXJDb2RlQXQocy5nemluZGV4KyspOjAscHV0X2J5dGUocyx2YWwpfXdoaWxlKDAhPT12YWwpO3MuZ3poZWFkLmhjcmMmJnMucGVuZGluZz5iZWcmJihzdHJtLmFkbGVyPWNyYzMyKHN0cm0uYWRsZXIscy5wZW5kaW5nX2J1ZixzLnBlbmRpbmctYmVnLGJlZykpLDA9PT12YWwmJihzLnN0YXR1cz1IQ1JDX1NUQVRFKX1lbHNlIHMuc3RhdHVzPUhDUkNfU1RBVEU7aWYocy5zdGF0dXM9PT1IQ1JDX1NUQVRFJiYocy5nemhlYWQuaGNyYz8ocy5wZW5kaW5nKzI+cy5wZW5kaW5nX2J1Zl9zaXplJiZmbHVzaF9wZW5kaW5nKHN0cm0pLHMucGVuZGluZysyPD1zLnBlbmRpbmdfYnVmX3NpemUmJihwdXRfYnl0ZShzLDI1NSZzdHJtLmFkbGVyKSxwdXRfYnl0ZShzLHN0cm0uYWRsZXI+PjgmMjU1KSxzdHJtLmFkbGVyPTAscy5zdGF0dXM9QlVTWV9TVEFURSkpOnMuc3RhdHVzPUJVU1lfU1RBVEUpLDAhPT1zLnBlbmRpbmcpe2lmKGZsdXNoX3BlbmRpbmcoc3RybSksMD09PXN0cm0uYXZhaWxfb3V0KXJldHVybiBzLmxhc3RfZmx1c2g9LTEsWl9PS31lbHNlIGlmKDA9PT1zdHJtLmF2YWlsX2luJiZyYW5rKGZsdXNoKTw9cmFuayhvbGRfZmx1c2gpJiZmbHVzaCE9PVpfRklOSVNIKXJldHVybiBlcnIoc3RybSxaX0JVRl9FUlJPUik7aWYocy5zdGF0dXM9PT1GSU5JU0hfU1RBVEUmJjAhPT1zdHJtLmF2YWlsX2luKXJldHVybiBlcnIoc3RybSxaX0JVRl9FUlJPUik7aWYoMCE9PXN0cm0uYXZhaWxfaW58fDAhPT1zLmxvb2thaGVhZHx8Zmx1c2ghPT1aX05PX0ZMVVNIJiZzLnN0YXR1cyE9PUZJTklTSF9TVEFURSl7dmFyIGJzdGF0ZT1zLnN0cmF0ZWd5PT09Wl9IVUZGTUFOX09OTFk/ZnVuY3Rpb24ocyxmbHVzaCl7Zm9yKHZhciBiZmx1c2g7Oyl7aWYoMD09PXMubG9va2FoZWFkJiYoZmlsbF93aW5kb3cocyksMD09PXMubG9va2FoZWFkKSl7aWYoZmx1c2g9PT1aX05PX0ZMVVNIKXJldHVybiBCU19ORUVEX01PUkU7YnJlYWt9aWYocy5tYXRjaF9sZW5ndGg9MCxiZmx1c2g9dHJlZXMuX3RyX3RhbGx5KHMsMCxzLndpbmRvd1tzLnN0cnN0YXJ0XSkscy5sb29rYWhlYWQtLSxzLnN0cnN0YXJ0KyssYmZsdXNoJiYoZmx1c2hfYmxvY2tfb25seShzLCExKSwwPT09cy5zdHJtLmF2YWlsX291dCkpcmV0dXJuIEJTX05FRURfTU9SRX1yZXR1cm4gcy5pbnNlcnQ9MCxmbHVzaD09PVpfRklOSVNIPyhmbHVzaF9ibG9ja19vbmx5KHMsITApLDA9PT1zLnN0cm0uYXZhaWxfb3V0P0JTX0ZJTklTSF9TVEFSVEVEOkJTX0ZJTklTSF9ET05FKTpzLmxhc3RfbGl0JiYoZmx1c2hfYmxvY2tfb25seShzLCExKSwwPT09cy5zdHJtLmF2YWlsX291dCk/QlNfTkVFRF9NT1JFOkJTX0JMT0NLX0RPTkV9KHMsZmx1c2gpOnMuc3RyYXRlZ3k9PT1aX1JMRT9mdW5jdGlvbihzLGZsdXNoKXtmb3IodmFyIGJmbHVzaCxwcmV2LHNjYW4sc3RyZW5kLF93aW49cy53aW5kb3c7Oyl7aWYocy5sb29rYWhlYWQ8PU1BWF9NQVRDSCl7aWYoZmlsbF93aW5kb3cocykscy5sb29rYWhlYWQ8PU1BWF9NQVRDSCYmZmx1c2g9PT1aX05PX0ZMVVNIKXJldHVybiBCU19ORUVEX01PUkU7aWYoMD09PXMubG9va2FoZWFkKWJyZWFrfWlmKHMubWF0Y2hfbGVuZ3RoPTAscy5sb29rYWhlYWQ+PU1JTl9NQVRDSCYmcy5zdHJzdGFydD4wJiYocHJldj1fd2luW3NjYW49cy5zdHJzdGFydC0xXSk9PT1fd2luWysrc2Nhbl0mJnByZXY9PT1fd2luWysrc2Nhbl0mJnByZXY9PT1fd2luWysrc2Nhbl0pe3N0cmVuZD1zLnN0cnN0YXJ0K01BWF9NQVRDSDtkb3t9d2hpbGUocHJldj09PV93aW5bKytzY2FuXSYmcHJldj09PV93aW5bKytzY2FuXSYmcHJldj09PV93aW5bKytzY2FuXSYmcHJldj09PV93aW5bKytzY2FuXSYmcHJldj09PV93aW5bKytzY2FuXSYmcHJldj09PV93aW5bKytzY2FuXSYmcHJldj09PV93aW5bKytzY2FuXSYmcHJldj09PV93aW5bKytzY2FuXSYmc2NhbjxzdHJlbmQpO3MubWF0Y2hfbGVuZ3RoPU1BWF9NQVRDSC0oc3RyZW5kLXNjYW4pLHMubWF0Y2hfbGVuZ3RoPnMubG9va2FoZWFkJiYocy5tYXRjaF9sZW5ndGg9cy5sb29rYWhlYWQpfWlmKHMubWF0Y2hfbGVuZ3RoPj1NSU5fTUFUQ0g/KGJmbHVzaD10cmVlcy5fdHJfdGFsbHkocywxLHMubWF0Y2hfbGVuZ3RoLU1JTl9NQVRDSCkscy5sb29rYWhlYWQtPXMubWF0Y2hfbGVuZ3RoLHMuc3Ryc3RhcnQrPXMubWF0Y2hfbGVuZ3RoLHMubWF0Y2hfbGVuZ3RoPTApOihiZmx1c2g9dHJlZXMuX3RyX3RhbGx5KHMsMCxzLndpbmRvd1tzLnN0cnN0YXJ0XSkscy5sb29rYWhlYWQtLSxzLnN0cnN0YXJ0KyspLGJmbHVzaCYmKGZsdXNoX2Jsb2NrX29ubHkocywhMSksMD09PXMuc3RybS5hdmFpbF9vdXQpKXJldHVybiBCU19ORUVEX01PUkV9cmV0dXJuIHMuaW5zZXJ0PTAsZmx1c2g9PT1aX0ZJTklTSD8oZmx1c2hfYmxvY2tfb25seShzLCEwKSwwPT09cy5zdHJtLmF2YWlsX291dD9CU19GSU5JU0hfU1RBUlRFRDpCU19GSU5JU0hfRE9ORSk6cy5sYXN0X2xpdCYmKGZsdXNoX2Jsb2NrX29ubHkocywhMSksMD09PXMuc3RybS5hdmFpbF9vdXQpP0JTX05FRURfTU9SRTpCU19CTE9DS19ET05FfShzLGZsdXNoKTpjb25maWd1cmF0aW9uX3RhYmxlW3MubGV2ZWxdLmZ1bmMocyxmbHVzaCk7aWYoYnN0YXRlIT09QlNfRklOSVNIX1NUQVJURUQmJmJzdGF0ZSE9PUJTX0ZJTklTSF9ET05FfHwocy5zdGF0dXM9RklOSVNIX1NUQVRFKSxic3RhdGU9PT1CU19ORUVEX01PUkV8fGJzdGF0ZT09PUJTX0ZJTklTSF9TVEFSVEVEKXJldHVybiAwPT09c3RybS5hdmFpbF9vdXQmJihzLmxhc3RfZmx1c2g9LTEpLFpfT0s7aWYoYnN0YXRlPT09QlNfQkxPQ0tfRE9ORSYmKGZsdXNoPT09Wl9QQVJUSUFMX0ZMVVNIP3RyZWVzLl90cl9hbGlnbihzKTpmbHVzaCE9PVpfQkxPQ0smJih0cmVlcy5fdHJfc3RvcmVkX2Jsb2NrKHMsMCwwLCExKSxmbHVzaD09PVpfRlVMTF9GTFVTSCYmKHplcm8ocy5oZWFkKSwwPT09cy5sb29rYWhlYWQmJihzLnN0cnN0YXJ0PTAscy5ibG9ja19zdGFydD0wLHMuaW5zZXJ0PTApKSksZmx1c2hfcGVuZGluZyhzdHJtKSwwPT09c3RybS5hdmFpbF9vdXQpKXJldHVybiBzLmxhc3RfZmx1c2g9LTEsWl9PS31yZXR1cm4gZmx1c2ghPT1aX0ZJTklTSD9aX09LOnMud3JhcDw9MD9aX1NUUkVBTV9FTkQ6KDI9PT1zLndyYXA/KHB1dF9ieXRlKHMsMjU1JnN0cm0uYWRsZXIpLHB1dF9ieXRlKHMsc3RybS5hZGxlcj4+OCYyNTUpLHB1dF9ieXRlKHMsc3RybS5hZGxlcj4+MTYmMjU1KSxwdXRfYnl0ZShzLHN0cm0uYWRsZXI+PjI0JjI1NSkscHV0X2J5dGUocywyNTUmc3RybS50b3RhbF9pbikscHV0X2J5dGUocyxzdHJtLnRvdGFsX2luPj44JjI1NSkscHV0X2J5dGUocyxzdHJtLnRvdGFsX2luPj4xNiYyNTUpLHB1dF9ieXRlKHMsc3RybS50b3RhbF9pbj4+MjQmMjU1KSk6KHB1dFNob3J0TVNCKHMsc3RybS5hZGxlcj4+PjE2KSxwdXRTaG9ydE1TQihzLDY1NTM1JnN0cm0uYWRsZXIpKSxmbHVzaF9wZW5kaW5nKHN0cm0pLHMud3JhcD4wJiYocy53cmFwPS1zLndyYXApLDAhPT1zLnBlbmRpbmc/Wl9PSzpaX1NUUkVBTV9FTkQpfSxleHBvcnRzLmRlZmxhdGVFbmQ9ZnVuY3Rpb24oc3RybSl7dmFyIHN0YXR1cztyZXR1cm4gc3RybSYmc3RybS5zdGF0ZT8oc3RhdHVzPXN0cm0uc3RhdGUuc3RhdHVzKSE9PUlOSVRfU1RBVEUmJnN0YXR1cyE9PUVYVFJBX1NUQVRFJiZzdGF0dXMhPT1OQU1FX1NUQVRFJiZzdGF0dXMhPT1DT01NRU5UX1NUQVRFJiZzdGF0dXMhPT1IQ1JDX1NUQVRFJiZzdGF0dXMhPT1CVVNZX1NUQVRFJiZzdGF0dXMhPT1GSU5JU0hfU1RBVEU/ZXJyKHN0cm0sWl9TVFJFQU1fRVJST1IpOihzdHJtLnN0YXRlPW51bGwsc3RhdHVzPT09QlVTWV9TVEFURT9lcnIoc3RybSxaX0RBVEFfRVJST1IpOlpfT0spOlpfU1RSRUFNX0VSUk9SfSxleHBvcnRzLmRlZmxhdGVTZXREaWN0aW9uYXJ5PWZ1bmN0aW9uKHN0cm0sZGljdGlvbmFyeSl7dmFyIHMsc3RyLG4sd3JhcCxhdmFpbCxuZXh0LGlucHV0LHRtcERpY3QsZGljdExlbmd0aD1kaWN0aW9uYXJ5Lmxlbmd0aDtpZighc3RybXx8IXN0cm0uc3RhdGUpcmV0dXJuIFpfU1RSRUFNX0VSUk9SO2lmKDI9PT0od3JhcD0ocz1zdHJtLnN0YXRlKS53cmFwKXx8MT09PXdyYXAmJnMuc3RhdHVzIT09SU5JVF9TVEFURXx8cy5sb29rYWhlYWQpcmV0dXJuIFpfU1RSRUFNX0VSUk9SO2ZvcigxPT09d3JhcCYmKHN0cm0uYWRsZXI9YWRsZXIzMihzdHJtLmFkbGVyLGRpY3Rpb25hcnksZGljdExlbmd0aCwwKSkscy53cmFwPTAsZGljdExlbmd0aD49cy53X3NpemUmJigwPT09d3JhcCYmKHplcm8ocy5oZWFkKSxzLnN0cnN0YXJ0PTAscy5ibG9ja19zdGFydD0wLHMuaW5zZXJ0PTApLHRtcERpY3Q9bmV3IHV0aWxzLkJ1Zjgocy53X3NpemUpLHV0aWxzLmFycmF5U2V0KHRtcERpY3QsZGljdGlvbmFyeSxkaWN0TGVuZ3RoLXMud19zaXplLHMud19zaXplLDApLGRpY3Rpb25hcnk9dG1wRGljdCxkaWN0TGVuZ3RoPXMud19zaXplKSxhdmFpbD1zdHJtLmF2YWlsX2luLG5leHQ9c3RybS5uZXh0X2luLGlucHV0PXN0cm0uaW5wdXQsc3RybS5hdmFpbF9pbj1kaWN0TGVuZ3RoLHN0cm0ubmV4dF9pbj0wLHN0cm0uaW5wdXQ9ZGljdGlvbmFyeSxmaWxsX3dpbmRvdyhzKTtzLmxvb2thaGVhZD49TUlOX01BVENIOyl7c3RyPXMuc3Ryc3RhcnQsbj1zLmxvb2thaGVhZC0oTUlOX01BVENILTEpO2Rve3MuaW5zX2g9KHMuaW5zX2g8PHMuaGFzaF9zaGlmdF5zLndpbmRvd1tzdHIrTUlOX01BVENILTFdKSZzLmhhc2hfbWFzayxzLnByZXZbc3RyJnMud19tYXNrXT1zLmhlYWRbcy5pbnNfaF0scy5oZWFkW3MuaW5zX2hdPXN0cixzdHIrK313aGlsZSgtLW4pO3Muc3Ryc3RhcnQ9c3RyLHMubG9va2FoZWFkPU1JTl9NQVRDSC0xLGZpbGxfd2luZG93KHMpfXJldHVybiBzLnN0cnN0YXJ0Kz1zLmxvb2thaGVhZCxzLmJsb2NrX3N0YXJ0PXMuc3Ryc3RhcnQscy5pbnNlcnQ9cy5sb29rYWhlYWQscy5sb29rYWhlYWQ9MCxzLm1hdGNoX2xlbmd0aD1zLnByZXZfbGVuZ3RoPU1JTl9NQVRDSC0xLHMubWF0Y2hfYXZhaWxhYmxlPTAsc3RybS5uZXh0X2luPW5leHQsc3RybS5pbnB1dD1pbnB1dCxzdHJtLmF2YWlsX2luPWF2YWlsLHMud3JhcD13cmFwLFpfT0t9LGV4cG9ydHMuZGVmbGF0ZUluZm89XCJwYWtvIGRlZmxhdGUgKGZyb20gTm9kZWNhIHByb2plY3QpXCJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciB1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDgpLFpfRklYRUQ9NCxaX0JJTkFSWT0wLFpfVEVYVD0xLFpfVU5LTk9XTj0yO2Z1bmN0aW9uIHplcm8oYnVmKXtmb3IodmFyIGxlbj1idWYubGVuZ3RoOy0tbGVuPj0wOylidWZbbGVuXT0wfXZhciBTVE9SRURfQkxPQ0s9MCxTVEFUSUNfVFJFRVM9MSxEWU5fVFJFRVM9MixMRU5HVEhfQ09ERVM9MjksTElURVJBTFM9MjU2LExfQ09ERVM9TElURVJBTFMrMStMRU5HVEhfQ09ERVMsRF9DT0RFUz0zMCxCTF9DT0RFUz0xOSxIRUFQX1NJWkU9MipMX0NPREVTKzEsTUFYX0JJVFM9MTUsQnVmX3NpemU9MTYsTUFYX0JMX0JJVFM9NyxFTkRfQkxPQ0s9MjU2LFJFUF8zXzY9MTYsUkVQWl8zXzEwPTE3LFJFUFpfMTFfMTM4PTE4LGV4dHJhX2xiaXRzPVswLDAsMCwwLDAsMCwwLDAsMSwxLDEsMSwyLDIsMiwyLDMsMywzLDMsNCw0LDQsNCw1LDUsNSw1LDBdLGV4dHJhX2RiaXRzPVswLDAsMCwwLDEsMSwyLDIsMywzLDQsNCw1LDUsNiw2LDcsNyw4LDgsOSw5LDEwLDEwLDExLDExLDEyLDEyLDEzLDEzXSxleHRyYV9ibGJpdHM9WzAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMiwzLDddLGJsX29yZGVyPVsxNiwxNywxOCwwLDgsNyw5LDYsMTAsNSwxMSw0LDEyLDMsMTMsMiwxNCwxLDE1XSxzdGF0aWNfbHRyZWU9bmV3IEFycmF5KDIqKExfQ09ERVMrMikpO3plcm8oc3RhdGljX2x0cmVlKTt2YXIgc3RhdGljX2R0cmVlPW5ldyBBcnJheSgyKkRfQ09ERVMpO3plcm8oc3RhdGljX2R0cmVlKTt2YXIgX2Rpc3RfY29kZT1uZXcgQXJyYXkoNTEyKTt6ZXJvKF9kaXN0X2NvZGUpO3ZhciBfbGVuZ3RoX2NvZGU9bmV3IEFycmF5KDI1Nik7emVybyhfbGVuZ3RoX2NvZGUpO3ZhciBiYXNlX2xlbmd0aD1uZXcgQXJyYXkoTEVOR1RIX0NPREVTKTt6ZXJvKGJhc2VfbGVuZ3RoKTt2YXIgc3RhdGljX2xfZGVzYyxzdGF0aWNfZF9kZXNjLHN0YXRpY19ibF9kZXNjLGJhc2VfZGlzdD1uZXcgQXJyYXkoRF9DT0RFUyk7ZnVuY3Rpb24gU3RhdGljVHJlZURlc2Moc3RhdGljX3RyZWUsZXh0cmFfYml0cyxleHRyYV9iYXNlLGVsZW1zLG1heF9sZW5ndGgpe3RoaXMuc3RhdGljX3RyZWU9c3RhdGljX3RyZWUsdGhpcy5leHRyYV9iaXRzPWV4dHJhX2JpdHMsdGhpcy5leHRyYV9iYXNlPWV4dHJhX2Jhc2UsdGhpcy5lbGVtcz1lbGVtcyx0aGlzLm1heF9sZW5ndGg9bWF4X2xlbmd0aCx0aGlzLmhhc19zdHJlZT1zdGF0aWNfdHJlZSYmc3RhdGljX3RyZWUubGVuZ3RofWZ1bmN0aW9uIFRyZWVEZXNjKGR5bl90cmVlLHN0YXRfZGVzYyl7dGhpcy5keW5fdHJlZT1keW5fdHJlZSx0aGlzLm1heF9jb2RlPTAsdGhpcy5zdGF0X2Rlc2M9c3RhdF9kZXNjfWZ1bmN0aW9uIGRfY29kZShkaXN0KXtyZXR1cm4gZGlzdDwyNTY/X2Rpc3RfY29kZVtkaXN0XTpfZGlzdF9jb2RlWzI1NisoZGlzdD4+PjcpXX1mdW5jdGlvbiBwdXRfc2hvcnQocyx3KXtzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXT0yNTUmdyxzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXT13Pj4+OCYyNTV9ZnVuY3Rpb24gc2VuZF9iaXRzKHMsdmFsdWUsbGVuZ3RoKXtzLmJpX3ZhbGlkPkJ1Zl9zaXplLWxlbmd0aD8ocy5iaV9idWZ8PXZhbHVlPDxzLmJpX3ZhbGlkJjY1NTM1LHB1dF9zaG9ydChzLHMuYmlfYnVmKSxzLmJpX2J1Zj12YWx1ZT4+QnVmX3NpemUtcy5iaV92YWxpZCxzLmJpX3ZhbGlkKz1sZW5ndGgtQnVmX3NpemUpOihzLmJpX2J1Znw9dmFsdWU8PHMuYmlfdmFsaWQmNjU1MzUscy5iaV92YWxpZCs9bGVuZ3RoKX1mdW5jdGlvbiBzZW5kX2NvZGUocyxjLHRyZWUpe3NlbmRfYml0cyhzLHRyZWVbMipjXSx0cmVlWzIqYysxXSl9ZnVuY3Rpb24gYmlfcmV2ZXJzZShjb2RlLGxlbil7dmFyIHJlcz0wO2Rve3Jlc3w9MSZjb2RlLGNvZGU+Pj49MSxyZXM8PD0xfXdoaWxlKC0tbGVuPjApO3JldHVybiByZXM+Pj4xfWZ1bmN0aW9uIGdlbl9jb2Rlcyh0cmVlLG1heF9jb2RlLGJsX2NvdW50KXt2YXIgYml0cyxuLG5leHRfY29kZT1uZXcgQXJyYXkoTUFYX0JJVFMrMSksY29kZT0wO2ZvcihiaXRzPTE7Yml0czw9TUFYX0JJVFM7Yml0cysrKW5leHRfY29kZVtiaXRzXT1jb2RlPWNvZGUrYmxfY291bnRbYml0cy0xXTw8MTtmb3Iobj0wO248PW1heF9jb2RlO24rKyl7dmFyIGxlbj10cmVlWzIqbisxXTswIT09bGVuJiYodHJlZVsyKm5dPWJpX3JldmVyc2UobmV4dF9jb2RlW2xlbl0rKyxsZW4pKX19ZnVuY3Rpb24gaW5pdF9ibG9jayhzKXt2YXIgbjtmb3Iobj0wO248TF9DT0RFUztuKyspcy5keW5fbHRyZWVbMipuXT0wO2ZvcihuPTA7bjxEX0NPREVTO24rKylzLmR5bl9kdHJlZVsyKm5dPTA7Zm9yKG49MDtuPEJMX0NPREVTO24rKylzLmJsX3RyZWVbMipuXT0wO3MuZHluX2x0cmVlWzIqRU5EX0JMT0NLXT0xLHMub3B0X2xlbj1zLnN0YXRpY19sZW49MCxzLmxhc3RfbGl0PXMubWF0Y2hlcz0wfWZ1bmN0aW9uIGJpX3dpbmR1cChzKXtzLmJpX3ZhbGlkPjg/cHV0X3Nob3J0KHMscy5iaV9idWYpOnMuYmlfdmFsaWQ+MCYmKHMucGVuZGluZ19idWZbcy5wZW5kaW5nKytdPXMuYmlfYnVmKSxzLmJpX2J1Zj0wLHMuYmlfdmFsaWQ9MH1mdW5jdGlvbiBzbWFsbGVyKHRyZWUsbixtLGRlcHRoKXt2YXIgX24yPTIqbixfbTI9MiptO3JldHVybiB0cmVlW19uMl08dHJlZVtfbTJdfHx0cmVlW19uMl09PT10cmVlW19tMl0mJmRlcHRoW25dPD1kZXB0aFttXX1mdW5jdGlvbiBwcWRvd25oZWFwKHMsdHJlZSxrKXtmb3IodmFyIHY9cy5oZWFwW2tdLGo9azw8MTtqPD1zLmhlYXBfbGVuJiYoajxzLmhlYXBfbGVuJiZzbWFsbGVyKHRyZWUscy5oZWFwW2orMV0scy5oZWFwW2pdLHMuZGVwdGgpJiZqKyssIXNtYWxsZXIodHJlZSx2LHMuaGVhcFtqXSxzLmRlcHRoKSk7KXMuaGVhcFtrXT1zLmhlYXBbal0saz1qLGo8PD0xO3MuaGVhcFtrXT12fWZ1bmN0aW9uIGNvbXByZXNzX2Jsb2NrKHMsbHRyZWUsZHRyZWUpe3ZhciBkaXN0LGxjLGNvZGUsZXh0cmEsbHg9MDtpZigwIT09cy5sYXN0X2xpdClkb3tkaXN0PXMucGVuZGluZ19idWZbcy5kX2J1ZisyKmx4XTw8OHxzLnBlbmRpbmdfYnVmW3MuZF9idWYrMipseCsxXSxsYz1zLnBlbmRpbmdfYnVmW3MubF9idWYrbHhdLGx4KyssMD09PWRpc3Q/c2VuZF9jb2RlKHMsbGMsbHRyZWUpOihzZW5kX2NvZGUocywoY29kZT1fbGVuZ3RoX2NvZGVbbGNdKStMSVRFUkFMUysxLGx0cmVlKSwwIT09KGV4dHJhPWV4dHJhX2xiaXRzW2NvZGVdKSYmc2VuZF9iaXRzKHMsbGMtPWJhc2VfbGVuZ3RoW2NvZGVdLGV4dHJhKSxzZW5kX2NvZGUocyxjb2RlPWRfY29kZSgtLWRpc3QpLGR0cmVlKSwwIT09KGV4dHJhPWV4dHJhX2RiaXRzW2NvZGVdKSYmc2VuZF9iaXRzKHMsZGlzdC09YmFzZV9kaXN0W2NvZGVdLGV4dHJhKSl9d2hpbGUobHg8cy5sYXN0X2xpdCk7c2VuZF9jb2RlKHMsRU5EX0JMT0NLLGx0cmVlKX1mdW5jdGlvbiBidWlsZF90cmVlKHMsZGVzYyl7dmFyIG4sbSxub2RlLHRyZWU9ZGVzYy5keW5fdHJlZSxzdHJlZT1kZXNjLnN0YXRfZGVzYy5zdGF0aWNfdHJlZSxoYXNfc3RyZWU9ZGVzYy5zdGF0X2Rlc2MuaGFzX3N0cmVlLGVsZW1zPWRlc2Muc3RhdF9kZXNjLmVsZW1zLG1heF9jb2RlPS0xO2ZvcihzLmhlYXBfbGVuPTAscy5oZWFwX21heD1IRUFQX1NJWkUsbj0wO248ZWxlbXM7bisrKTAhPT10cmVlWzIqbl0/KHMuaGVhcFsrK3MuaGVhcF9sZW5dPW1heF9jb2RlPW4scy5kZXB0aFtuXT0wKTp0cmVlWzIqbisxXT0wO2Zvcig7cy5oZWFwX2xlbjwyOyl0cmVlWzIqKG5vZGU9cy5oZWFwWysrcy5oZWFwX2xlbl09bWF4X2NvZGU8Mj8rK21heF9jb2RlOjApXT0xLHMuZGVwdGhbbm9kZV09MCxzLm9wdF9sZW4tLSxoYXNfc3RyZWUmJihzLnN0YXRpY19sZW4tPXN0cmVlWzIqbm9kZSsxXSk7Zm9yKGRlc2MubWF4X2NvZGU9bWF4X2NvZGUsbj1zLmhlYXBfbGVuPj4xO24+PTE7bi0tKXBxZG93bmhlYXAocyx0cmVlLG4pO25vZGU9ZWxlbXM7ZG97bj1zLmhlYXBbMV0scy5oZWFwWzFdPXMuaGVhcFtzLmhlYXBfbGVuLS1dLHBxZG93bmhlYXAocyx0cmVlLDEpLG09cy5oZWFwWzFdLHMuaGVhcFstLXMuaGVhcF9tYXhdPW4scy5oZWFwWy0tcy5oZWFwX21heF09bSx0cmVlWzIqbm9kZV09dHJlZVsyKm5dK3RyZWVbMiptXSxzLmRlcHRoW25vZGVdPShzLmRlcHRoW25dPj1zLmRlcHRoW21dP3MuZGVwdGhbbl06cy5kZXB0aFttXSkrMSx0cmVlWzIqbisxXT10cmVlWzIqbSsxXT1ub2RlLHMuaGVhcFsxXT1ub2RlKysscHFkb3duaGVhcChzLHRyZWUsMSl9d2hpbGUocy5oZWFwX2xlbj49Mik7cy5oZWFwWy0tcy5oZWFwX21heF09cy5oZWFwWzFdLGZ1bmN0aW9uKHMsZGVzYyl7dmFyIGgsbixtLGJpdHMseGJpdHMsZix0cmVlPWRlc2MuZHluX3RyZWUsbWF4X2NvZGU9ZGVzYy5tYXhfY29kZSxzdHJlZT1kZXNjLnN0YXRfZGVzYy5zdGF0aWNfdHJlZSxoYXNfc3RyZWU9ZGVzYy5zdGF0X2Rlc2MuaGFzX3N0cmVlLGV4dHJhPWRlc2Muc3RhdF9kZXNjLmV4dHJhX2JpdHMsYmFzZT1kZXNjLnN0YXRfZGVzYy5leHRyYV9iYXNlLG1heF9sZW5ndGg9ZGVzYy5zdGF0X2Rlc2MubWF4X2xlbmd0aCxvdmVyZmxvdz0wO2ZvcihiaXRzPTA7Yml0czw9TUFYX0JJVFM7Yml0cysrKXMuYmxfY291bnRbYml0c109MDtmb3IodHJlZVsyKnMuaGVhcFtzLmhlYXBfbWF4XSsxXT0wLGg9cy5oZWFwX21heCsxO2g8SEVBUF9TSVpFO2grKykoYml0cz10cmVlWzIqdHJlZVsyKihuPXMuaGVhcFtoXSkrMV0rMV0rMSk+bWF4X2xlbmd0aCYmKGJpdHM9bWF4X2xlbmd0aCxvdmVyZmxvdysrKSx0cmVlWzIqbisxXT1iaXRzLG4+bWF4X2NvZGV8fChzLmJsX2NvdW50W2JpdHNdKysseGJpdHM9MCxuPj1iYXNlJiYoeGJpdHM9ZXh0cmFbbi1iYXNlXSksZj10cmVlWzIqbl0scy5vcHRfbGVuKz1mKihiaXRzK3hiaXRzKSxoYXNfc3RyZWUmJihzLnN0YXRpY19sZW4rPWYqKHN0cmVlWzIqbisxXSt4Yml0cykpKTtpZigwIT09b3ZlcmZsb3cpe2Rve2ZvcihiaXRzPW1heF9sZW5ndGgtMTswPT09cy5ibF9jb3VudFtiaXRzXTspYml0cy0tO3MuYmxfY291bnRbYml0c10tLSxzLmJsX2NvdW50W2JpdHMrMV0rPTIscy5ibF9jb3VudFttYXhfbGVuZ3RoXS0tLG92ZXJmbG93LT0yfXdoaWxlKG92ZXJmbG93PjApO2ZvcihiaXRzPW1heF9sZW5ndGg7MCE9PWJpdHM7Yml0cy0tKWZvcihuPXMuYmxfY291bnRbYml0c107MCE9PW47KShtPXMuaGVhcFstLWhdKT5tYXhfY29kZXx8KHRyZWVbMiptKzFdIT09Yml0cyYmKHMub3B0X2xlbis9KGJpdHMtdHJlZVsyKm0rMV0pKnRyZWVbMiptXSx0cmVlWzIqbSsxXT1iaXRzKSxuLS0pfX0ocyxkZXNjKSxnZW5fY29kZXModHJlZSxtYXhfY29kZSxzLmJsX2NvdW50KX1mdW5jdGlvbiBzY2FuX3RyZWUocyx0cmVlLG1heF9jb2RlKXt2YXIgbixjdXJsZW4scHJldmxlbj0tMSxuZXh0bGVuPXRyZWVbMV0sY291bnQ9MCxtYXhfY291bnQ9NyxtaW5fY291bnQ9NDtmb3IoMD09PW5leHRsZW4mJihtYXhfY291bnQ9MTM4LG1pbl9jb3VudD0zKSx0cmVlWzIqKG1heF9jb2RlKzEpKzFdPTY1NTM1LG49MDtuPD1tYXhfY29kZTtuKyspY3VybGVuPW5leHRsZW4sbmV4dGxlbj10cmVlWzIqKG4rMSkrMV0sKytjb3VudDxtYXhfY291bnQmJmN1cmxlbj09PW5leHRsZW58fChjb3VudDxtaW5fY291bnQ/cy5ibF90cmVlWzIqY3VybGVuXSs9Y291bnQ6MCE9PWN1cmxlbj8oY3VybGVuIT09cHJldmxlbiYmcy5ibF90cmVlWzIqY3VybGVuXSsrLHMuYmxfdHJlZVsyKlJFUF8zXzZdKyspOmNvdW50PD0xMD9zLmJsX3RyZWVbMipSRVBaXzNfMTBdKys6cy5ibF90cmVlWzIqUkVQWl8xMV8xMzhdKyssY291bnQ9MCxwcmV2bGVuPWN1cmxlbiwwPT09bmV4dGxlbj8obWF4X2NvdW50PTEzOCxtaW5fY291bnQ9Myk6Y3VybGVuPT09bmV4dGxlbj8obWF4X2NvdW50PTYsbWluX2NvdW50PTMpOihtYXhfY291bnQ9NyxtaW5fY291bnQ9NCkpfWZ1bmN0aW9uIHNlbmRfdHJlZShzLHRyZWUsbWF4X2NvZGUpe3ZhciBuLGN1cmxlbixwcmV2bGVuPS0xLG5leHRsZW49dHJlZVsxXSxjb3VudD0wLG1heF9jb3VudD03LG1pbl9jb3VudD00O2ZvcigwPT09bmV4dGxlbiYmKG1heF9jb3VudD0xMzgsbWluX2NvdW50PTMpLG49MDtuPD1tYXhfY29kZTtuKyspaWYoY3VybGVuPW5leHRsZW4sbmV4dGxlbj10cmVlWzIqKG4rMSkrMV0sISgrK2NvdW50PG1heF9jb3VudCYmY3VybGVuPT09bmV4dGxlbikpe2lmKGNvdW50PG1pbl9jb3VudClkb3tzZW5kX2NvZGUocyxjdXJsZW4scy5ibF90cmVlKX13aGlsZSgwIT0tLWNvdW50KTtlbHNlIDAhPT1jdXJsZW4/KGN1cmxlbiE9PXByZXZsZW4mJihzZW5kX2NvZGUocyxjdXJsZW4scy5ibF90cmVlKSxjb3VudC0tKSxzZW5kX2NvZGUocyxSRVBfM182LHMuYmxfdHJlZSksc2VuZF9iaXRzKHMsY291bnQtMywyKSk6Y291bnQ8PTEwPyhzZW5kX2NvZGUocyxSRVBaXzNfMTAscy5ibF90cmVlKSxzZW5kX2JpdHMocyxjb3VudC0zLDMpKTooc2VuZF9jb2RlKHMsUkVQWl8xMV8xMzgscy5ibF90cmVlKSxzZW5kX2JpdHMocyxjb3VudC0xMSw3KSk7Y291bnQ9MCxwcmV2bGVuPWN1cmxlbiwwPT09bmV4dGxlbj8obWF4X2NvdW50PTEzOCxtaW5fY291bnQ9Myk6Y3VybGVuPT09bmV4dGxlbj8obWF4X2NvdW50PTYsbWluX2NvdW50PTMpOihtYXhfY291bnQ9NyxtaW5fY291bnQ9NCl9fXplcm8oYmFzZV9kaXN0KTt2YXIgc3RhdGljX2luaXRfZG9uZT0hMTtmdW5jdGlvbiBfdHJfc3RvcmVkX2Jsb2NrKHMsYnVmLHN0b3JlZF9sZW4sbGFzdCl7c2VuZF9iaXRzKHMsKFNUT1JFRF9CTE9DSzw8MSkrKGxhc3Q/MTowKSwzKSxmdW5jdGlvbihzLGJ1ZixsZW4saGVhZGVyKXtiaV93aW5kdXAocyksaGVhZGVyJiYocHV0X3Nob3J0KHMsbGVuKSxwdXRfc2hvcnQocyx+bGVuKSksdXRpbHMuYXJyYXlTZXQocy5wZW5kaW5nX2J1ZixzLndpbmRvdyxidWYsbGVuLHMucGVuZGluZykscy5wZW5kaW5nKz1sZW59KHMsYnVmLHN0b3JlZF9sZW4sITApfWV4cG9ydHMuX3RyX2luaXQ9ZnVuY3Rpb24ocyl7c3RhdGljX2luaXRfZG9uZXx8KGZ1bmN0aW9uKCl7dmFyIG4sYml0cyxsZW5ndGgsY29kZSxkaXN0LGJsX2NvdW50PW5ldyBBcnJheShNQVhfQklUUysxKTtmb3IobGVuZ3RoPTAsY29kZT0wO2NvZGU8TEVOR1RIX0NPREVTLTE7Y29kZSsrKWZvcihiYXNlX2xlbmd0aFtjb2RlXT1sZW5ndGgsbj0wO248MTw8ZXh0cmFfbGJpdHNbY29kZV07bisrKV9sZW5ndGhfY29kZVtsZW5ndGgrK109Y29kZTtmb3IoX2xlbmd0aF9jb2RlW2xlbmd0aC0xXT1jb2RlLGRpc3Q9MCxjb2RlPTA7Y29kZTwxNjtjb2RlKyspZm9yKGJhc2VfZGlzdFtjb2RlXT1kaXN0LG49MDtuPDE8PGV4dHJhX2RiaXRzW2NvZGVdO24rKylfZGlzdF9jb2RlW2Rpc3QrK109Y29kZTtmb3IoZGlzdD4+PTc7Y29kZTxEX0NPREVTO2NvZGUrKylmb3IoYmFzZV9kaXN0W2NvZGVdPWRpc3Q8PDcsbj0wO248MTw8ZXh0cmFfZGJpdHNbY29kZV0tNztuKyspX2Rpc3RfY29kZVsyNTYrZGlzdCsrXT1jb2RlO2ZvcihiaXRzPTA7Yml0czw9TUFYX0JJVFM7Yml0cysrKWJsX2NvdW50W2JpdHNdPTA7Zm9yKG49MDtuPD0xNDM7KXN0YXRpY19sdHJlZVsyKm4rMV09OCxuKyssYmxfY291bnRbOF0rKztmb3IoO248PTI1NTspc3RhdGljX2x0cmVlWzIqbisxXT05LG4rKyxibF9jb3VudFs5XSsrO2Zvcig7bjw9Mjc5OylzdGF0aWNfbHRyZWVbMipuKzFdPTcsbisrLGJsX2NvdW50WzddKys7Zm9yKDtuPD0yODc7KXN0YXRpY19sdHJlZVsyKm4rMV09OCxuKyssYmxfY291bnRbOF0rKztmb3IoZ2VuX2NvZGVzKHN0YXRpY19sdHJlZSxMX0NPREVTKzEsYmxfY291bnQpLG49MDtuPERfQ09ERVM7bisrKXN0YXRpY19kdHJlZVsyKm4rMV09NSxzdGF0aWNfZHRyZWVbMipuXT1iaV9yZXZlcnNlKG4sNSk7c3RhdGljX2xfZGVzYz1uZXcgU3RhdGljVHJlZURlc2Moc3RhdGljX2x0cmVlLGV4dHJhX2xiaXRzLExJVEVSQUxTKzEsTF9DT0RFUyxNQVhfQklUUyksc3RhdGljX2RfZGVzYz1uZXcgU3RhdGljVHJlZURlc2Moc3RhdGljX2R0cmVlLGV4dHJhX2RiaXRzLDAsRF9DT0RFUyxNQVhfQklUUyksc3RhdGljX2JsX2Rlc2M9bmV3IFN0YXRpY1RyZWVEZXNjKG5ldyBBcnJheSgwKSxleHRyYV9ibGJpdHMsMCxCTF9DT0RFUyxNQVhfQkxfQklUUyl9KCksc3RhdGljX2luaXRfZG9uZT0hMCkscy5sX2Rlc2M9bmV3IFRyZWVEZXNjKHMuZHluX2x0cmVlLHN0YXRpY19sX2Rlc2MpLHMuZF9kZXNjPW5ldyBUcmVlRGVzYyhzLmR5bl9kdHJlZSxzdGF0aWNfZF9kZXNjKSxzLmJsX2Rlc2M9bmV3IFRyZWVEZXNjKHMuYmxfdHJlZSxzdGF0aWNfYmxfZGVzYykscy5iaV9idWY9MCxzLmJpX3ZhbGlkPTAsaW5pdF9ibG9jayhzKX0sZXhwb3J0cy5fdHJfc3RvcmVkX2Jsb2NrPV90cl9zdG9yZWRfYmxvY2ssZXhwb3J0cy5fdHJfZmx1c2hfYmxvY2s9ZnVuY3Rpb24ocyxidWYsc3RvcmVkX2xlbixsYXN0KXt2YXIgb3B0X2xlbmIsc3RhdGljX2xlbmIsbWF4X2JsaW5kZXg9MDtzLmxldmVsPjA/KHMuc3RybS5kYXRhX3R5cGU9PT1aX1VOS05PV04mJihzLnN0cm0uZGF0YV90eXBlPWZ1bmN0aW9uKHMpe3ZhciBuLGJsYWNrX21hc2s9NDA5MzYyNDQ0Nztmb3Iobj0wO248PTMxO24rKyxibGFja19tYXNrPj4+PTEpaWYoMSZibGFja19tYXNrJiYwIT09cy5keW5fbHRyZWVbMipuXSlyZXR1cm4gWl9CSU5BUlk7aWYoMCE9PXMuZHluX2x0cmVlWzE4XXx8MCE9PXMuZHluX2x0cmVlWzIwXXx8MCE9PXMuZHluX2x0cmVlWzI2XSlyZXR1cm4gWl9URVhUO2ZvcihuPTMyO248TElURVJBTFM7bisrKWlmKDAhPT1zLmR5bl9sdHJlZVsyKm5dKXJldHVybiBaX1RFWFQ7cmV0dXJuIFpfQklOQVJZfShzKSksYnVpbGRfdHJlZShzLHMubF9kZXNjKSxidWlsZF90cmVlKHMscy5kX2Rlc2MpLG1heF9ibGluZGV4PWZ1bmN0aW9uKHMpe3ZhciBtYXhfYmxpbmRleDtmb3Ioc2Nhbl90cmVlKHMscy5keW5fbHRyZWUscy5sX2Rlc2MubWF4X2NvZGUpLHNjYW5fdHJlZShzLHMuZHluX2R0cmVlLHMuZF9kZXNjLm1heF9jb2RlKSxidWlsZF90cmVlKHMscy5ibF9kZXNjKSxtYXhfYmxpbmRleD1CTF9DT0RFUy0xO21heF9ibGluZGV4Pj0zJiYwPT09cy5ibF90cmVlWzIqYmxfb3JkZXJbbWF4X2JsaW5kZXhdKzFdO21heF9ibGluZGV4LS0pO3JldHVybiBzLm9wdF9sZW4rPTMqKG1heF9ibGluZGV4KzEpKzUrNSs0LG1heF9ibGluZGV4fShzKSxvcHRfbGVuYj1zLm9wdF9sZW4rMys3Pj4+Mywoc3RhdGljX2xlbmI9cy5zdGF0aWNfbGVuKzMrNz4+PjMpPD1vcHRfbGVuYiYmKG9wdF9sZW5iPXN0YXRpY19sZW5iKSk6b3B0X2xlbmI9c3RhdGljX2xlbmI9c3RvcmVkX2xlbis1LHN0b3JlZF9sZW4rNDw9b3B0X2xlbmImJi0xIT09YnVmP190cl9zdG9yZWRfYmxvY2socyxidWYsc3RvcmVkX2xlbixsYXN0KTpzLnN0cmF0ZWd5PT09Wl9GSVhFRHx8c3RhdGljX2xlbmI9PT1vcHRfbGVuYj8oc2VuZF9iaXRzKHMsKFNUQVRJQ19UUkVFUzw8MSkrKGxhc3Q/MTowKSwzKSxjb21wcmVzc19ibG9jayhzLHN0YXRpY19sdHJlZSxzdGF0aWNfZHRyZWUpKTooc2VuZF9iaXRzKHMsKERZTl9UUkVFUzw8MSkrKGxhc3Q/MTowKSwzKSxmdW5jdGlvbihzLGxjb2RlcyxkY29kZXMsYmxjb2Rlcyl7dmFyIHJhbms7Zm9yKHNlbmRfYml0cyhzLGxjb2Rlcy0yNTcsNSksc2VuZF9iaXRzKHMsZGNvZGVzLTEsNSksc2VuZF9iaXRzKHMsYmxjb2Rlcy00LDQpLHJhbms9MDtyYW5rPGJsY29kZXM7cmFuaysrKXNlbmRfYml0cyhzLHMuYmxfdHJlZVsyKmJsX29yZGVyW3JhbmtdKzFdLDMpO3NlbmRfdHJlZShzLHMuZHluX2x0cmVlLGxjb2Rlcy0xKSxzZW5kX3RyZWUocyxzLmR5bl9kdHJlZSxkY29kZXMtMSl9KHMscy5sX2Rlc2MubWF4X2NvZGUrMSxzLmRfZGVzYy5tYXhfY29kZSsxLG1heF9ibGluZGV4KzEpLGNvbXByZXNzX2Jsb2NrKHMscy5keW5fbHRyZWUscy5keW5fZHRyZWUpKSxpbml0X2Jsb2NrKHMpLGxhc3QmJmJpX3dpbmR1cChzKX0sZXhwb3J0cy5fdHJfdGFsbHk9ZnVuY3Rpb24ocyxkaXN0LGxjKXtyZXR1cm4gcy5wZW5kaW5nX2J1ZltzLmRfYnVmKzIqcy5sYXN0X2xpdF09ZGlzdD4+PjgmMjU1LHMucGVuZGluZ19idWZbcy5kX2J1ZisyKnMubGFzdF9saXQrMV09MjU1JmRpc3Qscy5wZW5kaW5nX2J1ZltzLmxfYnVmK3MubGFzdF9saXRdPTI1NSZsYyxzLmxhc3RfbGl0KyssMD09PWRpc3Q/cy5keW5fbHRyZWVbMipsY10rKzoocy5tYXRjaGVzKyssZGlzdC0tLHMuZHluX2x0cmVlWzIqKF9sZW5ndGhfY29kZVtsY10rTElURVJBTFMrMSldKysscy5keW5fZHRyZWVbMipkX2NvZGUoZGlzdCldKyspLHMubGFzdF9saXQ9PT1zLmxpdF9idWZzaXplLTF9LGV4cG9ydHMuX3RyX2FsaWduPWZ1bmN0aW9uKHMpe3NlbmRfYml0cyhzLFNUQVRJQ19UUkVFUzw8MSwzKSxzZW5kX2NvZGUocyxFTkRfQkxPQ0ssc3RhdGljX2x0cmVlKSxmdW5jdGlvbihzKXsxNj09PXMuYmlfdmFsaWQ/KHB1dF9zaG9ydChzLHMuYmlfYnVmKSxzLmJpX2J1Zj0wLHMuYmlfdmFsaWQ9MCk6cy5iaV92YWxpZD49OCYmKHMucGVuZGluZ19idWZbcy5wZW5kaW5nKytdPTI1NSZzLmJpX2J1ZixzLmJpX2J1Zj4+PTgscy5iaV92YWxpZC09OCl9KHMpfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHpsaWJfaW5mbGF0ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDExMyksdXRpbHM9X193ZWJwYWNrX3JlcXVpcmVfXyg4KSxzdHJpbmdzPV9fd2VicGFja19yZXF1aXJlX18oNjYpLGM9X193ZWJwYWNrX3JlcXVpcmVfXyg2OCksbXNnPV9fd2VicGFja19yZXF1aXJlX18oNDQpLFpTdHJlYW09X193ZWJwYWNrX3JlcXVpcmVfXyg2NyksR1poZWFkZXI9X193ZWJwYWNrX3JlcXVpcmVfXygxMTYpLHRvU3RyaW5nPU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmc7ZnVuY3Rpb24gSW5mbGF0ZShvcHRpb25zKXtpZighKHRoaXMgaW5zdGFuY2VvZiBJbmZsYXRlKSlyZXR1cm4gbmV3IEluZmxhdGUob3B0aW9ucyk7dGhpcy5vcHRpb25zPXV0aWxzLmFzc2lnbih7Y2h1bmtTaXplOjE2Mzg0LHdpbmRvd0JpdHM6MCx0bzpcIlwifSxvcHRpb25zfHx7fSk7dmFyIG9wdD10aGlzLm9wdGlvbnM7b3B0LnJhdyYmb3B0LndpbmRvd0JpdHM+PTAmJm9wdC53aW5kb3dCaXRzPDE2JiYob3B0LndpbmRvd0JpdHM9LW9wdC53aW5kb3dCaXRzLDA9PT1vcHQud2luZG93Qml0cyYmKG9wdC53aW5kb3dCaXRzPS0xNSkpLCEob3B0LndpbmRvd0JpdHM+PTAmJm9wdC53aW5kb3dCaXRzPDE2KXx8b3B0aW9ucyYmb3B0aW9ucy53aW5kb3dCaXRzfHwob3B0LndpbmRvd0JpdHMrPTMyKSxvcHQud2luZG93Qml0cz4xNSYmb3B0LndpbmRvd0JpdHM8NDgmJjA9PSgxNSZvcHQud2luZG93Qml0cykmJihvcHQud2luZG93Qml0c3w9MTUpLHRoaXMuZXJyPTAsdGhpcy5tc2c9XCJcIix0aGlzLmVuZGVkPSExLHRoaXMuY2h1bmtzPVtdLHRoaXMuc3RybT1uZXcgWlN0cmVhbSx0aGlzLnN0cm0uYXZhaWxfb3V0PTA7dmFyIHN0YXR1cz16bGliX2luZmxhdGUuaW5mbGF0ZUluaXQyKHRoaXMuc3RybSxvcHQud2luZG93Qml0cyk7aWYoc3RhdHVzIT09Yy5aX09LKXRocm93IG5ldyBFcnJvcihtc2dbc3RhdHVzXSk7aWYodGhpcy5oZWFkZXI9bmV3IEdaaGVhZGVyLHpsaWJfaW5mbGF0ZS5pbmZsYXRlR2V0SGVhZGVyKHRoaXMuc3RybSx0aGlzLmhlYWRlciksb3B0LmRpY3Rpb25hcnkmJihcInN0cmluZ1wiPT10eXBlb2Ygb3B0LmRpY3Rpb25hcnk/b3B0LmRpY3Rpb25hcnk9c3RyaW5ncy5zdHJpbmcyYnVmKG9wdC5kaWN0aW9uYXJ5KTpcIltvYmplY3QgQXJyYXlCdWZmZXJdXCI9PT10b1N0cmluZy5jYWxsKG9wdC5kaWN0aW9uYXJ5KSYmKG9wdC5kaWN0aW9uYXJ5PW5ldyBVaW50OEFycmF5KG9wdC5kaWN0aW9uYXJ5KSksb3B0LnJhdyYmKHN0YXR1cz16bGliX2luZmxhdGUuaW5mbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLG9wdC5kaWN0aW9uYXJ5KSkhPT1jLlpfT0spKXRocm93IG5ldyBFcnJvcihtc2dbc3RhdHVzXSl9ZnVuY3Rpb24gaW5mbGF0ZShpbnB1dCxvcHRpb25zKXt2YXIgaW5mbGF0b3I9bmV3IEluZmxhdGUob3B0aW9ucyk7aWYoaW5mbGF0b3IucHVzaChpbnB1dCwhMCksaW5mbGF0b3IuZXJyKXRocm93IGluZmxhdG9yLm1zZ3x8bXNnW2luZmxhdG9yLmVycl07cmV0dXJuIGluZmxhdG9yLnJlc3VsdH1JbmZsYXRlLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGRhdGEsbW9kZSl7dmFyIHN0YXR1cyxfbW9kZSxuZXh0X291dF91dGY4LHRhaWwsdXRmOHN0cixzdHJtPXRoaXMuc3RybSxjaHVua1NpemU9dGhpcy5vcHRpb25zLmNodW5rU2l6ZSxkaWN0aW9uYXJ5PXRoaXMub3B0aW9ucy5kaWN0aW9uYXJ5LGFsbG93QnVmRXJyb3I9ITE7aWYodGhpcy5lbmRlZClyZXR1cm4hMTtfbW9kZT1tb2RlPT09fn5tb2RlP21vZGU6ITA9PT1tb2RlP2MuWl9GSU5JU0g6Yy5aX05PX0ZMVVNILFwic3RyaW5nXCI9PXR5cGVvZiBkYXRhP3N0cm0uaW5wdXQ9c3RyaW5ncy5iaW5zdHJpbmcyYnVmKGRhdGEpOlwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIj09PXRvU3RyaW5nLmNhbGwoZGF0YSk/c3RybS5pbnB1dD1uZXcgVWludDhBcnJheShkYXRhKTpzdHJtLmlucHV0PWRhdGEsc3RybS5uZXh0X2luPTAsc3RybS5hdmFpbF9pbj1zdHJtLmlucHV0Lmxlbmd0aDtkb3tpZigwPT09c3RybS5hdmFpbF9vdXQmJihzdHJtLm91dHB1dD1uZXcgdXRpbHMuQnVmOChjaHVua1NpemUpLHN0cm0ubmV4dF9vdXQ9MCxzdHJtLmF2YWlsX291dD1jaHVua1NpemUpLChzdGF0dXM9emxpYl9pbmZsYXRlLmluZmxhdGUoc3RybSxjLlpfTk9fRkxVU0gpKT09PWMuWl9ORUVEX0RJQ1QmJmRpY3Rpb25hcnkmJihzdGF0dXM9emxpYl9pbmZsYXRlLmluZmxhdGVTZXREaWN0aW9uYXJ5KHRoaXMuc3RybSxkaWN0aW9uYXJ5KSksc3RhdHVzPT09Yy5aX0JVRl9FUlJPUiYmITA9PT1hbGxvd0J1ZkVycm9yJiYoc3RhdHVzPWMuWl9PSyxhbGxvd0J1ZkVycm9yPSExKSxzdGF0dXMhPT1jLlpfU1RSRUFNX0VORCYmc3RhdHVzIT09Yy5aX09LKXJldHVybiB0aGlzLm9uRW5kKHN0YXR1cyksdGhpcy5lbmRlZD0hMCwhMTtzdHJtLm5leHRfb3V0JiYoMCE9PXN0cm0uYXZhaWxfb3V0JiZzdGF0dXMhPT1jLlpfU1RSRUFNX0VORCYmKDAhPT1zdHJtLmF2YWlsX2lufHxfbW9kZSE9PWMuWl9GSU5JU0gmJl9tb2RlIT09Yy5aX1NZTkNfRkxVU0gpfHwoXCJzdHJpbmdcIj09PXRoaXMub3B0aW9ucy50bz8obmV4dF9vdXRfdXRmOD1zdHJpbmdzLnV0Zjhib3JkZXIoc3RybS5vdXRwdXQsc3RybS5uZXh0X291dCksdGFpbD1zdHJtLm5leHRfb3V0LW5leHRfb3V0X3V0ZjgsdXRmOHN0cj1zdHJpbmdzLmJ1ZjJzdHJpbmcoc3RybS5vdXRwdXQsbmV4dF9vdXRfdXRmOCksc3RybS5uZXh0X291dD10YWlsLHN0cm0uYXZhaWxfb3V0PWNodW5rU2l6ZS10YWlsLHRhaWwmJnV0aWxzLmFycmF5U2V0KHN0cm0ub3V0cHV0LHN0cm0ub3V0cHV0LG5leHRfb3V0X3V0ZjgsdGFpbCwwKSx0aGlzLm9uRGF0YSh1dGY4c3RyKSk6dGhpcy5vbkRhdGEodXRpbHMuc2hyaW5rQnVmKHN0cm0ub3V0cHV0LHN0cm0ubmV4dF9vdXQpKSkpLDA9PT1zdHJtLmF2YWlsX2luJiYwPT09c3RybS5hdmFpbF9vdXQmJihhbGxvd0J1ZkVycm9yPSEwKX13aGlsZSgoc3RybS5hdmFpbF9pbj4wfHwwPT09c3RybS5hdmFpbF9vdXQpJiZzdGF0dXMhPT1jLlpfU1RSRUFNX0VORCk7cmV0dXJuIHN0YXR1cz09PWMuWl9TVFJFQU1fRU5EJiYoX21vZGU9Yy5aX0ZJTklTSCksX21vZGU9PT1jLlpfRklOSVNIPyhzdGF0dXM9emxpYl9pbmZsYXRlLmluZmxhdGVFbmQodGhpcy5zdHJtKSx0aGlzLm9uRW5kKHN0YXR1cyksdGhpcy5lbmRlZD0hMCxzdGF0dXM9PT1jLlpfT0spOl9tb2RlIT09Yy5aX1NZTkNfRkxVU0h8fCh0aGlzLm9uRW5kKGMuWl9PSyksc3RybS5hdmFpbF9vdXQ9MCwhMCl9LEluZmxhdGUucHJvdG90eXBlLm9uRGF0YT1mdW5jdGlvbihjaHVuayl7dGhpcy5jaHVua3MucHVzaChjaHVuayl9LEluZmxhdGUucHJvdG90eXBlLm9uRW5kPWZ1bmN0aW9uKHN0YXR1cyl7c3RhdHVzPT09Yy5aX09LJiYoXCJzdHJpbmdcIj09PXRoaXMub3B0aW9ucy50bz90aGlzLnJlc3VsdD10aGlzLmNodW5rcy5qb2luKFwiXCIpOnRoaXMucmVzdWx0PXV0aWxzLmZsYXR0ZW5DaHVua3ModGhpcy5jaHVua3MpKSx0aGlzLmNodW5rcz1bXSx0aGlzLmVycj1zdGF0dXMsdGhpcy5tc2c9dGhpcy5zdHJtLm1zZ30sZXhwb3J0cy5JbmZsYXRlPUluZmxhdGUsZXhwb3J0cy5pbmZsYXRlPWluZmxhdGUsZXhwb3J0cy5pbmZsYXRlUmF3PWZ1bmN0aW9uKGlucHV0LG9wdGlvbnMpe3JldHVybihvcHRpb25zPW9wdGlvbnN8fHt9KS5yYXc9ITAsaW5mbGF0ZShpbnB1dCxvcHRpb25zKX0sZXhwb3J0cy51bmd6aXA9aW5mbGF0ZX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oOCksYWRsZXIzMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDY0KSxjcmMzMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDY1KSxpbmZsYXRlX2Zhc3Q9X193ZWJwYWNrX3JlcXVpcmVfXygxMTQpLGluZmxhdGVfdGFibGU9X193ZWJwYWNrX3JlcXVpcmVfXygxMTUpLENPREVTPTAsTEVOUz0xLERJU1RTPTIsWl9GSU5JU0g9NCxaX0JMT0NLPTUsWl9UUkVFUz02LFpfT0s9MCxaX1NUUkVBTV9FTkQ9MSxaX05FRURfRElDVD0yLFpfU1RSRUFNX0VSUk9SPS0yLFpfREFUQV9FUlJPUj0tMyxaX01FTV9FUlJPUj0tNCxaX0JVRl9FUlJPUj0tNSxaX0RFRkxBVEVEPTgsSEVBRD0xLEZMQUdTPTIsVElNRT0zLE9TPTQsRVhMRU49NSxFWFRSQT02LE5BTUU9NyxDT01NRU5UPTgsSENSQz05LERJQ1RJRD0xMCxESUNUPTExLFRZUEU9MTIsVFlQRURPPTEzLFNUT1JFRD0xNCxDT1BZXz0xNSxDT1BZPTE2LFRBQkxFPTE3LExFTkxFTlM9MTgsQ09ERUxFTlM9MTksTEVOXz0yMCxMRU49MjEsTEVORVhUPTIyLERJU1Q9MjMsRElTVEVYVD0yNCxNQVRDSD0yNSxMSVQ9MjYsQ0hFQ0s9MjcsTEVOR1RIPTI4LERPTkU9MjksQkFEPTMwLE1FTT0zMSxTWU5DPTMyLEVOT1VHSF9MRU5TPTg1MixFTk9VR0hfRElTVFM9NTkyLERFRl9XQklUUz0xNTtmdW5jdGlvbiB6c3dhcDMyKHEpe3JldHVybihxPj4+MjQmMjU1KSsocT4+PjgmNjUyODApKygoNjUyODAmcSk8PDgpKygoMjU1JnEpPDwyNCl9ZnVuY3Rpb24gaW5mbGF0ZVJlc2V0S2VlcChzdHJtKXt2YXIgc3RhdGU7cmV0dXJuIHN0cm0mJnN0cm0uc3RhdGU/KHN0YXRlPXN0cm0uc3RhdGUsc3RybS50b3RhbF9pbj1zdHJtLnRvdGFsX291dD1zdGF0ZS50b3RhbD0wLHN0cm0ubXNnPVwiXCIsc3RhdGUud3JhcCYmKHN0cm0uYWRsZXI9MSZzdGF0ZS53cmFwKSxzdGF0ZS5tb2RlPUhFQUQsc3RhdGUubGFzdD0wLHN0YXRlLmhhdmVkaWN0PTAsc3RhdGUuZG1heD0zMjc2OCxzdGF0ZS5oZWFkPW51bGwsc3RhdGUuaG9sZD0wLHN0YXRlLmJpdHM9MCxzdGF0ZS5sZW5jb2RlPXN0YXRlLmxlbmR5bj1uZXcgdXRpbHMuQnVmMzIoRU5PVUdIX0xFTlMpLHN0YXRlLmRpc3Rjb2RlPXN0YXRlLmRpc3RkeW49bmV3IHV0aWxzLkJ1ZjMyKEVOT1VHSF9ESVNUUyksc3RhdGUuc2FuZT0xLHN0YXRlLmJhY2s9LTEsWl9PSyk6Wl9TVFJFQU1fRVJST1J9ZnVuY3Rpb24gaW5mbGF0ZVJlc2V0KHN0cm0pe3ZhciBzdGF0ZTtyZXR1cm4gc3RybSYmc3RybS5zdGF0ZT8oKHN0YXRlPXN0cm0uc3RhdGUpLndzaXplPTAsc3RhdGUud2hhdmU9MCxzdGF0ZS53bmV4dD0wLGluZmxhdGVSZXNldEtlZXAoc3RybSkpOlpfU1RSRUFNX0VSUk9SfWZ1bmN0aW9uIGluZmxhdGVSZXNldDIoc3RybSx3aW5kb3dCaXRzKXt2YXIgd3JhcCxzdGF0ZTtyZXR1cm4gc3RybSYmc3RybS5zdGF0ZT8oc3RhdGU9c3RybS5zdGF0ZSx3aW5kb3dCaXRzPDA/KHdyYXA9MCx3aW5kb3dCaXRzPS13aW5kb3dCaXRzKTood3JhcD0xKyh3aW5kb3dCaXRzPj40KSx3aW5kb3dCaXRzPDQ4JiYod2luZG93Qml0cyY9MTUpKSx3aW5kb3dCaXRzJiYod2luZG93Qml0czw4fHx3aW5kb3dCaXRzPjE1KT9aX1NUUkVBTV9FUlJPUjoobnVsbCE9PXN0YXRlLndpbmRvdyYmc3RhdGUud2JpdHMhPT13aW5kb3dCaXRzJiYoc3RhdGUud2luZG93PW51bGwpLHN0YXRlLndyYXA9d3JhcCxzdGF0ZS53Yml0cz13aW5kb3dCaXRzLGluZmxhdGVSZXNldChzdHJtKSkpOlpfU1RSRUFNX0VSUk9SfWZ1bmN0aW9uIGluZmxhdGVJbml0MihzdHJtLHdpbmRvd0JpdHMpe3ZhciByZXQsc3RhdGU7cmV0dXJuIHN0cm0/KHN0YXRlPW5ldyBmdW5jdGlvbigpe3RoaXMubW9kZT0wLHRoaXMubGFzdD0hMSx0aGlzLndyYXA9MCx0aGlzLmhhdmVkaWN0PSExLHRoaXMuZmxhZ3M9MCx0aGlzLmRtYXg9MCx0aGlzLmNoZWNrPTAsdGhpcy50b3RhbD0wLHRoaXMuaGVhZD1udWxsLHRoaXMud2JpdHM9MCx0aGlzLndzaXplPTAsdGhpcy53aGF2ZT0wLHRoaXMud25leHQ9MCx0aGlzLndpbmRvdz1udWxsLHRoaXMuaG9sZD0wLHRoaXMuYml0cz0wLHRoaXMubGVuZ3RoPTAsdGhpcy5vZmZzZXQ9MCx0aGlzLmV4dHJhPTAsdGhpcy5sZW5jb2RlPW51bGwsdGhpcy5kaXN0Y29kZT1udWxsLHRoaXMubGVuYml0cz0wLHRoaXMuZGlzdGJpdHM9MCx0aGlzLm5jb2RlPTAsdGhpcy5ubGVuPTAsdGhpcy5uZGlzdD0wLHRoaXMuaGF2ZT0wLHRoaXMubmV4dD1udWxsLHRoaXMubGVucz1uZXcgdXRpbHMuQnVmMTYoMzIwKSx0aGlzLndvcms9bmV3IHV0aWxzLkJ1ZjE2KDI4OCksdGhpcy5sZW5keW49bnVsbCx0aGlzLmRpc3RkeW49bnVsbCx0aGlzLnNhbmU9MCx0aGlzLmJhY2s9MCx0aGlzLndhcz0wfSxzdHJtLnN0YXRlPXN0YXRlLHN0YXRlLndpbmRvdz1udWxsLChyZXQ9aW5mbGF0ZVJlc2V0MihzdHJtLHdpbmRvd0JpdHMpKSE9PVpfT0smJihzdHJtLnN0YXRlPW51bGwpLHJldCk6Wl9TVFJFQU1fRVJST1J9dmFyIGxlbmZpeCxkaXN0Zml4LHZpcmdpbj0hMDtmdW5jdGlvbiBmaXhlZHRhYmxlcyhzdGF0ZSl7aWYodmlyZ2luKXt2YXIgc3ltO2ZvcihsZW5maXg9bmV3IHV0aWxzLkJ1ZjMyKDUxMiksZGlzdGZpeD1uZXcgdXRpbHMuQnVmMzIoMzIpLHN5bT0wO3N5bTwxNDQ7KXN0YXRlLmxlbnNbc3ltKytdPTg7Zm9yKDtzeW08MjU2OylzdGF0ZS5sZW5zW3N5bSsrXT05O2Zvcig7c3ltPDI4MDspc3RhdGUubGVuc1tzeW0rK109Nztmb3IoO3N5bTwyODg7KXN0YXRlLmxlbnNbc3ltKytdPTg7Zm9yKGluZmxhdGVfdGFibGUoTEVOUyxzdGF0ZS5sZW5zLDAsMjg4LGxlbmZpeCwwLHN0YXRlLndvcmsse2JpdHM6OX0pLHN5bT0wO3N5bTwzMjspc3RhdGUubGVuc1tzeW0rK109NTtpbmZsYXRlX3RhYmxlKERJU1RTLHN0YXRlLmxlbnMsMCwzMixkaXN0Zml4LDAsc3RhdGUud29yayx7Yml0czo1fSksdmlyZ2luPSExfXN0YXRlLmxlbmNvZGU9bGVuZml4LHN0YXRlLmxlbmJpdHM9OSxzdGF0ZS5kaXN0Y29kZT1kaXN0Zml4LHN0YXRlLmRpc3RiaXRzPTV9ZnVuY3Rpb24gdXBkYXRld2luZG93KHN0cm0sc3JjLGVuZCxjb3B5KXt2YXIgZGlzdCxzdGF0ZT1zdHJtLnN0YXRlO3JldHVybiBudWxsPT09c3RhdGUud2luZG93JiYoc3RhdGUud3NpemU9MTw8c3RhdGUud2JpdHMsc3RhdGUud25leHQ9MCxzdGF0ZS53aGF2ZT0wLHN0YXRlLndpbmRvdz1uZXcgdXRpbHMuQnVmOChzdGF0ZS53c2l6ZSkpLGNvcHk+PXN0YXRlLndzaXplPyh1dGlscy5hcnJheVNldChzdGF0ZS53aW5kb3csc3JjLGVuZC1zdGF0ZS53c2l6ZSxzdGF0ZS53c2l6ZSwwKSxzdGF0ZS53bmV4dD0wLHN0YXRlLndoYXZlPXN0YXRlLndzaXplKTooKGRpc3Q9c3RhdGUud3NpemUtc3RhdGUud25leHQpPmNvcHkmJihkaXN0PWNvcHkpLHV0aWxzLmFycmF5U2V0KHN0YXRlLndpbmRvdyxzcmMsZW5kLWNvcHksZGlzdCxzdGF0ZS53bmV4dCksKGNvcHktPWRpc3QpPyh1dGlscy5hcnJheVNldChzdGF0ZS53aW5kb3csc3JjLGVuZC1jb3B5LGNvcHksMCksc3RhdGUud25leHQ9Y29weSxzdGF0ZS53aGF2ZT1zdGF0ZS53c2l6ZSk6KHN0YXRlLnduZXh0Kz1kaXN0LHN0YXRlLnduZXh0PT09c3RhdGUud3NpemUmJihzdGF0ZS53bmV4dD0wKSxzdGF0ZS53aGF2ZTxzdGF0ZS53c2l6ZSYmKHN0YXRlLndoYXZlKz1kaXN0KSkpLDB9ZXhwb3J0cy5pbmZsYXRlUmVzZXQ9aW5mbGF0ZVJlc2V0LGV4cG9ydHMuaW5mbGF0ZVJlc2V0Mj1pbmZsYXRlUmVzZXQyLGV4cG9ydHMuaW5mbGF0ZVJlc2V0S2VlcD1pbmZsYXRlUmVzZXRLZWVwLGV4cG9ydHMuaW5mbGF0ZUluaXQ9ZnVuY3Rpb24oc3RybSl7cmV0dXJuIGluZmxhdGVJbml0MihzdHJtLERFRl9XQklUUyl9LGV4cG9ydHMuaW5mbGF0ZUluaXQyPWluZmxhdGVJbml0MixleHBvcnRzLmluZmxhdGU9ZnVuY3Rpb24oc3RybSxmbHVzaCl7dmFyIHN0YXRlLGlucHV0LG91dHB1dCxuZXh0LHB1dCxoYXZlLGxlZnQsaG9sZCxiaXRzLF9pbixfb3V0LGNvcHksZnJvbSxmcm9tX3NvdXJjZSxoZXJlX2JpdHMsaGVyZV9vcCxoZXJlX3ZhbCxsYXN0X2JpdHMsbGFzdF9vcCxsYXN0X3ZhbCxsZW4scmV0LG9wdHMsbixoZXJlPTAsaGJ1Zj1uZXcgdXRpbHMuQnVmOCg0KSxvcmRlcj1bMTYsMTcsMTgsMCw4LDcsOSw2LDEwLDUsMTEsNCwxMiwzLDEzLDIsMTQsMSwxNV07aWYoIXN0cm18fCFzdHJtLnN0YXRlfHwhc3RybS5vdXRwdXR8fCFzdHJtLmlucHV0JiYwIT09c3RybS5hdmFpbF9pbilyZXR1cm4gWl9TVFJFQU1fRVJST1I7KHN0YXRlPXN0cm0uc3RhdGUpLm1vZGU9PT1UWVBFJiYoc3RhdGUubW9kZT1UWVBFRE8pLHB1dD1zdHJtLm5leHRfb3V0LG91dHB1dD1zdHJtLm91dHB1dCxsZWZ0PXN0cm0uYXZhaWxfb3V0LG5leHQ9c3RybS5uZXh0X2luLGlucHV0PXN0cm0uaW5wdXQsaGF2ZT1zdHJtLmF2YWlsX2luLGhvbGQ9c3RhdGUuaG9sZCxiaXRzPXN0YXRlLmJpdHMsX2luPWhhdmUsX291dD1sZWZ0LHJldD1aX09LO2luZl9sZWF2ZTpmb3IoOzspc3dpdGNoKHN0YXRlLm1vZGUpe2Nhc2UgSEVBRDppZigwPT09c3RhdGUud3JhcCl7c3RhdGUubW9kZT1UWVBFRE87YnJlYWt9Zm9yKDtiaXRzPDE2Oyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9aWYoMiZzdGF0ZS53cmFwJiYzNTYxNT09PWhvbGQpe3N0YXRlLmNoZWNrPTAsaGJ1ZlswXT0yNTUmaG9sZCxoYnVmWzFdPWhvbGQ+Pj44JjI1NSxzdGF0ZS5jaGVjaz1jcmMzMihzdGF0ZS5jaGVjayxoYnVmLDIsMCksaG9sZD0wLGJpdHM9MCxzdGF0ZS5tb2RlPUZMQUdTO2JyZWFrfWlmKHN0YXRlLmZsYWdzPTAsc3RhdGUuaGVhZCYmKHN0YXRlLmhlYWQuZG9uZT0hMSksISgxJnN0YXRlLndyYXApfHwoKCgyNTUmaG9sZCk8PDgpKyhob2xkPj44KSklMzEpe3N0cm0ubXNnPVwiaW5jb3JyZWN0IGhlYWRlciBjaGVja1wiLHN0YXRlLm1vZGU9QkFEO2JyZWFrfWlmKCgxNSZob2xkKSE9PVpfREVGTEFURUQpe3N0cm0ubXNnPVwidW5rbm93biBjb21wcmVzc2lvbiBtZXRob2RcIixzdGF0ZS5tb2RlPUJBRDticmVha31pZihiaXRzLT00LGxlbj04KygxNSYoaG9sZD4+Pj00KSksMD09PXN0YXRlLndiaXRzKXN0YXRlLndiaXRzPWxlbjtlbHNlIGlmKGxlbj5zdGF0ZS53Yml0cyl7c3RybS5tc2c9XCJpbnZhbGlkIHdpbmRvdyBzaXplXCIsc3RhdGUubW9kZT1CQUQ7YnJlYWt9c3RhdGUuZG1heD0xPDxsZW4sc3RybS5hZGxlcj1zdGF0ZS5jaGVjaz0xLHN0YXRlLm1vZGU9NTEyJmhvbGQ/RElDVElEOlRZUEUsaG9sZD0wLGJpdHM9MDticmVhaztjYXNlIEZMQUdTOmZvcig7Yml0czwxNjspe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtoYXZlLS0saG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cyxiaXRzKz04fWlmKHN0YXRlLmZsYWdzPWhvbGQsKDI1NSZzdGF0ZS5mbGFncykhPT1aX0RFRkxBVEVEKXtzdHJtLm1zZz1cInVua25vd24gY29tcHJlc3Npb24gbWV0aG9kXCIsc3RhdGUubW9kZT1CQUQ7YnJlYWt9aWYoNTczNDQmc3RhdGUuZmxhZ3Mpe3N0cm0ubXNnPVwidW5rbm93biBoZWFkZXIgZmxhZ3Mgc2V0XCIsc3RhdGUubW9kZT1CQUQ7YnJlYWt9c3RhdGUuaGVhZCYmKHN0YXRlLmhlYWQudGV4dD1ob2xkPj44JjEpLDUxMiZzdGF0ZS5mbGFncyYmKGhidWZbMF09MjU1JmhvbGQsaGJ1ZlsxXT1ob2xkPj4+OCYyNTUsc3RhdGUuY2hlY2s9Y3JjMzIoc3RhdGUuY2hlY2ssaGJ1ZiwyLDApKSxob2xkPTAsYml0cz0wLHN0YXRlLm1vZGU9VElNRTtjYXNlIFRJTUU6Zm9yKDtiaXRzPDMyOyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9c3RhdGUuaGVhZCYmKHN0YXRlLmhlYWQudGltZT1ob2xkKSw1MTImc3RhdGUuZmxhZ3MmJihoYnVmWzBdPTI1NSZob2xkLGhidWZbMV09aG9sZD4+PjgmMjU1LGhidWZbMl09aG9sZD4+PjE2JjI1NSxoYnVmWzNdPWhvbGQ+Pj4yNCYyNTUsc3RhdGUuY2hlY2s9Y3JjMzIoc3RhdGUuY2hlY2ssaGJ1Ziw0LDApKSxob2xkPTAsYml0cz0wLHN0YXRlLm1vZGU9T1M7Y2FzZSBPUzpmb3IoO2JpdHM8MTY7KXtpZigwPT09aGF2ZSlicmVhayBpbmZfbGVhdmU7aGF2ZS0tLGhvbGQrPWlucHV0W25leHQrK108PGJpdHMsYml0cys9OH1zdGF0ZS5oZWFkJiYoc3RhdGUuaGVhZC54ZmxhZ3M9MjU1JmhvbGQsc3RhdGUuaGVhZC5vcz1ob2xkPj44KSw1MTImc3RhdGUuZmxhZ3MmJihoYnVmWzBdPTI1NSZob2xkLGhidWZbMV09aG9sZD4+PjgmMjU1LHN0YXRlLmNoZWNrPWNyYzMyKHN0YXRlLmNoZWNrLGhidWYsMiwwKSksaG9sZD0wLGJpdHM9MCxzdGF0ZS5tb2RlPUVYTEVOO2Nhc2UgRVhMRU46aWYoMTAyNCZzdGF0ZS5mbGFncyl7Zm9yKDtiaXRzPDE2Oyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9c3RhdGUubGVuZ3RoPWhvbGQsc3RhdGUuaGVhZCYmKHN0YXRlLmhlYWQuZXh0cmFfbGVuPWhvbGQpLDUxMiZzdGF0ZS5mbGFncyYmKGhidWZbMF09MjU1JmhvbGQsaGJ1ZlsxXT1ob2xkPj4+OCYyNTUsc3RhdGUuY2hlY2s9Y3JjMzIoc3RhdGUuY2hlY2ssaGJ1ZiwyLDApKSxob2xkPTAsYml0cz0wfWVsc2Ugc3RhdGUuaGVhZCYmKHN0YXRlLmhlYWQuZXh0cmE9bnVsbCk7c3RhdGUubW9kZT1FWFRSQTtjYXNlIEVYVFJBOmlmKDEwMjQmc3RhdGUuZmxhZ3MmJigoY29weT1zdGF0ZS5sZW5ndGgpPmhhdmUmJihjb3B5PWhhdmUpLGNvcHkmJihzdGF0ZS5oZWFkJiYobGVuPXN0YXRlLmhlYWQuZXh0cmFfbGVuLXN0YXRlLmxlbmd0aCxzdGF0ZS5oZWFkLmV4dHJhfHwoc3RhdGUuaGVhZC5leHRyYT1uZXcgQXJyYXkoc3RhdGUuaGVhZC5leHRyYV9sZW4pKSx1dGlscy5hcnJheVNldChzdGF0ZS5oZWFkLmV4dHJhLGlucHV0LG5leHQsY29weSxsZW4pKSw1MTImc3RhdGUuZmxhZ3MmJihzdGF0ZS5jaGVjaz1jcmMzMihzdGF0ZS5jaGVjayxpbnB1dCxjb3B5LG5leHQpKSxoYXZlLT1jb3B5LG5leHQrPWNvcHksc3RhdGUubGVuZ3RoLT1jb3B5KSxzdGF0ZS5sZW5ndGgpKWJyZWFrIGluZl9sZWF2ZTtzdGF0ZS5sZW5ndGg9MCxzdGF0ZS5tb2RlPU5BTUU7Y2FzZSBOQU1FOmlmKDIwNDgmc3RhdGUuZmxhZ3Mpe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtjb3B5PTA7ZG97bGVuPWlucHV0W25leHQrY29weSsrXSxzdGF0ZS5oZWFkJiZsZW4mJnN0YXRlLmxlbmd0aDw2NTUzNiYmKHN0YXRlLmhlYWQubmFtZSs9U3RyaW5nLmZyb21DaGFyQ29kZShsZW4pKX13aGlsZShsZW4mJmNvcHk8aGF2ZSk7aWYoNTEyJnN0YXRlLmZsYWdzJiYoc3RhdGUuY2hlY2s9Y3JjMzIoc3RhdGUuY2hlY2ssaW5wdXQsY29weSxuZXh0KSksaGF2ZS09Y29weSxuZXh0Kz1jb3B5LGxlbilicmVhayBpbmZfbGVhdmV9ZWxzZSBzdGF0ZS5oZWFkJiYoc3RhdGUuaGVhZC5uYW1lPW51bGwpO3N0YXRlLmxlbmd0aD0wLHN0YXRlLm1vZGU9Q09NTUVOVDtjYXNlIENPTU1FTlQ6aWYoNDA5NiZzdGF0ZS5mbGFncyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2NvcHk9MDtkb3tsZW49aW5wdXRbbmV4dCtjb3B5KytdLHN0YXRlLmhlYWQmJmxlbiYmc3RhdGUubGVuZ3RoPDY1NTM2JiYoc3RhdGUuaGVhZC5jb21tZW50Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKGxlbikpfXdoaWxlKGxlbiYmY29weTxoYXZlKTtpZig1MTImc3RhdGUuZmxhZ3MmJihzdGF0ZS5jaGVjaz1jcmMzMihzdGF0ZS5jaGVjayxpbnB1dCxjb3B5LG5leHQpKSxoYXZlLT1jb3B5LG5leHQrPWNvcHksbGVuKWJyZWFrIGluZl9sZWF2ZX1lbHNlIHN0YXRlLmhlYWQmJihzdGF0ZS5oZWFkLmNvbW1lbnQ9bnVsbCk7c3RhdGUubW9kZT1IQ1JDO2Nhc2UgSENSQzppZig1MTImc3RhdGUuZmxhZ3Mpe2Zvcig7Yml0czwxNjspe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtoYXZlLS0saG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cyxiaXRzKz04fWlmKGhvbGQhPT0oNjU1MzUmc3RhdGUuY2hlY2spKXtzdHJtLm1zZz1cImhlYWRlciBjcmMgbWlzbWF0Y2hcIixzdGF0ZS5tb2RlPUJBRDticmVha31ob2xkPTAsYml0cz0wfXN0YXRlLmhlYWQmJihzdGF0ZS5oZWFkLmhjcmM9c3RhdGUuZmxhZ3M+PjkmMSxzdGF0ZS5oZWFkLmRvbmU9ITApLHN0cm0uYWRsZXI9c3RhdGUuY2hlY2s9MCxzdGF0ZS5tb2RlPVRZUEU7YnJlYWs7Y2FzZSBESUNUSUQ6Zm9yKDtiaXRzPDMyOyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9c3RybS5hZGxlcj1zdGF0ZS5jaGVjaz16c3dhcDMyKGhvbGQpLGhvbGQ9MCxiaXRzPTAsc3RhdGUubW9kZT1ESUNUO2Nhc2UgRElDVDppZigwPT09c3RhdGUuaGF2ZWRpY3QpcmV0dXJuIHN0cm0ubmV4dF9vdXQ9cHV0LHN0cm0uYXZhaWxfb3V0PWxlZnQsc3RybS5uZXh0X2luPW5leHQsc3RybS5hdmFpbF9pbj1oYXZlLHN0YXRlLmhvbGQ9aG9sZCxzdGF0ZS5iaXRzPWJpdHMsWl9ORUVEX0RJQ1Q7c3RybS5hZGxlcj1zdGF0ZS5jaGVjaz0xLHN0YXRlLm1vZGU9VFlQRTtjYXNlIFRZUEU6aWYoZmx1c2g9PT1aX0JMT0NLfHxmbHVzaD09PVpfVFJFRVMpYnJlYWsgaW5mX2xlYXZlO2Nhc2UgVFlQRURPOmlmKHN0YXRlLmxhc3Qpe2hvbGQ+Pj49NyZiaXRzLGJpdHMtPTcmYml0cyxzdGF0ZS5tb2RlPUNIRUNLO2JyZWFrfWZvcig7Yml0czwzOyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9c3dpdGNoKHN0YXRlLmxhc3Q9MSZob2xkLGJpdHMtPTEsMyYoaG9sZD4+Pj0xKSl7Y2FzZSAwOnN0YXRlLm1vZGU9U1RPUkVEO2JyZWFrO2Nhc2UgMTppZihmaXhlZHRhYmxlcyhzdGF0ZSksc3RhdGUubW9kZT1MRU5fLGZsdXNoPT09Wl9UUkVFUyl7aG9sZD4+Pj0yLGJpdHMtPTI7YnJlYWsgaW5mX2xlYXZlfWJyZWFrO2Nhc2UgMjpzdGF0ZS5tb2RlPVRBQkxFO2JyZWFrO2Nhc2UgMzpzdHJtLm1zZz1cImludmFsaWQgYmxvY2sgdHlwZVwiLHN0YXRlLm1vZGU9QkFEfWhvbGQ+Pj49MixiaXRzLT0yO2JyZWFrO2Nhc2UgU1RPUkVEOmZvcihob2xkPj4+PTcmYml0cyxiaXRzLT03JmJpdHM7Yml0czwzMjspe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtoYXZlLS0saG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cyxiaXRzKz04fWlmKCg2NTUzNSZob2xkKSE9KGhvbGQ+Pj4xNl42NTUzNSkpe3N0cm0ubXNnPVwiaW52YWxpZCBzdG9yZWQgYmxvY2sgbGVuZ3Roc1wiLHN0YXRlLm1vZGU9QkFEO2JyZWFrfWlmKHN0YXRlLmxlbmd0aD02NTUzNSZob2xkLGhvbGQ9MCxiaXRzPTAsc3RhdGUubW9kZT1DT1BZXyxmbHVzaD09PVpfVFJFRVMpYnJlYWsgaW5mX2xlYXZlO2Nhc2UgQ09QWV86c3RhdGUubW9kZT1DT1BZO2Nhc2UgQ09QWTppZihjb3B5PXN0YXRlLmxlbmd0aCl7aWYoY29weT5oYXZlJiYoY29weT1oYXZlKSxjb3B5PmxlZnQmJihjb3B5PWxlZnQpLDA9PT1jb3B5KWJyZWFrIGluZl9sZWF2ZTt1dGlscy5hcnJheVNldChvdXRwdXQsaW5wdXQsbmV4dCxjb3B5LHB1dCksaGF2ZS09Y29weSxuZXh0Kz1jb3B5LGxlZnQtPWNvcHkscHV0Kz1jb3B5LHN0YXRlLmxlbmd0aC09Y29weTticmVha31zdGF0ZS5tb2RlPVRZUEU7YnJlYWs7Y2FzZSBUQUJMRTpmb3IoO2JpdHM8MTQ7KXtpZigwPT09aGF2ZSlicmVhayBpbmZfbGVhdmU7aGF2ZS0tLGhvbGQrPWlucHV0W25leHQrK108PGJpdHMsYml0cys9OH1pZihzdGF0ZS5ubGVuPTI1NysoMzEmaG9sZCksaG9sZD4+Pj01LGJpdHMtPTUsc3RhdGUubmRpc3Q9MSsoMzEmaG9sZCksaG9sZD4+Pj01LGJpdHMtPTUsc3RhdGUubmNvZGU9NCsoMTUmaG9sZCksaG9sZD4+Pj00LGJpdHMtPTQsc3RhdGUubmxlbj4yODZ8fHN0YXRlLm5kaXN0PjMwKXtzdHJtLm1zZz1cInRvbyBtYW55IGxlbmd0aCBvciBkaXN0YW5jZSBzeW1ib2xzXCIsc3RhdGUubW9kZT1CQUQ7YnJlYWt9c3RhdGUuaGF2ZT0wLHN0YXRlLm1vZGU9TEVOTEVOUztjYXNlIExFTkxFTlM6Zm9yKDtzdGF0ZS5oYXZlPHN0YXRlLm5jb2RlOyl7Zm9yKDtiaXRzPDM7KXtpZigwPT09aGF2ZSlicmVhayBpbmZfbGVhdmU7aGF2ZS0tLGhvbGQrPWlucHV0W25leHQrK108PGJpdHMsYml0cys9OH1zdGF0ZS5sZW5zW29yZGVyW3N0YXRlLmhhdmUrK11dPTcmaG9sZCxob2xkPj4+PTMsYml0cy09M31mb3IoO3N0YXRlLmhhdmU8MTk7KXN0YXRlLmxlbnNbb3JkZXJbc3RhdGUuaGF2ZSsrXV09MDtpZihzdGF0ZS5sZW5jb2RlPXN0YXRlLmxlbmR5bixzdGF0ZS5sZW5iaXRzPTcsb3B0cz17Yml0czpzdGF0ZS5sZW5iaXRzfSxyZXQ9aW5mbGF0ZV90YWJsZShDT0RFUyxzdGF0ZS5sZW5zLDAsMTksc3RhdGUubGVuY29kZSwwLHN0YXRlLndvcmssb3B0cyksc3RhdGUubGVuYml0cz1vcHRzLmJpdHMscmV0KXtzdHJtLm1zZz1cImludmFsaWQgY29kZSBsZW5ndGhzIHNldFwiLHN0YXRlLm1vZGU9QkFEO2JyZWFrfXN0YXRlLmhhdmU9MCxzdGF0ZS5tb2RlPUNPREVMRU5TO2Nhc2UgQ09ERUxFTlM6Zm9yKDtzdGF0ZS5oYXZlPHN0YXRlLm5sZW4rc3RhdGUubmRpc3Q7KXtmb3IoO2hlcmVfb3A9KGhlcmU9c3RhdGUubGVuY29kZVtob2xkJigxPDxzdGF0ZS5sZW5iaXRzKS0xXSk+Pj4xNiYyNTUsaGVyZV92YWw9NjU1MzUmaGVyZSwhKChoZXJlX2JpdHM9aGVyZT4+PjI0KTw9Yml0cyk7KXtpZigwPT09aGF2ZSlicmVhayBpbmZfbGVhdmU7aGF2ZS0tLGhvbGQrPWlucHV0W25leHQrK108PGJpdHMsYml0cys9OH1pZihoZXJlX3ZhbDwxNilob2xkPj4+PWhlcmVfYml0cyxiaXRzLT1oZXJlX2JpdHMsc3RhdGUubGVuc1tzdGF0ZS5oYXZlKytdPWhlcmVfdmFsO2Vsc2V7aWYoMTY9PT1oZXJlX3ZhbCl7Zm9yKG49aGVyZV9iaXRzKzI7Yml0czxuOyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9aWYoaG9sZD4+Pj1oZXJlX2JpdHMsYml0cy09aGVyZV9iaXRzLDA9PT1zdGF0ZS5oYXZlKXtzdHJtLm1zZz1cImludmFsaWQgYml0IGxlbmd0aCByZXBlYXRcIixzdGF0ZS5tb2RlPUJBRDticmVha31sZW49c3RhdGUubGVuc1tzdGF0ZS5oYXZlLTFdLGNvcHk9MysoMyZob2xkKSxob2xkPj4+PTIsYml0cy09Mn1lbHNlIGlmKDE3PT09aGVyZV92YWwpe2ZvcihuPWhlcmVfYml0cyszO2JpdHM8bjspe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtoYXZlLS0saG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cyxiaXRzKz04fWJpdHMtPWhlcmVfYml0cyxsZW49MCxjb3B5PTMrKDcmKGhvbGQ+Pj49aGVyZV9iaXRzKSksaG9sZD4+Pj0zLGJpdHMtPTN9ZWxzZXtmb3Iobj1oZXJlX2JpdHMrNztiaXRzPG47KXtpZigwPT09aGF2ZSlicmVhayBpbmZfbGVhdmU7aGF2ZS0tLGhvbGQrPWlucHV0W25leHQrK108PGJpdHMsYml0cys9OH1iaXRzLT1oZXJlX2JpdHMsbGVuPTAsY29weT0xMSsoMTI3Jihob2xkPj4+PWhlcmVfYml0cykpLGhvbGQ+Pj49NyxiaXRzLT03fWlmKHN0YXRlLmhhdmUrY29weT5zdGF0ZS5ubGVuK3N0YXRlLm5kaXN0KXtzdHJtLm1zZz1cImludmFsaWQgYml0IGxlbmd0aCByZXBlYXRcIixzdGF0ZS5tb2RlPUJBRDticmVha31mb3IoO2NvcHktLTspc3RhdGUubGVuc1tzdGF0ZS5oYXZlKytdPWxlbn19aWYoc3RhdGUubW9kZT09PUJBRClicmVhaztpZigwPT09c3RhdGUubGVuc1syNTZdKXtzdHJtLm1zZz1cImludmFsaWQgY29kZSAtLSBtaXNzaW5nIGVuZC1vZi1ibG9ja1wiLHN0YXRlLm1vZGU9QkFEO2JyZWFrfWlmKHN0YXRlLmxlbmJpdHM9OSxvcHRzPXtiaXRzOnN0YXRlLmxlbmJpdHN9LHJldD1pbmZsYXRlX3RhYmxlKExFTlMsc3RhdGUubGVucywwLHN0YXRlLm5sZW4sc3RhdGUubGVuY29kZSwwLHN0YXRlLndvcmssb3B0cyksc3RhdGUubGVuYml0cz1vcHRzLmJpdHMscmV0KXtzdHJtLm1zZz1cImludmFsaWQgbGl0ZXJhbC9sZW5ndGhzIHNldFwiLHN0YXRlLm1vZGU9QkFEO2JyZWFrfWlmKHN0YXRlLmRpc3RiaXRzPTYsc3RhdGUuZGlzdGNvZGU9c3RhdGUuZGlzdGR5bixvcHRzPXtiaXRzOnN0YXRlLmRpc3RiaXRzfSxyZXQ9aW5mbGF0ZV90YWJsZShESVNUUyxzdGF0ZS5sZW5zLHN0YXRlLm5sZW4sc3RhdGUubmRpc3Qsc3RhdGUuZGlzdGNvZGUsMCxzdGF0ZS53b3JrLG9wdHMpLHN0YXRlLmRpc3RiaXRzPW9wdHMuYml0cyxyZXQpe3N0cm0ubXNnPVwiaW52YWxpZCBkaXN0YW5jZXMgc2V0XCIsc3RhdGUubW9kZT1CQUQ7YnJlYWt9aWYoc3RhdGUubW9kZT1MRU5fLGZsdXNoPT09Wl9UUkVFUylicmVhayBpbmZfbGVhdmU7Y2FzZSBMRU5fOnN0YXRlLm1vZGU9TEVOO2Nhc2UgTEVOOmlmKGhhdmU+PTYmJmxlZnQ+PTI1OCl7c3RybS5uZXh0X291dD1wdXQsc3RybS5hdmFpbF9vdXQ9bGVmdCxzdHJtLm5leHRfaW49bmV4dCxzdHJtLmF2YWlsX2luPWhhdmUsc3RhdGUuaG9sZD1ob2xkLHN0YXRlLmJpdHM9Yml0cyxpbmZsYXRlX2Zhc3Qoc3RybSxfb3V0KSxwdXQ9c3RybS5uZXh0X291dCxvdXRwdXQ9c3RybS5vdXRwdXQsbGVmdD1zdHJtLmF2YWlsX291dCxuZXh0PXN0cm0ubmV4dF9pbixpbnB1dD1zdHJtLmlucHV0LGhhdmU9c3RybS5hdmFpbF9pbixob2xkPXN0YXRlLmhvbGQsYml0cz1zdGF0ZS5iaXRzLHN0YXRlLm1vZGU9PT1UWVBFJiYoc3RhdGUuYmFjaz0tMSk7YnJlYWt9Zm9yKHN0YXRlLmJhY2s9MDtoZXJlX29wPShoZXJlPXN0YXRlLmxlbmNvZGVbaG9sZCYoMTw8c3RhdGUubGVuYml0cyktMV0pPj4+MTYmMjU1LGhlcmVfdmFsPTY1NTM1JmhlcmUsISgoaGVyZV9iaXRzPWhlcmU+Pj4yNCk8PWJpdHMpOyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9aWYoaGVyZV9vcCYmMD09KDI0MCZoZXJlX29wKSl7Zm9yKGxhc3RfYml0cz1oZXJlX2JpdHMsbGFzdF9vcD1oZXJlX29wLGxhc3RfdmFsPWhlcmVfdmFsO2hlcmVfb3A9KGhlcmU9c3RhdGUubGVuY29kZVtsYXN0X3ZhbCsoKGhvbGQmKDE8PGxhc3RfYml0cytsYXN0X29wKS0xKT4+bGFzdF9iaXRzKV0pPj4+MTYmMjU1LGhlcmVfdmFsPTY1NTM1JmhlcmUsIShsYXN0X2JpdHMrKGhlcmVfYml0cz1oZXJlPj4+MjQpPD1iaXRzKTspe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtoYXZlLS0saG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cyxiaXRzKz04fWhvbGQ+Pj49bGFzdF9iaXRzLGJpdHMtPWxhc3RfYml0cyxzdGF0ZS5iYWNrKz1sYXN0X2JpdHN9aWYoaG9sZD4+Pj1oZXJlX2JpdHMsYml0cy09aGVyZV9iaXRzLHN0YXRlLmJhY2srPWhlcmVfYml0cyxzdGF0ZS5sZW5ndGg9aGVyZV92YWwsMD09PWhlcmVfb3Ape3N0YXRlLm1vZGU9TElUO2JyZWFrfWlmKDMyJmhlcmVfb3Ape3N0YXRlLmJhY2s9LTEsc3RhdGUubW9kZT1UWVBFO2JyZWFrfWlmKDY0JmhlcmVfb3Ape3N0cm0ubXNnPVwiaW52YWxpZCBsaXRlcmFsL2xlbmd0aCBjb2RlXCIsc3RhdGUubW9kZT1CQUQ7YnJlYWt9c3RhdGUuZXh0cmE9MTUmaGVyZV9vcCxzdGF0ZS5tb2RlPUxFTkVYVDtjYXNlIExFTkVYVDppZihzdGF0ZS5leHRyYSl7Zm9yKG49c3RhdGUuZXh0cmE7Yml0czxuOyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9c3RhdGUubGVuZ3RoKz1ob2xkJigxPDxzdGF0ZS5leHRyYSktMSxob2xkPj4+PXN0YXRlLmV4dHJhLGJpdHMtPXN0YXRlLmV4dHJhLHN0YXRlLmJhY2srPXN0YXRlLmV4dHJhfXN0YXRlLndhcz1zdGF0ZS5sZW5ndGgsc3RhdGUubW9kZT1ESVNUO2Nhc2UgRElTVDpmb3IoO2hlcmVfb3A9KGhlcmU9c3RhdGUuZGlzdGNvZGVbaG9sZCYoMTw8c3RhdGUuZGlzdGJpdHMpLTFdKT4+PjE2JjI1NSxoZXJlX3ZhbD02NTUzNSZoZXJlLCEoKGhlcmVfYml0cz1oZXJlPj4+MjQpPD1iaXRzKTspe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtoYXZlLS0saG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cyxiaXRzKz04fWlmKDA9PSgyNDAmaGVyZV9vcCkpe2ZvcihsYXN0X2JpdHM9aGVyZV9iaXRzLGxhc3Rfb3A9aGVyZV9vcCxsYXN0X3ZhbD1oZXJlX3ZhbDtoZXJlX29wPShoZXJlPXN0YXRlLmRpc3Rjb2RlW2xhc3RfdmFsKygoaG9sZCYoMTw8bGFzdF9iaXRzK2xhc3Rfb3ApLTEpPj5sYXN0X2JpdHMpXSk+Pj4xNiYyNTUsaGVyZV92YWw9NjU1MzUmaGVyZSwhKGxhc3RfYml0cysoaGVyZV9iaXRzPWhlcmU+Pj4yNCk8PWJpdHMpOyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9aG9sZD4+Pj1sYXN0X2JpdHMsYml0cy09bGFzdF9iaXRzLHN0YXRlLmJhY2srPWxhc3RfYml0c31pZihob2xkPj4+PWhlcmVfYml0cyxiaXRzLT1oZXJlX2JpdHMsc3RhdGUuYmFjays9aGVyZV9iaXRzLDY0JmhlcmVfb3Ape3N0cm0ubXNnPVwiaW52YWxpZCBkaXN0YW5jZSBjb2RlXCIsc3RhdGUubW9kZT1CQUQ7YnJlYWt9c3RhdGUub2Zmc2V0PWhlcmVfdmFsLHN0YXRlLmV4dHJhPTE1JmhlcmVfb3Asc3RhdGUubW9kZT1ESVNURVhUO2Nhc2UgRElTVEVYVDppZihzdGF0ZS5leHRyYSl7Zm9yKG49c3RhdGUuZXh0cmE7Yml0czxuOyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9c3RhdGUub2Zmc2V0Kz1ob2xkJigxPDxzdGF0ZS5leHRyYSktMSxob2xkPj4+PXN0YXRlLmV4dHJhLGJpdHMtPXN0YXRlLmV4dHJhLHN0YXRlLmJhY2srPXN0YXRlLmV4dHJhfWlmKHN0YXRlLm9mZnNldD5zdGF0ZS5kbWF4KXtzdHJtLm1zZz1cImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrXCIsc3RhdGUubW9kZT1CQUQ7YnJlYWt9c3RhdGUubW9kZT1NQVRDSDtjYXNlIE1BVENIOmlmKDA9PT1sZWZ0KWJyZWFrIGluZl9sZWF2ZTtpZihjb3B5PV9vdXQtbGVmdCxzdGF0ZS5vZmZzZXQ+Y29weSl7aWYoKGNvcHk9c3RhdGUub2Zmc2V0LWNvcHkpPnN0YXRlLndoYXZlJiZzdGF0ZS5zYW5lKXtzdHJtLm1zZz1cImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrXCIsc3RhdGUubW9kZT1CQUQ7YnJlYWt9Y29weT5zdGF0ZS53bmV4dD8oY29weS09c3RhdGUud25leHQsZnJvbT1zdGF0ZS53c2l6ZS1jb3B5KTpmcm9tPXN0YXRlLnduZXh0LWNvcHksY29weT5zdGF0ZS5sZW5ndGgmJihjb3B5PXN0YXRlLmxlbmd0aCksZnJvbV9zb3VyY2U9c3RhdGUud2luZG93fWVsc2UgZnJvbV9zb3VyY2U9b3V0cHV0LGZyb209cHV0LXN0YXRlLm9mZnNldCxjb3B5PXN0YXRlLmxlbmd0aDtjb3B5PmxlZnQmJihjb3B5PWxlZnQpLGxlZnQtPWNvcHksc3RhdGUubGVuZ3RoLT1jb3B5O2Rve291dHB1dFtwdXQrK109ZnJvbV9zb3VyY2VbZnJvbSsrXX13aGlsZSgtLWNvcHkpOzA9PT1zdGF0ZS5sZW5ndGgmJihzdGF0ZS5tb2RlPUxFTik7YnJlYWs7Y2FzZSBMSVQ6aWYoMD09PWxlZnQpYnJlYWsgaW5mX2xlYXZlO291dHB1dFtwdXQrK109c3RhdGUubGVuZ3RoLGxlZnQtLSxzdGF0ZS5tb2RlPUxFTjticmVhaztjYXNlIENIRUNLOmlmKHN0YXRlLndyYXApe2Zvcig7Yml0czwzMjspe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtoYXZlLS0saG9sZHw9aW5wdXRbbmV4dCsrXTw8Yml0cyxiaXRzKz04fWlmKF9vdXQtPWxlZnQsc3RybS50b3RhbF9vdXQrPV9vdXQsc3RhdGUudG90YWwrPV9vdXQsX291dCYmKHN0cm0uYWRsZXI9c3RhdGUuY2hlY2s9c3RhdGUuZmxhZ3M/Y3JjMzIoc3RhdGUuY2hlY2ssb3V0cHV0LF9vdXQscHV0LV9vdXQpOmFkbGVyMzIoc3RhdGUuY2hlY2ssb3V0cHV0LF9vdXQscHV0LV9vdXQpKSxfb3V0PWxlZnQsKHN0YXRlLmZsYWdzP2hvbGQ6enN3YXAzMihob2xkKSkhPT1zdGF0ZS5jaGVjayl7c3RybS5tc2c9XCJpbmNvcnJlY3QgZGF0YSBjaGVja1wiLHN0YXRlLm1vZGU9QkFEO2JyZWFrfWhvbGQ9MCxiaXRzPTB9c3RhdGUubW9kZT1MRU5HVEg7Y2FzZSBMRU5HVEg6aWYoc3RhdGUud3JhcCYmc3RhdGUuZmxhZ3Mpe2Zvcig7Yml0czwzMjspe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtoYXZlLS0saG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cyxiaXRzKz04fWlmKGhvbGQhPT0oNDI5NDk2NzI5NSZzdGF0ZS50b3RhbCkpe3N0cm0ubXNnPVwiaW5jb3JyZWN0IGxlbmd0aCBjaGVja1wiLHN0YXRlLm1vZGU9QkFEO2JyZWFrfWhvbGQ9MCxiaXRzPTB9c3RhdGUubW9kZT1ET05FO2Nhc2UgRE9ORTpyZXQ9Wl9TVFJFQU1fRU5EO2JyZWFrIGluZl9sZWF2ZTtjYXNlIEJBRDpyZXQ9Wl9EQVRBX0VSUk9SO2JyZWFrIGluZl9sZWF2ZTtjYXNlIE1FTTpyZXR1cm4gWl9NRU1fRVJST1I7Y2FzZSBTWU5DOmRlZmF1bHQ6cmV0dXJuIFpfU1RSRUFNX0VSUk9SfXJldHVybiBzdHJtLm5leHRfb3V0PXB1dCxzdHJtLmF2YWlsX291dD1sZWZ0LHN0cm0ubmV4dF9pbj1uZXh0LHN0cm0uYXZhaWxfaW49aGF2ZSxzdGF0ZS5ob2xkPWhvbGQsc3RhdGUuYml0cz1iaXRzLChzdGF0ZS53c2l6ZXx8X291dCE9PXN0cm0uYXZhaWxfb3V0JiZzdGF0ZS5tb2RlPEJBRCYmKHN0YXRlLm1vZGU8Q0hFQ0t8fGZsdXNoIT09Wl9GSU5JU0gpKSYmdXBkYXRld2luZG93KHN0cm0sc3RybS5vdXRwdXQsc3RybS5uZXh0X291dCxfb3V0LXN0cm0uYXZhaWxfb3V0KT8oc3RhdGUubW9kZT1NRU0sWl9NRU1fRVJST1IpOihfaW4tPXN0cm0uYXZhaWxfaW4sX291dC09c3RybS5hdmFpbF9vdXQsc3RybS50b3RhbF9pbis9X2luLHN0cm0udG90YWxfb3V0Kz1fb3V0LHN0YXRlLnRvdGFsKz1fb3V0LHN0YXRlLndyYXAmJl9vdXQmJihzdHJtLmFkbGVyPXN0YXRlLmNoZWNrPXN0YXRlLmZsYWdzP2NyYzMyKHN0YXRlLmNoZWNrLG91dHB1dCxfb3V0LHN0cm0ubmV4dF9vdXQtX291dCk6YWRsZXIzMihzdGF0ZS5jaGVjayxvdXRwdXQsX291dCxzdHJtLm5leHRfb3V0LV9vdXQpKSxzdHJtLmRhdGFfdHlwZT1zdGF0ZS5iaXRzKyhzdGF0ZS5sYXN0PzY0OjApKyhzdGF0ZS5tb2RlPT09VFlQRT8xMjg6MCkrKHN0YXRlLm1vZGU9PT1MRU5ffHxzdGF0ZS5tb2RlPT09Q09QWV8/MjU2OjApLCgwPT09X2luJiYwPT09X291dHx8Zmx1c2g9PT1aX0ZJTklTSCkmJnJldD09PVpfT0smJihyZXQ9Wl9CVUZfRVJST1IpLHJldCl9LGV4cG9ydHMuaW5mbGF0ZUVuZD1mdW5jdGlvbihzdHJtKXtpZighc3RybXx8IXN0cm0uc3RhdGUpcmV0dXJuIFpfU1RSRUFNX0VSUk9SO3ZhciBzdGF0ZT1zdHJtLnN0YXRlO3JldHVybiBzdGF0ZS53aW5kb3cmJihzdGF0ZS53aW5kb3c9bnVsbCksc3RybS5zdGF0ZT1udWxsLFpfT0t9LGV4cG9ydHMuaW5mbGF0ZUdldEhlYWRlcj1mdW5jdGlvbihzdHJtLGhlYWQpe3ZhciBzdGF0ZTtyZXR1cm4gc3RybSYmc3RybS5zdGF0ZT8wPT0oMiYoc3RhdGU9c3RybS5zdGF0ZSkud3JhcCk/Wl9TVFJFQU1fRVJST1I6KHN0YXRlLmhlYWQ9aGVhZCxoZWFkLmRvbmU9ITEsWl9PSyk6Wl9TVFJFQU1fRVJST1J9LGV4cG9ydHMuaW5mbGF0ZVNldERpY3Rpb25hcnk9ZnVuY3Rpb24oc3RybSxkaWN0aW9uYXJ5KXt2YXIgc3RhdGUsZGljdExlbmd0aD1kaWN0aW9uYXJ5Lmxlbmd0aDtyZXR1cm4gc3RybSYmc3RybS5zdGF0ZT8wIT09KHN0YXRlPXN0cm0uc3RhdGUpLndyYXAmJnN0YXRlLm1vZGUhPT1ESUNUP1pfU1RSRUFNX0VSUk9SOnN0YXRlLm1vZGU9PT1ESUNUJiZhZGxlcjMyKDEsZGljdGlvbmFyeSxkaWN0TGVuZ3RoLDApIT09c3RhdGUuY2hlY2s/Wl9EQVRBX0VSUk9SOnVwZGF0ZXdpbmRvdyhzdHJtLGRpY3Rpb25hcnksZGljdExlbmd0aCxkaWN0TGVuZ3RoKT8oc3RhdGUubW9kZT1NRU0sWl9NRU1fRVJST1IpOihzdGF0ZS5oYXZlZGljdD0xLFpfT0spOlpfU1RSRUFNX0VSUk9SfSxleHBvcnRzLmluZmxhdGVJbmZvPVwicGFrbyBpbmZsYXRlIChmcm9tIE5vZGVjYSBwcm9qZWN0KVwifSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihzdHJtLHN0YXJ0KXt2YXIgc3RhdGUsX2luLGxhc3QsX291dCxiZWcsZW5kLGRtYXgsd3NpemUsd2hhdmUsd25leHQsc193aW5kb3csaG9sZCxiaXRzLGxjb2RlLGRjb2RlLGxtYXNrLGRtYXNrLGhlcmUsb3AsbGVuLGRpc3QsZnJvbSxmcm9tX3NvdXJjZSxpbnB1dCxvdXRwdXQ7c3RhdGU9c3RybS5zdGF0ZSxfaW49c3RybS5uZXh0X2luLGlucHV0PXN0cm0uaW5wdXQsbGFzdD1faW4rKHN0cm0uYXZhaWxfaW4tNSksX291dD1zdHJtLm5leHRfb3V0LG91dHB1dD1zdHJtLm91dHB1dCxiZWc9X291dC0oc3RhcnQtc3RybS5hdmFpbF9vdXQpLGVuZD1fb3V0KyhzdHJtLmF2YWlsX291dC0yNTcpLGRtYXg9c3RhdGUuZG1heCx3c2l6ZT1zdGF0ZS53c2l6ZSx3aGF2ZT1zdGF0ZS53aGF2ZSx3bmV4dD1zdGF0ZS53bmV4dCxzX3dpbmRvdz1zdGF0ZS53aW5kb3csaG9sZD1zdGF0ZS5ob2xkLGJpdHM9c3RhdGUuYml0cyxsY29kZT1zdGF0ZS5sZW5jb2RlLGRjb2RlPXN0YXRlLmRpc3Rjb2RlLGxtYXNrPSgxPDxzdGF0ZS5sZW5iaXRzKS0xLGRtYXNrPSgxPDxzdGF0ZS5kaXN0Yml0cyktMTt0b3A6ZG97Yml0czwxNSYmKGhvbGQrPWlucHV0W19pbisrXTw8Yml0cyxiaXRzKz04LGhvbGQrPWlucHV0W19pbisrXTw8Yml0cyxiaXRzKz04KSxoZXJlPWxjb2RlW2hvbGQmbG1hc2tdO2RvbGVuOmZvcig7Oyl7aWYoaG9sZD4+Pj1vcD1oZXJlPj4+MjQsYml0cy09b3AsMD09PShvcD1oZXJlPj4+MTYmMjU1KSlvdXRwdXRbX291dCsrXT02NTUzNSZoZXJlO2Vsc2V7aWYoISgxNiZvcCkpe2lmKDA9PSg2NCZvcCkpe2hlcmU9bGNvZGVbKDY1NTM1JmhlcmUpKyhob2xkJigxPDxvcCktMSldO2NvbnRpbnVlIGRvbGVufWlmKDMyJm9wKXtzdGF0ZS5tb2RlPTEyO2JyZWFrIHRvcH1zdHJtLm1zZz1cImludmFsaWQgbGl0ZXJhbC9sZW5ndGggY29kZVwiLHN0YXRlLm1vZGU9MzA7YnJlYWsgdG9wfWxlbj02NTUzNSZoZXJlLChvcCY9MTUpJiYoYml0czxvcCYmKGhvbGQrPWlucHV0W19pbisrXTw8Yml0cyxiaXRzKz04KSxsZW4rPWhvbGQmKDE8PG9wKS0xLGhvbGQ+Pj49b3AsYml0cy09b3ApLGJpdHM8MTUmJihob2xkKz1pbnB1dFtfaW4rK108PGJpdHMsYml0cys9OCxob2xkKz1pbnB1dFtfaW4rK108PGJpdHMsYml0cys9OCksaGVyZT1kY29kZVtob2xkJmRtYXNrXTtkb2Rpc3Q6Zm9yKDs7KXtpZihob2xkPj4+PW9wPWhlcmU+Pj4yNCxiaXRzLT1vcCwhKDE2JihvcD1oZXJlPj4+MTYmMjU1KSkpe2lmKDA9PSg2NCZvcCkpe2hlcmU9ZGNvZGVbKDY1NTM1JmhlcmUpKyhob2xkJigxPDxvcCktMSldO2NvbnRpbnVlIGRvZGlzdH1zdHJtLm1zZz1cImludmFsaWQgZGlzdGFuY2UgY29kZVwiLHN0YXRlLm1vZGU9MzA7YnJlYWsgdG9wfWlmKGRpc3Q9NjU1MzUmaGVyZSxiaXRzPChvcCY9MTUpJiYoaG9sZCs9aW5wdXRbX2luKytdPDxiaXRzLChiaXRzKz04KTxvcCYmKGhvbGQrPWlucHV0W19pbisrXTw8Yml0cyxiaXRzKz04KSksKGRpc3QrPWhvbGQmKDE8PG9wKS0xKT5kbWF4KXtzdHJtLm1zZz1cImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrXCIsc3RhdGUubW9kZT0zMDticmVhayB0b3B9aWYoaG9sZD4+Pj1vcCxiaXRzLT1vcCxkaXN0PihvcD1fb3V0LWJlZykpe2lmKChvcD1kaXN0LW9wKT53aGF2ZSYmc3RhdGUuc2FuZSl7c3RybS5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIHRvbyBmYXIgYmFja1wiLHN0YXRlLm1vZGU9MzA7YnJlYWsgdG9wfWlmKGZyb209MCxmcm9tX3NvdXJjZT1zX3dpbmRvdywwPT09d25leHQpe2lmKGZyb20rPXdzaXplLW9wLG9wPGxlbil7bGVuLT1vcDtkb3tvdXRwdXRbX291dCsrXT1zX3dpbmRvd1tmcm9tKytdfXdoaWxlKC0tb3ApO2Zyb209X291dC1kaXN0LGZyb21fc291cmNlPW91dHB1dH19ZWxzZSBpZih3bmV4dDxvcCl7aWYoZnJvbSs9d3NpemUrd25leHQtb3AsKG9wLT13bmV4dCk8bGVuKXtsZW4tPW9wO2Rve291dHB1dFtfb3V0KytdPXNfd2luZG93W2Zyb20rK119d2hpbGUoLS1vcCk7aWYoZnJvbT0wLHduZXh0PGxlbil7bGVuLT1vcD13bmV4dDtkb3tvdXRwdXRbX291dCsrXT1zX3dpbmRvd1tmcm9tKytdfXdoaWxlKC0tb3ApO2Zyb209X291dC1kaXN0LGZyb21fc291cmNlPW91dHB1dH19fWVsc2UgaWYoZnJvbSs9d25leHQtb3Asb3A8bGVuKXtsZW4tPW9wO2Rve291dHB1dFtfb3V0KytdPXNfd2luZG93W2Zyb20rK119d2hpbGUoLS1vcCk7ZnJvbT1fb3V0LWRpc3QsZnJvbV9zb3VyY2U9b3V0cHV0fWZvcig7bGVuPjI7KW91dHB1dFtfb3V0KytdPWZyb21fc291cmNlW2Zyb20rK10sb3V0cHV0W19vdXQrK109ZnJvbV9zb3VyY2VbZnJvbSsrXSxvdXRwdXRbX291dCsrXT1mcm9tX3NvdXJjZVtmcm9tKytdLGxlbi09MztsZW4mJihvdXRwdXRbX291dCsrXT1mcm9tX3NvdXJjZVtmcm9tKytdLGxlbj4xJiYob3V0cHV0W19vdXQrK109ZnJvbV9zb3VyY2VbZnJvbSsrXSkpfWVsc2V7ZnJvbT1fb3V0LWRpc3Q7ZG97b3V0cHV0W19vdXQrK109b3V0cHV0W2Zyb20rK10sb3V0cHV0W19vdXQrK109b3V0cHV0W2Zyb20rK10sb3V0cHV0W19vdXQrK109b3V0cHV0W2Zyb20rK10sbGVuLT0zfXdoaWxlKGxlbj4yKTtsZW4mJihvdXRwdXRbX291dCsrXT1vdXRwdXRbZnJvbSsrXSxsZW4+MSYmKG91dHB1dFtfb3V0KytdPW91dHB1dFtmcm9tKytdKSl9YnJlYWt9fWJyZWFrfX13aGlsZShfaW48bGFzdCYmX291dDxlbmQpO19pbi09bGVuPWJpdHM+PjMsaG9sZCY9KDE8PChiaXRzLT1sZW48PDMpKS0xLHN0cm0ubmV4dF9pbj1faW4sc3RybS5uZXh0X291dD1fb3V0LHN0cm0uYXZhaWxfaW49X2luPGxhc3Q/bGFzdC1faW4rNTo1LShfaW4tbGFzdCksc3RybS5hdmFpbF9vdXQ9X291dDxlbmQ/ZW5kLV9vdXQrMjU3OjI1Ny0oX291dC1lbmQpLHN0YXRlLmhvbGQ9aG9sZCxzdGF0ZS5iaXRzPWJpdHN9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgdXRpbHM9X193ZWJwYWNrX3JlcXVpcmVfXyg4KSxsYmFzZT1bMyw0LDUsNiw3LDgsOSwxMCwxMSwxMywxNSwxNywxOSwyMywyNywzMSwzNSw0Myw1MSw1OSw2Nyw4Myw5OSwxMTUsMTMxLDE2MywxOTUsMjI3LDI1OCwwLDBdLGxleHQ9WzE2LDE2LDE2LDE2LDE2LDE2LDE2LDE2LDE3LDE3LDE3LDE3LDE4LDE4LDE4LDE4LDE5LDE5LDE5LDE5LDIwLDIwLDIwLDIwLDIxLDIxLDIxLDIxLDE2LDcyLDc4XSxkYmFzZT1bMSwyLDMsNCw1LDcsOSwxMywxNywyNSwzMyw0OSw2NSw5NywxMjksMTkzLDI1NywzODUsNTEzLDc2OSwxMDI1LDE1MzcsMjA0OSwzMDczLDQwOTcsNjE0NSw4MTkzLDEyMjg5LDE2Mzg1LDI0NTc3LDAsMF0sZGV4dD1bMTYsMTYsMTYsMTYsMTcsMTcsMTgsMTgsMTksMTksMjAsMjAsMjEsMjEsMjIsMjIsMjMsMjMsMjQsMjQsMjUsMjUsMjYsMjYsMjcsMjcsMjgsMjgsMjksMjksNjQsNjRdO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKHR5cGUsbGVucyxsZW5zX2luZGV4LGNvZGVzLHRhYmxlLHRhYmxlX2luZGV4LHdvcmssb3B0cyl7dmFyIGluY3IsZmlsbCxsb3csbWFzayxuZXh0LGVuZCxoZXJlX2JpdHMsaGVyZV9vcCxoZXJlX3ZhbCxiaXRzPW9wdHMuYml0cyxsZW49MCxzeW09MCxtaW49MCxtYXg9MCxyb290PTAsY3Vycj0wLGRyb3A9MCxsZWZ0PTAsdXNlZD0wLGh1ZmY9MCxiYXNlPW51bGwsYmFzZV9pbmRleD0wLGNvdW50PW5ldyB1dGlscy5CdWYxNigxNiksb2Zmcz1uZXcgdXRpbHMuQnVmMTYoMTYpLGV4dHJhPW51bGwsZXh0cmFfaW5kZXg9MDtmb3IobGVuPTA7bGVuPD0xNTtsZW4rKyljb3VudFtsZW5dPTA7Zm9yKHN5bT0wO3N5bTxjb2RlcztzeW0rKyljb3VudFtsZW5zW2xlbnNfaW5kZXgrc3ltXV0rKztmb3Iocm9vdD1iaXRzLG1heD0xNTttYXg+PTEmJjA9PT1jb3VudFttYXhdO21heC0tKTtpZihyb290Pm1heCYmKHJvb3Q9bWF4KSwwPT09bWF4KXJldHVybiB0YWJsZVt0YWJsZV9pbmRleCsrXT0yMDk3MTUyMCx0YWJsZVt0YWJsZV9pbmRleCsrXT0yMDk3MTUyMCxvcHRzLmJpdHM9MSwwO2ZvcihtaW49MTttaW48bWF4JiYwPT09Y291bnRbbWluXTttaW4rKyk7Zm9yKHJvb3Q8bWluJiYocm9vdD1taW4pLGxlZnQ9MSxsZW49MTtsZW48PTE1O2xlbisrKWlmKGxlZnQ8PD0xLChsZWZ0LT1jb3VudFtsZW5dKTwwKXJldHVybi0xO2lmKGxlZnQ+MCYmKDA9PT10eXBlfHwxIT09bWF4KSlyZXR1cm4tMTtmb3Iob2Zmc1sxXT0wLGxlbj0xO2xlbjwxNTtsZW4rKylvZmZzW2xlbisxXT1vZmZzW2xlbl0rY291bnRbbGVuXTtmb3Ioc3ltPTA7c3ltPGNvZGVzO3N5bSsrKTAhPT1sZW5zW2xlbnNfaW5kZXgrc3ltXSYmKHdvcmtbb2Zmc1tsZW5zW2xlbnNfaW5kZXgrc3ltXV0rK109c3ltKTtpZigwPT09dHlwZT8oYmFzZT1leHRyYT13b3JrLGVuZD0xOSk6MT09PXR5cGU/KGJhc2U9bGJhc2UsYmFzZV9pbmRleC09MjU3LGV4dHJhPWxleHQsZXh0cmFfaW5kZXgtPTI1NyxlbmQ9MjU2KTooYmFzZT1kYmFzZSxleHRyYT1kZXh0LGVuZD0tMSksaHVmZj0wLHN5bT0wLGxlbj1taW4sbmV4dD10YWJsZV9pbmRleCxjdXJyPXJvb3QsZHJvcD0wLGxvdz0tMSxtYXNrPSh1c2VkPTE8PHJvb3QpLTEsMT09PXR5cGUmJnVzZWQ+ODUyfHwyPT09dHlwZSYmdXNlZD41OTIpcmV0dXJuIDE7Zm9yKDs7KXtoZXJlX2JpdHM9bGVuLWRyb3Asd29ya1tzeW1dPGVuZD8oaGVyZV9vcD0wLGhlcmVfdmFsPXdvcmtbc3ltXSk6d29ya1tzeW1dPmVuZD8oaGVyZV9vcD1leHRyYVtleHRyYV9pbmRleCt3b3JrW3N5bV1dLGhlcmVfdmFsPWJhc2VbYmFzZV9pbmRleCt3b3JrW3N5bV1dKTooaGVyZV9vcD05NixoZXJlX3ZhbD0wKSxpbmNyPTE8PGxlbi1kcm9wLG1pbj1maWxsPTE8PGN1cnI7ZG97dGFibGVbbmV4dCsoaHVmZj4+ZHJvcCkrKGZpbGwtPWluY3IpXT1oZXJlX2JpdHM8PDI0fGhlcmVfb3A8PDE2fGhlcmVfdmFsfDB9d2hpbGUoMCE9PWZpbGwpO2ZvcihpbmNyPTE8PGxlbi0xO2h1ZmYmaW5jcjspaW5jcj4+PTE7aWYoMCE9PWluY3I/KGh1ZmYmPWluY3ItMSxodWZmKz1pbmNyKTpodWZmPTAsc3ltKyssMD09LS1jb3VudFtsZW5dKXtpZihsZW49PT1tYXgpYnJlYWs7bGVuPWxlbnNbbGVuc19pbmRleCt3b3JrW3N5bV1dfWlmKGxlbj5yb290JiYoaHVmZiZtYXNrKSE9PWxvdyl7Zm9yKDA9PT1kcm9wJiYoZHJvcD1yb290KSxuZXh0Kz1taW4sbGVmdD0xPDwoY3Vycj1sZW4tZHJvcCk7Y3Vycitkcm9wPG1heCYmISgobGVmdC09Y291bnRbY3Vycitkcm9wXSk8PTApOyljdXJyKyssbGVmdDw8PTE7aWYodXNlZCs9MTw8Y3VyciwxPT09dHlwZSYmdXNlZD44NTJ8fDI9PT10eXBlJiZ1c2VkPjU5MilyZXR1cm4gMTt0YWJsZVtsb3c9aHVmZiZtYXNrXT1yb290PDwyNHxjdXJyPDwxNnxuZXh0LXRhYmxlX2luZGV4fDB9fXJldHVybiAwIT09aHVmZiYmKHRhYmxlW25leHQraHVmZl09bGVuLWRyb3A8PDI0fDY0PDwxNnwwKSxvcHRzLmJpdHM9cm9vdCwwfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oKXt0aGlzLnRleHQ9MCx0aGlzLnRpbWU9MCx0aGlzLnhmbGFncz0wLHRoaXMub3M9MCx0aGlzLmV4dHJhPW51bGwsdGhpcy5leHRyYV9sZW49MCx0aGlzLm5hbWU9XCJcIix0aGlzLmNvbW1lbnQ9XCJcIix0aGlzLmhjcmM9MCx0aGlzLmRvbmU9ITF9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgdXRpbHM9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxHZW5lcmljV29ya2VyPV9fd2VicGFja19yZXF1aXJlX18oMiksdXRmOD1fX3dlYnBhY2tfcmVxdWlyZV9fKDE0KSxjcmMzMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDQzKSxzaWduYXR1cmU9X193ZWJwYWNrX3JlcXVpcmVfXyg2OSksZGVjVG9IZXg9ZnVuY3Rpb24oZGVjLGJ5dGVzKXt2YXIgaSxoZXg9XCJcIjtmb3IoaT0wO2k8Ynl0ZXM7aSsrKWhleCs9U3RyaW5nLmZyb21DaGFyQ29kZSgyNTUmZGVjKSxkZWM+Pj49ODtyZXR1cm4gaGV4fSxnZW5lcmF0ZVppcFBhcnRzPWZ1bmN0aW9uKHN0cmVhbUluZm8sc3RyZWFtZWRDb250ZW50LHN0cmVhbWluZ0VuZGVkLG9mZnNldCxwbGF0Zm9ybSxlbmNvZGVGaWxlTmFtZSl7dmFyIGRvc1RpbWUsZG9zRGF0ZSxmaWxlPXN0cmVhbUluZm8uZmlsZSxjb21wcmVzc2lvbj1zdHJlYW1JbmZvLmNvbXByZXNzaW9uLHVzZUN1c3RvbUVuY29kaW5nPWVuY29kZUZpbGVOYW1lIT09dXRmOC51dGY4ZW5jb2RlLGVuY29kZWRGaWxlTmFtZT11dGlscy50cmFuc2Zvcm1UbyhcInN0cmluZ1wiLGVuY29kZUZpbGVOYW1lKGZpbGUubmFtZSkpLHV0ZkVuY29kZWRGaWxlTmFtZT11dGlscy50cmFuc2Zvcm1UbyhcInN0cmluZ1wiLHV0ZjgudXRmOGVuY29kZShmaWxlLm5hbWUpKSxjb21tZW50PWZpbGUuY29tbWVudCxlbmNvZGVkQ29tbWVudD11dGlscy50cmFuc2Zvcm1UbyhcInN0cmluZ1wiLGVuY29kZUZpbGVOYW1lKGNvbW1lbnQpKSx1dGZFbmNvZGVkQ29tbWVudD11dGlscy50cmFuc2Zvcm1UbyhcInN0cmluZ1wiLHV0ZjgudXRmOGVuY29kZShjb21tZW50KSksdXNlVVRGOEZvckZpbGVOYW1lPXV0ZkVuY29kZWRGaWxlTmFtZS5sZW5ndGghPT1maWxlLm5hbWUubGVuZ3RoLHVzZVVURjhGb3JDb21tZW50PXV0ZkVuY29kZWRDb21tZW50Lmxlbmd0aCE9PWNvbW1lbnQubGVuZ3RoLGV4dHJhRmllbGRzPVwiXCIsdW5pY29kZVBhdGhFeHRyYUZpZWxkPVwiXCIsdW5pY29kZUNvbW1lbnRFeHRyYUZpZWxkPVwiXCIsZGlyPWZpbGUuZGlyLGRhdGU9ZmlsZS5kYXRlLGRhdGFJbmZvPXtjcmMzMjowLGNvbXByZXNzZWRTaXplOjAsdW5jb21wcmVzc2VkU2l6ZTowfTtzdHJlYW1lZENvbnRlbnQmJiFzdHJlYW1pbmdFbmRlZHx8KGRhdGFJbmZvLmNyYzMyPXN0cmVhbUluZm8uY3JjMzIsZGF0YUluZm8uY29tcHJlc3NlZFNpemU9c3RyZWFtSW5mby5jb21wcmVzc2VkU2l6ZSxkYXRhSW5mby51bmNvbXByZXNzZWRTaXplPXN0cmVhbUluZm8udW5jb21wcmVzc2VkU2l6ZSk7dmFyIGJpdGZsYWc9MDtzdHJlYW1lZENvbnRlbnQmJihiaXRmbGFnfD04KSx1c2VDdXN0b21FbmNvZGluZ3x8IXVzZVVURjhGb3JGaWxlTmFtZSYmIXVzZVVURjhGb3JDb21tZW50fHwoYml0ZmxhZ3w9MjA0OCk7dmFyIGV4dEZpbGVBdHRyPTAsdmVyc2lvbk1hZGVCeT0wO2RpciYmKGV4dEZpbGVBdHRyfD0xNiksXCJVTklYXCI9PT1wbGF0Zm9ybT8odmVyc2lvbk1hZGVCeT03OTgsZXh0RmlsZUF0dHJ8PWZ1bmN0aW9uKHVuaXhQZXJtaXNzaW9ucyxpc0Rpcil7dmFyIHJlc3VsdD11bml4UGVybWlzc2lvbnM7cmV0dXJuIHVuaXhQZXJtaXNzaW9uc3x8KHJlc3VsdD1pc0Rpcj8xNjg5MzozMzIwNCksKDY1NTM1JnJlc3VsdCk8PDE2fShmaWxlLnVuaXhQZXJtaXNzaW9ucyxkaXIpKToodmVyc2lvbk1hZGVCeT0yMCxleHRGaWxlQXR0cnw9ZnVuY3Rpb24oZG9zUGVybWlzc2lvbnMsaXNEaXIpe3JldHVybiA2MyYoZG9zUGVybWlzc2lvbnN8fDApfShmaWxlLmRvc1Blcm1pc3Npb25zKSksZG9zVGltZT1kYXRlLmdldFVUQ0hvdXJzKCksZG9zVGltZTw8PTYsZG9zVGltZXw9ZGF0ZS5nZXRVVENNaW51dGVzKCksZG9zVGltZTw8PTUsZG9zVGltZXw9ZGF0ZS5nZXRVVENTZWNvbmRzKCkvMixkb3NEYXRlPWRhdGUuZ2V0VVRDRnVsbFllYXIoKS0xOTgwLGRvc0RhdGU8PD00LGRvc0RhdGV8PWRhdGUuZ2V0VVRDTW9udGgoKSsxLGRvc0RhdGU8PD01LGRvc0RhdGV8PWRhdGUuZ2V0VVRDRGF0ZSgpLHVzZVVURjhGb3JGaWxlTmFtZSYmKHVuaWNvZGVQYXRoRXh0cmFGaWVsZD1kZWNUb0hleCgxLDEpK2RlY1RvSGV4KGNyYzMyKGVuY29kZWRGaWxlTmFtZSksNCkrdXRmRW5jb2RlZEZpbGVOYW1lLGV4dHJhRmllbGRzKz1cInVwXCIrZGVjVG9IZXgodW5pY29kZVBhdGhFeHRyYUZpZWxkLmxlbmd0aCwyKSt1bmljb2RlUGF0aEV4dHJhRmllbGQpLHVzZVVURjhGb3JDb21tZW50JiYodW5pY29kZUNvbW1lbnRFeHRyYUZpZWxkPWRlY1RvSGV4KDEsMSkrZGVjVG9IZXgoY3JjMzIoZW5jb2RlZENvbW1lbnQpLDQpK3V0ZkVuY29kZWRDb21tZW50LGV4dHJhRmllbGRzKz1cInVjXCIrZGVjVG9IZXgodW5pY29kZUNvbW1lbnRFeHRyYUZpZWxkLmxlbmd0aCwyKSt1bmljb2RlQ29tbWVudEV4dHJhRmllbGQpO3ZhciBoZWFkZXI9XCJcIjtyZXR1cm4gaGVhZGVyKz1cIlxcblxcMFwiLGhlYWRlcis9ZGVjVG9IZXgoYml0ZmxhZywyKSxoZWFkZXIrPWNvbXByZXNzaW9uLm1hZ2ljLGhlYWRlcis9ZGVjVG9IZXgoZG9zVGltZSwyKSxoZWFkZXIrPWRlY1RvSGV4KGRvc0RhdGUsMiksaGVhZGVyKz1kZWNUb0hleChkYXRhSW5mby5jcmMzMiw0KSxoZWFkZXIrPWRlY1RvSGV4KGRhdGFJbmZvLmNvbXByZXNzZWRTaXplLDQpLGhlYWRlcis9ZGVjVG9IZXgoZGF0YUluZm8udW5jb21wcmVzc2VkU2l6ZSw0KSxoZWFkZXIrPWRlY1RvSGV4KGVuY29kZWRGaWxlTmFtZS5sZW5ndGgsMiksaGVhZGVyKz1kZWNUb0hleChleHRyYUZpZWxkcy5sZW5ndGgsMikse2ZpbGVSZWNvcmQ6c2lnbmF0dXJlLkxPQ0FMX0ZJTEVfSEVBREVSK2hlYWRlcitlbmNvZGVkRmlsZU5hbWUrZXh0cmFGaWVsZHMsZGlyUmVjb3JkOnNpZ25hdHVyZS5DRU5UUkFMX0ZJTEVfSEVBREVSK2RlY1RvSGV4KHZlcnNpb25NYWRlQnksMikraGVhZGVyK2RlY1RvSGV4KGVuY29kZWRDb21tZW50Lmxlbmd0aCwyKStcIlxcMFxcMFxcMFxcMFwiK2RlY1RvSGV4KGV4dEZpbGVBdHRyLDQpK2RlY1RvSGV4KG9mZnNldCw0KStlbmNvZGVkRmlsZU5hbWUrZXh0cmFGaWVsZHMrZW5jb2RlZENvbW1lbnR9fTtmdW5jdGlvbiBaaXBGaWxlV29ya2VyKHN0cmVhbUZpbGVzLGNvbW1lbnQscGxhdGZvcm0sZW5jb2RlRmlsZU5hbWUpe0dlbmVyaWNXb3JrZXIuY2FsbCh0aGlzLFwiWmlwRmlsZVdvcmtlclwiKSx0aGlzLmJ5dGVzV3JpdHRlbj0wLHRoaXMuemlwQ29tbWVudD1jb21tZW50LHRoaXMuemlwUGxhdGZvcm09cGxhdGZvcm0sdGhpcy5lbmNvZGVGaWxlTmFtZT1lbmNvZGVGaWxlTmFtZSx0aGlzLnN0cmVhbUZpbGVzPXN0cmVhbUZpbGVzLHRoaXMuYWNjdW11bGF0ZT0hMSx0aGlzLmNvbnRlbnRCdWZmZXI9W10sdGhpcy5kaXJSZWNvcmRzPVtdLHRoaXMuY3VycmVudFNvdXJjZU9mZnNldD0wLHRoaXMuZW50cmllc0NvdW50PTAsdGhpcy5jdXJyZW50RmlsZT1udWxsLHRoaXMuX3NvdXJjZXM9W119dXRpbHMuaW5oZXJpdHMoWmlwRmlsZVdvcmtlcixHZW5lcmljV29ya2VyKSxaaXBGaWxlV29ya2VyLnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGNodW5rKXt2YXIgY3VycmVudEZpbGVQZXJjZW50PWNodW5rLm1ldGEucGVyY2VudHx8MCxlbnRyaWVzQ291bnQ9dGhpcy5lbnRyaWVzQ291bnQscmVtYWluaW5nRmlsZXM9dGhpcy5fc291cmNlcy5sZW5ndGg7dGhpcy5hY2N1bXVsYXRlP3RoaXMuY29udGVudEJ1ZmZlci5wdXNoKGNodW5rKToodGhpcy5ieXRlc1dyaXR0ZW4rPWNodW5rLmRhdGEubGVuZ3RoLEdlbmVyaWNXb3JrZXIucHJvdG90eXBlLnB1c2guY2FsbCh0aGlzLHtkYXRhOmNodW5rLmRhdGEsbWV0YTp7Y3VycmVudEZpbGU6dGhpcy5jdXJyZW50RmlsZSxwZXJjZW50OmVudHJpZXNDb3VudD8oY3VycmVudEZpbGVQZXJjZW50KzEwMCooZW50cmllc0NvdW50LXJlbWFpbmluZ0ZpbGVzLTEpKS9lbnRyaWVzQ291bnQ6MTAwfX0pKX0sWmlwRmlsZVdvcmtlci5wcm90b3R5cGUub3BlbmVkU291cmNlPWZ1bmN0aW9uKHN0cmVhbUluZm8pe3RoaXMuY3VycmVudFNvdXJjZU9mZnNldD10aGlzLmJ5dGVzV3JpdHRlbix0aGlzLmN1cnJlbnRGaWxlPXN0cmVhbUluZm8uZmlsZS5uYW1lO3ZhciBzdHJlYW1lZENvbnRlbnQ9dGhpcy5zdHJlYW1GaWxlcyYmIXN0cmVhbUluZm8uZmlsZS5kaXI7aWYoc3RyZWFtZWRDb250ZW50KXt2YXIgcmVjb3JkPWdlbmVyYXRlWmlwUGFydHMoc3RyZWFtSW5mbyxzdHJlYW1lZENvbnRlbnQsITEsdGhpcy5jdXJyZW50U291cmNlT2Zmc2V0LHRoaXMuemlwUGxhdGZvcm0sdGhpcy5lbmNvZGVGaWxlTmFtZSk7dGhpcy5wdXNoKHtkYXRhOnJlY29yZC5maWxlUmVjb3JkLG1ldGE6e3BlcmNlbnQ6MH19KX1lbHNlIHRoaXMuYWNjdW11bGF0ZT0hMH0sWmlwRmlsZVdvcmtlci5wcm90b3R5cGUuY2xvc2VkU291cmNlPWZ1bmN0aW9uKHN0cmVhbUluZm8pe3RoaXMuYWNjdW11bGF0ZT0hMTt2YXIgc3RyZWFtZWRDb250ZW50PXRoaXMuc3RyZWFtRmlsZXMmJiFzdHJlYW1JbmZvLmZpbGUuZGlyLHJlY29yZD1nZW5lcmF0ZVppcFBhcnRzKHN0cmVhbUluZm8sc3RyZWFtZWRDb250ZW50LCEwLHRoaXMuY3VycmVudFNvdXJjZU9mZnNldCx0aGlzLnppcFBsYXRmb3JtLHRoaXMuZW5jb2RlRmlsZU5hbWUpO2lmKHRoaXMuZGlyUmVjb3Jkcy5wdXNoKHJlY29yZC5kaXJSZWNvcmQpLHN0cmVhbWVkQ29udGVudCl0aGlzLnB1c2goe2RhdGE6ZnVuY3Rpb24oc3RyZWFtSW5mbyl7cmV0dXJuIHNpZ25hdHVyZS5EQVRBX0RFU0NSSVBUT1IrZGVjVG9IZXgoc3RyZWFtSW5mby5jcmMzMiw0KStkZWNUb0hleChzdHJlYW1JbmZvLmNvbXByZXNzZWRTaXplLDQpK2RlY1RvSGV4KHN0cmVhbUluZm8udW5jb21wcmVzc2VkU2l6ZSw0KX0oc3RyZWFtSW5mbyksbWV0YTp7cGVyY2VudDoxMDB9fSk7ZWxzZSBmb3IodGhpcy5wdXNoKHtkYXRhOnJlY29yZC5maWxlUmVjb3JkLG1ldGE6e3BlcmNlbnQ6MH19KTt0aGlzLmNvbnRlbnRCdWZmZXIubGVuZ3RoOyl0aGlzLnB1c2godGhpcy5jb250ZW50QnVmZmVyLnNoaWZ0KCkpO3RoaXMuY3VycmVudEZpbGU9bnVsbH0sWmlwRmlsZVdvcmtlci5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oKXtmb3IodmFyIGxvY2FsRGlyTGVuZ3RoPXRoaXMuYnl0ZXNXcml0dGVuLGk9MDtpPHRoaXMuZGlyUmVjb3Jkcy5sZW5ndGg7aSsrKXRoaXMucHVzaCh7ZGF0YTp0aGlzLmRpclJlY29yZHNbaV0sbWV0YTp7cGVyY2VudDoxMDB9fSk7dmFyIGNlbnRyYWxEaXJMZW5ndGg9dGhpcy5ieXRlc1dyaXR0ZW4tbG9jYWxEaXJMZW5ndGgsZGlyRW5kPWZ1bmN0aW9uKGVudHJpZXNDb3VudCxjZW50cmFsRGlyTGVuZ3RoLGxvY2FsRGlyTGVuZ3RoLGNvbW1lbnQsZW5jb2RlRmlsZU5hbWUpe3ZhciBlbmNvZGVkQ29tbWVudD11dGlscy50cmFuc2Zvcm1UbyhcInN0cmluZ1wiLGVuY29kZUZpbGVOYW1lKGNvbW1lbnQpKTtyZXR1cm4gc2lnbmF0dXJlLkNFTlRSQUxfRElSRUNUT1JZX0VORCtcIlxcMFxcMFxcMFxcMFwiK2RlY1RvSGV4KGVudHJpZXNDb3VudCwyKStkZWNUb0hleChlbnRyaWVzQ291bnQsMikrZGVjVG9IZXgoY2VudHJhbERpckxlbmd0aCw0KStkZWNUb0hleChsb2NhbERpckxlbmd0aCw0KStkZWNUb0hleChlbmNvZGVkQ29tbWVudC5sZW5ndGgsMikrZW5jb2RlZENvbW1lbnR9KHRoaXMuZGlyUmVjb3Jkcy5sZW5ndGgsY2VudHJhbERpckxlbmd0aCxsb2NhbERpckxlbmd0aCx0aGlzLnppcENvbW1lbnQsdGhpcy5lbmNvZGVGaWxlTmFtZSk7dGhpcy5wdXNoKHtkYXRhOmRpckVuZCxtZXRhOntwZXJjZW50OjEwMH19KX0sWmlwRmlsZVdvcmtlci5wcm90b3R5cGUucHJlcGFyZU5leHRTb3VyY2U9ZnVuY3Rpb24oKXt0aGlzLnByZXZpb3VzPXRoaXMuX3NvdXJjZXMuc2hpZnQoKSx0aGlzLm9wZW5lZFNvdXJjZSh0aGlzLnByZXZpb3VzLnN0cmVhbUluZm8pLHRoaXMuaXNQYXVzZWQ/dGhpcy5wcmV2aW91cy5wYXVzZSgpOnRoaXMucHJldmlvdXMucmVzdW1lKCl9LFppcEZpbGVXb3JrZXIucHJvdG90eXBlLnJlZ2lzdGVyUHJldmlvdXM9ZnVuY3Rpb24ocHJldmlvdXMpe3RoaXMuX3NvdXJjZXMucHVzaChwcmV2aW91cyk7dmFyIHNlbGY9dGhpcztyZXR1cm4gcHJldmlvdXMub24oXCJkYXRhXCIsZnVuY3Rpb24oY2h1bmspe3NlbGYucHJvY2Vzc0NodW5rKGNodW5rKX0pLHByZXZpb3VzLm9uKFwiZW5kXCIsZnVuY3Rpb24oKXtzZWxmLmNsb3NlZFNvdXJjZShzZWxmLnByZXZpb3VzLnN0cmVhbUluZm8pLHNlbGYuX3NvdXJjZXMubGVuZ3RoP3NlbGYucHJlcGFyZU5leHRTb3VyY2UoKTpzZWxmLmVuZCgpfSkscHJldmlvdXMub24oXCJlcnJvclwiLGZ1bmN0aW9uKGUpe3NlbGYuZXJyb3IoZSl9KSx0aGlzfSxaaXBGaWxlV29ya2VyLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXtyZXR1cm4hIUdlbmVyaWNXb3JrZXIucHJvdG90eXBlLnJlc3VtZS5jYWxsKHRoaXMpJiYoIXRoaXMucHJldmlvdXMmJnRoaXMuX3NvdXJjZXMubGVuZ3RoPyh0aGlzLnByZXBhcmVOZXh0U291cmNlKCksITApOnRoaXMucHJldmlvdXN8fHRoaXMuX3NvdXJjZXMubGVuZ3RofHx0aGlzLmdlbmVyYXRlZEVycm9yP3ZvaWQgMDoodGhpcy5lbmQoKSwhMCkpfSxaaXBGaWxlV29ya2VyLnByb3RvdHlwZS5lcnJvcj1mdW5jdGlvbihlKXt2YXIgc291cmNlcz10aGlzLl9zb3VyY2VzO2lmKCFHZW5lcmljV29ya2VyLnByb3RvdHlwZS5lcnJvci5jYWxsKHRoaXMsZSkpcmV0dXJuITE7Zm9yKHZhciBpPTA7aTxzb3VyY2VzLmxlbmd0aDtpKyspdHJ5e3NvdXJjZXNbaV0uZXJyb3IoZSl9Y2F0Y2goZSl7fXJldHVybiEwfSxaaXBGaWxlV29ya2VyLnByb3RvdHlwZS5sb2NrPWZ1bmN0aW9uKCl7R2VuZXJpY1dvcmtlci5wcm90b3R5cGUubG9jay5jYWxsKHRoaXMpO2Zvcih2YXIgc291cmNlcz10aGlzLl9zb3VyY2VzLGk9MDtpPHNvdXJjZXMubGVuZ3RoO2krKylzb3VyY2VzW2ldLmxvY2soKX0sbW9kdWxlLmV4cG9ydHM9WmlwRmlsZVdvcmtlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMCksR2VuZXJpY1dvcmtlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpO2Z1bmN0aW9uIE5vZGVqc1N0cmVhbUlucHV0QWRhcHRlcihmaWxlbmFtZSxzdHJlYW0pe0dlbmVyaWNXb3JrZXIuY2FsbCh0aGlzLFwiTm9kZWpzIHN0cmVhbSBpbnB1dCBhZGFwdGVyIGZvciBcIitmaWxlbmFtZSksdGhpcy5fdXBzdHJlYW1FbmRlZD0hMSx0aGlzLl9iaW5kU3RyZWFtKHN0cmVhbSl9dXRpbHMuaW5oZXJpdHMoTm9kZWpzU3RyZWFtSW5wdXRBZGFwdGVyLEdlbmVyaWNXb3JrZXIpLE5vZGVqc1N0cmVhbUlucHV0QWRhcHRlci5wcm90b3R5cGUuX2JpbmRTdHJlYW09ZnVuY3Rpb24oc3RyZWFtKXt2YXIgc2VsZj10aGlzO3RoaXMuX3N0cmVhbT1zdHJlYW0sc3RyZWFtLnBhdXNlKCksc3RyZWFtLm9uKFwiZGF0YVwiLGZ1bmN0aW9uKGNodW5rKXtzZWxmLnB1c2goe2RhdGE6Y2h1bmssbWV0YTp7cGVyY2VudDowfX0pfSkub24oXCJlcnJvclwiLGZ1bmN0aW9uKGUpe3NlbGYuaXNQYXVzZWQ/dGhpcy5nZW5lcmF0ZWRFcnJvcj1lOnNlbGYuZXJyb3IoZSl9KS5vbihcImVuZFwiLGZ1bmN0aW9uKCl7c2VsZi5pc1BhdXNlZD9zZWxmLl91cHN0cmVhbUVuZGVkPSEwOnNlbGYuZW5kKCl9KX0sTm9kZWpzU3RyZWFtSW5wdXRBZGFwdGVyLnByb3RvdHlwZS5wYXVzZT1mdW5jdGlvbigpe3JldHVybiEhR2VuZXJpY1dvcmtlci5wcm90b3R5cGUucGF1c2UuY2FsbCh0aGlzKSYmKHRoaXMuX3N0cmVhbS5wYXVzZSgpLCEwKX0sTm9kZWpzU3RyZWFtSW5wdXRBZGFwdGVyLnByb3RvdHlwZS5yZXN1bWU9ZnVuY3Rpb24oKXtyZXR1cm4hIUdlbmVyaWNXb3JrZXIucHJvdG90eXBlLnJlc3VtZS5jYWxsKHRoaXMpJiYodGhpcy5fdXBzdHJlYW1FbmRlZD90aGlzLmVuZCgpOnRoaXMuX3N0cmVhbS5yZXN1bWUoKSwhMCl9LG1vZHVsZS5leHBvcnRzPU5vZGVqc1N0cmVhbUlucHV0QWRhcHRlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMCksZXh0ZXJuYWw9X193ZWJwYWNrX3JlcXVpcmVfXygyNCksdXRmOD1fX3dlYnBhY2tfcmVxdWlyZV9fKDE0KSxaaXBFbnRyaWVzPSh1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLF9fd2VicGFja19yZXF1aXJlX18oMTIwKSksQ3JjMzJQcm9iZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDYyKSxub2RlanNVdGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDI5KTtmdW5jdGlvbiBjaGVja0VudHJ5Q1JDMzIoemlwRW50cnkpe3JldHVybiBuZXcgZXh0ZXJuYWwuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7dmFyIHdvcmtlcj16aXBFbnRyeS5kZWNvbXByZXNzZWQuZ2V0Q29udGVudFdvcmtlcigpLnBpcGUobmV3IENyYzMyUHJvYmUpO3dvcmtlci5vbihcImVycm9yXCIsZnVuY3Rpb24oZSl7cmVqZWN0KGUpfSkub24oXCJlbmRcIixmdW5jdGlvbigpe3dvcmtlci5zdHJlYW1JbmZvLmNyYzMyIT09emlwRW50cnkuZGVjb21wcmVzc2VkLmNyYzMyP3JlamVjdChuZXcgRXJyb3IoXCJDb3JydXB0ZWQgemlwIDogQ1JDMzIgbWlzbWF0Y2hcIikpOnJlc29sdmUoKX0pLnJlc3VtZSgpfSl9bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oZGF0YSxvcHRpb25zKXt2YXIgemlwPXRoaXM7cmV0dXJuIG9wdGlvbnM9dXRpbHMuZXh0ZW5kKG9wdGlvbnN8fHt9LHtiYXNlNjQ6ITEsY2hlY2tDUkMzMjohMSxvcHRpbWl6ZWRCaW5hcnlTdHJpbmc6ITEsY3JlYXRlRm9sZGVyczohMSxkZWNvZGVGaWxlTmFtZTp1dGY4LnV0ZjhkZWNvZGV9KSxub2RlanNVdGlscy5pc05vZGUmJm5vZGVqc1V0aWxzLmlzU3RyZWFtKGRhdGEpP2V4dGVybmFsLlByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkpTWmlwIGNhbid0IGFjY2VwdCBhIHN0cmVhbSB3aGVuIGxvYWRpbmcgYSB6aXAgZmlsZS5cIikpOnV0aWxzLnByZXBhcmVDb250ZW50KFwidGhlIGxvYWRlZCB6aXAgZmlsZVwiLGRhdGEsITAsb3B0aW9ucy5vcHRpbWl6ZWRCaW5hcnlTdHJpbmcsb3B0aW9ucy5iYXNlNjQpLnRoZW4oZnVuY3Rpb24oZGF0YSl7dmFyIHppcEVudHJpZXM9bmV3IFppcEVudHJpZXMob3B0aW9ucyk7cmV0dXJuIHppcEVudHJpZXMubG9hZChkYXRhKSx6aXBFbnRyaWVzfSkudGhlbihmdW5jdGlvbih6aXBFbnRyaWVzKXt2YXIgcHJvbWlzZXM9W2V4dGVybmFsLlByb21pc2UucmVzb2x2ZSh6aXBFbnRyaWVzKV0sZmlsZXM9emlwRW50cmllcy5maWxlcztpZihvcHRpb25zLmNoZWNrQ1JDMzIpZm9yKHZhciBpPTA7aTxmaWxlcy5sZW5ndGg7aSsrKXByb21pc2VzLnB1c2goY2hlY2tFbnRyeUNSQzMyKGZpbGVzW2ldKSk7cmV0dXJuIGV4dGVybmFsLlByb21pc2UuYWxsKHByb21pc2VzKX0pLnRoZW4oZnVuY3Rpb24ocmVzdWx0cyl7Zm9yKHZhciB6aXBFbnRyaWVzPXJlc3VsdHMuc2hpZnQoKSxmaWxlcz16aXBFbnRyaWVzLmZpbGVzLGk9MDtpPGZpbGVzLmxlbmd0aDtpKyspe3ZhciBpbnB1dD1maWxlc1tpXTt6aXAuZmlsZShpbnB1dC5maWxlTmFtZVN0cixpbnB1dC5kZWNvbXByZXNzZWQse2JpbmFyeTohMCxvcHRpbWl6ZWRCaW5hcnlTdHJpbmc6ITAsZGF0ZTppbnB1dC5kYXRlLGRpcjppbnB1dC5kaXIsY29tbWVudDppbnB1dC5maWxlQ29tbWVudFN0ci5sZW5ndGg/aW5wdXQuZmlsZUNvbW1lbnRTdHI6bnVsbCx1bml4UGVybWlzc2lvbnM6aW5wdXQudW5peFBlcm1pc3Npb25zLGRvc1Blcm1pc3Npb25zOmlucHV0LmRvc1Blcm1pc3Npb25zLGNyZWF0ZUZvbGRlcnM6b3B0aW9ucy5jcmVhdGVGb2xkZXJzfSl9cmV0dXJuIHppcEVudHJpZXMuemlwQ29tbWVudC5sZW5ndGgmJih6aXAuY29tbWVudD16aXBFbnRyaWVzLnppcENvbW1lbnQpLHppcH0pfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHJlYWRlckZvcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDcwKSx1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLHNpZz1fX3dlYnBhY2tfcmVxdWlyZV9fKDY5KSxaaXBFbnRyeT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEyMyksc3VwcG9ydD0oX193ZWJwYWNrX3JlcXVpcmVfXygxNCksX193ZWJwYWNrX3JlcXVpcmVfXyg3KSk7ZnVuY3Rpb24gWmlwRW50cmllcyhsb2FkT3B0aW9ucyl7dGhpcy5maWxlcz1bXSx0aGlzLmxvYWRPcHRpb25zPWxvYWRPcHRpb25zfVppcEVudHJpZXMucHJvdG90eXBlPXtjaGVja1NpZ25hdHVyZTpmdW5jdGlvbihleHBlY3RlZFNpZ25hdHVyZSl7aWYoIXRoaXMucmVhZGVyLnJlYWRBbmRDaGVja1NpZ25hdHVyZShleHBlY3RlZFNpZ25hdHVyZSkpe3RoaXMucmVhZGVyLmluZGV4LT00O3ZhciBzaWduYXR1cmU9dGhpcy5yZWFkZXIucmVhZFN0cmluZyg0KTt0aHJvdyBuZXcgRXJyb3IoXCJDb3JydXB0ZWQgemlwIG9yIGJ1ZzogdW5leHBlY3RlZCBzaWduYXR1cmUgKFwiK3V0aWxzLnByZXR0eShzaWduYXR1cmUpK1wiLCBleHBlY3RlZCBcIit1dGlscy5wcmV0dHkoZXhwZWN0ZWRTaWduYXR1cmUpK1wiKVwiKX19LGlzU2lnbmF0dXJlOmZ1bmN0aW9uKGFza2VkSW5kZXgsZXhwZWN0ZWRTaWduYXR1cmUpe3ZhciBjdXJyZW50SW5kZXg9dGhpcy5yZWFkZXIuaW5kZXg7dGhpcy5yZWFkZXIuc2V0SW5kZXgoYXNrZWRJbmRleCk7dmFyIHJlc3VsdD10aGlzLnJlYWRlci5yZWFkU3RyaW5nKDQpPT09ZXhwZWN0ZWRTaWduYXR1cmU7cmV0dXJuIHRoaXMucmVhZGVyLnNldEluZGV4KGN1cnJlbnRJbmRleCkscmVzdWx0fSxyZWFkQmxvY2tFbmRPZkNlbnRyYWw6ZnVuY3Rpb24oKXt0aGlzLmRpc2tOdW1iZXI9dGhpcy5yZWFkZXIucmVhZEludCgyKSx0aGlzLmRpc2tXaXRoQ2VudHJhbERpclN0YXJ0PXRoaXMucmVhZGVyLnJlYWRJbnQoMiksdGhpcy5jZW50cmFsRGlyUmVjb3Jkc09uVGhpc0Rpc2s9dGhpcy5yZWFkZXIucmVhZEludCgyKSx0aGlzLmNlbnRyYWxEaXJSZWNvcmRzPXRoaXMucmVhZGVyLnJlYWRJbnQoMiksdGhpcy5jZW50cmFsRGlyU2l6ZT10aGlzLnJlYWRlci5yZWFkSW50KDQpLHRoaXMuY2VudHJhbERpck9mZnNldD10aGlzLnJlYWRlci5yZWFkSW50KDQpLHRoaXMuemlwQ29tbWVudExlbmd0aD10aGlzLnJlYWRlci5yZWFkSW50KDIpO3ZhciB6aXBDb21tZW50PXRoaXMucmVhZGVyLnJlYWREYXRhKHRoaXMuemlwQ29tbWVudExlbmd0aCksZGVjb2RlUGFyYW1UeXBlPXN1cHBvcnQudWludDhhcnJheT9cInVpbnQ4YXJyYXlcIjpcImFycmF5XCIsZGVjb2RlQ29udGVudD11dGlscy50cmFuc2Zvcm1UbyhkZWNvZGVQYXJhbVR5cGUsemlwQ29tbWVudCk7dGhpcy56aXBDb21tZW50PXRoaXMubG9hZE9wdGlvbnMuZGVjb2RlRmlsZU5hbWUoZGVjb2RlQ29udGVudCl9LHJlYWRCbG9ja1ppcDY0RW5kT2ZDZW50cmFsOmZ1bmN0aW9uKCl7dGhpcy56aXA2NEVuZE9mQ2VudHJhbFNpemU9dGhpcy5yZWFkZXIucmVhZEludCg4KSx0aGlzLnJlYWRlci5za2lwKDQpLHRoaXMuZGlza051bWJlcj10aGlzLnJlYWRlci5yZWFkSW50KDQpLHRoaXMuZGlza1dpdGhDZW50cmFsRGlyU3RhcnQ9dGhpcy5yZWFkZXIucmVhZEludCg0KSx0aGlzLmNlbnRyYWxEaXJSZWNvcmRzT25UaGlzRGlzaz10aGlzLnJlYWRlci5yZWFkSW50KDgpLHRoaXMuY2VudHJhbERpclJlY29yZHM9dGhpcy5yZWFkZXIucmVhZEludCg4KSx0aGlzLmNlbnRyYWxEaXJTaXplPXRoaXMucmVhZGVyLnJlYWRJbnQoOCksdGhpcy5jZW50cmFsRGlyT2Zmc2V0PXRoaXMucmVhZGVyLnJlYWRJbnQoOCksdGhpcy56aXA2NEV4dGVuc2libGVEYXRhPXt9O2Zvcih2YXIgZXh0cmFGaWVsZElkLGV4dHJhRmllbGRMZW5ndGgsZXh0cmFGaWVsZFZhbHVlLGV4dHJhRGF0YVNpemU9dGhpcy56aXA2NEVuZE9mQ2VudHJhbFNpemUtNDQ7MDxleHRyYURhdGFTaXplOylleHRyYUZpZWxkSWQ9dGhpcy5yZWFkZXIucmVhZEludCgyKSxleHRyYUZpZWxkTGVuZ3RoPXRoaXMucmVhZGVyLnJlYWRJbnQoNCksZXh0cmFGaWVsZFZhbHVlPXRoaXMucmVhZGVyLnJlYWREYXRhKGV4dHJhRmllbGRMZW5ndGgpLHRoaXMuemlwNjRFeHRlbnNpYmxlRGF0YVtleHRyYUZpZWxkSWRdPXtpZDpleHRyYUZpZWxkSWQsbGVuZ3RoOmV4dHJhRmllbGRMZW5ndGgsdmFsdWU6ZXh0cmFGaWVsZFZhbHVlfX0scmVhZEJsb2NrWmlwNjRFbmRPZkNlbnRyYWxMb2NhdG9yOmZ1bmN0aW9uKCl7aWYodGhpcy5kaXNrV2l0aFppcDY0Q2VudHJhbERpclN0YXJ0PXRoaXMucmVhZGVyLnJlYWRJbnQoNCksdGhpcy5yZWxhdGl2ZU9mZnNldEVuZE9mWmlwNjRDZW50cmFsRGlyPXRoaXMucmVhZGVyLnJlYWRJbnQoOCksdGhpcy5kaXNrc0NvdW50PXRoaXMucmVhZGVyLnJlYWRJbnQoNCksdGhpcy5kaXNrc0NvdW50PjEpdGhyb3cgbmV3IEVycm9yKFwiTXVsdGktdm9sdW1lcyB6aXAgYXJlIG5vdCBzdXBwb3J0ZWRcIil9LHJlYWRMb2NhbEZpbGVzOmZ1bmN0aW9uKCl7dmFyIGksZmlsZTtmb3IoaT0wO2k8dGhpcy5maWxlcy5sZW5ndGg7aSsrKWZpbGU9dGhpcy5maWxlc1tpXSx0aGlzLnJlYWRlci5zZXRJbmRleChmaWxlLmxvY2FsSGVhZGVyT2Zmc2V0KSx0aGlzLmNoZWNrU2lnbmF0dXJlKHNpZy5MT0NBTF9GSUxFX0hFQURFUiksZmlsZS5yZWFkTG9jYWxQYXJ0KHRoaXMucmVhZGVyKSxmaWxlLmhhbmRsZVVURjgoKSxmaWxlLnByb2Nlc3NBdHRyaWJ1dGVzKCl9LHJlYWRDZW50cmFsRGlyOmZ1bmN0aW9uKCl7dmFyIGZpbGU7Zm9yKHRoaXMucmVhZGVyLnNldEluZGV4KHRoaXMuY2VudHJhbERpck9mZnNldCk7dGhpcy5yZWFkZXIucmVhZEFuZENoZWNrU2lnbmF0dXJlKHNpZy5DRU5UUkFMX0ZJTEVfSEVBREVSKTspKGZpbGU9bmV3IFppcEVudHJ5KHt6aXA2NDp0aGlzLnppcDY0fSx0aGlzLmxvYWRPcHRpb25zKSkucmVhZENlbnRyYWxQYXJ0KHRoaXMucmVhZGVyKSx0aGlzLmZpbGVzLnB1c2goZmlsZSk7aWYodGhpcy5jZW50cmFsRGlyUmVjb3JkcyE9PXRoaXMuZmlsZXMubGVuZ3RoJiYwIT09dGhpcy5jZW50cmFsRGlyUmVjb3JkcyYmMD09PXRoaXMuZmlsZXMubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIkNvcnJ1cHRlZCB6aXAgb3IgYnVnOiBleHBlY3RlZCBcIit0aGlzLmNlbnRyYWxEaXJSZWNvcmRzK1wiIHJlY29yZHMgaW4gY2VudHJhbCBkaXIsIGdvdCBcIit0aGlzLmZpbGVzLmxlbmd0aCl9LHJlYWRFbmRPZkNlbnRyYWw6ZnVuY3Rpb24oKXt2YXIgb2Zmc2V0PXRoaXMucmVhZGVyLmxhc3RJbmRleE9mU2lnbmF0dXJlKHNpZy5DRU5UUkFMX0RJUkVDVE9SWV9FTkQpO2lmKG9mZnNldDwwKXRocm93IXRoaXMuaXNTaWduYXR1cmUoMCxzaWcuTE9DQUxfRklMRV9IRUFERVIpP25ldyBFcnJvcihcIkNhbid0IGZpbmQgZW5kIG9mIGNlbnRyYWwgZGlyZWN0b3J5IDogaXMgdGhpcyBhIHppcCBmaWxlID8gSWYgaXQgaXMsIHNlZSBodHRwczovL3N0dWsuZ2l0aHViLmlvL2pzemlwL2RvY3VtZW50YXRpb24vaG93dG8vcmVhZF96aXAuaHRtbFwiKTpuZXcgRXJyb3IoXCJDb3JydXB0ZWQgemlwOiBjYW4ndCBmaW5kIGVuZCBvZiBjZW50cmFsIGRpcmVjdG9yeVwiKTt0aGlzLnJlYWRlci5zZXRJbmRleChvZmZzZXQpO3ZhciBlbmRPZkNlbnRyYWxEaXJPZmZzZXQ9b2Zmc2V0O2lmKHRoaXMuY2hlY2tTaWduYXR1cmUoc2lnLkNFTlRSQUxfRElSRUNUT1JZX0VORCksdGhpcy5yZWFkQmxvY2tFbmRPZkNlbnRyYWwoKSx0aGlzLmRpc2tOdW1iZXI9PT11dGlscy5NQVhfVkFMVUVfMTZCSVRTfHx0aGlzLmRpc2tXaXRoQ2VudHJhbERpclN0YXJ0PT09dXRpbHMuTUFYX1ZBTFVFXzE2QklUU3x8dGhpcy5jZW50cmFsRGlyUmVjb3Jkc09uVGhpc0Rpc2s9PT11dGlscy5NQVhfVkFMVUVfMTZCSVRTfHx0aGlzLmNlbnRyYWxEaXJSZWNvcmRzPT09dXRpbHMuTUFYX1ZBTFVFXzE2QklUU3x8dGhpcy5jZW50cmFsRGlyU2l6ZT09PXV0aWxzLk1BWF9WQUxVRV8zMkJJVFN8fHRoaXMuY2VudHJhbERpck9mZnNldD09PXV0aWxzLk1BWF9WQUxVRV8zMkJJVFMpe2lmKHRoaXMuemlwNjQ9ITAsKG9mZnNldD10aGlzLnJlYWRlci5sYXN0SW5kZXhPZlNpZ25hdHVyZShzaWcuWklQNjRfQ0VOVFJBTF9ESVJFQ1RPUllfTE9DQVRPUikpPDApdGhyb3cgbmV3IEVycm9yKFwiQ29ycnVwdGVkIHppcDogY2FuJ3QgZmluZCB0aGUgWklQNjQgZW5kIG9mIGNlbnRyYWwgZGlyZWN0b3J5IGxvY2F0b3JcIik7aWYodGhpcy5yZWFkZXIuc2V0SW5kZXgob2Zmc2V0KSx0aGlzLmNoZWNrU2lnbmF0dXJlKHNpZy5aSVA2NF9DRU5UUkFMX0RJUkVDVE9SWV9MT0NBVE9SKSx0aGlzLnJlYWRCbG9ja1ppcDY0RW5kT2ZDZW50cmFsTG9jYXRvcigpLCF0aGlzLmlzU2lnbmF0dXJlKHRoaXMucmVsYXRpdmVPZmZzZXRFbmRPZlppcDY0Q2VudHJhbERpcixzaWcuWklQNjRfQ0VOVFJBTF9ESVJFQ1RPUllfRU5EKSYmKHRoaXMucmVsYXRpdmVPZmZzZXRFbmRPZlppcDY0Q2VudHJhbERpcj10aGlzLnJlYWRlci5sYXN0SW5kZXhPZlNpZ25hdHVyZShzaWcuWklQNjRfQ0VOVFJBTF9ESVJFQ1RPUllfRU5EKSx0aGlzLnJlbGF0aXZlT2Zmc2V0RW5kT2ZaaXA2NENlbnRyYWxEaXI8MCkpdGhyb3cgbmV3IEVycm9yKFwiQ29ycnVwdGVkIHppcDogY2FuJ3QgZmluZCB0aGUgWklQNjQgZW5kIG9mIGNlbnRyYWwgZGlyZWN0b3J5XCIpO3RoaXMucmVhZGVyLnNldEluZGV4KHRoaXMucmVsYXRpdmVPZmZzZXRFbmRPZlppcDY0Q2VudHJhbERpciksdGhpcy5jaGVja1NpZ25hdHVyZShzaWcuWklQNjRfQ0VOVFJBTF9ESVJFQ1RPUllfRU5EKSx0aGlzLnJlYWRCbG9ja1ppcDY0RW5kT2ZDZW50cmFsKCl9dmFyIGV4cGVjdGVkRW5kT2ZDZW50cmFsRGlyT2Zmc2V0PXRoaXMuY2VudHJhbERpck9mZnNldCt0aGlzLmNlbnRyYWxEaXJTaXplO3RoaXMuemlwNjQmJihleHBlY3RlZEVuZE9mQ2VudHJhbERpck9mZnNldCs9MjAsZXhwZWN0ZWRFbmRPZkNlbnRyYWxEaXJPZmZzZXQrPTEyK3RoaXMuemlwNjRFbmRPZkNlbnRyYWxTaXplKTt2YXIgZXh0cmFCeXRlcz1lbmRPZkNlbnRyYWxEaXJPZmZzZXQtZXhwZWN0ZWRFbmRPZkNlbnRyYWxEaXJPZmZzZXQ7aWYoZXh0cmFCeXRlcz4wKXRoaXMuaXNTaWduYXR1cmUoZW5kT2ZDZW50cmFsRGlyT2Zmc2V0LHNpZy5DRU5UUkFMX0ZJTEVfSEVBREVSKXx8KHRoaXMucmVhZGVyLnplcm89ZXh0cmFCeXRlcyk7ZWxzZSBpZihleHRyYUJ5dGVzPDApdGhyb3cgbmV3IEVycm9yKFwiQ29ycnVwdGVkIHppcDogbWlzc2luZyBcIitNYXRoLmFicyhleHRyYUJ5dGVzKStcIiBieXRlcy5cIil9LHByZXBhcmVSZWFkZXI6ZnVuY3Rpb24oZGF0YSl7dGhpcy5yZWFkZXI9cmVhZGVyRm9yKGRhdGEpfSxsb2FkOmZ1bmN0aW9uKGRhdGEpe3RoaXMucHJlcGFyZVJlYWRlcihkYXRhKSx0aGlzLnJlYWRFbmRPZkNlbnRyYWwoKSx0aGlzLnJlYWRDZW50cmFsRGlyKCksdGhpcy5yZWFkTG9jYWxGaWxlcygpfX0sbW9kdWxlLmV4cG9ydHM9WmlwRW50cmllc30sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIERhdGFSZWFkZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg3Mik7ZnVuY3Rpb24gU3RyaW5nUmVhZGVyKGRhdGEpe0RhdGFSZWFkZXIuY2FsbCh0aGlzLGRhdGEpfV9fd2VicGFja19yZXF1aXJlX18oMCkuaW5oZXJpdHMoU3RyaW5nUmVhZGVyLERhdGFSZWFkZXIpLFN0cmluZ1JlYWRlci5wcm90b3R5cGUuYnl0ZUF0PWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLmRhdGEuY2hhckNvZGVBdCh0aGlzLnplcm8raSl9LFN0cmluZ1JlYWRlci5wcm90b3R5cGUubGFzdEluZGV4T2ZTaWduYXR1cmU9ZnVuY3Rpb24oc2lnKXtyZXR1cm4gdGhpcy5kYXRhLmxhc3RJbmRleE9mKHNpZyktdGhpcy56ZXJvfSxTdHJpbmdSZWFkZXIucHJvdG90eXBlLnJlYWRBbmRDaGVja1NpZ25hdHVyZT1mdW5jdGlvbihzaWcpe3JldHVybiBzaWc9PT10aGlzLnJlYWREYXRhKDQpfSxTdHJpbmdSZWFkZXIucHJvdG90eXBlLnJlYWREYXRhPWZ1bmN0aW9uKHNpemUpe3RoaXMuY2hlY2tPZmZzZXQoc2l6ZSk7dmFyIHJlc3VsdD10aGlzLmRhdGEuc2xpY2UodGhpcy56ZXJvK3RoaXMuaW5kZXgsdGhpcy56ZXJvK3RoaXMuaW5kZXgrc2l6ZSk7cmV0dXJuIHRoaXMuaW5kZXgrPXNpemUscmVzdWx0fSxtb2R1bGUuZXhwb3J0cz1TdHJpbmdSZWFkZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBVaW50OEFycmF5UmVhZGVyPV9fd2VicGFja19yZXF1aXJlX18oNzMpO2Z1bmN0aW9uIE5vZGVCdWZmZXJSZWFkZXIoZGF0YSl7VWludDhBcnJheVJlYWRlci5jYWxsKHRoaXMsZGF0YSl9X193ZWJwYWNrX3JlcXVpcmVfXygwKS5pbmhlcml0cyhOb2RlQnVmZmVyUmVhZGVyLFVpbnQ4QXJyYXlSZWFkZXIpLE5vZGVCdWZmZXJSZWFkZXIucHJvdG90eXBlLnJlYWREYXRhPWZ1bmN0aW9uKHNpemUpe3RoaXMuY2hlY2tPZmZzZXQoc2l6ZSk7dmFyIHJlc3VsdD10aGlzLmRhdGEuc2xpY2UodGhpcy56ZXJvK3RoaXMuaW5kZXgsdGhpcy56ZXJvK3RoaXMuaW5kZXgrc2l6ZSk7cmV0dXJuIHRoaXMuaW5kZXgrPXNpemUscmVzdWx0fSxtb2R1bGUuZXhwb3J0cz1Ob2RlQnVmZmVyUmVhZGVyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgcmVhZGVyRm9yPV9fd2VicGFja19yZXF1aXJlX18oNzApLHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMCksQ29tcHJlc3NlZE9iamVjdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDQyKSxjcmMzMmZuPV9fd2VicGFja19yZXF1aXJlX18oNDMpLHV0Zjg9X193ZWJwYWNrX3JlcXVpcmVfXygxNCksY29tcHJlc3Npb25zPV9fd2VicGFja19yZXF1aXJlX18oNjMpLHN1cHBvcnQ9X193ZWJwYWNrX3JlcXVpcmVfXyg3KTtmdW5jdGlvbiBaaXBFbnRyeShvcHRpb25zLGxvYWRPcHRpb25zKXt0aGlzLm9wdGlvbnM9b3B0aW9ucyx0aGlzLmxvYWRPcHRpb25zPWxvYWRPcHRpb25zfVppcEVudHJ5LnByb3RvdHlwZT17aXNFbmNyeXB0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gMT09KDEmdGhpcy5iaXRGbGFnKX0sdXNlVVRGODpmdW5jdGlvbigpe3JldHVybiAyMDQ4PT0oMjA0OCZ0aGlzLmJpdEZsYWcpfSxyZWFkTG9jYWxQYXJ0OmZ1bmN0aW9uKHJlYWRlcil7dmFyIGNvbXByZXNzaW9uLGxvY2FsRXh0cmFGaWVsZHNMZW5ndGg7aWYocmVhZGVyLnNraXAoMjIpLHRoaXMuZmlsZU5hbWVMZW5ndGg9cmVhZGVyLnJlYWRJbnQoMiksbG9jYWxFeHRyYUZpZWxkc0xlbmd0aD1yZWFkZXIucmVhZEludCgyKSx0aGlzLmZpbGVOYW1lPXJlYWRlci5yZWFkRGF0YSh0aGlzLmZpbGVOYW1lTGVuZ3RoKSxyZWFkZXIuc2tpcChsb2NhbEV4dHJhRmllbGRzTGVuZ3RoKSwtMT09PXRoaXMuY29tcHJlc3NlZFNpemV8fC0xPT09dGhpcy51bmNvbXByZXNzZWRTaXplKXRocm93IG5ldyBFcnJvcihcIkJ1ZyBvciBjb3JydXB0ZWQgemlwIDogZGlkbid0IGdldCBlbm91Z2ggaW5mb3JtYXRpb25zIGZyb20gdGhlIGNlbnRyYWwgZGlyZWN0b3J5IChjb21wcmVzc2VkU2l6ZSA9PT0gLTEgfHwgdW5jb21wcmVzc2VkU2l6ZSA9PT0gLTEpXCIpO2lmKG51bGw9PT0oY29tcHJlc3Npb249ZnVuY3Rpb24oY29tcHJlc3Npb25NZXRob2Qpe2Zvcih2YXIgbWV0aG9kIGluIGNvbXByZXNzaW9ucylpZihjb21wcmVzc2lvbnMuaGFzT3duUHJvcGVydHkobWV0aG9kKSYmY29tcHJlc3Npb25zW21ldGhvZF0ubWFnaWM9PT1jb21wcmVzc2lvbk1ldGhvZClyZXR1cm4gY29tcHJlc3Npb25zW21ldGhvZF07cmV0dXJuIG51bGx9KHRoaXMuY29tcHJlc3Npb25NZXRob2QpKSl0aHJvdyBuZXcgRXJyb3IoXCJDb3JydXB0ZWQgemlwIDogY29tcHJlc3Npb24gXCIrdXRpbHMucHJldHR5KHRoaXMuY29tcHJlc3Npb25NZXRob2QpK1wiIHVua25vd24gKGlubmVyIGZpbGUgOiBcIit1dGlscy50cmFuc2Zvcm1UbyhcInN0cmluZ1wiLHRoaXMuZmlsZU5hbWUpK1wiKVwiKTt0aGlzLmRlY29tcHJlc3NlZD1uZXcgQ29tcHJlc3NlZE9iamVjdCh0aGlzLmNvbXByZXNzZWRTaXplLHRoaXMudW5jb21wcmVzc2VkU2l6ZSx0aGlzLmNyYzMyLGNvbXByZXNzaW9uLHJlYWRlci5yZWFkRGF0YSh0aGlzLmNvbXByZXNzZWRTaXplKSl9LHJlYWRDZW50cmFsUGFydDpmdW5jdGlvbihyZWFkZXIpe3RoaXMudmVyc2lvbk1hZGVCeT1yZWFkZXIucmVhZEludCgyKSxyZWFkZXIuc2tpcCgyKSx0aGlzLmJpdEZsYWc9cmVhZGVyLnJlYWRJbnQoMiksdGhpcy5jb21wcmVzc2lvbk1ldGhvZD1yZWFkZXIucmVhZFN0cmluZygyKSx0aGlzLmRhdGU9cmVhZGVyLnJlYWREYXRlKCksdGhpcy5jcmMzMj1yZWFkZXIucmVhZEludCg0KSx0aGlzLmNvbXByZXNzZWRTaXplPXJlYWRlci5yZWFkSW50KDQpLHRoaXMudW5jb21wcmVzc2VkU2l6ZT1yZWFkZXIucmVhZEludCg0KTt2YXIgZmlsZU5hbWVMZW5ndGg9cmVhZGVyLnJlYWRJbnQoMik7aWYodGhpcy5leHRyYUZpZWxkc0xlbmd0aD1yZWFkZXIucmVhZEludCgyKSx0aGlzLmZpbGVDb21tZW50TGVuZ3RoPXJlYWRlci5yZWFkSW50KDIpLHRoaXMuZGlza051bWJlclN0YXJ0PXJlYWRlci5yZWFkSW50KDIpLHRoaXMuaW50ZXJuYWxGaWxlQXR0cmlidXRlcz1yZWFkZXIucmVhZEludCgyKSx0aGlzLmV4dGVybmFsRmlsZUF0dHJpYnV0ZXM9cmVhZGVyLnJlYWRJbnQoNCksdGhpcy5sb2NhbEhlYWRlck9mZnNldD1yZWFkZXIucmVhZEludCg0KSx0aGlzLmlzRW5jcnlwdGVkKCkpdGhyb3cgbmV3IEVycm9yKFwiRW5jcnlwdGVkIHppcCBhcmUgbm90IHN1cHBvcnRlZFwiKTtyZWFkZXIuc2tpcChmaWxlTmFtZUxlbmd0aCksdGhpcy5yZWFkRXh0cmFGaWVsZHMocmVhZGVyKSx0aGlzLnBhcnNlWklQNjRFeHRyYUZpZWxkKHJlYWRlciksdGhpcy5maWxlQ29tbWVudD1yZWFkZXIucmVhZERhdGEodGhpcy5maWxlQ29tbWVudExlbmd0aCl9LHByb2Nlc3NBdHRyaWJ1dGVzOmZ1bmN0aW9uKCl7dGhpcy51bml4UGVybWlzc2lvbnM9bnVsbCx0aGlzLmRvc1Blcm1pc3Npb25zPW51bGw7dmFyIG1hZGVCeT10aGlzLnZlcnNpb25NYWRlQnk+Pjg7dGhpcy5kaXI9ISEoMTYmdGhpcy5leHRlcm5hbEZpbGVBdHRyaWJ1dGVzKSwwPT09bWFkZUJ5JiYodGhpcy5kb3NQZXJtaXNzaW9ucz02MyZ0aGlzLmV4dGVybmFsRmlsZUF0dHJpYnV0ZXMpLDM9PT1tYWRlQnkmJih0aGlzLnVuaXhQZXJtaXNzaW9ucz10aGlzLmV4dGVybmFsRmlsZUF0dHJpYnV0ZXM+PjE2JjY1NTM1KSx0aGlzLmRpcnx8XCIvXCIhPT10aGlzLmZpbGVOYW1lU3RyLnNsaWNlKC0xKXx8KHRoaXMuZGlyPSEwKX0scGFyc2VaSVA2NEV4dHJhRmllbGQ6ZnVuY3Rpb24ocmVhZGVyKXtpZih0aGlzLmV4dHJhRmllbGRzWzFdKXt2YXIgZXh0cmFSZWFkZXI9cmVhZGVyRm9yKHRoaXMuZXh0cmFGaWVsZHNbMV0udmFsdWUpO3RoaXMudW5jb21wcmVzc2VkU2l6ZT09PXV0aWxzLk1BWF9WQUxVRV8zMkJJVFMmJih0aGlzLnVuY29tcHJlc3NlZFNpemU9ZXh0cmFSZWFkZXIucmVhZEludCg4KSksdGhpcy5jb21wcmVzc2VkU2l6ZT09PXV0aWxzLk1BWF9WQUxVRV8zMkJJVFMmJih0aGlzLmNvbXByZXNzZWRTaXplPWV4dHJhUmVhZGVyLnJlYWRJbnQoOCkpLHRoaXMubG9jYWxIZWFkZXJPZmZzZXQ9PT11dGlscy5NQVhfVkFMVUVfMzJCSVRTJiYodGhpcy5sb2NhbEhlYWRlck9mZnNldD1leHRyYVJlYWRlci5yZWFkSW50KDgpKSx0aGlzLmRpc2tOdW1iZXJTdGFydD09PXV0aWxzLk1BWF9WQUxVRV8zMkJJVFMmJih0aGlzLmRpc2tOdW1iZXJTdGFydD1leHRyYVJlYWRlci5yZWFkSW50KDQpKX19LHJlYWRFeHRyYUZpZWxkczpmdW5jdGlvbihyZWFkZXIpe3ZhciBleHRyYUZpZWxkSWQsZXh0cmFGaWVsZExlbmd0aCxleHRyYUZpZWxkVmFsdWUsZW5kPXJlYWRlci5pbmRleCt0aGlzLmV4dHJhRmllbGRzTGVuZ3RoO2Zvcih0aGlzLmV4dHJhRmllbGRzfHwodGhpcy5leHRyYUZpZWxkcz17fSk7cmVhZGVyLmluZGV4PGVuZDspZXh0cmFGaWVsZElkPXJlYWRlci5yZWFkSW50KDIpLGV4dHJhRmllbGRMZW5ndGg9cmVhZGVyLnJlYWRJbnQoMiksZXh0cmFGaWVsZFZhbHVlPXJlYWRlci5yZWFkRGF0YShleHRyYUZpZWxkTGVuZ3RoKSx0aGlzLmV4dHJhRmllbGRzW2V4dHJhRmllbGRJZF09e2lkOmV4dHJhRmllbGRJZCxsZW5ndGg6ZXh0cmFGaWVsZExlbmd0aCx2YWx1ZTpleHRyYUZpZWxkVmFsdWV9fSxoYW5kbGVVVEY4OmZ1bmN0aW9uKCl7dmFyIGRlY29kZVBhcmFtVHlwZT1zdXBwb3J0LnVpbnQ4YXJyYXk/XCJ1aW50OGFycmF5XCI6XCJhcnJheVwiO2lmKHRoaXMudXNlVVRGOCgpKXRoaXMuZmlsZU5hbWVTdHI9dXRmOC51dGY4ZGVjb2RlKHRoaXMuZmlsZU5hbWUpLHRoaXMuZmlsZUNvbW1lbnRTdHI9dXRmOC51dGY4ZGVjb2RlKHRoaXMuZmlsZUNvbW1lbnQpO2Vsc2V7dmFyIHVwYXRoPXRoaXMuZmluZEV4dHJhRmllbGRVbmljb2RlUGF0aCgpO2lmKG51bGwhPT11cGF0aCl0aGlzLmZpbGVOYW1lU3RyPXVwYXRoO2Vsc2V7dmFyIGZpbGVOYW1lQnl0ZUFycmF5PXV0aWxzLnRyYW5zZm9ybVRvKGRlY29kZVBhcmFtVHlwZSx0aGlzLmZpbGVOYW1lKTt0aGlzLmZpbGVOYW1lU3RyPXRoaXMubG9hZE9wdGlvbnMuZGVjb2RlRmlsZU5hbWUoZmlsZU5hbWVCeXRlQXJyYXkpfXZhciB1Y29tbWVudD10aGlzLmZpbmRFeHRyYUZpZWxkVW5pY29kZUNvbW1lbnQoKTtpZihudWxsIT09dWNvbW1lbnQpdGhpcy5maWxlQ29tbWVudFN0cj11Y29tbWVudDtlbHNle3ZhciBjb21tZW50Qnl0ZUFycmF5PXV0aWxzLnRyYW5zZm9ybVRvKGRlY29kZVBhcmFtVHlwZSx0aGlzLmZpbGVDb21tZW50KTt0aGlzLmZpbGVDb21tZW50U3RyPXRoaXMubG9hZE9wdGlvbnMuZGVjb2RlRmlsZU5hbWUoY29tbWVudEJ5dGVBcnJheSl9fX0sZmluZEV4dHJhRmllbGRVbmljb2RlUGF0aDpmdW5jdGlvbigpe3ZhciB1cGF0aEZpZWxkPXRoaXMuZXh0cmFGaWVsZHNbMjg3ODldO2lmKHVwYXRoRmllbGQpe3ZhciBleHRyYVJlYWRlcj1yZWFkZXJGb3IodXBhdGhGaWVsZC52YWx1ZSk7cmV0dXJuIDEhPT1leHRyYVJlYWRlci5yZWFkSW50KDEpP251bGw6Y3JjMzJmbih0aGlzLmZpbGVOYW1lKSE9PWV4dHJhUmVhZGVyLnJlYWRJbnQoNCk/bnVsbDp1dGY4LnV0ZjhkZWNvZGUoZXh0cmFSZWFkZXIucmVhZERhdGEodXBhdGhGaWVsZC5sZW5ndGgtNSkpfXJldHVybiBudWxsfSxmaW5kRXh0cmFGaWVsZFVuaWNvZGVDb21tZW50OmZ1bmN0aW9uKCl7dmFyIHVjb21tZW50RmllbGQ9dGhpcy5leHRyYUZpZWxkc1syNTQ2MV07aWYodWNvbW1lbnRGaWVsZCl7dmFyIGV4dHJhUmVhZGVyPXJlYWRlckZvcih1Y29tbWVudEZpZWxkLnZhbHVlKTtyZXR1cm4gMSE9PWV4dHJhUmVhZGVyLnJlYWRJbnQoMSk/bnVsbDpjcmMzMmZuKHRoaXMuZmlsZUNvbW1lbnQpIT09ZXh0cmFSZWFkZXIucmVhZEludCg0KT9udWxsOnV0ZjgudXRmOGRlY29kZShleHRyYVJlYWRlci5yZWFkRGF0YSh1Y29tbWVudEZpZWxkLmxlbmd0aC01KSl9cmV0dXJuIG51bGx9fSxtb2R1bGUuZXhwb3J0cz1aaXBFbnRyeX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5nZXRTdHlsZXM9ZXhwb3J0cy5nZXRIVE1MPXZvaWQgMCxleHBvcnRzLmdldEhUTUw9ZnVuY3Rpb24oY29udGVudCxzZWdtZW50cyl7cmV0dXJuJ1xcbiAgPGRpdiBjbGFzcz1cInB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNcIj5cXG4gICAgPGRpdiBjbGFzcz1cInB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2hlYWRlclwiPlxcbiAgICAgICcrY29udGVudC5oZWFkZXJUZXh0KydcXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XCJwdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19ib2R5XCI+XFxuICAgICAgPGRpdiBjbGFzcz1cInB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX3N1Yi1oZWFkZXJcIj5cXG4gICAgICAgICcrKGNvbnRlbnQuc3ViSGVhZGVyVGV4dD9jb250ZW50LnN1YkhlYWRlclRleHQ6XCJcIikrJ1xcbiAgICAgIDwvZGl2PlxcbiAgICAgIDxkaXYgY2xhc3M9XCJwdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19jaGFubmVsc1wiPlxcbiAgICAgICAgJytzZWdtZW50cy5yZWR1Y2UoZnVuY3Rpb24ocmVzdWx0LHNlZ21lbnQpe3JldHVybiByZXN1bHQrJzxkaXYgY2xhc3M9XCJwdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19jaGFubmVsXCI+XFxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwicHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fbGFiZWxcIj5cXG4gICAgICAgICAgICAgIDxpbnB1dFxcbiAgICAgICAgICAgICAgICBjbGFzcz1cInB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2ZpZWxkXCIgXFxuICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiIFxcbiAgICAgICAgICAgICAgICB2YWx1ZT1cIicrc2VnbWVudC5jb2RlKydcIlxcbiAgICAgICAgICAgICAgICBjaGVja2VkPVwidHJ1ZVwiXFxuICAgICAgICAgICAgICAvPlxcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJwdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19pY29uXCI+XFxuICAgICAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIxOFwiIGhlaWdodD1cIjE4XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTguMDMwMyA4LjQ2OTY3QzE4LjMyMzIgOC43NjI1NiAxOC4zMjMyIDkuMjM3NDQgMTguMDMwMyA5LjUzMDMzTDExLjAzMDMgMTYuNTMwM0MxMC43Mzc0IDE2LjgyMzIgMTAuMjYyNiAxNi44MjMyIDkuOTY5NjcgMTYuNTMwM0w2Ljk2OTY3IDEzLjUzMDNDNi42NzY3OCAxMy4yMzc0IDYuNjc2NzggMTIuNzYyNiA2Ljk2OTY3IDEyLjQ2OTdDNy4yNjI1NiAxMi4xNzY4IDcuNzM3NDQgMTIuMTc2OCA4LjAzMDMzIDEyLjQ2OTdMMTAuNSAxNC45MzkzTDE2Ljk2OTcgOC40Njk2N0MxNy4yNjI2IDguMTc2NzggMTcuNzM3NCA4LjE3Njc4IDE4LjAzMDMgOC40Njk2N1pcIiBmaWxsPVwiY3VycmVudENvbG9yXCIvPlxcbiAgICAgICAgICAgICAgICAgIDwvc3ZnPlxcbiAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJwdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX190ZXh0XCI+XFxuICAgICAgICAgICAgICAgICcrc2VnbWVudC5uYW1lK1wiXFxuICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgPC9sYWJlbD5cXG4gICAgICAgICAgPC9kaXY+XCJ9LFwiXCIpKydcXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVwicHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fY29udHJvbHNcIj5cXG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGlkPVwicHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50cy1kZW55XCIgY2xhc3M9XCJwdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19jb250cm9sIHB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2NvbnRyb2xfZGVueVwiPlxcbiAgICAgICAgICAnK2NvbnRlbnQuY29udHJvbHNEZW55QnV0dG9uVGV4dCsnXFxuICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGlkPVwicHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50cy1hY2NlcHRcIiBjbGFzcz1cInB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2NvbnRyb2wgcHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fY29udHJvbF9hY2NlcHRcIj5cXG4gICAgICAgICAgJytjb250ZW50LmNvbnRyb2xzQnV0dG9uVGV4dCtcIlxcbiAgICAgICAgPC9idXR0b24+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgPC9kaXY+XFxuICBcIn0sZXhwb3J0cy5nZXRTdHlsZXM9ZnVuY3Rpb24oY29udGVudCl7dmFyIHN0eWxlcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7cmV0dXJuIHN0eWxlcy5pbm5lckhUTUw9XCJcXG4gICAgLnB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHMgKiB7XFxuICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveCFpbXBvcnRhbnQ7XFxuICAgIH1cXG4gIFxcbiAgICAucHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50cyB7XFxuICAgICAgcGFkZGluZzogMjRweCAxNnB4IDE2cHggMjRweCFpbXBvcnRhbnQ7XFxuICAgICAgdXNlci1zZWxlY3Q6IG5vbmUhaW1wb3J0YW50O1xcbiAgICB9XFxuICBcXG4gICAgLnB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2hlYWRlciB7XFxuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQhaW1wb3J0YW50O1xcbiAgICAgIGZvbnQtc2l6ZTogMjBweCFpbXBvcnRhbnQ7XFxuICAgICAgbGluZS1oZWlnaHQ6IDIzcHghaW1wb3J0YW50O1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fc3ViLWhlYWRlciB7XFxuICAgICAgbWFyZ2luLXRvcDogMTZweCFpbXBvcnRhbnQ7XFxuICAgICAgZm9udC1zaXplOiAxNnB4IWltcG9ydGFudDtcXG4gICAgICBsaW5lLWhlaWdodDogMjRweCFpbXBvcnRhbnQ7XFxuICAgICAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41NCkhaW1wb3J0YW50O1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fc3ViLWhlYWRlcjplbXB0eSB7XFxuICAgICAgZGlzcGxheTpub25lIWltcG9ydGFudDtcXG4gICAgfVxcbiAgICBcXG4gICAgLnB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2NoYW5uZWxzIHtcXG4gICAgICBtYXJnaW4tdG9wOiAxNnB4IWltcG9ydGFudDtcXG4gICAgICBmb250LXNpemU6IDE2cHghaW1wb3J0YW50O1xcbiAgICAgIGxpbmUtaGVpZ2h0OiAyNHB4IWltcG9ydGFudDtcXG4gICAgfVxcbiAgICBcXG4gICAgLnB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2NoYW5uZWwgKyAucHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fY2hhbm5lbCB7XFxuICAgICAgbWFyZ2luLXRvcDogOHB4IWltcG9ydGFudDtcXG4gICAgfVxcbiAgICBcXG4gICAgLnB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2xhYmVsIHtcXG4gICAgICBkaXNwbGF5OiBpbmxpbmUtZmxleCFpbXBvcnRhbnQ7XFxuICAgICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQhaW1wb3J0YW50O1xcbiAgICAgIGN1cnNvcjogcG9pbnRlciFpbXBvcnRhbnQ7XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19maWVsZCB7XFxuICAgICAgZGlzcGxheTogbm9uZSFpbXBvcnRhbnQ7XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19pY29uIHtcXG4gICAgICBkaXNwbGF5OiBibG9jayFpbXBvcnRhbnQ7XFxuICAgICAgbGluZS1oZWlnaHQ6IDAhaW1wb3J0YW50O1xcbiAgICAgIHdpZHRoOiAyMHB4IWltcG9ydGFudDtcXG4gICAgICBoZWlnaHQ6IDIwcHghaW1wb3J0YW50O1xcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQhaW1wb3J0YW50O1xcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweCFpbXBvcnRhbnQ7XFxuICAgICAgY29sb3I6ICNmZmYhaW1wb3J0YW50O1xcbiAgICAgIG1hcmdpbjogMnB4IDhweCAwIDAhaW1wb3J0YW50O1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fdGV4dCB7XFxuICAgICAgY29sb3I6IFwiK2NvbnRlbnQuY2hhbm5lbHNUZXh0Q29sb3IrXCIhaW1wb3J0YW50O1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fY29udHJvbHMge1xcbiAgICAgIG1hcmdpbi10b3A6IDI0cHghaW1wb3J0YW50O1xcbiAgICAgIHRleHQtYWxpZ246IHJpZ2h0IWltcG9ydGFudDtcXG4gICAgfVxcbiAgICBcXG4gICAgLnB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2ZpZWxkOmNoZWNrZWQgKyAucHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19faWNvbiB7XFxuICAgICAgYmFja2dyb3VuZDogXCIrY29udGVudC5jaGFubmVsc1RvZ2dsZUNvbG9yK1wiIWltcG9ydGFudDtcXG4gICAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudCFpbXBvcnRhbnQ7XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19jb250cm9sIHtcXG4gICAgICBhcHBlYXJhbmNlOiBub25lIWltcG9ydGFudDtcXG4gICAgICBoZWlnaHQ6IDM2cHghaW1wb3J0YW50O1xcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweCFpbXBvcnRhbnQ7XFxuICAgICAgcGFkZGluZzogMCAxNnB4IWltcG9ydGFudDtcXG4gICAgICBmb250LXdlaWdodDogYm9sZCFpbXBvcnRhbnQ7XFxuICAgICAgZm9udC1zaXplOiAxNHB4IWltcG9ydGFudDtcXG4gICAgICBsaW5lLWhlaWdodDogMTZweCFpbXBvcnRhbnQ7XFxuICAgICAgY3Vyc29yOiBwb2ludGVyIWltcG9ydGFudDtcXG4gICAgfVxcbiAgICBcXG4gICAgLnB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2NvbnRyb2wgKyAucHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fY29udHJvbCB7XFxuICAgICAgbWFyZ2luOiAwIDAgMCA0cHghaW1wb3J0YW50O1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fY29udHJvbC5wdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19jb250cm9sX2Rlbnkge1xcbiAgICAgIGJvcmRlcjogbm9uZSFpbXBvcnRhbnQ7XFxuICAgICAgY29sb3I6IFwiK2NvbnRlbnQuY29udHJvbHNEZW55QnV0dG9uVGV4dENvbG9yK1wiIWltcG9ydGFudDtcXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIitjb250ZW50LmNvbnRyb2xzRGVueUJ1dHRvbkJhY2tncm91bmRDb2xvcitcIiFpbXBvcnRhbnQ7XFxuICAgICAgYm9yZGVyLXJhZGl1czogXCIrY29udGVudC5jb250cm9sc0RlbnlCdXR0b25Sb3VuZCtcIiFpbXBvcnRhbnQ7XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19jb250cm9sLnB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2NvbnRyb2xfYWNjZXB0IHtcXG4gICAgICBib3JkZXI6IG5vbmUhaW1wb3J0YW50O1xcbiAgICAgIGNvbG9yOiBcIitjb250ZW50LmNvbnRyb2xzQnV0dG9uVGV4dENvbG9yK1wiIWltcG9ydGFudDtcXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIitjb250ZW50LmNvbnRyb2xzQnV0dG9uQmFja2dyb3VuZENvbG9yK1wiIWltcG9ydGFudDtcXG4gICAgICBib3JkZXItcmFkaXVzOiBcIitjb250ZW50LmNvbnRyb2xzQnV0dG9uUm91bmQrXCIhaW1wb3J0YW50O1xcbiAgICB9XFxuICBcIixzdHlsZXN9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLlN1YnNjcmlwdGlvblByb21wdFdpZGdldD12b2lkIDA7dmFyIFN1YnNjcmlwdGlvblByb21wdFdpZGdldF9oZWxwZXJzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMjYpLFN1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDc0KSxTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXQoZXZlbnRCdXMscHcpe3RoaXMuZXZlbnRCdXM9ZXZlbnRCdXMsdGhpcy5wdz1wd31yZXR1cm4gU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0LnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKHBhcmFtcyl7aWYoIXRoaXMuZ2V0Um9vdEVsZW1lbnQoKSl7dmFyIGh0bWw9U3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2hlbHBlcnNfMS5nZXRIVE1MKHBhcmFtcyksc3R5bGVzPVN1YnNjcmlwdGlvblByb21wdFdpZGdldF9oZWxwZXJzXzEuZ2V0U3R5bGVzKHBhcmFtcyk7ZG9jdW1lbnQuYm9keS5pbnNlcnRBZGphY2VudEhUTUwoXCJiZWZvcmVlbmRcIixodG1sKSxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlcyl9dGhpcy5hZGRFdmVudExpc3RlbmVycygpfSxTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXQucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXt2YXIgcm9vdEVsZW1lbnQ9dGhpcy5nZXRSb290RWxlbWVudFdpdGhDaGVja0V4aXN0KCk7dGhpcy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KFwic2hvdy1zdWJzY3JpcHRpb24td2lkZ2V0XCIse30pLHJvb3RFbGVtZW50LmNsYXNzTGlzdC5hZGQoU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRStcIl9zaG93XCIpfSxTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXQucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXt2YXIgcm9vdEVsZW1lbnQ9dGhpcy5nZXRSb290RWxlbWVudFdpdGhDaGVja0V4aXN0KCk7cm9vdEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKFN1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrXCJfc2hvd1wiKSYmKHRoaXMuZXZlbnRCdXMuZGlzcGF0Y2hFdmVudChcImhpZGUtc3Vic2NyaXB0aW9uLXdpZGdldFwiLHt9KSxyb290RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFN1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrXCJfc2hvd1wiKSl9LFN1YnNjcmlwdGlvblByb21wdFdpZGdldC5wcm90b3R5cGUuZ2V0Um9vdEVsZW1lbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRStcIi1yb290XCIpfSxTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXQucHJvdG90eXBlLmdldFJvb3RFbGVtZW50V2l0aENoZWNrRXhpc3Q9ZnVuY3Rpb24oKXt2YXIgZWxlbWVudD10aGlzLmdldFJvb3RFbGVtZW50KCk7aWYoIWVsZW1lbnQpdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgZmluZCBlbGVtZW50IGJ5IGlkIFxcXCJcIitTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFKyctcm9vdFwiLCBwbGVhc2UgdXNlIG1ldGhvZCBpbml0IGZpcnN0LicpO3JldHVybiBlbGVtZW50fSxTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXQucHJvdG90eXBlLmdldERlY2xpbmVCdXR0b25XaXRoQ2hlY2tFeGlzdD1mdW5jdGlvbigpe3ZhciBlbGVtZW50PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFN1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrXCItZGVjbGluZVwiKTtpZighZWxlbWVudCl0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBmaW5kIGVsZW1lbnQgYnkgaWQgXFxcIlwiK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrJy1kZWNsaW5lXCIsIHBsZWFzZSB1c2UgbWV0aG9kIGluaXQgZmlyc3QuJyk7cmV0dXJuIGVsZW1lbnR9LFN1YnNjcmlwdGlvblByb21wdFdpZGdldC5wcm90b3R5cGUuZ2V0QWNjZXB0QnV0dG9uV2l0aENoZWNrRXhpc3Q9ZnVuY3Rpb24oKXt2YXIgZWxlbWVudD1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFK1wiLWFjY2VwdFwiKTtpZighZWxlbWVudCl0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBmaW5kIGVsZW1lbnQgYnkgaWQgXFxcIlwiK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrJy1hY2NlcHRcIiwgcGxlYXNlIHVzZSBtZXRob2QgaW5pdCBmaXJzdC4nKTtyZXR1cm4gZWxlbWVudH0sU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0LnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVycz1mdW5jdGlvbigpe3ZhciBfdGhpcz10aGlzLHJvb3RFbGVtZW50PXRoaXMuZ2V0Um9vdEVsZW1lbnRXaXRoQ2hlY2tFeGlzdCgpLGRlY2xpbmVFbGVtZW50PXRoaXMuZ2V0RGVjbGluZUJ1dHRvbldpdGhDaGVja0V4aXN0KCksYWNjZXB0RWxlbWVudD10aGlzLmdldEFjY2VwdEJ1dHRvbldpdGhDaGVja0V4aXN0KCk7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oZXZlbnQpe3Jvb3RFbGVtZW50LmNvbnRhaW5zKGV2ZW50LnRhcmdldCl8fF90aGlzLmhpZGUoKX0pLGRlY2xpbmVFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7X3RoaXMuaGlkZSgpfSksYWNjZXB0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe190aGlzLmhpZGUoKSxfdGhpcy5wdy5zdWJzY3JpYmUoKX0pfSxTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXR9KCk7ZXhwb3J0cy5TdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXQ9U3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmdldFN0eWxlcz1leHBvcnRzLmdldEhUTUw9dm9pZCAwO3ZhciBTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg3NCk7ZXhwb3J0cy5nZXRIVE1MPWZ1bmN0aW9uKHBhcmFtcyl7cmV0dXJuJ1xcbiAgPGRpdiBpZD1cIicrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRSsnLXJvb3RcIiBjbGFzcz1cIicrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRSsnXCI+XFxuICAgIDxkaXYgY2xhc3M9XCInK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrJ19fYm9keVwiPlxcbiAgICAgIDxkaXYgY2xhc3M9XCInK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrJ19faGVhZGVyXCI+XFxuICAgICAgICAnK3BhcmFtcy5oZWFkZXJUZXh0KydcXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVwiJytTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFKydfX2Rlc2NyaXB0aW9uXCI+XFxuICAgICAgICAnK3BhcmFtcy5zdWJoZWFkZXJUZXh0KydcXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVwiJytTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFKydfX2NvbnRyb2xzXCI+XFxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBpZD1cIicrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRSsnLWRlY2xpbmVcIiBjbGFzcz1cIicrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRStcIl9fY29udHJvbCBcIitTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFKydfX2NvbnRyb2xfZGVjbGluZVwiPlxcbiAgICAgICAgICAnK3BhcmFtcy5idXR0b25DYW5jZWxUZXh0KydcXG4gICAgICAgIDwvYnV0dG9uPlxcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgaWQ9XCInK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrJy1hY2NlcHRcIiBjbGFzcz1cIicrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRStcIl9fY29udHJvbCBcIitTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFKydfX2NvbnRyb2xfYWNjZXB0XCI+XFxuICAgICAgICAgICcrcGFyYW1zLmJ1dHRvbkFjY2VwdFRleHQrXCJcXG4gICAgICAgIDwvYnV0dG9uPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gIDwvZGl2PlxcbiAgXCJ9LGV4cG9ydHMuZ2V0U3R5bGVzPWZ1bmN0aW9uKHBhcmFtcyl7dmFyIHN0eWxlcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7cmV0dXJuIHN0eWxlcy5pbm5lckhUTUw9XCJcXG4gICAgLlwiK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrXCIgKiB7XFxuICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveCFpbXBvcnRhbnQ7XFxuICAgIH1cXG4gIFxcbiAgICAuXCIrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRStcIiB7XFxuICAgICAgcG9zaXRpb246IGZpeGVkO1xcbiAgICAgIHRvcDogMDtcXG4gICAgICBsZWZ0OiAwO1xcbiAgICAgIHJpZ2h0OiAwO1xcbiAgICAgIG1hcmdpbjogMCBhdXRvO1xcbiAgICAgIHdpZHRoOiAzMjBweDtcXG4gICAgICBkaXNwbGF5OiBub25lO1xcbiAgICAgIHotaW5kZXg6IDIxNDc0ODM2NDg7XFxuICAgICAgb3BhY2l0eTogMC45OTtcXG4gICAgfVxcbiAgICBcXG4gICAgLlwiK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrXCJfc2hvdyB7XFxuICAgICAgZGlzcGxheTogYmxvY2s7XFxuICAgIH1cXG4gICAgXFxuICAgIC5cIitTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFK1wiX19ib2R5IHtcXG4gICAgICB3aWR0aDogMzIwcHg7XFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogXCIrKHBhcmFtcy5iYWNrZ3JvdW5kQ29sb3I/cGFyYW1zLmJhY2tncm91bmRDb2xvcjpcIiNGRkZGRkZcIikrXCI7XFxuICAgICAgYm94LXNoYWRvdzogMCA5cHggMTVweCByZ2JhKDAsIDAsIDAsIDAuMSksIDAgMCA2cHggcmdiYSgwLCAwLCAwLCAwLjA2KTtcXG4gICAgICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICAgICAgcGFkZGluZzogMjBweCAyMHB4IDEycHg7XFxuICAgIH1cXG4gICAgXFxuICAgIC5cIitTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFK1wiX19oZWFkZXIge1xcbiAgICAgIGNvbG9yOiBcIitwYXJhbXMuaGVhZGVyVGV4dENvbG9yK1wiO1xcbiAgICAgIGZvbnQtc2l6ZTogMThweDtcXG4gICAgICBmb250LXdlaWdodDogYm9sZDsgXFxuICAgIH1cXG4gICAgXFxuICAgIC5cIitTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFK1wiX19kZXNjcmlwdGlvbiB7XFxuICAgICAgY29sb3I6IFwiK3BhcmFtcy5zdWJoZWFkZXJUZXh0Q29sb3IrXCI7XFxuICAgICAgZm9udC1zaXplOiAxNHB4O1xcbiAgICAgIGxpbmUtaGVpZ2h0OiAxLjU7XFxuICAgICAgbWFyZ2luLXRvcDogMTRweDtcXG4gICAgfVxcbiAgICBcXG4gICAgLlwiK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrXCJfX2Rlc2NyaXB0aW9uOmVtcHR5IHtcXG4gICAgICBkaXNwbGF5OiBub25lO1xcbiAgICB9XFxuICAgIFxcbiAgICAuXCIrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRStcIl9fY29udHJvbHMge1xcbiAgICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgICAgZmxleC13cmFwOiBub3dyYXA7XFxuICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcXG4gICAgICBtYXJnaW46IDIwcHggMCAwO1xcbiAgICB9XFxuICAgIFxcbiAgICAuXCIrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRStcIl9fY29udHJvbCB7XFxuICAgICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcXG4gICAgICBmb250LXdlaWdodDogYm9sZDtcXG4gICAgICBwYWRkaW5nOiAwIDIwcHg7XFxuICAgICAgaGVpZ2h0OiAzMnB4O1xcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgfVxcbiAgICBcXG4gICAgLlwiK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrXCJfX2NvbnRyb2xfZGVjbGluZSB7XFxuICAgICAgY29sb3I6IFwiK3BhcmFtcy5idXR0b25DYW5jZWxUZXh0Q29sb3IrXCI7XFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogXCIrcGFyYW1zLmJ1dHRvbkNhbmNlbEJhY2tncm91bmRDb2xvcitcIjtcXG4gICAgICBib3JkZXItcmFkaXVzOiBcIitwYXJhbXMuYnV0dG9uQ2FuY2VsUm91bmQrXCI7XFxuICAgICAgYm9yZGVyLWNvbG9yOiBcIitwYXJhbXMuYnV0dG9uQ2FuY2VsQm9yZGVyQ29sb3IrXCI7XFxuICAgIH1cXG4gICAgXFxuICAgIC5cIitTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFK1wiX19jb250cm9sX2FjY2VwdCB7XFxuICAgICAgY29sb3I6IFwiK3BhcmFtcy5idXR0b25BY2NlcHRUZXh0Q29sb3IrXCI7XFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogXCIrcGFyYW1zLmJ1dHRvbkFjY2VwdEJhY2tncm91bmRDb2xvcitcIjtcXG4gICAgICBib3JkZXItcmFkaXVzOiBcIitwYXJhbXMuYnV0dG9uQWNjZXB0Um91bmQrXCI7XFxuICAgICAgYm9yZGVyLWNvbG9yOiBcIitwYXJhbXMuYnV0dG9uQWNjZXB0Qm9yZGVyQ29sb3IrXCI7XFxuICAgICAgbWFyZ2luOiAwIDAgMCAxMnB4O1xcbiAgICB9XFxuICBcIixzdHlsZXN9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX19hd2FpdGVyPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbih0aGlzQXJnLF9hcmd1bWVudHMsUCxnZW5lcmF0b3Ipe3JldHVybiBuZXcoUHx8KFA9UHJvbWlzZSkpKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiByZWplY3RlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLnRocm93KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiBzdGVwKHJlc3VsdCl7cmVzdWx0LmRvbmU/cmVzb2x2ZShyZXN1bHQudmFsdWUpOmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQP3ZhbHVlOm5ldyBQKGZ1bmN0aW9uKHJlc29sdmUpe3Jlc29sdmUodmFsdWUpfSl9KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQscmVqZWN0ZWQpfXN0ZXAoKGdlbmVyYXRvcj1nZW5lcmF0b3IuYXBwbHkodGhpc0FyZyxfYXJndW1lbnRzfHxbXSkpLm5leHQoKSl9KX0sX19nZW5lcmF0b3I9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24odGhpc0FyZyxib2R5KXt2YXIgZix5LHQsZyxfPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJnRbMF0pdGhyb3cgdFsxXTtyZXR1cm4gdFsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBnPXtuZXh0OnZlcmIoMCksdGhyb3c6dmVyYigxKSxyZXR1cm46dmVyYigyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYoZ1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxnO2Z1bmN0aW9uIHZlcmIobil7cmV0dXJuIGZ1bmN0aW9uKHYpe3JldHVybiBmdW5jdGlvbihvcCl7aWYoZil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO187KXRyeXtpZihmPTEseSYmKHQ9MiZvcFswXT95LnJldHVybjpvcFswXT95LnRocm93fHwoKHQ9eS5yZXR1cm4pJiZ0LmNhbGwoeSksMCk6eS5uZXh0KSYmISh0PXQuY2FsbCh5LG9wWzFdKSkuZG9uZSlyZXR1cm4gdDtzd2l0Y2goeT0wLHQmJihvcD1bMiZvcFswXSx0LnZhbHVlXSksb3BbMF0pe2Nhc2UgMDpjYXNlIDE6dD1vcDticmVhaztjYXNlIDQ6cmV0dXJuIF8ubGFiZWwrKyx7dmFsdWU6b3BbMV0sZG9uZTohMX07Y2FzZSA1Ol8ubGFiZWwrKyx5PW9wWzFdLG9wPVswXTtjb250aW51ZTtjYXNlIDc6b3A9Xy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoISh0PSh0PV8udHJ5cykubGVuZ3RoPjAmJnRbdC5sZW5ndGgtMV0pJiYoNj09PW9wWzBdfHwyPT09b3BbMF0pKXtfPTA7Y29udGludWV9aWYoMz09PW9wWzBdJiYoIXR8fG9wWzFdPnRbMF0mJm9wWzFdPHRbM10pKXtfLmxhYmVsPW9wWzFdO2JyZWFrfWlmKDY9PT1vcFswXSYmXy5sYWJlbDx0WzFdKXtfLmxhYmVsPXRbMV0sdD1vcDticmVha31pZih0JiZfLmxhYmVsPHRbMl0pe18ubGFiZWw9dFsyXSxfLm9wcy5wdXNoKG9wKTticmVha310WzJdJiZfLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWV9b3A9Ym9keS5jYWxsKHRoaXNBcmcsXyl9Y2F0Y2goZSl7b3A9WzYsZV0seT0wfWZpbmFsbHl7Zj10PTB9aWYoNSZvcFswXSl0aHJvdyBvcFsxXTtyZXR1cm57dmFsdWU6b3BbMF0/b3BbMV06dm9pZCAwLGRvbmU6ITB9fShbbix2XSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGNvbnN0YW50c18xPV9fd2VicGFja19yZXF1aXJlX18oMSksZnVuY3Rpb25zXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMCksc3RvcmFnZV8xPV9fd2VicGFja19yZXF1aXJlX18oNSksRmFjZWJvb2tNb2R1bGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBGYWNlYm9va01vZHVsZShjb25maWcpe3RoaXMudXNlclJlZj1mdW5jdGlvbnNfMS5nZW5lcmF0ZVVVSUQoKSx0aGlzLmNvbmZpZz1jb25maWcsdGhpcy5pbml0KCl9cmV0dXJuIEZhY2Vib29rTW9kdWxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJDaGVja2JveCgpLHRoaXMuaW5pdEZhY2Vib29rU0RLKCksdGhpcy5sb2FkRmFjZWJvb2tTREsoKX0sRmFjZWJvb2tNb2R1bGUucHJvdG90eXBlLnJlbmRlckNoZWNrYm94PWZ1bmN0aW9uKCl7Zm9yKHZhciBfYT10aGlzLmNvbmZpZyxwYWdlSWQ9X2EucGFnZUlkLGNvbnRhaW5lckNsYXNzPV9hLmNvbnRhaW5lckNsYXNzLGF0dHJpYnV0ZXM9W3tuYW1lOlwibWVzc2VuZ2VyX2FwcF9pZFwiLHZhbHVlOmNvbnN0YW50c18xLkZBQ0VCT09LX0FQUF9JRH0se25hbWU6XCJjbGFzc1wiLHZhbHVlOlwiZmItbWVzc2VuZ2VyLWNoZWNrYm94XCJ9LHtuYW1lOlwicGFnZV9pZFwiLHZhbHVlOnBhZ2VJZH0se25hbWU6XCJvcmlnaW5cIix2YWx1ZTp3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wrXCIvL1wiK3dpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZX0se25hbWU6XCJ1c2VyX3JlZlwiLHZhbHVlOnRoaXMudXNlclJlZn0se25hbWU6XCJhbGxvd19sb2dpblwiLHZhbHVlOlwidHJ1ZVwifSx7bmFtZTpcInNpemVcIix2YWx1ZTpcImxhcmdlXCJ9LHtuYW1lOlwic2tpblwiLHZhbHVlOlwibGlnaHRcIn0se25hbWU6XCJjZW50ZXJfYWxpZ25cIix2YWx1ZTpcImZhbHNlXCJ9XSxub2Rlcz1kb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGNvbnRhaW5lckNsYXNzKSxfbG9vcF8xPWZ1bmN0aW9uKGluZGV4KXt2YXIgbm9kZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2F0dHJpYnV0ZXMuZm9yRWFjaChmdW5jdGlvbihhdHRyaWJ1dGUpe25vZGUuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZS5uYW1lLGF0dHJpYnV0ZS52YWx1ZSl9KSxub2Rlc1tpbmRleF0uYXBwZW5kQ2hpbGQobm9kZSl9LGluZGV4PTA7aW5kZXg8bm9kZXMubGVuZ3RoO2luZGV4KyspX2xvb3BfMShpbmRleCl9LEZhY2Vib29rTW9kdWxlLnByb3RvdHlwZS5nZXRIV0lEPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgaHdpZCxhcHBsaWNhdGlvbkNvZGUsbmV3SFdJRDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsc3RvcmFnZV8xLmtleVZhbHVlLmdldChjb25zdGFudHNfMS5GQUNFQk9PS19IV0lEX0tFWSldO2Nhc2UgMTpyZXR1cm4oaHdpZD1fYS5zZW50KCkpP1szLDNdOihhcHBsaWNhdGlvbkNvZGU9dGhpcy5jb25maWcuYXBwbGljYXRpb25Db2RlLG5ld0hXSUQ9YXBwbGljYXRpb25Db2RlK1wiX1wiK2Z1bmN0aW9uc18xLmdlbmVyYXRlVVVJRCgpK1wiX2ZiXCIsWzQsc3RvcmFnZV8xLmtleVZhbHVlLnNldChjb25zdGFudHNfMS5GQUNFQk9PS19IV0lEX0tFWSxuZXdIV0lEKV0pO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFsyLG5ld0hXSURdO2Nhc2UgMzpyZXR1cm5bMixod2lkXX19KX0pfSxGYWNlYm9va01vZHVsZS5wcm90b3R5cGUudXNlckNvbmZpcm09ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBfYSxwYWdlSWQsYXBwbGljYXRpb25Db2RlLHVzZXJJZCxGQixmYWNlYm9va0h3aWQ7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Ipe3N3aXRjaChfYi5sYWJlbCl7Y2FzZSAwOnJldHVybiBfYT10aGlzLmNvbmZpZyxwYWdlSWQ9X2EucGFnZUlkLGFwcGxpY2F0aW9uQ29kZT1fYS5hcHBsaWNhdGlvbkNvZGUsdXNlcklkPV9hLnVzZXJJZCxGQj13aW5kb3cuRkIsWzQsdGhpcy5nZXRIV0lEKCldO2Nhc2UgMTpyZXR1cm4gZmFjZWJvb2tId2lkPV9iLnNlbnQoKSxGQiYmRkIuQXBwRXZlbnRzLmxvZ0V2ZW50KFwiTWVzc2VuZ2VyQ2hlY2tib3hVc2VyQ29uZmlybWF0aW9uXCIsbnVsbCx7YXBwX2lkOmNvbnN0YW50c18xLkZBQ0VCT09LX0FQUF9JRCxwYWdlX2lkOnBhZ2VJZCxyZWY6SlNPTi5zdHJpbmdpZnkoe2FwcGxpY2F0aW9uQ29kZTphcHBsaWNhdGlvbkNvZGUsdXNlcklkOnVzZXJJZCxod2lkOmZhY2Vib29rSHdpZH0pLHVzZXJfcmVmOnRoaXMudXNlclJlZn0pLFsyXX19KX0pfSxGYWNlYm9va01vZHVsZS5wcm90b3R5cGUuaW5pdEZhY2Vib29rU0RLPWZ1bmN0aW9uKCl7dmFyIF90aGlzPXRoaXM7d2luZG93LmZiQXN5bmNJbml0PWZ1bmN0aW9uKCl7d2luZG93LkZCLmluaXQoe2FwcElkOmNvbnN0YW50c18xLkZBQ0VCT09LX0FQUF9JRCx4ZmJtbDohMCx2ZXJzaW9uOlwidjMuMlwifSksd2luZG93LkZCLkV2ZW50LnN1YnNjcmliZShcIm1lc3Nlbmdlcl9jaGVja2JveFwiLGZ1bmN0aW9uKF9hKXtcImNoZWNrYm94XCI9PT1fYS5ldmVudCYmX3RoaXMudXNlckNvbmZpcm0oKX0pfX0sRmFjZWJvb2tNb2R1bGUucHJvdG90eXBlLmxvYWRGYWNlYm9va1NESz1mdW5jdGlvbigpe3ZhciBsYW5ndWFnZT1uYXZpZ2F0b3IubGFuZ3VhZ2V8fFwiZW5fVVNcIjshZnVuY3Rpb24oZCxzLGlkKXt2YXIganMsZmpzPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUocylbMF07ZC5nZXRFbGVtZW50QnlJZChpZCl8fCgoanM9ZC5jcmVhdGVFbGVtZW50KHMpKS5pZD1pZCxqcy5zcmM9XCJodHRwczovL2Nvbm5lY3QuZmFjZWJvb2submV0L1wiK2xhbmd1YWdlK1wiL3Nkay5qc1wiLGZqcyYmZmpzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGpzLGZqcykpfShkb2N1bWVudCxcInNjcmlwdFwiLFwiZmFjZWJvb2stanNzZGtcIil9LEZhY2Vib29rTW9kdWxlfSgpO2V4cG9ydHMuZGVmYXVsdD1GYWNlYm9va01vZHVsZX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXdhaXRlcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24odGhpc0FyZyxfYXJndW1lbnRzLFAsZ2VuZXJhdG9yKXtyZXR1cm4gbmV3KFB8fChQPVByb21pc2UpKShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gc3RlcChyZXN1bHQpe3Jlc3VsdC5kb25lP3Jlc29sdmUocmVzdWx0LnZhbHVlKTpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUD92YWx1ZTpuZXcgUChmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKHZhbHVlKX0pfShyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLHJlamVjdGVkKX1zdGVwKChnZW5lcmF0b3I9Z2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsX2FyZ3VtZW50c3x8W10pKS5uZXh0KCkpfSl9LF9fZ2VuZXJhdG9yPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKHRoaXNBcmcsYm9keSl7dmFyIGYseSx0LGcsXz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZ0WzBdKXRocm93IHRbMV07cmV0dXJuIHRbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gZz17bmV4dDp2ZXJiKDApLHRocm93OnZlcmIoMSkscmV0dXJuOnZlcmIoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGdbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksZztmdW5jdGlvbiB2ZXJiKG4pe3JldHVybiBmdW5jdGlvbih2KXtyZXR1cm4gZnVuY3Rpb24ob3Ape2lmKGYpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtfOyl0cnl7aWYoZj0xLHkmJih0PTImb3BbMF0/eS5yZXR1cm46b3BbMF0/eS50aHJvd3x8KCh0PXkucmV0dXJuKSYmdC5jYWxsKHkpLDApOnkubmV4dCkmJiEodD10LmNhbGwoeSxvcFsxXSkpLmRvbmUpcmV0dXJuIHQ7c3dpdGNoKHk9MCx0JiYob3A9WzImb3BbMF0sdC52YWx1ZV0pLG9wWzBdKXtjYXNlIDA6Y2FzZSAxOnQ9b3A7YnJlYWs7Y2FzZSA0OnJldHVybiBfLmxhYmVsKysse3ZhbHVlOm9wWzFdLGRvbmU6ITF9O2Nhc2UgNTpfLmxhYmVsKysseT1vcFsxXSxvcD1bMF07Y29udGludWU7Y2FzZSA3Om9wPV8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEodD0odD1fLnRyeXMpLmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdKSYmKDY9PT1vcFswXXx8Mj09PW9wWzBdKSl7Xz0wO2NvbnRpbnVlfWlmKDM9PT1vcFswXSYmKCF0fHxvcFsxXT50WzBdJiZvcFsxXTx0WzNdKSl7Xy5sYWJlbD1vcFsxXTticmVha31pZig2PT09b3BbMF0mJl8ubGFiZWw8dFsxXSl7Xy5sYWJlbD10WzFdLHQ9b3A7YnJlYWt9aWYodCYmXy5sYWJlbDx0WzJdKXtfLmxhYmVsPXRbMl0sXy5vcHMucHVzaChvcCk7YnJlYWt9dFsyXSYmXy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlfW9wPWJvZHkuY2FsbCh0aGlzQXJnLF8pfWNhdGNoKGUpe29wPVs2LGVdLHk9MH1maW5hbGx5e2Y9dD0wfWlmKDUmb3BbMF0pdGhyb3cgb3BbMV07cmV0dXJue3ZhbHVlOm9wWzBdP29wWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sdl0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuSW5BcHBzPXZvaWQgMDt2YXIgTW9kYWxfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEyOSksUmljaE1lZGlhXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMzEpLGV4cGFuZGVyc18xPV9fd2VicGFja19yZXF1aXJlX18oMTQxKSxEYXRhXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg0KSxJbkFwcHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBJbkFwcHMob3B0aW9ucyxwdyxldmVudEJ1cyxhcGkpe3RoaXMuZGVsYXlJbkFwcHM9W10sdGhpcy5pc0xvYWRlZEluQXBwc0xpc3Q9ITEsdGhpcy5wdz1wdyx0aGlzLm9wdGlvbnM9b3B0aW9ucyx0aGlzLmV2ZW50QnVzPWV2ZW50QnVzLHRoaXMuYXBpPWFwaSx0aGlzLm1vZGFsPW5ldyBNb2RhbF8xLk1vZGFsKHRoaXMub3B0aW9ucyYmdGhpcy5vcHRpb25zLm1vZGFsP3RoaXMub3B0aW9ucy5tb2RhbDp7fSksdGhpcy5kYXRhPW5ldyBEYXRhXzEuRGF0YX1yZXR1cm4gSW5BcHBzLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgaW5BcHBzLF90aGlzPXRoaXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLnN1YnNjcmliZVRvUmVjZWl2ZU1lc3NhZ2VGcm9tSUZyYW1lKCksdGhpcy5ldmVudEJ1cy5hZGRFdmVudEhhbmRsZXIoXCJyZWNlaXZlLWluLWFwcC1jb2RlXCIsZnVuY3Rpb24oX2Epe3ZhciBjb2RlPV9hLmNvZGU7X3RoaXMuaXNMb2FkZWRJbkFwcHNMaXN0P190aGlzLnNob3dJbkFwcChjb2RlKTpfdGhpcy5kZWxheUluQXBwcy5wdXNoKGNvZGUpfSksWzQsdGhpcy5nZXRMaXN0KCldO2Nhc2UgMTpyZXR1cm4gaW5BcHBzPV9hLnNlbnQoKS5pbkFwcHMsdGhpcy5kZWxheUluQXBwcy5sZW5ndGgmJnRoaXMuZGVsYXlJbkFwcHMuZm9yRWFjaChmdW5jdGlvbihjb2RlKXtfdGhpcy5zaG93SW5BcHAoY29kZSl9KSx0aGlzLmlzTG9hZGVkSW5BcHBzTGlzdD0hMCxbNCx0aGlzLmRhdGEuc2V0SW5BcHBzKGluQXBwcyldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLHRoaXMuaW5BcHBzPWluQXBwcyxbMl19fSl9KX0sSW5BcHBzLnByb3RvdHlwZS5zdWJzY3JpYmVUb1JlY2VpdmVNZXNzYWdlRnJvbUlGcmFtZT1mdW5jdGlvbigpe3ZhciBfdGhpcz10aGlzO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGZ1bmN0aW9uKGV2ZW50KXtpZihldmVudC5zb3VyY2UmJihldmVudC5zb3VyY2U9PT13aW5kb3d8fFwicGFyZW50XCJpbiBldmVudC5zb3VyY2UmJmV2ZW50LnNvdXJjZS5wYXJlbnQ9PT13aW5kb3cpKXRyeXt2YXIgZGF0YT1KU09OLnBhcnNlKGV2ZW50LmRhdGEpO2RhdGEmJlwib2JqZWN0XCI9PXR5cGVvZiBkYXRhJiZfdGhpcy5vblJlY2VpdmVOZXdNZXNzYWdlRnJvbUlGcmFtZShkYXRhKX1jYXRjaChlKXt9fSl9LEluQXBwcy5wcm90b3R5cGUub25SZWNlaXZlTmV3TWVzc2FnZUZyb21JRnJhbWU9ZnVuY3Rpb24obWVzc2FnZSl7dmFyIF90aGlzPXRoaXM7c3dpdGNoKG1lc3NhZ2UubWV0aG9kKXtjYXNlXCJzdWJzY3JpYmVcIjp0aGlzLnB3LnN1YnNjcmliZSgpLnRoZW4oZnVuY3Rpb24oKXtfdGhpcy5tb2RhbC5wb3N0TWVzc2FnZSh7Y29kZTptZXNzYWdlLmNvZGV9KX0pO2JyZWFrO2Nhc2VcInVuc3Vic2NyaWJlXCI6dGhpcy5wdy51bnN1YnNjcmliZSgpLnRoZW4oZnVuY3Rpb24oKXtfdGhpcy5tb2RhbC5wb3N0TWVzc2FnZSh7Y29kZTptZXNzYWdlLmNvZGV9KX0pO2JyZWFrO2Nhc2VcImdldFRhZ3NcIjp0aGlzLnB3LmFwaS5nZXRUYWdzKCkudGhlbihmdW5jdGlvbihfYSl7dmFyIHJlc3VsdD1fYS5yZXN1bHQ7X3RoaXMubW9kYWwucG9zdE1lc3NhZ2Uoe2NvZGU6bWVzc2FnZS5jb2RlLHRhZ3M6cmVzdWx0fSl9KTticmVhaztjYXNlXCJzZXRUYWdzXCI6dGhpcy5wdy5hcGkuc2V0VGFncyhtZXNzYWdlLm9wdGlvbnMudGFncykudGhlbihmdW5jdGlvbigpe190aGlzLm1vZGFsLnBvc3RNZXNzYWdlKHtjb2RlOm1lc3NhZ2UuY29kZX0pfSk7YnJlYWs7Y2FzZVwiZ2V0Q2hhbm5lbHNcIjp0aGlzLmRhdGEuZ2V0RmVhdHVyZXMoKS50aGVuKGZ1bmN0aW9uKF9hKXt2YXIgY2hhbm5lbHM9X2EuY2hhbm5lbHM7X3RoaXMubW9kYWwucG9zdE1lc3NhZ2Uoe2NvZGU6bWVzc2FnZS5jb2RlLGNoYW5uZWxzOmNoYW5uZWxzfSl9KTticmVhaztjYXNlXCJjaGVja1N1YnNjcmlwdGlvblwiOnRoaXMuYXBpLmNoZWNrRGV2aWNlU3Vic2NyaWJlRm9yUHVzaE5vdGlmaWNhdGlvbnMoKS50aGVuKGZ1bmN0aW9uKHN0YXRlKXtfdGhpcy5tb2RhbC5wb3N0TWVzc2FnZSh7Y29kZTptZXNzYWdlLmNvZGUsc3RhdGU6c3RhdGV9KX0pO2JyZWFrO2Nhc2VcImNoZWNrTWFudWFsVW5zdWJzY3JpYmVkXCI6dGhpcy5kYXRhLmdldFN0YXR1c01hbnVhbFVuc3Vic2NyaWJlZCgpLnRoZW4oZnVuY3Rpb24oc3RhdGUpe190aGlzLm1vZGFsLnBvc3RNZXNzYWdlKHtjb2RlOm1lc3NhZ2UuY29kZSxzdGF0ZTpzdGF0ZX0pfSk7YnJlYWs7Y2FzZVwiY2xvc2VJbkFwcFwiOnRoaXMubW9kYWwuaGlkZSgpO2JyZWFrO2Nhc2VcIm9wZW5MaW5rXCI6d2luZG93Lm9wZW4obWVzc2FnZS5vcHRpb25zLmhyZWYsXCJfYmxhbmtcIil9fSxJbkFwcHMucHJvdG90eXBlLnNob3dJbkFwcD1mdW5jdGlvbihjb2RlKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBmaWx0ZXJlZFJpY2hNZWRpYSxjdXJyZW50UmljaE1lZGlhLGluQXBwQ29udGVudDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6aWYoMSE9PShmaWx0ZXJlZFJpY2hNZWRpYT10aGlzLmluQXBwcy5maWx0ZXIoZnVuY3Rpb24oaW5BcHApe3JldHVybiBpbkFwcC5jb2RlPT09Y29kZX0pKS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgZmluZCBSaWNoIE1lZGlhXCIpO3JldHVybiB0aGlzLm1vZGFsLnNldExvYWRpbmcoKS5zaG93KCksY3VycmVudFJpY2hNZWRpYT1maWx0ZXJlZFJpY2hNZWRpYVswXSxbNCxuZXcgUmljaE1lZGlhXzEuUmljaE1lZGlhKGN1cnJlbnRSaWNoTWVkaWEudXJsLHRoaXMuYXBpLFtleHBhbmRlcnNfMS5FeHBhbmRlclB1c2h3b29zaFNlbmRNZXNzYWdlLGV4cGFuZGVyc18xLkV4cGFuZGVyUHVzaHdvb3NoLGV4cGFuZGVyc18xLkV4cGFuZGVyUHVzaE1hbmFnZXJdKS5nZXRDb250ZW50KCldO2Nhc2UgMTpyZXR1cm4gaW5BcHBDb250ZW50PV9hLnNlbnQoKSxbNCx0aGlzLm1vZGFsLnNldENvbnRlbnQoaW5BcHBDb250ZW50KV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksdGhpcy5tb2RhbC5yZW1vdmVMb2FkaW5nKCkuc2hvd0NvbnRlbnQoKSxbMl19fSl9KX0sSW5BcHBzLnByb3RvdHlwZS5nZXRMaXN0PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7cmV0dXJuWzIsdGhpcy5hcGkuZ2V0SW5BcHBzKCldfSl9KX0sSW5BcHBzfSgpO2V4cG9ydHMuSW5BcHBzPUluQXBwc30sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXNzaWduPXRoaXMmJnRoaXMuX19hc3NpZ258fGZ1bmN0aW9uKCl7cmV0dXJuKF9fYXNzaWduPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgcyxpPTEsbj1hcmd1bWVudHMubGVuZ3RoO2k8bjtpKyspZm9yKHZhciBwIGluIHM9YXJndW1lbnRzW2ldKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLHApJiYodFtwXT1zW3BdKTtyZXR1cm4gdH0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sX19hd2FpdGVyPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbih0aGlzQXJnLF9hcmd1bWVudHMsUCxnZW5lcmF0b3Ipe3JldHVybiBuZXcoUHx8KFA9UHJvbWlzZSkpKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiByZWplY3RlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLnRocm93KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiBzdGVwKHJlc3VsdCl7cmVzdWx0LmRvbmU/cmVzb2x2ZShyZXN1bHQudmFsdWUpOmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQP3ZhbHVlOm5ldyBQKGZ1bmN0aW9uKHJlc29sdmUpe3Jlc29sdmUodmFsdWUpfSl9KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQscmVqZWN0ZWQpfXN0ZXAoKGdlbmVyYXRvcj1nZW5lcmF0b3IuYXBwbHkodGhpc0FyZyxfYXJndW1lbnRzfHxbXSkpLm5leHQoKSl9KX0sX19nZW5lcmF0b3I9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24odGhpc0FyZyxib2R5KXt2YXIgZix5LHQsZyxfPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJnRbMF0pdGhyb3cgdFsxXTtyZXR1cm4gdFsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBnPXtuZXh0OnZlcmIoMCksdGhyb3c6dmVyYigxKSxyZXR1cm46dmVyYigyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYoZ1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxnO2Z1bmN0aW9uIHZlcmIobil7cmV0dXJuIGZ1bmN0aW9uKHYpe3JldHVybiBmdW5jdGlvbihvcCl7aWYoZil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO187KXRyeXtpZihmPTEseSYmKHQ9MiZvcFswXT95LnJldHVybjpvcFswXT95LnRocm93fHwoKHQ9eS5yZXR1cm4pJiZ0LmNhbGwoeSksMCk6eS5uZXh0KSYmISh0PXQuY2FsbCh5LG9wWzFdKSkuZG9uZSlyZXR1cm4gdDtzd2l0Y2goeT0wLHQmJihvcD1bMiZvcFswXSx0LnZhbHVlXSksb3BbMF0pe2Nhc2UgMDpjYXNlIDE6dD1vcDticmVhaztjYXNlIDQ6cmV0dXJuIF8ubGFiZWwrKyx7dmFsdWU6b3BbMV0sZG9uZTohMX07Y2FzZSA1Ol8ubGFiZWwrKyx5PW9wWzFdLG9wPVswXTtjb250aW51ZTtjYXNlIDc6b3A9Xy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoISh0PSh0PV8udHJ5cykubGVuZ3RoPjAmJnRbdC5sZW5ndGgtMV0pJiYoNj09PW9wWzBdfHwyPT09b3BbMF0pKXtfPTA7Y29udGludWV9aWYoMz09PW9wWzBdJiYoIXR8fG9wWzFdPnRbMF0mJm9wWzFdPHRbM10pKXtfLmxhYmVsPW9wWzFdO2JyZWFrfWlmKDY9PT1vcFswXSYmXy5sYWJlbDx0WzFdKXtfLmxhYmVsPXRbMV0sdD1vcDticmVha31pZih0JiZfLmxhYmVsPHRbMl0pe18ubGFiZWw9dFsyXSxfLm9wcy5wdXNoKG9wKTticmVha310WzJdJiZfLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWV9b3A9Ym9keS5jYWxsKHRoaXNBcmcsXyl9Y2F0Y2goZSl7b3A9WzYsZV0seT0wfWZpbmFsbHl7Zj10PTB9aWYoNSZvcFswXSl0aHJvdyBvcFsxXTtyZXR1cm57dmFsdWU6b3BbMF0/b3BbMV06dm9pZCAwLGRvbmU6ITB9fShbbix2XSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5Nb2RhbD12b2lkIDA7dmFyIE1vZGFsX2NvbnN0YW50c18xPV9fd2VicGFja19yZXF1aXJlX18oMTMwKSxNb2RhbD1mdW5jdGlvbigpe2Z1bmN0aW9uIE1vZGFsKG9wdGlvbnMpe3ZhciBfdGhpcz10aGlzO3ZvaWQgMD09PW9wdGlvbnMmJihvcHRpb25zPXt9KTt2YXIgd3JhcHBlcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9XUkFQUEVSX05BTUVTUEFDRSksaW5uZXI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfSU5ORVJfTkFNRVNQQUNFKSxsb2FkZXI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfTE9BREVSX05BTUVTUEFDRSksaWZyYW1lPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKE1vZGFsX2NvbnN0YW50c18xLk1PREFMX0lGUkFNRV9OQU1FU1BBQ0UpLGNsb3NlPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKE1vZGFsX2NvbnN0YW50c18xLk1PREFMX0NMT1NFX0JVVFRPTl9OQU1FU1BBQ0UpO2lmKHRoaXMub3B0aW9uPV9fYXNzaWduKF9fYXNzaWduKHt9LE1vZGFsX2NvbnN0YW50c18xLk1PREFMX0RFRkFJTFRfT1BUSU9OUyksb3B0aW9ucyksISh3cmFwcGVyJiZpbm5lciYmbG9hZGVyJiZpZnJhbWUmJmNsb3NlKSl7KHdyYXBwZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSkuaWQ9TW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfV1JBUFBFUl9OQU1FU1BBQ0Usd3JhcHBlci5jbGFzc05hbWU9TW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfV1JBUFBFUl9OQU1FU1BBQ0UsKGlubmVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLmlkPU1vZGFsX2NvbnN0YW50c18xLk1PREFMX0lOTkVSX05BTUVTUEFDRSxpbm5lci5jbGFzc05hbWU9TW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfSU5ORVJfTkFNRVNQQUNFLChsb2FkZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSkuaWQ9TW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfTE9BREVSX05BTUVTUEFDRSxsb2FkZXIuY2xhc3NOYW1lPU1vZGFsX2NvbnN0YW50c18xLk1PREFMX0xPQURFUl9OQU1FU1BBQ0UsKGNsb3NlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIikpLmlkPU1vZGFsX2NvbnN0YW50c18xLk1PREFMX0NMT1NFX0JVVFRPTl9OQU1FU1BBQ0UsY2xvc2UuY2xhc3NOYW1lPU1vZGFsX2NvbnN0YW50c18xLk1PREFMX0NMT1NFX0JVVFRPTl9OQU1FU1BBQ0UsKGlmcmFtZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpKS5pZD1Nb2RhbF9jb25zdGFudHNfMS5NT0RBTF9JRlJBTUVfTkFNRVNQQUNFLGlmcmFtZS5jbGFzc05hbWU9TW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfSUZSQU1FX05BTUVTUEFDRSxpbm5lci5hcHBlbmRDaGlsZChpZnJhbWUpLGlubmVyLmFwcGVuZENoaWxkKGNsb3NlKSx0aGlzLm9wdGlvbi5pc1Nob3dQcmVsb2FkZXImJmlubmVyLmFwcGVuZENoaWxkKGxvYWRlciksd3JhcHBlci5hcHBlbmRDaGlsZChpbm5lciksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh3cmFwcGVyKTt2YXIgc3R5bGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO3N0eWxlLmlubmVySFRNTD1cIlxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX1dSQVBQRVJfTkFNRVNQQUNFK1wiIHtcXG4gICAgICAgICAgcG9zaXRpb246IGZpeGVkO1xcbiAgICAgICAgICB0b3A6IDA7XFxuICAgICAgICAgIGxlZnQ6IDA7XFxuICAgICAgICAgIHdpZHRoOiAxMDAlO1xcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XFxuICAgICAgICAgIHotaW5kZXg6IDIxNDc0ODM2NDg7XFxuICAgICAgICAgIG9wYWNpdHk6IDAuOTk5O1xcbiAgICAgICAgICBkaXNwbGF5Om5vbmU7XFxuICAgICAgICB9XFxuXFxuICAgICAgICAuXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfV1JBUFBFUl9OQU1FU1BBQ0UrXCJfc3RhdGUtc2hvdyB7XFxuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0lOTkVSX05BTUVTUEFDRStcIiB7XFxuICAgICAgICAgIHdpZHRoOiAxMDAlO1xcbiAgICAgICAgICBoZWlnaHQ6IDEwMCU7XFxuICAgICAgICB9XFxuXFxuICAgICAgICAuXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfSU5ORVJfTkFNRVNQQUNFK1wiX3N0YXRlLWxvYWRpbmcge1xcbiAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIit0aGlzLm9wdGlvbi5iYWNrZ3JvdW5kQ29sb3IrXCI7XFxuICAgICAgICB9XFxuXFxuICAgICAgICAuXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfQ0xPU0VfQlVUVE9OX05BTUVTUEFDRStcIiB7XFxuICAgICAgICAgIGFwcGVhcmFuY2U6IG5vbmU7XFxuICAgICAgICAgIGJvcmRlcjogbm9uZTtcXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICAgICAgICAgIGJveC1zaGFkb3c6IG5vbmU7XFxuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgICAgICAgdG9wOiAyMHB4O1xcbiAgICAgICAgICByaWdodDogMjBweDtcXG4gICAgICAgICAgd2lkdGg6IDQwcHg7XFxuICAgICAgICAgIGhlaWdodDogNDBweDtcXG4gICAgICAgICAgY3Vyc29yOiBwb2ludGVyO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0NMT1NFX0JVVFRPTl9OQU1FU1BBQ0UrXCI6YWZ0ZXIge1xcbiAgICAgICAgICBjb250ZW50OiAnJztcXG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICAgICAgICB0b3A6IDUwJTtcXG4gICAgICAgICAgbGVmdDo1MCU7XFxuICAgICAgICAgIHdpZHRoOiAzMHB4O1xcbiAgICAgICAgICBoZWlnaHQ6IDJweDtcXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogXCIrdGhpcy5vcHRpb24uY2xvc2VCdXR0b25Db2xvcitcIjtcXG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoLTUwJSkgcm90YXRlKC00NWRlZyk7XFxuICAgICAgICB9XFxuXFxuICAgICAgICAuXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfQ0xPU0VfQlVUVE9OX05BTUVTUEFDRStcIjpiZWZvcmUge1xcbiAgICAgICAgICBjb250ZW50OiAnJztcXG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICAgICAgICB0b3A6IDUwJTtcXG4gICAgICAgICAgbGVmdDo1MCU7XFxuICAgICAgICAgIHdpZHRoOiAzMHB4O1xcbiAgICAgICAgICBoZWlnaHQ6IDJweDtcXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogXCIrdGhpcy5vcHRpb24uY2xvc2VCdXR0b25Db2xvcitcIjtcXG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoLTUwJSkgcm90YXRlKDQ1ZGVnKTtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIC5cIitNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9JTk5FUl9OQU1FU1BBQ0UrXCJfc3RhdGUtbG9hZGluZyAuXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfTE9BREVSX05BTUVTUEFDRStcIiB7XFxuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICAgICAgIHRvcDogNTAlO1xcbiAgICAgICAgICBsZWZ0OiA1MCU7XFxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0xPQURFUl9OQU1FU1BBQ0UrXCIge1xcbiAgICAgICAgICBkaXNwbGF5OiBub25lO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0xPQURFUl9OQU1FU1BBQ0UrXCIsXFxuICAgICAgICAuXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfTE9BREVSX05BTUVTUEFDRStcIjpiZWZvcmUsXFxuICAgICAgICAuXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfTE9BREVSX05BTUVTUEFDRStcIjphZnRlciB7XFxuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcXG4gICAgICAgICAgd2lkdGg6IDIuNWVtO1xcbiAgICAgICAgICBoZWlnaHQ6IDIuNWVtO1xcbiAgICAgICAgICAtd2Via2l0LWFuaW1hdGlvbi1maWxsLW1vZGU6IGJvdGg7XFxuICAgICAgICAgIGFuaW1hdGlvbi1maWxsLW1vZGU6IGJvdGg7XFxuICAgICAgICAgIC13ZWJraXQtYW5pbWF0aW9uOiBcIitNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9MT0FERVJfTkFNRVNQQUNFK1wiIDEuOHMgaW5maW5pdGUgZWFzZS1pbi1vdXQ7XFxuICAgICAgICAgIGFuaW1hdGlvbjogXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfTE9BREVSX05BTUVTUEFDRStcIiAxLjhzIGluZmluaXRlIGVhc2UtaW4tb3V0O1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0xPQURFUl9OQU1FU1BBQ0UrXCIge1xcbiAgICAgICAgICBjb2xvcjogI2ZmZmZmZjtcXG4gICAgICAgICAgZm9udC1zaXplOiAxMHB4O1xcbiAgICAgICAgICB0ZXh0LWluZGVudDogLTk5OTllbTtcXG4gICAgICAgICAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVooMCk7XFxuICAgICAgICAgIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVooMCk7XFxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWigwKTtcXG4gICAgICAgICAgLXdlYmtpdC1hbmltYXRpb24tZGVsYXk6IC0wLjE2cztcXG4gICAgICAgICAgYW5pbWF0aW9uLWRlbGF5OiAtMC4xNnM7XFxuICAgICAgICB9XFxuXFxuICAgICAgICAuXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfTE9BREVSX05BTUVTUEFDRStcIjpiZWZvcmUsXFxuICAgICAgICAuXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfTE9BREVSX05BTUVTUEFDRStcIjphZnRlciB7XFxuICAgICAgICAgIGNvbnRlbnQ6ICcnO1xcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICAgICAgIHRvcDogMDtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIC5cIitNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9MT0FERVJfTkFNRVNQQUNFK1wiOmJlZm9yZSB7XFxuICAgICAgICAgIGxlZnQ6IC0zLjVlbTtcXG4gICAgICAgICAgLXdlYmtpdC1hbmltYXRpb24tZGVsYXk6IC0wLjMycztcXG4gICAgICAgICAgYW5pbWF0aW9uLWRlbGF5OiAtMC4zMnM7XFxuICAgICAgICB9XFxuXFxuICAgICAgICAuXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfTE9BREVSX05BTUVTUEFDRStcIjphZnRlciB7XFxuICAgICAgICAgIGxlZnQ6IDMuNWVtO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgQC13ZWJraXQta2V5ZnJhbWVzIFwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0xPQURFUl9OQU1FU1BBQ0UrXCIge1xcbiAgICAgICAgICAwJSxcXG4gICAgICAgICAgODAlLFxcbiAgICAgICAgICAxMDAlIHtcXG4gICAgICAgICAgICBib3gtc2hhZG93OiAwIDIuNWVtIDAgLTEuM2VtIFwiK3RoaXMub3B0aW9uLnByZWxvYWRlckNvbG9yK1wiO1xcbiAgICAgICAgICB9XFxuICAgICAgICAgIDQwJSB7XFxuICAgICAgICAgICAgYm94LXNoYWRvdzogMCAyLjVlbSAwIDAgXCIrdGhpcy5vcHRpb24ucHJlbG9hZGVyQ29sb3IrXCI7XFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG5cXG4gICAgICAgIEBrZXlmcmFtZXMgXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfTE9BREVSX05BTUVTUEFDRStcIiB7XFxuICAgICAgICAgIDAlLFxcbiAgICAgICAgICA4MCUsXFxuICAgICAgICAgIDEwMCUge1xcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMi41ZW0gMCAtMS4zZW0gXCIrdGhpcy5vcHRpb24ucHJlbG9hZGVyQ29sb3IrXCI7XFxuICAgICAgICAgIH1cXG4gICAgICAgICAgNDAlIHtcXG4gICAgICAgICAgICBib3gtc2hhZG93OiAwIDIuNWVtIDAgMCBcIit0aGlzLm9wdGlvbi5wcmVsb2FkZXJDb2xvcitcIjtcXG4gICAgICAgICAgfVxcbiAgICAgICAgfVxcblxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0lGUkFNRV9OQU1FU1BBQ0UrXCIge1xcbiAgICAgICAgICB3aWR0aDogMTAwJTtcXG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xcbiAgICAgICAgICBwYWRkaW5nOiAwO1xcbiAgICAgICAgICBib3JkZXI6IG5vbmU7XFxuICAgICAgICAgIGRpc3BsYXk6IG5vbmU7XFxuICAgICAgICB9XFxuXFxuICAgICAgICAuXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfSUZSQU1FX05BTUVTUEFDRStcIl9zdGF0ZS1zaG93IHtcXG4gICAgICAgICAgZGlzcGxheTogYmxvY2s7XFxuICAgICAgICB9XFxuICAgICAgXCIsZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChzdHlsZSl9dGhpcy53cmFwcGVyPXdyYXBwZXIsdGhpcy5pbm5lcj1pbm5lcix0aGlzLmlmcmFtZT1pZnJhbWUsY2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtfdGhpcy5oaWRlKCl9KX1yZXR1cm4gTW9kYWwucHJvdG90eXBlLnBvc3RNZXNzYWdlPWZ1bmN0aW9uKGRhdGEpe3RoaXMuaWZyYW1lLmNvbnRlbnRXaW5kb3cucG9zdE1lc3NhZ2UoSlNPTi5zdHJpbmdpZnkoZGF0YSksXCIqXCIpfSxNb2RhbC5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3JldHVybiB0aGlzLndyYXBwZXIuY2xhc3NOYW1lPU1vZGFsX2NvbnN0YW50c18xLk1PREFMX1dSQVBQRVJfTkFNRVNQQUNFK1wiIFwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX1dSQVBQRVJfTkFNRVNQQUNFK1wiX3N0YXRlLXNob3dcIixkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PVwiaGlkZGVuXCIsdGhpc30sTW9kYWwucHJvdG90eXBlLmhpZGU9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53cmFwcGVyLmNsYXNzTmFtZT1Nb2RhbF9jb25zdGFudHNfMS5NT0RBTF9XUkFQUEVSX05BTUVTUEFDRSxkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93PVwiYXV0b1wiLHRoaXN9LE1vZGFsLnByb3RvdHlwZS5zZXRMb2FkaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5uZXIuY2xhc3NOYW1lPU1vZGFsX2NvbnN0YW50c18xLk1PREFMX0lOTkVSX05BTUVTUEFDRStcIiBcIitNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9JTk5FUl9OQU1FU1BBQ0UrXCJfc3RhdGUtbG9hZGluZ1wiLHRoaXMuaWZyYW1lLmNsYXNzTmFtZT1Nb2RhbF9jb25zdGFudHNfMS5NT0RBTF9JRlJBTUVfTkFNRVNQQUNFLHRoaXN9LE1vZGFsLnByb3RvdHlwZS5yZW1vdmVMb2FkaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5uZXIuY2xhc3NOYW1lPU1vZGFsX2NvbnN0YW50c18xLk1PREFMX0lOTkVSX05BTUVTUEFDRSx0aGlzfSxNb2RhbC5wcm90b3R5cGUuc2V0Q29udGVudD1mdW5jdGlvbihjb250ZW50KXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBfdGhpcz10aGlzO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtyZXR1cm4gdGhpcy5pZnJhbWUuc3JjZG9jPWNvbnRlbnQsWzIsbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe190aGlzLmlmcmFtZS5vbmxvYWQ9cmVzb2x2ZSxfdGhpcy5pZnJhbWUub25lcnJvcj1yZWplY3R9KV19KX0pfSxNb2RhbC5wcm90b3R5cGUuc2hvd0NvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pbm5lci5jbGFzc05hbWU9TW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfSU5ORVJfTkFNRVNQQUNFLHRoaXMuaWZyYW1lLmNsYXNzTmFtZT1Nb2RhbF9jb25zdGFudHNfMS5NT0RBTF9JRlJBTUVfTkFNRVNQQUNFK1wiIFwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0lGUkFNRV9OQU1FU1BBQ0UrXCJfc3RhdGUtc2hvd1wiLHRoaXN9LE1vZGFsfSgpO2V4cG9ydHMuTW9kYWw9TW9kYWx9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuTU9EQUxfREVGQUlMVF9PUFRJT05TPWV4cG9ydHMuTU9EQUxfSUZSQU1FX05BTUVTUEFDRT1leHBvcnRzLk1PREFMX0NMT1NFX0JVVFRPTl9OQU1FU1BBQ0U9ZXhwb3J0cy5NT0RBTF9MT0FERVJfTkFNRVNQQUNFPWV4cG9ydHMuTU9EQUxfSU5ORVJfTkFNRVNQQUNFPWV4cG9ydHMuTU9EQUxfV1JBUFBFUl9OQU1FU1BBQ0U9dm9pZCAwLGV4cG9ydHMuTU9EQUxfV1JBUFBFUl9OQU1FU1BBQ0U9XCJwdXNod29vc2gtaW4tYXBwLW1vZGFsLXdyYXBwZXJcIixleHBvcnRzLk1PREFMX0lOTkVSX05BTUVTUEFDRT1cInB1c2h3b29zaC1pbi1hcHAtbW9kYWwtaW5uZXJcIixleHBvcnRzLk1PREFMX0xPQURFUl9OQU1FU1BBQ0U9XCJwdXNod29vc2gtaW4tYXBwLW1vZGFsLWxvYWRlclwiLGV4cG9ydHMuTU9EQUxfQ0xPU0VfQlVUVE9OX05BTUVTUEFDRT1cInB1c2h3b29zaC1pbi1hcHAtbW9kYWwtY2xvc2UtYnV0dG9uXCIsZXhwb3J0cy5NT0RBTF9JRlJBTUVfTkFNRVNQQUNFPVwicHVzaHdvb3NoLWluLWFwcC1tb2RhbC1pZnJhbWVcIixleHBvcnRzLk1PREFMX0RFRkFJTFRfT1BUSU9OUz17YmFja2dyb3VuZENvbG9yOlwicmdiYSgwLCAwLCAwLCAuOClcIixjbG9zZUJ1dHRvbkNvbG9yOlwicmdiYSgyNTUsIDI1NSwgMjU1LCAuOClcIixjbG9zZUJ1dHRvbkhvdmVyQ29sb3I6XCJyZ2JhKDI1NSwgMjU1LCAxKVwiLGlzU2hvd1ByZWxvYWRlcjohMCxwcmVsb2FkZXJDb2xvcjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgMSlcIn19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX2F3YWl0ZXI9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKHRoaXNBcmcsX2FyZ3VtZW50cyxQLGdlbmVyYXRvcil7cmV0dXJuIG5ldyhQfHwoUD1Qcm9taXNlKSkoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2Z1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IudGhyb3codmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHN0ZXAocmVzdWx0KXtyZXN1bHQuZG9uZT9yZXNvbHZlKHJlc3VsdC52YWx1ZSk6ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFA/dmFsdWU6bmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSl7cmVzb2x2ZSh2YWx1ZSl9KX0ocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCxyZWplY3RlZCl9c3RlcCgoZ2VuZXJhdG9yPWdlbmVyYXRvci5hcHBseSh0aGlzQXJnLF9hcmd1bWVudHN8fFtdKSkubmV4dCgpKX0pfSxfX2dlbmVyYXRvcj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbih0aGlzQXJnLGJvZHkpe3ZhciBmLHksdCxnLF89e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmdFswXSl0aHJvdyB0WzFdO3JldHVybiB0WzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGc9e25leHQ6dmVyYigwKSx0aHJvdzp2ZXJiKDEpLHJldHVybjp2ZXJiKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihnW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGc7ZnVuY3Rpb24gdmVyYihuKXtyZXR1cm4gZnVuY3Rpb24odil7cmV0dXJuIGZ1bmN0aW9uKG9wKXtpZihmKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7XzspdHJ5e2lmKGY9MSx5JiYodD0yJm9wWzBdP3kucmV0dXJuOm9wWzBdP3kudGhyb3d8fCgodD15LnJldHVybikmJnQuY2FsbCh5KSwwKTp5Lm5leHQpJiYhKHQ9dC5jYWxsKHksb3BbMV0pKS5kb25lKXJldHVybiB0O3N3aXRjaCh5PTAsdCYmKG9wPVsyJm9wWzBdLHQudmFsdWVdKSxvcFswXSl7Y2FzZSAwOmNhc2UgMTp0PW9wO2JyZWFrO2Nhc2UgNDpyZXR1cm4gXy5sYWJlbCsrLHt2YWx1ZTpvcFsxXSxkb25lOiExfTtjYXNlIDU6Xy5sYWJlbCsrLHk9b3BbMV0sb3A9WzBdO2NvbnRpbnVlO2Nhc2UgNzpvcD1fLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKHQ9KHQ9Xy50cnlzKS5sZW5ndGg+MCYmdFt0Lmxlbmd0aC0xXSkmJig2PT09b3BbMF18fDI9PT1vcFswXSkpe189MDtjb250aW51ZX1pZigzPT09b3BbMF0mJighdHx8b3BbMV0+dFswXSYmb3BbMV08dFszXSkpe18ubGFiZWw9b3BbMV07YnJlYWt9aWYoNj09PW9wWzBdJiZfLmxhYmVsPHRbMV0pe18ubGFiZWw9dFsxXSx0PW9wO2JyZWFrfWlmKHQmJl8ubGFiZWw8dFsyXSl7Xy5sYWJlbD10WzJdLF8ub3BzLnB1c2gob3ApO2JyZWFrfXRbMl0mJl8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZX1vcD1ib2R5LmNhbGwodGhpc0FyZyxfKX1jYXRjaChlKXtvcD1bNixlXSx5PTB9ZmluYWxseXtmPXQ9MH1pZig1Jm9wWzBdKXRocm93IG9wWzFdO3JldHVybnt2YWx1ZTpvcFswXT9vcFsxXTp2b2lkIDAsZG9uZTohMH19KFtuLHZdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLlJpY2hNZWRpYT12b2lkIDA7dmFyIGRldGVjdF9icm93c2VyXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMzIpLGdldFppcF8xPV9fd2VicGFja19yZXF1aXJlX18oNDgpLER5bmFtaWNDb250ZW50XzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMzMpLFJpY2hNZWRpYUV4cGFuZGVyXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMzUpLEV4dGVybmFsUmVzb3VyY2VzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMzYpLFJpY2hNZWRpYT1mdW5jdGlvbigpe2Z1bmN0aW9uIFJpY2hNZWRpYSh1cmwsYXBpLGV4cGFuZGVycyl7dGhpcy51cmw9dXJsLHRoaXMuYXBpPWFwaSx0aGlzLmV4cGFuZGVycz1leHBhbmRlcnN9cmV0dXJuIFJpY2hNZWRpYS5wcm90b3R5cGUuZ2V0Q29udGVudD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGxhbmd1YWdlLGpzemlwLHZhbHVlcyxfYSxfYixjb250ZW50LGJyb3dzZXIsY29udGV4dDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYyl7c3dpdGNoKF9jLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5hcGkuZ2V0VGFncygpXTtjYXNlIDE6cmV0dXJuIGxhbmd1YWdlPV9jLnNlbnQoKS5yZXN1bHQuTGFuZ3VhZ2UsWzQsZ2V0WmlwXzEuZ2V0WmlwKHRoaXMudXJsKV07Y2FzZSAyOmlmKCEoanN6aXA9X2Muc2VudCgpKS5maWxlc1tcImluZGV4Lmh0bWxcIl0pdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgZmluZCBpbmRleC5odG1sXCIpO2lmKCFqc3ppcC5maWxlc1tcInB1c2h3b29zaC5qc29uXCJdKXRocm93IG5ldyBFcnJvcihcIkNhbid0IGZpbmQgcHVzaHdvb3NoLmpzb25cIik7cmV0dXJuIF9iPShfYT1KU09OKS5wYXJzZSxbNCxqc3ppcC5maWxlKFwicHVzaHdvb3NoLmpzb25cIikuYXN5bmMoXCJ0ZXh0XCIpXTtjYXNlIDM6cmV0dXJuIHZhbHVlcz1fYi5hcHBseShfYSxbX2Muc2VudCgpXSksWzQsanN6aXAuZmlsZShcImluZGV4Lmh0bWxcIikuYXN5bmMoXCJ0ZXh0XCIpXTtjYXNlIDQ6cmV0dXJuIGNvbnRlbnQ9X2Muc2VudCgpLGJyb3dzZXI9ZGV0ZWN0X2Jyb3dzZXJfMS5kZXRlY3QoKSxjb250ZXh0PXtwbGF0Zm9ybTpcIndlYlwiLGJyb3dzZXI6YnJvd3NlciYmYnJvd3Nlci5uYW1lfHxcInVua25vd25cIixvczpicm93c2VyJiZicm93c2VyLm9zfHxcInVua25vd25cIixpc01vYmlsZUJyb3dzZXI6dGhpcy5jaGVja0lzTW9iaWxlQnJvd3NlcigpfSxjb250ZW50PW5ldyBEeW5hbWljQ29udGVudF8xLkR5bmFtaWNDb250ZW50KGNvbnRlbnQsdmFsdWVzLGxhbmd1YWdlKS5nZXRSZXBsYWNlZENvbnRlbnQoKSxbNCxuZXcgRXh0ZXJuYWxSZXNvdXJjZXNfMS5FeHRlcm5hbFJlc291cmNlcyhjb250ZW50LGpzemlwKS5nZXRSZXBsYWNlZENvbnRlbnQoKV07Y2FzZSA1OnJldHVybiBjb250ZW50PV9jLnNlbnQoKSxjb250ZW50PW5ldyBEeW5hbWljQ29udGVudF8xLkR5bmFtaWNDb250ZW50KGNvbnRlbnQsdmFsdWVzLGxhbmd1YWdlKS5nZXRSZXBsYWNlZENvbnRlbnQoKSxjb250ZW50PW5ldyBSaWNoTWVkaWFFeHBhbmRlcl8xLlJpY2hNZWRpYUV4cGFuZGVyKGNvbnRlbnQsWyc8c2NyaXB0IHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj5cXG4gICAgICAgICAgd2luZG93LnB1c2h3b29zaC5wbGF0Zm9ybSA9IFxcJycrY29udGV4dC5wbGF0Zm9ybS5yZXBsYWNlKFwiIFwiLFwiXCIpLnRvTG93ZXJDYXNlKCkrXCInO1xcbiAgICAgICAgICB3aW5kb3cucHVzaHdvb3NoLmJyb3dzZXIgPSAnXCIrY29udGV4dC5icm93c2VyLnJlcGxhY2UoXCIgXCIsXCJcIikudG9Mb3dlckNhc2UoKStcIic7XFxuICAgICAgICAgIHdpbmRvdy5wdXNod29vc2gub3MgPSAnXCIrY29udGV4dC5vcy5yZXBsYWNlKFwiIFwiLFwiXCIpLnRvTG93ZXJDYXNlKCkrXCInO1xcbiAgICAgICAgICB3aW5kb3cucHVzaHdvb3NoLmlzTW9iaWxlQnJvd3NlciA9IFwiK2NvbnRleHQuaXNNb2JpbGVCcm93c2VyK1wiO1xcbiAgICAgICAgPFxcL3NjcmlwdD5cIl0pLnVwbG9hZEV4cGFuZGVycygpLFsyLGNvbnRlbnQ9bmV3IFJpY2hNZWRpYUV4cGFuZGVyXzEuUmljaE1lZGlhRXhwYW5kZXIoY29udGVudCx0aGlzLmV4cGFuZGVycykudXBsb2FkRXhwYW5kZXJzKCldfX0pfSl9LFJpY2hNZWRpYS5wcm90b3R5cGUuY2hlY2tJc01vYmlsZUJyb3dzZXI9ZnVuY3Rpb24oKXt2YXIgaXNNb2JpbGVCcm93c2VyPSExO3JldHVybiBmdW5jdGlvbihzdHIpeygvKGFuZHJvaWR8YmJcXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVxcL3xibGFja2JlcnJ5fGJsYXplcnxjb21wYWx8ZWxhaW5lfGZlbm5lY3xoaXB0b3B8aWVtb2JpbGV8aXAoaG9uZXxvZCl8aXJpc3xraW5kbGV8bGdlIHxtYWVtb3xtaWRwfG1tcHxtb2JpbGUuK2ZpcmVmb3h8bmV0ZnJvbnR8b3BlcmEgbShvYnxpbilpfHBhbG0oIG9zKT98cGhvbmV8cChpeGl8cmUpXFwvfHBsdWNrZXJ8cG9ja2V0fHBzcHxzZXJpZXMoNHw2KTB8c3ltYmlhbnx0cmVvfHVwXFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgY2V8eGRhfHhpaW5vfGFuZHJvaWR8aXBhZHxwbGF5Ym9va3xzaWxrL2kudGVzdChzdHIpfHwvMTIwN3w2MzEwfDY1OTB8M2dzb3w0dGhwfDUwWzEtNl1pfDc3MHN8ODAyc3xhIHdhfGFiYWN8YWMoZXJ8b298c1xcLSl8YWkoa298cm4pfGFsKGF2fGNhfGNvKXxhbW9pfGFuKGV4fG55fHl3KXxhcHR1fGFyKGNofGdvKXxhcyh0ZXx1cyl8YXR0d3xhdShkaXxcXC1tfHIgfHMgKXxhdmFufGJlKGNrfGxsfG5xKXxiaShsYnxyZCl8YmwoYWN8YXopfGJyKGV8dil3fGJ1bWJ8YndcXC0obnx1KXxjNTVcXC98Y2FwaXxjY3dhfGNkbVxcLXxjZWxsfGNodG18Y2xkY3xjbWRcXC18Y28obXB8bmQpfGNyYXd8ZGEoaXR8bGx8bmcpfGRidGV8ZGNcXC1zfGRldml8ZGljYXxkbW9ifGRvKGN8cClvfGRzKDEyfFxcLWQpfGVsKDQ5fGFpKXxlbShsMnx1bCl8ZXIoaWN8azApfGVzbDh8ZXooWzQtN10wfG9zfHdhfHplKXxmZXRjfGZseShcXC18Xyl8ZzEgdXxnNTYwfGdlbmV8Z2ZcXC01fGdcXC1tb3xnbyhcXC53fG9kKXxncihhZHx1bil8aGFpZXxoY2l0fGhkXFwtKG18cHx0KXxoZWlcXC18aGkocHR8dGEpfGhwKCBpfGlwKXxoc1xcLWN8aHQoYyhcXC18IHxffGF8Z3xwfHN8dCl8dHApfGh1KGF3fHRjKXxpXFwtKDIwfGdvfG1hKXxpMjMwfGlhYyggfFxcLXxcXC8pfGlicm98aWRlYXxpZzAxfGlrb218aW0xa3xpbm5vfGlwYXF8aXJpc3xqYSh0fHYpYXxqYnJvfGplbXV8amlnc3xrZGRpfGtlaml8a2d0KCB8XFwvKXxrbG9ufGtwdCB8a3djXFwtfGt5byhjfGspfGxlKG5vfHhpKXxsZyggZ3xcXC8oa3xsfHUpfDUwfDU0fFxcLVthLXddKXxsaWJ3fGx5bnh8bTFcXC13fG0zZ2F8bTUwXFwvfG1hKHRlfHVpfHhvKXxtYygwMXwyMXxjYSl8bVxcLWNyfG1lKHJjfHJpKXxtaShvOHxvYXx0cyl8bW1lZnxtbygwMXwwMnxiaXxkZXxkb3x0KFxcLXwgfG98dil8enopfG10KDUwfHAxfHYgKXxtd2JwfG15d2F8bjEwWzAtMl18bjIwWzItM118bjMwKDB8Mil8bjUwKDB8Mnw1KXxuNygwKDB8MSl8MTApfG5lKChjfG0pXFwtfG9ufHRmfHdmfHdnfHd0KXxub2soNnxpKXxuenBofG8yaW18b3AodGl8d3YpfG9yYW58b3dnMXxwODAwfHBhbihhfGR8dCl8cGR4Z3xwZygxM3xcXC0oWzEtOF18YykpfHBoaWx8cGlyZXxwbChheXx1Yyl8cG5cXC0yfHBvKGNrfHJ0fHNlKXxwcm94fHBzaW98cHRcXC1nfHFhXFwtYXxxYygwN3wxMnwyMXwzMnw2MHxcXC1bMi03XXxpXFwtKXxxdGVrfHIzODB8cjYwMHxyYWtzfHJpbTl8cm8odmV8em8pfHM1NVxcL3xzYShnZXxtYXxtbXxtc3xueXx2YSl8c2MoMDF8aFxcLXxvb3xwXFwtKXxzZGtcXC98c2UoYyhcXC18MHwxKXw0N3xtY3xuZHxyaSl8c2doXFwtfHNoYXJ8c2llKFxcLXxtKXxza1xcLTB8c2woNDV8aWQpfHNtKGFsfGFyfGIzfGl0fHQ1KXxzbyhmdHxueSl8c3AoMDF8aFxcLXx2XFwtfHYgKXxzeSgwMXxtYil8dDIoMTh8NTApfHQ2KDAwfDEwfDE4KXx0YShndHxsayl8dGNsXFwtfHRkZ1xcLXx0ZWwoaXxtKXx0aW1cXC18dFxcLW1vfHRvKHBsfHNoKXx0cyg3MHxtXFwtfG0zfG01KXx0eFxcLTl8dXAoXFwuYnxnMXxzaSl8dXRzdHx2NDAwfHY3NTB8dmVyaXx2aShyZ3x0ZSl8dmsoNDB8NVswLTNdfFxcLXYpfHZtNDB8dm9kYXx2dWxjfHZ4KDUyfDUzfDYwfDYxfDcwfDgwfDgxfDgzfDg1fDk4KXx3M2MoXFwtfCApfHdlYmN8d2hpdHx3aShnIHxuY3xudyl8d21sYnx3b251fHg3MDB8eWFzXFwtfHlvdXJ8emV0b3x6dGVcXC0vaS50ZXN0KHN0ci5zdWJzdHIoMCw0KSkpJiYoaXNNb2JpbGVCcm93c2VyPSEwKX0obmF2aWdhdG9yLnVzZXJBZ2VudHx8bmF2aWdhdG9yLnZlbmRvcnx8d2luZG93Lm9wZXJhKSxpc01vYmlsZUJyb3dzZXJ9LFJpY2hNZWRpYX0oKTtleHBvcnRzLlJpY2hNZWRpYT1SaWNoTWVkaWF9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihwcm9jZXNzKXt2YXIgX19zcHJlYWRBcnJheXM9dGhpcyYmdGhpcy5fX3NwcmVhZEFycmF5c3x8ZnVuY3Rpb24oKXtmb3IodmFyIHM9MCxpPTAsaWw9YXJndW1lbnRzLmxlbmd0aDtpPGlsO2krKylzKz1hcmd1bWVudHNbaV0ubGVuZ3RoO3ZhciByPUFycmF5KHMpLGs9MDtmb3IoaT0wO2k8aWw7aSsrKWZvcih2YXIgYT1hcmd1bWVudHNbaV0saj0wLGpsPWEubGVuZ3RoO2o8amw7aisrLGsrKylyW2tdPWFbal07cmV0dXJuIHJ9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBCcm93c2VySW5mbz1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihuYW1lLHZlcnNpb24sb3Mpe3RoaXMubmFtZT1uYW1lLHRoaXMudmVyc2lvbj12ZXJzaW9uLHRoaXMub3M9b3N9fSgpO2V4cG9ydHMuQnJvd3NlckluZm89QnJvd3NlckluZm87dmFyIE5vZGVJbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHZlcnNpb24pe3RoaXMudmVyc2lvbj12ZXJzaW9uLHRoaXMubmFtZT1cIm5vZGVcIix0aGlzLm9zPXByb2Nlc3MucGxhdGZvcm19fSgpO2V4cG9ydHMuTm9kZUluZm89Tm9kZUluZm87dmFyIEJvdEluZm89ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0aGlzLmJvdD0hMCx0aGlzLm5hbWU9XCJib3RcIix0aGlzLnZlcnNpb249bnVsbCx0aGlzLm9zPW51bGx9fSgpO2V4cG9ydHMuQm90SW5mbz1Cb3RJbmZvO3ZhciBSRVFVSVJFRF9WRVJTSU9OX1BBUlRTPTMsdXNlckFnZW50UnVsZXM9W1tcImFvbFwiLC9BT0xTaGllbGRcXC8oWzAtOVxcLl9dKykvXSxbXCJlZGdlXCIsL0VkZ2VcXC8oWzAtOVxcLl9dKykvXSxbXCJlZGdlLWlvc1wiLC9FZGdpT1NcXC8oWzAtOVxcLl9dKykvXSxbXCJ5YW5kZXhicm93c2VyXCIsL1lhQnJvd3NlclxcLyhbMC05XFwuX10rKS9dLFtcInZpdmFsZGlcIiwvVml2YWxkaVxcLyhbMC05XFwuXSspL10sW1wia2FrYW90YWxrXCIsL0tBS0FPVEFMS1xccyhbMC05XFwuXSspL10sW1wic2Ftc3VuZ1wiLC9TYW1zdW5nQnJvd3NlclxcLyhbMC05XFwuXSspL10sW1wic2lsa1wiLC9cXGJTaWxrXFwvKFswLTkuXy1dKylcXGIvXSxbXCJtaXVpXCIsL01pdWlCcm93c2VyXFwvKFswLTlcXC5dKykkL10sW1wiYmVha2VyXCIsL0JlYWtlckJyb3dzZXJcXC8oWzAtOVxcLl0rKS9dLFtcImVkZ2UtY2hyb21pdW1cIiwvRWRnXFwvKFswLTlcXC5dKykvXSxbXCJjaHJvbWl1bS13ZWJ2aWV3XCIsLyg/IUNocm9tLipPUFIpd3ZcXCkuKkNocm9tKD86ZXxpdW0pXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvXSxbXCJjaHJvbWVcIiwvKD8hQ2hyb20uKk9QUilDaHJvbSg/OmV8aXVtKVxcLyhbMC05XFwuXSspKDo/XFxzfCQpL10sW1wicGhhbnRvbWpzXCIsL1BoYW50b21KU1xcLyhbMC05XFwuXSspKDo/XFxzfCQpL10sW1wiY3Jpb3NcIiwvQ3JpT1NcXC8oWzAtOVxcLl0rKSg6P1xcc3wkKS9dLFtcImZpcmVmb3hcIiwvRmlyZWZveFxcLyhbMC05XFwuXSspKD86XFxzfCQpL10sW1wiZnhpb3NcIiwvRnhpT1NcXC8oWzAtOVxcLl0rKS9dLFtcIm9wZXJhLW1pbmlcIiwvT3BlcmEgTWluaS4qVmVyc2lvblxcLyhbMC05XFwuXSspL10sW1wib3BlcmFcIiwvT3BlcmFcXC8oWzAtOVxcLl0rKSg/Olxcc3wkKS9dLFtcIm9wZXJhXCIsL09QUlxcLyhbMC05XFwuXSspKDo/XFxzfCQpL10sW1wiaWVcIiwvVHJpZGVudFxcLzdcXC4wLipydlxcOihbMC05XFwuXSspLipcXCkuKkdlY2tvJC9dLFtcImllXCIsL01TSUVcXHMoWzAtOVxcLl0rKTsuKlRyaWRlbnRcXC9bNC03XS4wL10sW1wiaWVcIiwvTVNJRVxccyg3XFwuMCkvXSxbXCJiYjEwXCIsL0JCMTA7XFxzVG91Y2guKlZlcnNpb25cXC8oWzAtOVxcLl0rKS9dLFtcImFuZHJvaWRcIiwvQW5kcm9pZFxccyhbMC05XFwuXSspL10sW1wiaW9zXCIsL1ZlcnNpb25cXC8oWzAtOVxcLl9dKykuKk1vYmlsZS4qU2FmYXJpLiovXSxbXCJzYWZhcmlcIiwvVmVyc2lvblxcLyhbMC05XFwuX10rKS4qU2FmYXJpL10sW1wiZmFjZWJvb2tcIiwvRkJBVlxcLyhbMC05XFwuXSspL10sW1wiaW5zdGFncmFtXCIsL0luc3RhZ3JhbVxccyhbMC05XFwuXSspL10sW1wiaW9zLXdlYnZpZXdcIiwvQXBwbGVXZWJLaXRcXC8oWzAtOVxcLl0rKS4qTW9iaWxlL10sW1wiaW9zLXdlYnZpZXdcIiwvQXBwbGVXZWJLaXRcXC8oWzAtOVxcLl0rKS4qR2Vja29cXCkkL10sW1wic2VhcmNoYm90XCIsL2FsZXhhfGJvdHxjcmF3bChlcnxpbmcpfGZhY2Vib29rZXh0ZXJuYWxoaXR8ZmVlZGJ1cm5lcnxnb29nbGUgd2ViIHByZXZpZXd8bmFnaW9zfHBvc3RyYW5rfHBpbmdkb218c2x1cnB8c3BpZGVyfHlhaG9vIXx5YW5kZXgvXV0sb3BlcmF0aW5nU3lzdGVtUnVsZXM9W1tcImlPU1wiLC9pUChob25lfG9kfGFkKS9dLFtcIkFuZHJvaWQgT1NcIiwvQW5kcm9pZC9dLFtcIkJsYWNrQmVycnkgT1NcIiwvQmxhY2tCZXJyeXxCQjEwL10sW1wiV2luZG93cyBNb2JpbGVcIiwvSUVNb2JpbGUvXSxbXCJBbWF6b24gT1NcIiwvS2luZGxlL10sW1wiV2luZG93cyAzLjExXCIsL1dpbjE2L10sW1wiV2luZG93cyA5NVwiLC8oV2luZG93cyA5NSl8KFdpbjk1KXwoV2luZG93c185NSkvXSxbXCJXaW5kb3dzIDk4XCIsLyhXaW5kb3dzIDk4KXwoV2luOTgpL10sW1wiV2luZG93cyAyMDAwXCIsLyhXaW5kb3dzIE5UIDUuMCl8KFdpbmRvd3MgMjAwMCkvXSxbXCJXaW5kb3dzIFhQXCIsLyhXaW5kb3dzIE5UIDUuMSl8KFdpbmRvd3MgWFApL10sW1wiV2luZG93cyBTZXJ2ZXIgMjAwM1wiLC8oV2luZG93cyBOVCA1LjIpL10sW1wiV2luZG93cyBWaXN0YVwiLC8oV2luZG93cyBOVCA2LjApL10sW1wiV2luZG93cyA3XCIsLyhXaW5kb3dzIE5UIDYuMSkvXSxbXCJXaW5kb3dzIDhcIiwvKFdpbmRvd3MgTlQgNi4yKS9dLFtcIldpbmRvd3MgOC4xXCIsLyhXaW5kb3dzIE5UIDYuMykvXSxbXCJXaW5kb3dzIDEwXCIsLyhXaW5kb3dzIE5UIDEwLjApL10sW1wiV2luZG93cyBNRVwiLC9XaW5kb3dzIE1FL10sW1wiT3BlbiBCU0RcIiwvT3BlbkJTRC9dLFtcIlN1biBPU1wiLC9TdW5PUy9dLFtcIkNocm9tZSBPU1wiLC9Dck9TL10sW1wiTGludXhcIiwvKExpbnV4KXwoWDExKS9dLFtcIk1hYyBPU1wiLC8oTWFjX1Bvd2VyUEMpfChNYWNpbnRvc2gpL10sW1wiUU5YXCIsL1FOWC9dLFtcIkJlT1NcIiwvQmVPUy9dLFtcIk9TLzJcIiwvT1NcXC8yL10sW1wiU2VhcmNoIEJvdFwiLC8obnVoayl8KEdvb2dsZWJvdCl8KFlhbW15Ym90KXwoT3BlbmJvdCl8KFNsdXJwKXwoTVNOQm90KXwoQXNrIEplZXZlc1xcL1Rlb21hKXwoaWFfYXJjaGl2ZXIpL11dO2Z1bmN0aW9uIHBhcnNlVXNlckFnZW50KHVhKXt2YXIgbWF0Y2hlZFJ1bGU9XCJcIiE9PXVhJiZ1c2VyQWdlbnRSdWxlcy5yZWR1Y2UoZnVuY3Rpb24obWF0Y2hlZCxfYSl7dmFyIGJyb3dzZXI9X2FbMF0scmVnZXg9X2FbMV07aWYobWF0Y2hlZClyZXR1cm4gbWF0Y2hlZDt2YXIgdWFNYXRjaD1yZWdleC5leGVjKHVhKTtyZXR1cm4hIXVhTWF0Y2gmJlticm93c2VyLHVhTWF0Y2hdfSwhMSk7aWYoIW1hdGNoZWRSdWxlKXJldHVybiBudWxsO3ZhciBuYW1lPW1hdGNoZWRSdWxlWzBdLG1hdGNoPW1hdGNoZWRSdWxlWzFdO2lmKFwic2VhcmNoYm90XCI9PT1uYW1lKXJldHVybiBuZXcgQm90SW5mbzt2YXIgdmVyc2lvblBhcnRzPW1hdGNoWzFdJiZtYXRjaFsxXS5zcGxpdCgvWy5fXS8pLnNsaWNlKDAsMyk7cmV0dXJuIHZlcnNpb25QYXJ0cz92ZXJzaW9uUGFydHMubGVuZ3RoPFJFUVVJUkVEX1ZFUlNJT05fUEFSVFMmJih2ZXJzaW9uUGFydHM9X19zcHJlYWRBcnJheXModmVyc2lvblBhcnRzLGZ1bmN0aW9uKGNvdW50KXtmb3IodmFyIG91dHB1dD1bXSxpaT0wO2lpPGNvdW50O2lpKyspb3V0cHV0LnB1c2goXCIwXCIpO3JldHVybiBvdXRwdXR9KFJFUVVJUkVEX1ZFUlNJT05fUEFSVFMtdmVyc2lvblBhcnRzLmxlbmd0aCkpKTp2ZXJzaW9uUGFydHM9W10sbmV3IEJyb3dzZXJJbmZvKG5hbWUsdmVyc2lvblBhcnRzLmpvaW4oXCIuXCIpLGRldGVjdE9TKHVhKSl9ZnVuY3Rpb24gZGV0ZWN0T1ModWEpe2Zvcih2YXIgaWk9MCxjb3VudD1vcGVyYXRpbmdTeXN0ZW1SdWxlcy5sZW5ndGg7aWk8Y291bnQ7aWkrKyl7dmFyIF9hPW9wZXJhdGluZ1N5c3RlbVJ1bGVzW2lpXSxvcz1fYVswXTtpZihfYVsxXS50ZXN0KHVhKSlyZXR1cm4gb3N9cmV0dXJuIG51bGx9ZnVuY3Rpb24gZ2V0Tm9kZVZlcnNpb24oKXtyZXR1cm4gdm9pZCAwIT09cHJvY2VzcyYmcHJvY2Vzcy52ZXJzaW9uP25ldyBOb2RlSW5mbyhwcm9jZXNzLnZlcnNpb24uc2xpY2UoMSkpOm51bGx9ZXhwb3J0cy5kZXRlY3Q9ZnVuY3Rpb24odXNlckFnZW50KXtyZXR1cm4gdXNlckFnZW50P3BhcnNlVXNlckFnZW50KHVzZXJBZ2VudCk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvcj9wYXJzZVVzZXJBZ2VudChuYXZpZ2F0b3IudXNlckFnZW50KTpnZXROb2RlVmVyc2lvbigpfSxleHBvcnRzLnBhcnNlVXNlckFnZW50PXBhcnNlVXNlckFnZW50LGV4cG9ydHMuZGV0ZWN0T1M9ZGV0ZWN0T1MsZXhwb3J0cy5nZXROb2RlVmVyc2lvbj1nZXROb2RlVmVyc2lvbn0pLmNhbGwodGhpcyxfX3dlYnBhY2tfcmVxdWlyZV9fKDIyKSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuRHluYW1pY0NvbnRlbnQ9dm9pZCAwO3ZhciBEeW5hbWljQ29udGVudF9jb25zdGFudHNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEzNCksRHluYW1pY0NvbnRlbnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBEeW5hbWljQ29udGVudChjb250ZW50LHZhbHVlcyxsYW5ndWFnZSl7dGhpcy5jb250ZW50PWNvbnRlbnQsdGhpcy52YWx1ZXM9dmFsdWVzLHRoaXMubGFuZ3VhZ2U9bGFuZ3VhZ2V9cmV0dXJuIER5bmFtaWNDb250ZW50LnByb3RvdHlwZS5nZXRSZXBsYWNlZENvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgX3RoaXM9dGhpcyxyZWdleHA9bmV3IFJlZ0V4cChcIlxcXFx7XFxcXHtbXlxcXFx9XFxcXH1dKn19XCIsXCJnbVwiKTtyZXR1cm4gdGhpcy5jb250ZW50LnJlcGxhY2UocmVnZXhwLGZ1bmN0aW9uKHN1YnN0cmluZyl7dmFyIHBhdHRlcm49c3Vic3RyaW5nLnJlcGxhY2UoXCJ9fVwiLFwiXCIpLnJlcGxhY2UoXCJ7e1wiLFwiXCIpO3JldHVybiBfdGhpcy5nZXRSZXN1bHRpbmdDb250ZW50KHBhdHRlcm4pfSl9LER5bmFtaWNDb250ZW50LnByb3RvdHlwZS5nZXRSZXN1bHRpbmdDb250ZW50PWZ1bmN0aW9uKHBhdHRlcm4pe3ZhciBfYT1wYXR0ZXJuLnNwbGl0KFwifFwiKSxuYW1lPV9hWzBdLG1vZGlmaWVyPV9hWzFdLF9iPV9hWzJdLHZhbHVlPXZvaWQgMD09PV9iP1wiXCI6X2IsaGFzUmVwbGFjZWRWYWx1ZUJ5Q3VycmVudExhbmd1YWdlPXRoaXMudmFsdWVzLmxvY2FsaXphdGlvbiYmdGhpcy52YWx1ZXMubG9jYWxpemF0aW9uW3RoaXMubGFuZ3VhZ2VdJiZ0aGlzLnZhbHVlcy5sb2NhbGl6YXRpb25bdGhpcy5sYW5ndWFnZV1bbmFtZV0saGFzUmVwbGFjZWRWYWx1ZUJ5RGVmYXVsdExhbmd1YWdlPXRoaXMudmFsdWVzLmxvY2FsaXphdGlvbiYmdGhpcy52YWx1ZXMubG9jYWxpemF0aW9uW3RoaXMudmFsdWVzLmRlZmF1bHRfbGFuZ3VhZ2VdJiZ0aGlzLnZhbHVlcy5sb2NhbGl6YXRpb25bdGhpcy52YWx1ZXMuZGVmYXVsdF9sYW5ndWFnZV1bbmFtZV07cmV0dXJuIGhhc1JlcGxhY2VkVmFsdWVCeUN1cnJlbnRMYW5ndWFnZT92YWx1ZT10aGlzLnZhbHVlcy5sb2NhbGl6YXRpb25bdGhpcy5sYW5ndWFnZV1bbmFtZV06aGFzUmVwbGFjZWRWYWx1ZUJ5RGVmYXVsdExhbmd1YWdlJiYodmFsdWU9dGhpcy52YWx1ZXMubG9jYWxpemF0aW9uW3RoaXMudmFsdWVzLmRlZmF1bHRfbGFuZ3VhZ2VdW25hbWVdKSx0aGlzLnVwZGF0ZVN0cmluZ0J5TW9kaWZpZXIodmFsdWUsbW9kaWZpZXIpfSxEeW5hbWljQ29udGVudC5wcm90b3R5cGUudXBkYXRlU3RyaW5nQnlNb2RpZmllcj1mdW5jdGlvbihzdHJpbmcsbW9kaWZpZXIpe3N3aXRjaChtb2RpZmllci50b0xvd2VyQ2FzZSgpKXtjYXNlIER5bmFtaWNDb250ZW50X2NvbnN0YW50c18xLkRZTkFNSUNfQ09OVEVOVF9NT0RJRklFUl9DQVBJVEFMSVpFX0ZJUlNUOnJldHVybiBzdHJpbmc9KHN0cmluZz1zdHJpbmcudG9Mb3dlckNhc2UoKSkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrc3RyaW5nLnN1YnN0cmluZygxKTtjYXNlIER5bmFtaWNDb250ZW50X2NvbnN0YW50c18xLkRZTkFNSUNfQ09OVEVOVF9NT0RJRklFUl9DQVBJVEFMSVpFX0FMTF9GSVJTVDpmb3IodmFyIGFyckxldHRlcnM9c3RyaW5nLnRvTG93ZXJDYXNlKCkuc3BsaXQoXCIgXCIpLGk9MDtpPGFyckxldHRlcnMubGVuZ3RoO2krKylhcnJMZXR0ZXJzW2ldPWFyckxldHRlcnNbaV0uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYXJyTGV0dGVyc1tpXS5zdWJzdHJpbmcoMSk7cmV0dXJuIHN0cmluZz1hcnJMZXR0ZXJzLmpvaW4oXCIgXCIpO2Nhc2UgRHluYW1pY0NvbnRlbnRfY29uc3RhbnRzXzEuRFlOQU1JQ19DT05URU5UX01PRElGSUVSX1VQUEVSQ0FTRTpyZXR1cm4gc3RyaW5nLnRvVXBwZXJDYXNlKCk7Y2FzZSBEeW5hbWljQ29udGVudF9jb25zdGFudHNfMS5EWU5BTUlDX0NPTlRFTlRfTU9ESUZJRVJfTE9XRVJDQVNFOnJldHVybiBzdHJpbmcudG9Mb3dlckNhc2UoKTtkZWZhdWx0OnJldHVybiBzdHJpbmd9fSxEeW5hbWljQ29udGVudH0oKTtleHBvcnRzLkR5bmFtaWNDb250ZW50PUR5bmFtaWNDb250ZW50fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLkRZTkFNSUNfQ09OVEVOVF9NT0RJRklFUl9MT1dFUkNBU0U9ZXhwb3J0cy5EWU5BTUlDX0NPTlRFTlRfTU9ESUZJRVJfVVBQRVJDQVNFPWV4cG9ydHMuRFlOQU1JQ19DT05URU5UX01PRElGSUVSX0NBUElUQUxJWkVfQUxMX0ZJUlNUPWV4cG9ydHMuRFlOQU1JQ19DT05URU5UX01PRElGSUVSX0NBUElUQUxJWkVfRklSU1Q9dm9pZCAwLGV4cG9ydHMuRFlOQU1JQ19DT05URU5UX01PRElGSUVSX0NBUElUQUxJWkVfRklSU1Q9XCJjYXBpdGFsaXplZmlyc3RcIixleHBvcnRzLkRZTkFNSUNfQ09OVEVOVF9NT0RJRklFUl9DQVBJVEFMSVpFX0FMTF9GSVJTVD1cImNhcGl0YWxpemVhbGxmaXJzdFwiLGV4cG9ydHMuRFlOQU1JQ19DT05URU5UX01PRElGSUVSX1VQUEVSQ0FTRT1cInVwcGVyY2FzZVwiLGV4cG9ydHMuRFlOQU1JQ19DT05URU5UX01PRElGSUVSX0xPV0VSQ0FTRT1cImxvd2VyY2FzZVwifSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLlJpY2hNZWRpYUV4cGFuZGVyPXZvaWQgMDt2YXIgUmljaE1lZGlhRXhwYW5kZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBSaWNoTWVkaWFFeHBhbmRlcihjb250ZW50LGV4cGFuZGVycyl7dm9pZCAwPT09ZXhwYW5kZXJzJiYoZXhwYW5kZXJzPVtdKSx0aGlzLmNvbnRlbnQ9Y29udGVudCx0aGlzLmV4cGFuZGVycz1leHBhbmRlcnN9cmV0dXJuIFJpY2hNZWRpYUV4cGFuZGVyLnByb3RvdHlwZS51cGxvYWRFeHBhbmRlcnM9ZnVuY3Rpb24oKXt2YXIgbWVyZ2U9dGhpcy5leHBhbmRlcnMuam9pbihcIlxcclxcblwiKTtyZXR1cm4gdGhpcy5jb250ZW50LnJlcGxhY2UoXCI8aGVhZD5cIixcIjxoZWFkPlwiK21lcmdlKX0sUmljaE1lZGlhRXhwYW5kZXJ9KCk7ZXhwb3J0cy5SaWNoTWVkaWFFeHBhbmRlcj1SaWNoTWVkaWFFeHBhbmRlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXdhaXRlcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24odGhpc0FyZyxfYXJndW1lbnRzLFAsZ2VuZXJhdG9yKXtyZXR1cm4gbmV3KFB8fChQPVByb21pc2UpKShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gc3RlcChyZXN1bHQpe3Jlc3VsdC5kb25lP3Jlc29sdmUocmVzdWx0LnZhbHVlKTpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUD92YWx1ZTpuZXcgUChmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKHZhbHVlKX0pfShyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLHJlamVjdGVkKX1zdGVwKChnZW5lcmF0b3I9Z2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsX2FyZ3VtZW50c3x8W10pKS5uZXh0KCkpfSl9LF9fZ2VuZXJhdG9yPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKHRoaXNBcmcsYm9keSl7dmFyIGYseSx0LGcsXz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZ0WzBdKXRocm93IHRbMV07cmV0dXJuIHRbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gZz17bmV4dDp2ZXJiKDApLHRocm93OnZlcmIoMSkscmV0dXJuOnZlcmIoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGdbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksZztmdW5jdGlvbiB2ZXJiKG4pe3JldHVybiBmdW5jdGlvbih2KXtyZXR1cm4gZnVuY3Rpb24ob3Ape2lmKGYpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtfOyl0cnl7aWYoZj0xLHkmJih0PTImb3BbMF0/eS5yZXR1cm46b3BbMF0/eS50aHJvd3x8KCh0PXkucmV0dXJuKSYmdC5jYWxsKHkpLDApOnkubmV4dCkmJiEodD10LmNhbGwoeSxvcFsxXSkpLmRvbmUpcmV0dXJuIHQ7c3dpdGNoKHk9MCx0JiYob3A9WzImb3BbMF0sdC52YWx1ZV0pLG9wWzBdKXtjYXNlIDA6Y2FzZSAxOnQ9b3A7YnJlYWs7Y2FzZSA0OnJldHVybiBfLmxhYmVsKysse3ZhbHVlOm9wWzFdLGRvbmU6ITF9O2Nhc2UgNTpfLmxhYmVsKysseT1vcFsxXSxvcD1bMF07Y29udGludWU7Y2FzZSA3Om9wPV8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEodD0odD1fLnRyeXMpLmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdKSYmKDY9PT1vcFswXXx8Mj09PW9wWzBdKSl7Xz0wO2NvbnRpbnVlfWlmKDM9PT1vcFswXSYmKCF0fHxvcFsxXT50WzBdJiZvcFsxXTx0WzNdKSl7Xy5sYWJlbD1vcFsxXTticmVha31pZig2PT09b3BbMF0mJl8ubGFiZWw8dFsxXSl7Xy5sYWJlbD10WzFdLHQ9b3A7YnJlYWt9aWYodCYmXy5sYWJlbDx0WzJdKXtfLmxhYmVsPXRbMl0sXy5vcHMucHVzaChvcCk7YnJlYWt9dFsyXSYmXy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlfW9wPWJvZHkuY2FsbCh0aGlzQXJnLF8pfWNhdGNoKGUpe29wPVs2LGVdLHk9MH1maW5hbGx5e2Y9dD0wfWlmKDUmb3BbMF0pdGhyb3cgb3BbMV07cmV0dXJue3ZhbHVlOm9wWzBdP29wWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sdl0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuRXh0ZXJuYWxSZXNvdXJjZXM9dm9pZCAwO3ZhciBsb2dnZXJfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpLFVybFBhcnNlcl8xPV9fd2VicGFja19yZXF1aXJlX18oMTM3KSxFeHRlcm5hbFJlc291cmNlc19jb25zdGFudHNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE0MCksRXh0ZXJuYWxSZXNvdXJjZXM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBFeHRlcm5hbFJlc291cmNlcyhjb250ZW50LGpzemlwKXt0aGlzLmNvbnRlbnQ9Y29udGVudCx0aGlzLmpzemlwPWpzemlwfXJldHVybiBFeHRlcm5hbFJlc291cmNlcy5wcm90b3R5cGUuZ2V0UmVwbGFjZWRDb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgX3RoaXM9dGhpcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7cmV0dXJuWzIsdGhpcy5yZXBsYWNlRXh0ZXJuYWxTdHlsZXModGhpcy5jb250ZW50KS50aGVuKGZ1bmN0aW9uKGNvbnRlbnQpe3JldHVybiBfdGhpcy5yZXBsYWNlRXh0ZXJuYWxCYWNrZ3JvdW5kVXJsKGNvbnRlbnQpfSkudGhlbihmdW5jdGlvbihjb250ZW50KXtyZXR1cm4gX3RoaXMucmVwbGFjZUV4dGVybmFsSW1hZ2UoY29udGVudCl9KS50aGVuKGZ1bmN0aW9uKGNvbnRlbnQpe3JldHVybiBfdGhpcy5yZXBsYWNlRXh0ZXJuYWxTY3JpcHQoY29udGVudCl9KV19KX0pfSxFeHRlcm5hbFJlc291cmNlcy5wcm90b3R5cGUucmVwbGFjZUV4dGVybmFsU3R5bGVzPWZ1bmN0aW9uKGNvbnRlbnQsYmFzZSl7cmV0dXJuIHZvaWQgMD09PWJhc2UmJihiYXNlPVwiL1wiKSxfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhdHRlcm4sX3RoaXM9dGhpcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHBhdHRlcm49dGhpcy5nZXRTZWFyY2hQYXR0ZXJuKFwic3R5bGVcIiksWzQsdGhpcy5yZXBsYWNlcihjb250ZW50LHBhdHRlcm4sZnVuY3Rpb24oc3Vic3RyaW5nKXtyZXR1cm4gX19hd2FpdGVyKF90aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGF0aCxjb250ZW50LHJlbGF0aXZlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFJlcGxhY2VkRmlsZVBhdGgoc3Vic3RyaW5nLHBhdHRlcm4sRXh0ZXJuYWxSZXNvdXJjZXNfY29uc3RhbnRzXzEuRVhURVJOQUxfUkVTT1VSQ0VTX1JFR0VYUF9TRUNPTkRfR1JPVVAsYmFzZSldO2Nhc2UgMTpyZXR1cm4ocGF0aD1fYS5zZW50KCkpP1s0LHRoaXMuanN6aXAuZmlsZShwYXRoKS5hc3luYyhcInRleHRcIildOlsyLHN1YnN0cmluZ107Y2FzZSAyOnJldHVybiBjb250ZW50PV9hLnNlbnQoKSxyZWxhdGl2ZT1wYXRoLnNwbGl0KFwiL1wiKS5zcGxpY2UoLTEsMSkuam9pbihcIi9cIiksWzQsdGhpcy5yZXBsYWNlRXh0ZXJuYWxCYWNrZ3JvdW5kVXJsKGNvbnRlbnQscmVsYXRpdmUpXTtjYXNlIDM6cmV0dXJuWzIsJzxzdHlsZSB0eXBlPVwidGV4dC9jc3NcIj4nK19hLnNlbnQoKS5yZXBsYWNlKFwiXFxuXCIsXCJcIikrXCI8L3N0eWxlPlwiXX19KX0pfSldO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LEV4dGVybmFsUmVzb3VyY2VzLnByb3RvdHlwZS5yZXBsYWNlRXh0ZXJuYWxCYWNrZ3JvdW5kVXJsPWZ1bmN0aW9uKGNvbnRlbnQsYmFzZSl7cmV0dXJuIHZvaWQgMD09PWJhc2UmJihiYXNlPVwiL1wiKSxfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhdHRlcm4sX3RoaXM9dGhpcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHBhdHRlcm49dGhpcy5nZXRTZWFyY2hQYXR0ZXJuKFwiYmFja2dyb3VuZFVybFwiKSxbNCx0aGlzLnJlcGxhY2VyKGNvbnRlbnQscGF0dGVybixmdW5jdGlvbihzdWJzdHJpbmcpe3JldHVybiBfX2F3YWl0ZXIoX3RoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXRoLGNvbnRlbnQsZXh0ZW5zaW9uO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFJlcGxhY2VkRmlsZVBhdGgoc3Vic3RyaW5nLHBhdHRlcm4sRXh0ZXJuYWxSZXNvdXJjZXNfY29uc3RhbnRzXzEuRVhURVJOQUxfUkVTT1VSQ0VTX1JFR0VYUF9TRUNPTkRfR1JPVVAsYmFzZSldO2Nhc2UgMTpyZXR1cm4ocGF0aD1fYS5zZW50KCkpP1s0LHRoaXMuanN6aXAuZmlsZShwYXRoKS5hc3luYyhcImJhc2U2NFwiKV06WzIsc3Vic3RyaW5nXTtjYXNlIDI6cmV0dXJuIGNvbnRlbnQ9X2Euc2VudCgpLFsyLCd1cmwoXCJkYXRhOmltYWdlLycrKFwic3ZnXCI9PT0oZXh0ZW5zaW9uPXBhdGguc3BsaXQoXCIuXCIpLnBvcCgpKT9cInN2Zyt4bWxcIjpleHRlbnNpb24pK1wiO2Jhc2U2NCxcIitjb250ZW50KydcIiknXX19KX0pfSldO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LEV4dGVybmFsUmVzb3VyY2VzLnByb3RvdHlwZS5yZXBsYWNlRXh0ZXJuYWxJbWFnZT1mdW5jdGlvbihjb250ZW50LGJhc2Upe3JldHVybiB2b2lkIDA9PT1iYXNlJiYoYmFzZT1cIi9cIiksX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXR0ZXJuLF90aGlzPXRoaXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybiBwYXR0ZXJuPXRoaXMuZ2V0U2VhcmNoUGF0dGVybihcImltYWdlXCIpLFs0LHRoaXMucmVwbGFjZXIoY29udGVudCxwYXR0ZXJuLGZ1bmN0aW9uKHN1YnN0cmluZyl7cmV0dXJuIF9fYXdhaXRlcihfdGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhdGgsY29udGVudCxleHRlbnNpb247cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0UmVwbGFjZWRGaWxlUGF0aChzdWJzdHJpbmcscGF0dGVybixFeHRlcm5hbFJlc291cmNlc19jb25zdGFudHNfMS5FWFRFUk5BTF9SRVNPVVJDRVNfUkVHRVhQX1NFQ09ORF9HUk9VUCxiYXNlKV07Y2FzZSAxOnJldHVybihwYXRoPV9hLnNlbnQoKSk/WzQsdGhpcy5qc3ppcC5maWxlKHBhdGgpLmFzeW5jKFwiYmFzZTY0XCIpXTpbMixzdWJzdHJpbmddO2Nhc2UgMjpyZXR1cm4gY29udGVudD1fYS5zZW50KCksWzIsJzxpbWcgc3JjPVwiZGF0YTppbWFnZS8nKyhcInN2Z1wiPT09KGV4dGVuc2lvbj1wYXRoLnNwbGl0KFwiLlwiKS5wb3AoKSk/XCJzdmcreG1sXCI6ZXh0ZW5zaW9uKStcIjtiYXNlNjQsXCIrY29udGVudCsnXCIgYWx0PVwiXCI+J119fSl9KX0pXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxFeHRlcm5hbFJlc291cmNlcy5wcm90b3R5cGUucmVwbGFjZUV4dGVybmFsU2NyaXB0PWZ1bmN0aW9uKGNvbnRlbnQsYmFzZSl7cmV0dXJuIHZvaWQgMD09PWJhc2UmJihiYXNlPVwiL1wiKSxfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhdHRlcm4sX3RoaXM9dGhpcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHBhdHRlcm49dGhpcy5nZXRTZWFyY2hQYXR0ZXJuKFwic2NyaXB0XCIpLFs0LHRoaXMucmVwbGFjZXIoY29udGVudCxwYXR0ZXJuLGZ1bmN0aW9uKHN1YnN0cmluZyl7cmV0dXJuIF9fYXdhaXRlcihfdGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhdGg7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0UmVwbGFjZWRGaWxlUGF0aChzdWJzdHJpbmcscGF0dGVybixFeHRlcm5hbFJlc291cmNlc19jb25zdGFudHNfMS5FWFRFUk5BTF9SRVNPVVJDRVNfUkVHRVhQX1NFQ09ORF9HUk9VUCxiYXNlKV07Y2FzZSAxOnJldHVybihwYXRoPV9hLnNlbnQoKSk/WzQsdGhpcy5qc3ppcC5maWxlKHBhdGgpLmFzeW5jKFwidGV4dFwiKV06WzIsc3Vic3RyaW5nXTtjYXNlIDI6cmV0dXJuWzIsXCI8c2NyaXB0PlwiK19hLnNlbnQoKStcIjxcXC9zY3JpcHQ+XCJdfX0pfSl9KV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sRXh0ZXJuYWxSZXNvdXJjZXMucHJvdG90eXBlLmdldFNlYXJjaFBhdHRlcm49ZnVuY3Rpb24odHlwZSl7c3dpdGNoKHR5cGUpe2Nhc2VcInN0eWxlXCI6cmV0dXJuXCI8bGlua1tePl0qaHJlZj0oJ3xcXFwiKShbXj5dKi4oY3NzKSkoJ3xcXFwiKVtePl0qPlwiO2Nhc2VcImJhY2tncm91bmRVcmxcIjpyZXR1cm5cInVybFxcXFxzKlxcXFwoKCd8XFxcIik/KFteKV0qXFxcXC4oZ2lmfGpwZ3xqcGVnfHBuZ3xzdmcpKSgnfFxcXCIpP1xcXFxzKlxcXFwpXCI7Y2FzZVwiaW1hZ2VcIjpyZXR1cm5cIjxpbWdbXlxcXFwvPz5dKnNyYz0oJ3xcXFwiKShbXj5dKlxcXFwuKGdpZnxqcGd8anBlZ3xwbmd8c3ZnKSkoJ3xcXFwiKVteXFxcXC8/Pl0qPlwiO2Nhc2VcInNjcmlwdFwiOnJldHVyblwiPHNjcmlwdFtePl0qc3JjPSgnfFxcXCIpKC4qXFxcXC5qcykoJ3xcXFwiKVtePl0qPihcXFxcbnxcXFxccnxcXFxccykqPFxcXFwvc2NyaXB0PlwifX0sRXh0ZXJuYWxSZXNvdXJjZXMucHJvdG90eXBlLnJlcGxhY2VyPWZ1bmN0aW9uKGNvbnRlbnQscGF0dGVybixjYWxsYmFjayl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgYXJQcm9taXNlcyxyZWdleHAscmVwbGFjZXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybiBhclByb21pc2VzPVtdLHJlZ2V4cD1uZXcgUmVnRXhwKHBhdHRlcm4sXCJnXCIpLGNvbnRlbnQucmVwbGFjZShyZWdleHAsZnVuY3Rpb24oc3Vic3RyaW5nKXtyZXR1cm4gYXJQcm9taXNlcy5wdXNoKGNhbGxiYWNrKHN1YnN0cmluZykpLHN1YnN0cmluZ30pLFs0LFByb21pc2UuYWxsKGFyUHJvbWlzZXMpXTtjYXNlIDE6cmV0dXJuIHJlcGxhY2VzPV9hLnNlbnQoKSxbMixjb250ZW50LnJlcGxhY2UocmVnZXhwLGZ1bmN0aW9uKCl7cmV0dXJuIHJlcGxhY2VzLnNoaWZ0KCl8fFwiXCJ9KV19fSl9KX0sRXh0ZXJuYWxSZXNvdXJjZXMucHJvdG90eXBlLmdldFJlcGxhY2VkRmlsZVBhdGg9ZnVuY3Rpb24oc3Vic3RyaW5nLHBhdHRlcm4sbWF0Y2hQb3NpdGlvbixiYXNlKXtyZXR1cm4gdm9pZCAwPT09YmFzZSYmKGJhc2U9XCIvXCIpLF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcmVnZXhwLG1hdGNoZXMsbWF0Y2gsdXJsLHBhdGg7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVybiByZWdleHA9bmV3IFJlZ0V4cChwYXR0ZXJuKSwobWF0Y2hlcz1zdWJzdHJpbmcubWF0Y2gocmVnZXhwKSkmJm1hdGNoZXMubGVuZ3RoPyhtYXRjaD1tYXRjaGVzW21hdGNoUG9zaXRpb25dLCh1cmw9bmV3IFVybFBhcnNlcl8xLlVybFBhcnNlcihtYXRjaCxiYXNlKSkuY2hlY2tJc0Fic29sdXRlUGF0aCgpP1syXToocGF0aD11cmwuZ2V0UmVsYXRpdmVQYXRoKCksdGhpcy5qc3ppcC5maWxlc1twYXRoXT9bMixwYXRoXToobG9nZ2VyXzEuTG9nZ2VyLndyaXRlKFwiZXJyb3JcIiwnTm90IGZvdW5kIGZpbGU6IFwiJytwYXRoKydcIiBmb3IgcmVwbGFjZS4nKSxbMl0pKSk6WzJdfSl9KX0sRXh0ZXJuYWxSZXNvdXJjZXN9KCk7ZXhwb3J0cy5FeHRlcm5hbFJlc291cmNlcz1FeHRlcm5hbFJlc291cmNlc30sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5VcmxQYXJzZXI9dm9pZCAwO3ZhciByZXNvbHZlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDEzOCksVXJsUGFyc2VyX2NvbnN0YW50c18xPV9fd2VicGFja19yZXF1aXJlX18oMTM5KSxVcmxQYXJzZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBVcmxQYXJzZXIodXJsLGJhc2Upe3ZvaWQgMD09PWJhc2UmJihiYXNlPVwiL1wiKSx0aGlzLnVybD11cmwsdGhpcy5iYXNlPWJhc2V9cmV0dXJuIFVybFBhcnNlci5wcm90b3R5cGUuY2hlY2tJc0Fic29sdXRlUGF0aD1mdW5jdGlvbigpe3JldHVybiBuZXcgUmVnRXhwKFwiXig/OlthLXpdKzopPy8vXCIsXCJpXCIpLnRlc3QodGhpcy51cmwpfSxVcmxQYXJzZXIucHJvdG90eXBlLmdldFJlbGF0aXZlUGF0aD1mdW5jdGlvbigpe3ZhciBwYXRoV2l0aEJhc2U9cmVzb2x2ZXIoVXJsUGFyc2VyX2NvbnN0YW50c18xLlVSTF9QQVJTRVJfUFNFVURPX0RPTUFJTix0aGlzLmJhc2UpO3JldHVybiByZXNvbHZlcihwYXRoV2l0aEJhc2UsdGhpcy51cmwpLnJlcGxhY2UoVXJsUGFyc2VyX2NvbnN0YW50c18xLlVSTF9QQVJTRVJfUFNFVURPX0RPTUFJTixcIlwiKX0sVXJsUGFyc2VyfSgpO2V4cG9ydHMuVXJsUGFyc2VyPVVybFBhcnNlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2FkZFNsYXNoKHVybCl7cmV0dXJuIHVybCsoXCIvXCI9PT11cmxbdXJsLmxlbmd0aC0xXT9cIlwiOlwiL1wiKX1mdW5jdGlvbiBfcGF0aFJlc29sdmUocGF0aCl7dmFyIHBhdGhTcGxpdD1wYXRoLnNwbGl0KFwiL1wiKTtcIlwiPT09cGF0aFNwbGl0WzBdJiYocGF0aFNwbGl0PXBhdGhTcGxpdC5zbGljZSgxKSk7dmFyIHJlc3VsdEFycmF5PVtdO3JldHVybiBwYXRoU3BsaXQuZm9yRWFjaChmdW5jdGlvbihjdXJyZW50LGluZGV4KXtcIi5cIiE9PWN1cnJlbnQmJihcIi4uXCI9PT1jdXJyZW50P3Jlc3VsdEFycmF5LnBvcCgpOlwiXCIhPT1jdXJyZW50JiZyZXN1bHRBcnJheS5wdXNoKGN1cnJlbnQpKX0pLFwiL1wiK3Jlc3VsdEFycmF5LmpvaW4oXCIvXCIpfW1vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKGJhc2UscmVsYXRpdmUpe2lmKGJhc2U9YmFzZS50cmltKCksKHJlbGF0aXZlPXJlbGF0aXZlLnRyaW0oKSkuc3RhcnRzV2l0aChcImFib3V0OlwiKSlyZXR1cm4gcmVsYXRpdmU7aWYoXCJcIj09PWJhc2UpcmV0dXJuIF9zaG91bGRBZGRTbGFzaChyZWxhdGl2ZSk/X2FkZFNsYXNoKHJlbGF0aXZlKTpyZWxhdGl2ZTt2YXIgYmFzZU9iaj1mdW5jdGlvbihiYXNlKXt2YXIgcmVzdWx0T2JqZWN0PXtob3N0OlwiXCIscGF0aDpcIlwiLHF1ZXJ5OlwiXCIscHJvdG9jb2w6XCJcIn0scGF0aD1iYXNlLHByb3RvY29sRW5kSW5kZXg9YmFzZS5pbmRleE9mKFwiLy9cIik7aWYoLTE9PT1wcm90b2NvbEVuZEluZGV4KXRocm93IG5ldyBFcnJvcihcIkVycm9yLCBwcm90b2NvbCBpcyBub3Qgc3BlY2lmaWVkXCIpO3Jlc3VsdE9iamVjdC5wcm90b2NvbD1wYXRoLnN1YnN0cmluZygwLHByb3RvY29sRW5kSW5kZXgpLHByb3RvY29sRW5kSW5kZXgrPTI7dmFyIHBhdGhJbmRleD1iYXNlLmluZGV4T2YoXCIvXCIscHJvdG9jb2xFbmRJbmRleCkscXVlcnlJbmRleD1iYXNlLmluZGV4T2YoXCI/XCIpLGhhc2hJbmRleD1iYXNlLmluZGV4T2YoXCIjXCIpOy0xIT09aGFzaEluZGV4JiYocGF0aD1wYXRoLnN1YnN0cmluZygwLGhhc2hJbmRleCkpO2lmKC0xIT09cXVlcnlJbmRleCl7dmFyIHF1ZXJ5PXBhdGguc3Vic3RyaW5nKHF1ZXJ5SW5kZXgpO3Jlc3VsdE9iamVjdC5xdWVyeT1xdWVyeSxwYXRoPXBhdGguc3Vic3RyaW5nKDAscXVlcnlJbmRleCl9aWYoLTEhPT1wYXRoSW5kZXgpe3ZhciBob3N0PXBhdGguc3Vic3RyaW5nKDAscGF0aEluZGV4KTtyZXN1bHRPYmplY3QuaG9zdD1ob3N0LHBhdGg9cGF0aC5zdWJzdHJpbmcocGF0aEluZGV4KSxyZXN1bHRPYmplY3QucGF0aD1wYXRofWVsc2UgcmVzdWx0T2JqZWN0Lmhvc3Q9cGF0aDtyZXR1cm4gcmVzdWx0T2JqZWN0fShiYXNlKTtpZihcIlwiPT09cmVsYXRpdmUpe3ZhciBob3N0PWJhc2VPYmouaG9zdCxwYXRoPWJhc2VPYmoucGF0aCxxdWVyeT1iYXNlT2JqLnF1ZXJ5O3JldHVybiBwYXRofHxxdWVyeT9ob3N0K3BhdGgrcXVlcnk6X2FkZFNsYXNoKGhvc3QpfXZhciByZWxhdGl2ZU9iaj1mdW5jdGlvbihyZWxhdGl2ZSl7dmFyIHJlc3VsdE9iamVjdD17aHJlZjpyZWxhdGl2ZSxoYXNoOlwiXCIscXVlcnk6XCJcIixuZXRQYXRoOiExLGFic29sdXRlUGF0aDohMSxyZWxhdGl2ZVBhdGg6ITF9O2lmKF9pc0Fic29sdXRlLnRlc3QocmVsYXRpdmUpKXJldHVybiByZXN1bHRPYmplY3QubmV0UGF0aD0hMCxyZXN1bHRPYmplY3Q7XCIvXCI9PT1yZWxhdGl2ZVswXT9yZXN1bHRPYmplY3QuYWJzb2x1dGVQYXRoPSEwOnJlc3VsdE9iamVjdC5yZWxhdGl2ZVBhdGg9ITA7dmFyIHBhdGg9cmVsYXRpdmUscXVlcnlJbmRleD1yZWxhdGl2ZS5pbmRleE9mKFwiP1wiKSxoYXNoSW5kZXg9cmVsYXRpdmUuaW5kZXhPZihcIiNcIik7aWYoLTEhPT1oYXNoSW5kZXgpe3ZhciBoYXNoPXBhdGguc3Vic3RyaW5nKGhhc2hJbmRleCk7cmVzdWx0T2JqZWN0Lmhhc2g9aGFzaCxwYXRoPXBhdGguc3Vic3RyaW5nKDAsaGFzaEluZGV4KX1pZigtMSE9PXF1ZXJ5SW5kZXgpe3ZhciBxdWVyeT1wYXRoLnN1YnN0cmluZyhxdWVyeUluZGV4KTtyZXN1bHRPYmplY3QucXVlcnk9cXVlcnkscGF0aD1wYXRoLnN1YnN0cmluZygwLHF1ZXJ5SW5kZXgpfXJldHVybiByZXN1bHRPYmplY3QucGF0aD1wYXRoLHJlc3VsdE9iamVjdH0ocmVsYXRpdmUpO2lmKHJlbGF0aXZlT2JqLm5ldFBhdGgpcmV0dXJuIGZ1bmN0aW9uKHVybCl7cmV0dXJuIHVybC5zdGFydHNXaXRoKFwiLy9cIil9KHJlbGF0aXZlT2JqLmhyZWYpJiYocmVsYXRpdmVPYmouaHJlZj1iYXNlT2JqLnByb3RvY29sK3JlbGF0aXZlT2JqLmhyZWYpLF9zaG91bGRBZGRTbGFzaChyZWxhdGl2ZU9iai5ocmVmKT9fYWRkU2xhc2gocmVsYXRpdmVPYmouaHJlZik6cmVsYXRpdmVPYmouaHJlZjtpZihyZWxhdGl2ZU9iai5hYnNvbHV0ZVBhdGgpe3ZhciBfcGF0aD1yZWxhdGl2ZU9iai5wYXRoLF9xdWVyeT1yZWxhdGl2ZU9iai5xdWVyeSxoYXNoPXJlbGF0aXZlT2JqLmhhc2g7cmV0dXJuIGJhc2VPYmouaG9zdCtfcGF0aFJlc29sdmUoX3BhdGgpK19xdWVyeStoYXNofWlmKHJlbGF0aXZlT2JqLnJlbGF0aXZlUGF0aCl7dmFyIHJlc29sdmVQYXRoLF9wYXRoMj1yZWxhdGl2ZU9iai5wYXRoLF9xdWVyeTI9cmVsYXRpdmVPYmoucXVlcnksX2hhc2g9cmVsYXRpdmVPYmouaGFzaCxiYXNlUGF0aD1iYXNlT2JqLnBhdGgscmVzdWx0U3RyaW5nPWJhc2VPYmouaG9zdDtyZXR1cm4gMD09PV9wYXRoMi5sZW5ndGg/cmVzb2x2ZVBhdGg9YmFzZVBhdGg6KGJhc2VQYXRoPWJhc2VQYXRoLnN1YnN0cmluZygwLGJhc2VQYXRoLmxhc3RJbmRleE9mKFwiL1wiKSkscmVzb2x2ZVBhdGg9X3BhdGhSZXNvbHZlKGJhc2VQYXRoK1wiL1wiK19wYXRoMikpLHJlc3VsdFN0cmluZys9XCJcIiE9PXJlc29sdmVQYXRofHxfcXVlcnkyfHxfaGFzaD9yZXNvbHZlUGF0aCtfcXVlcnkyK19oYXNoOlwiL1wifX07dmFyIF9pc0Fic29sdXRlPW5ldyBSZWdFeHAoXCJeKFwiLmNvbmNhdChcIlthLXpdW2EtejAtOSsuLV0qXCIsXCI6KT8vL1wiKSxcImlcIik7ZnVuY3Rpb24gX3Nob3VsZEFkZFNsYXNoKHVybCl7dmFyIHByb3RvY29sSW5kZXg9dXJsLmluZGV4T2YoXCIvL1wiKSsyLG5vUGF0aD0hdXJsLmluY2x1ZGVzKFwiL1wiLHByb3RvY29sSW5kZXgpLG5vUXVlcnk9IXVybC5pbmNsdWRlcyhcIj9cIixwcm90b2NvbEluZGV4KSxub0hhc2g9IXVybC5pbmNsdWRlcyhcIiNcIixwcm90b2NvbEluZGV4KTtyZXR1cm4gbm9QYXRoJiZub1F1ZXJ5JiZub0hhc2h9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLlVSTF9QQVJTRVJfUFNFVURPX0RPTUFJTj12b2lkIDAsZXhwb3J0cy5VUkxfUEFSU0VSX1BTRVVET19ET01BSU49XCJodHRwczovL3B1c2h3b29zaC5jb20vXCJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuRVhURVJOQUxfUkVTT1VSQ0VTX1JFR0VYUF9TRUNPTkRfR1JPVVA9dm9pZCAwLGV4cG9ydHMuRVhURVJOQUxfUkVTT1VSQ0VTX1JFR0VYUF9TRUNPTkRfR1JPVVA9Mn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5FeHBhbmRlclB1c2h3b29zaFNlbmRNZXNzYWdlPWV4cG9ydHMuRXhwYW5kZXJQdXNoTWFuYWdlcj1leHBvcnRzLkV4cGFuZGVyUHVzaHdvb3NoPXZvaWQgMDt2YXIgUmljaE1lZGlhUHVzaHdvb3NoU2VuZE1lc3NhZ2VfaHRtbF8xPV9fd2VicGFja19yZXF1aXJlX18oMTQyKTtleHBvcnRzLkV4cGFuZGVyUHVzaHdvb3NoU2VuZE1lc3NhZ2U9UmljaE1lZGlhUHVzaHdvb3NoU2VuZE1lc3NhZ2VfaHRtbF8xLmRlZmF1bHQ7dmFyIFJpY2hNZWRpYVB1c2h3b29zaF9odG1sXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxNDMpO2V4cG9ydHMuRXhwYW5kZXJQdXNod29vc2g9UmljaE1lZGlhUHVzaHdvb3NoX2h0bWxfMS5kZWZhdWx0O3ZhciBSaWNoTWVkaWFQdXNoTWFuYWdlcl9odG1sXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxNDQpO2V4cG9ydHMuRXhwYW5kZXJQdXNoTWFuYWdlcj1SaWNoTWVkaWFQdXNoTWFuYWdlcl9odG1sXzEuZGVmYXVsdH0sZnVuY3Rpb24obW9kdWxlLF9fd2VicGFja19leHBvcnRzX18sX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7X193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pLF9fd2VicGFja19leHBvcnRzX18uZGVmYXVsdD0nPHNjcmlwdCB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+XFxuICBmdW5jdGlvbiBQdXNod29vc2hTZW5kTWVzc2FnZShtZXNzYWdlLCBzdWNjZXNzLCBmYWlsdXJlKSB7XFxuICAgIHZhciBjb2RlID0gdXVpZHY0KCk7XFxuXFxuICAgIGlmIChzdWNjZXNzKSB7XFxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXFwnbWVzc2FnZVxcJywgZnVuY3Rpb24gKGV2ZW50KSB7XFxuICAgICAgICBpZiAoIWV2ZW50LnNvdXJjZSkge1xcbiAgICAgICAgICByZXR1cm47XFxuICAgICAgICB9XFxuXFxuICAgICAgICBpZiAod2luZG93LnRvcCA9PT0gZXZlbnQuc291cmNlLnBhcmVudCkge1xcbiAgICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xcblxcbiAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEuY29kZSA9PT0gY29kZSkge1xcbiAgICAgICAgICAgICAgc3VjY2VzcyAmJiBzdWNjZXNzKGRhdGEpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcXG4gICAgICAgICAgICBmYWlsdXJlICYmIGZhaWx1cmUoZXJyb3IpO1xcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgfSk7XFxuICAgIH1cXG5cXG4gICAgdmFyIGRhdGEgPSBPYmplY3QuYXNzaWduKFxcbiAgICAgIG1lc3NhZ2UsXFxuICAgICAge1xcbiAgICAgICAgY29kZTogY29kZVxcbiAgICAgIH1cXG4gICAgKTtcXG5cXG4gICAgd2luZG93LnBhcmVudC5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeShkYXRhKSwgXCIqXCIpO1xcblxcbiAgICBmdW5jdGlvbiB1dWlkdjQoKSB7XFxuICAgICAgcmV0dXJuIFwieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4XCIucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xcbiAgICAgICAgdmFyIHIgPSAoTWF0aC5yYW5kb20oKSAqIDE2KSB8IDAsXFxuICAgICAgICAgIHYgPSBjID09IFwieFwiID8gciA6IChyICYgMHgzKSB8IDB4ODtcXG4gICAgICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcXG4gICAgICB9KTtcXG4gICAgfVxcbiAgfVxcbjxcXC9zY3JpcHQ+XFxuJ30sZnVuY3Rpb24obW9kdWxlLF9fd2VicGFja19leHBvcnRzX18sX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7X193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pLF9fd2VicGFja19leHBvcnRzX18uZGVmYXVsdD1cIjxzY3JpcHQgdHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIj5cXG4gIGZ1bmN0aW9uIFB1c2h3b29zaEJyaWRnZSgpIHtcXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xcblxcbiAgICBzZWxmLmlzV2ViU0RLID0gdHJ1ZTtcXG4gICAgc2VsZi5pc1NhZmFyaSA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdzYWZhcmknKSAhPT0gLTFcXG4gICAgICAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignY2hyb21lJykgPT09IC0xO1xcblxcbiAgICBzZWxmLnJlZ2lzdGVyRm9yUHVzaE5vdGlmaWNhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XFxuICAgICAgUHVzaHdvb3NoU2VuZE1lc3NhZ2Uoe1xcbiAgICAgICAgbWV0aG9kOiAnc3Vic2NyaWJlJyxcXG4gICAgICB9KVxcbiAgICB9O1xcblxcbiAgICBzZWxmLnVucmVnaXN0ZXJGb3JQdXNoTm90aWZpY2F0aW9ucyA9IGZ1bmN0aW9uICgpIHtcXG4gICAgICBQdXNod29vc2hTZW5kTWVzc2FnZSh7XFxuICAgICAgICBtZXRob2Q6ICd1bnN1YnNjcmliZScsXFxuICAgICAgfSk7XFxuICAgIH07XFxuXFxuICAgIHNlbGYuZ2V0VGFncyA9IGZ1bmN0aW9uIChvblN1Y2Nlc3NDYWxsYmFjaykge1xcbiAgICAgIFB1c2h3b29zaFNlbmRNZXNzYWdlKHtcXG4gICAgICAgIG1ldGhvZDogJ2dldFRhZ3MnLFxcbiAgICAgIH0sIGZ1bmN0aW9uIChyZXN1bHQpIHtcXG4gICAgICAgIG9uU3VjY2Vzc0NhbGxiYWNrKHJlc3VsdCAmJiByZXN1bHQudGFncyk7XFxuICAgICAgfSlcXG4gICAgfTtcXG5cXG4gICAgc2VsZi5zZW5kVGFncyA9IGZ1bmN0aW9uICh0YWdzKSB7XFxuICAgICAgUHVzaHdvb3NoU2VuZE1lc3NhZ2Uoe1xcbiAgICAgICAgbWV0aG9kOiAnc2V0VGFncycsXFxuICAgICAgICBvcHRpb25zOiB7XFxuICAgICAgICAgIHRhZ3M6IHRhZ3NcXG4gICAgICAgIH0sXFxuICAgICAgfSk7XFxuICAgIH07XFxuXFxuICAgIHNlbGYuaXNSZWdpc3RlcmVkRm9yUHVzaE5vdGlmaWNhdGlvbnMgPSBmdW5jdGlvbiAob25TdWNjZXNzQ2FsbGJhY2spIHtcXG4gICAgICBQdXNod29vc2hTZW5kTWVzc2FnZSh7XFxuICAgICAgICBtZXRob2Q6ICdjaGVja1N1YnNjcmlwdGlvbicsXFxuICAgICAgfSwgZnVuY3Rpb24gKHJlc3VsdCkge1xcbiAgICAgICAgb25TdWNjZXNzQ2FsbGJhY2socmVzdWx0LnN0YXRlKVxcbiAgICAgIH0pO1xcbiAgICB9O1xcblxcbiAgICBzZWxmLmlzTWFudWFsVW5yZWdpc3RlckZvclB1c2hOb3RpZmljYXRpb25zID0gZnVuY3Rpb24gKG9uU3VjY2Vzc0NhbGxiYWNrKSB7XFxuICAgICAgUHVzaHdvb3NoU2VuZE1lc3NhZ2Uoe1xcbiAgICAgICAgbWV0aG9kOiAnY2hlY2tNYW51YWxVbnN1YnNjcmliZWQnLFxcbiAgICAgIH0sIGZ1bmN0aW9uIChyZXN1bHQpIHtcXG4gICAgICAgIG9uU3VjY2Vzc0NhbGxiYWNrKHJlc3VsdC5zdGF0ZSlcXG4gICAgICB9KTtcXG4gICAgfTtcXG5cXG4gICAgc2VsZi5nZXRDaGFubmVscyA9IGZ1bmN0aW9uIChvblN1Y2Nlc3NDYWxsYmFjaykge1xcbiAgICAgIFB1c2h3b29zaFNlbmRNZXNzYWdlKHtcXG4gICAgICAgIG1ldGhvZDogJ2dldENoYW5uZWxzJyxcXG4gICAgICB9LCBmdW5jdGlvbiAocmVzdWx0KSB7XFxuICAgICAgICBvblN1Y2Nlc3NDYWxsYmFjayhyZXN1bHQuY2hhbm5lbHMpXFxuICAgICAgfSk7XFxuICAgIH07XFxuICB9XFxuXFxuICB3aW5kb3cucHVzaHdvb3NoID0gbmV3IFB1c2h3b29zaEJyaWRnZSgpO1xcbjxcXC9zY3JpcHQ+XFxuXCJ9LGZ1bmN0aW9uKG1vZHVsZSxfX3dlYnBhY2tfZXhwb3J0c19fLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO19fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKSxfX3dlYnBhY2tfZXhwb3J0c19fLmRlZmF1bHQ9XCI8c2NyaXB0IHR5cGU9XFxcInRleHQvamF2YXNjcmlwdFxcXCI+XFxuICBmdW5jdGlvbiBQdXNod29vc2hQdXNoTWFuYWdlckJyaWRnZSgpIHtcXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xcbiAgICB2YXIgYWJzb2x1dGVVUkxQYXR0ZXJuID0gbmV3IFJlZ0V4cCgnXig/OlthLXpdKzopPy8vJywgJ2knKTtcXG5cXG4gICAgc2VsZi5jbG9zZUluQXBwID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcXG4gICAgICBQdXNod29vc2hTZW5kTWVzc2FnZSh7XFxuICAgICAgICBtZXRob2Q6ICdjbG9zZUluQXBwJyxcXG4gICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXFxuICAgICAgfSk7XFxuICAgIH07XFxuXFxuICAgIHNlbGYub3BlbkxpbmsgPSBmdW5jdGlvbiAob3B0aW9ucykge1xcbiAgICAgIFB1c2h3b29zaFNlbmRNZXNzYWdlKHtcXG4gICAgICAgIG1ldGhvZDogJ29wZW5MaW5rJyxcXG4gICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXFxuICAgICAgfSk7XFxuICAgIH07XFxuXFxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xcbiAgICAgIHZhciBjbG9zZUxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYVtocmVmPVxcXCJwdXNod29vc2g6Ly9jbG9zZVxcXCJdJyk7XFxuICAgICAgdmFyIG90aGVyTGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhOm5vdChbaHJlZj1cXFwicHVzaHdvb3NoOi8vY2xvc2VcXFwiXSknKTtcXG5cXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNsb3NlTGlua3MubGVuZ3RoOyBpKyspIHtcXG4gICAgICAgIGNsb3NlTGlua3NbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcXG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcXG5cXG4gICAgICAgICAgc2VsZi5jbG9zZUluQXBwKCk7XFxuICAgICAgICB9KTtcXG4gICAgICB9XFxuXFxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBvdGhlckxpbmtzLmxlbmd0aDsgaisrKSB7XFxuICAgICAgICB2YXIgaHJlZiA9IG90aGVyTGlua3Nbal0uZ2V0QXR0cmlidXRlKCdocmVmJyk7XFxuXFxuICAgICAgICBpZiAoYWJzb2x1dGVVUkxQYXR0ZXJuLnRlc3QoaHJlZikpIHtcXG4gICAgICAgICAgb3RoZXJMaW5rc1tqXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XFxuXFxuICAgICAgICAgICAgc2VsZi5vcGVuTGluayh7XFxuICAgICAgICAgICAgICBocmVmOiBldmVudC50YXJnZXQuaHJlZlxcbiAgICAgICAgICAgIH0pO1xcblxcbiAgICAgICAgICAgIHNlbGYuY2xvc2VJbkFwcCgpO1xcbiAgICAgICAgICB9KTtcXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgIH0pO1xcbiAgfVxcblxcbiAgd2luZG93LnB1c2hNYW5hZ2VyID0gbmV3IFB1c2h3b29zaFB1c2hNYW5hZ2VyQnJpZGdlKCk7XFxuPFxcL3NjcmlwdD5cXG5cIn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXdhaXRlcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24odGhpc0FyZyxfYXJndW1lbnRzLFAsZ2VuZXJhdG9yKXtyZXR1cm4gbmV3KFB8fChQPVByb21pc2UpKShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gc3RlcChyZXN1bHQpe3Jlc3VsdC5kb25lP3Jlc29sdmUocmVzdWx0LnZhbHVlKTpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUD92YWx1ZTpuZXcgUChmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKHZhbHVlKX0pfShyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLHJlamVjdGVkKX1zdGVwKChnZW5lcmF0b3I9Z2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsX2FyZ3VtZW50c3x8W10pKS5uZXh0KCkpfSl9LF9fZ2VuZXJhdG9yPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKHRoaXNBcmcsYm9keSl7dmFyIGYseSx0LGcsXz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZ0WzBdKXRocm93IHRbMV07cmV0dXJuIHRbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gZz17bmV4dDp2ZXJiKDApLHRocm93OnZlcmIoMSkscmV0dXJuOnZlcmIoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGdbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksZztmdW5jdGlvbiB2ZXJiKG4pe3JldHVybiBmdW5jdGlvbih2KXtyZXR1cm4gZnVuY3Rpb24ob3Ape2lmKGYpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtfOyl0cnl7aWYoZj0xLHkmJih0PTImb3BbMF0/eS5yZXR1cm46b3BbMF0/eS50aHJvd3x8KCh0PXkucmV0dXJuKSYmdC5jYWxsKHkpLDApOnkubmV4dCkmJiEodD10LmNhbGwoeSxvcFsxXSkpLmRvbmUpcmV0dXJuIHQ7c3dpdGNoKHk9MCx0JiYob3A9WzImb3BbMF0sdC52YWx1ZV0pLG9wWzBdKXtjYXNlIDA6Y2FzZSAxOnQ9b3A7YnJlYWs7Y2FzZSA0OnJldHVybiBfLmxhYmVsKysse3ZhbHVlOm9wWzFdLGRvbmU6ITF9O2Nhc2UgNTpfLmxhYmVsKysseT1vcFsxXSxvcD1bMF07Y29udGludWU7Y2FzZSA3Om9wPV8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEodD0odD1fLnRyeXMpLmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdKSYmKDY9PT1vcFswXXx8Mj09PW9wWzBdKSl7Xz0wO2NvbnRpbnVlfWlmKDM9PT1vcFswXSYmKCF0fHxvcFsxXT50WzBdJiZvcFsxXTx0WzNdKSl7Xy5sYWJlbD1vcFsxXTticmVha31pZig2PT09b3BbMF0mJl8ubGFiZWw8dFsxXSl7Xy5sYWJlbD10WzFdLHQ9b3A7YnJlYWt9aWYodCYmXy5sYWJlbDx0WzJdKXtfLmxhYmVsPXRbMl0sXy5vcHMucHVzaChvcCk7YnJlYWt9dFsyXSYmXy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlfW9wPWJvZHkuY2FsbCh0aGlzQXJnLF8pfWNhdGNoKGUpe29wPVs2LGVdLHk9MH1maW5hbGx5e2Y9dD0wfWlmKDUmb3BbMF0pdGhyb3cgb3BbMV07cmV0dXJue3ZhbHVlOm9wWzBdP29wWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sdl0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBjb25zdGFudHNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLFBsYXRmb3JtQ2hlY2tlcl8xPV9fd2VicGFja19yZXF1aXJlX18oNzUpLGNvbnN0YW50c18yPV9fd2VicGFja19yZXF1aXJlX18oNzcpLHBvc2l0aW9uaW5nXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxNDYpLGJlbGxfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE0Nyksc3RvcmFnZV8xPV9fd2VicGFja19yZXF1aXJlX18oNSksU3Vic2NyaWJlV2lkZ2V0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gU3Vic2NyaWJlV2lkZ2V0KHB3KXt2YXIgX3RoaXM9dGhpcztpZih0aGlzLnB3PXB3LFBsYXRmb3JtQ2hlY2tlcl8xLmRlZmF1bHQuaXNBdmFpbGFibGVOb3RpZmljYXRpb25zKXt0aGlzLmNsaWNrQmVsbD10aGlzLmNsaWNrQmVsbC5iaW5kKHRoaXMpLHRoaXMub25TdWJzY3JpYmVFdmVudD10aGlzLm9uU3Vic2NyaWJlRXZlbnQuYmluZCh0aGlzKSx0aGlzLm9uVW5zdWJzY3JpYmVFdmVudD10aGlzLm9uVW5zdWJzY3JpYmVFdmVudC5iaW5kKHRoaXMpLHRoaXMub25QZXJtaXNzaW9uRGVuaWVkRXZlbnQ9dGhpcy5vblBlcm1pc3Npb25EZW5pZWRFdmVudC5iaW5kKHRoaXMpLHRoaXMuY2xpY2tPdXRPZlBvcG92ZXI9dGhpcy5jbGlja091dE9mUG9wb3Zlci5iaW5kKHRoaXMpLHRoaXMub25DbGlja0JlbGxJZkVuYWJsZUNoYW5uZWxzPXRoaXMub25DbGlja0JlbGxJZkVuYWJsZUNoYW5uZWxzLmJpbmQodGhpcyk7dmFyIHRvb2x0aXBUZXh0PU9iamVjdC5hc3NpZ24oY29uc3RhbnRzXzIuU1VCU0NSSUJFX1dJREdFVF9ERUZBVUxUX0NPTkZJRy50b29sdGlwVGV4dCxwdy5zdWJzY3JpYmVXaWRnZXRDb25maWcudG9vbHRpcFRleHQpO3RoaXMuY29uZmlnPU9iamVjdC5hc3NpZ24oe30sY29uc3RhbnRzXzIuU1VCU0NSSUJFX1dJREdFVF9ERUZBVUxUX0NPTkZJRyxwdy5zdWJzY3JpYmVXaWRnZXRDb25maWcpLHRoaXMuY29uZmlnLnRvb2x0aXBUZXh0PXRvb2x0aXBUZXh0O3ZhciBhcnJBY3Rpb25zPVtdLGlzRW5hYmxlQ2hhbm5lbHM9cHcuaXNFbmFibGVDaGFubmVscygpLGlzU3Vic2NyaWJlZD1wdy5pc1N1YnNjcmliZWQoKTthcnJBY3Rpb25zLnB1c2goaXNFbmFibGVDaGFubmVscyksYXJyQWN0aW9ucy5wdXNoKGlzU3Vic2NyaWJlZCksUHJvbWlzZS5hbGwoYXJyQWN0aW9ucykudGhlbihmdW5jdGlvbihfYSl7dmFyIGlzRW5hYmxlQ2hhbm5lbHM9X2FbMF0saXNTdWJzY3JpYmVkPV9hWzFdO2lzRW5hYmxlQ2hhbm5lbHMmJihfdGhpcy5pc0VuYWJsZUNoYW5uZWxzPSEwKSxpc1N1YnNjcmliZWQmJiFpc0VuYWJsZUNoYW5uZWxzfHxfdGhpcy5yZW5kZXIoKX0pfWVsc2UgY29uc29sZS53YXJuKFwiQnJvd3NlciBkb2VzIG5vdCBzdXBwb3J0IHB1c2ggbm90aWZpY2F0aW9uc1wiKX1yZXR1cm4gU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS5hZGRTdHlsZXNUb0VsZW1lbnQ9ZnVuY3Rpb24oc3R5bGVzLGVsZW1lbnQpe09iamVjdC5rZXlzKHN0eWxlcykuZm9yRWFjaChmdW5jdGlvbihzdCl7ZWxlbWVudC5zdHlsZVtzdF09c3R5bGVzW3N0XX0pfSxTdWJzY3JpYmVXaWRnZXQucHJvdG90eXBlLmNyZWF0ZUNvbnRhaW5lcj1mdW5jdGlvbigpe3ZhciBjb250YWluZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtjb250YWluZXIuaWQ9Y29uc3RhbnRzXzIuV0lER0VUX0NPTlRBSU5FUl9JRCxjb250YWluZXIuY2xhc3NOYW1lPVwicHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRcIjt2YXIgcG9zaXRpb249cG9zaXRpb25pbmdfMS5kZWZhdWx0LmdldEJlbGxQb3NpdGlvbih0aGlzLmNvbmZpZy5wb3NpdGlvbix0aGlzLmNvbmZpZy5pbmRlbnQpLHN0eWxlcz1PYmplY3QuYXNzaWduKHt6SW5kZXg6dGhpcy5jb25maWcuekluZGV4fSxwb3NpdGlvbik7cmV0dXJuIHRoaXMuYWRkU3R5bGVzVG9FbGVtZW50KHN0eWxlcyxjb250YWluZXIpLGNvbnRhaW5lcn0sU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS5jcmVhdGVTdHlsZT1mdW5jdGlvbigpe3ZhciBzdHlsZXM9X193ZWJwYWNrX3JlcXVpcmVfXygxNDgpLHN0eWxlTm9kZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7cmV0dXJuIHN0eWxlTm9kZS5pbm5lckhUTUw9c3R5bGVzLHN0eWxlTm9kZX0sU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS5jcmVhdGVCZWxsPWZ1bmN0aW9uKCl7dmFyIGJlbGwsY29uZmlnPXRoaXMuY29uZmlnO3JldHVybiBjb25maWcuYnV0dG9uSW1hZ2U/KGJlbGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKSkuc3JjPWNvbmZpZy5idXR0b25JbWFnZTooYmVsbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMuYWRkU3R5bGVzVG9FbGVtZW50KHtiYWNrZ3JvdW5kQ29sb3I6Y29uZmlnLmJnQ29sb3IsYm94U2hhZG93OmNvbmZpZy5zaGFkb3csbGluZUhlaWdodDpjb25maWcuc2l6ZSxib3JkZXI6Y29uZmlnLmJlbGxCdXR0b25Cb3JkZXJ9LGJlbGwpLGJlbGwuaW5uZXJIVE1MPWJlbGxfMS5kZWZhdWx0KGNvbmZpZy5iZWxsQ29sb3IsY29uZmlnLmJlbGxTdHJva2VDb2xvcikpLHRoaXMuYWRkU3R5bGVzVG9FbGVtZW50KHt3aWR0aDpjb25maWcuc2l6ZSxoZWlnaHQ6Y29uZmlnLnNpemV9LGJlbGwpLGJlbGwuY2xhc3NOYW1lPVwicHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX2JlbGwtYnV0dG9uXCIsYmVsbH0sU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS5jcmVhdGVUb29sdGlwPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdG9vbHRpcCxfYSxwb3NpdGlvbixtb2RpZmljYXRpb24sX2IsX2M7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Qpe3N3aXRjaChfZC5sYWJlbCl7Y2FzZSAwOnJldHVybiB0b29sdGlwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksX2E9cG9zaXRpb25pbmdfMS5kZWZhdWx0LmdldFRvb2x0aXBQb3NpdGlvbih0aGlzLmNvbmZpZy5wb3NpdGlvbix0aGlzLmNvbmZpZy5zaXplKSxwb3NpdGlvbj1fYVswXSxtb2RpZmljYXRpb249X2FbMV0sdG9vbHRpcC5jbGFzc05hbWU9XCJwdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fdG9vbHRpcCBwdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fdG9vbHRpcF9fXCIrbW9kaWZpY2F0aW9uLHRoaXMuYWRkU3R5bGVzVG9FbGVtZW50KHBvc2l0aW9uLHRvb2x0aXApLF9jPShfYj10b29sdGlwKS5hcHBlbmRDaGlsZCxbNCx0aGlzLmNyZWF0ZVRvb2x0aXBDb250ZW50KCldO2Nhc2UgMTpyZXR1cm4gX2MuYXBwbHkoX2IsW19kLnNlbnQoKV0pLFsyLHRvb2x0aXBdfX0pfSl9LFN1YnNjcmliZVdpZGdldC5wcm90b3R5cGUuY3JlYXRlVG9vbHRpcENvbnRlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB0b29sdGlwQ29udGVudCxfYTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYil7c3dpdGNoKF9iLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRvb2x0aXBDb250ZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksX2E9dG9vbHRpcENvbnRlbnQsWzQsdGhpcy50b29sdGlwVGV4dEZhY3RvcnkoKV07Y2FzZSAxOnJldHVybiBfYS5pbm5lclRleHQ9X2Iuc2VudCgpLHRvb2x0aXBDb250ZW50LmNsYXNzTmFtZT1cInB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X190b29sdGlwLWNvbnRlbnRcIixbMix0b29sdGlwQ29udGVudF19fSl9KX0sU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS50b29sdGlwVGV4dEZhY3Rvcnk9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwZXJtaXNzaW9uLHRvb2x0aXBUZXh0LGlzTWFudWFsbHlVbnN1YnNjcmliZWQ7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMucHcuZHJpdmVyLmdldFBlcm1pc3Npb24oKV07Y2FzZSAxOnJldHVybiBwZXJtaXNzaW9uPV9hLnNlbnQoKSx0b29sdGlwVGV4dD10aGlzLmNvbmZpZy50b29sdGlwVGV4dCxbNCxzdG9yYWdlXzEua2V5VmFsdWUuZ2V0KGNvbnN0YW50c18xLk1BTlVBTF9VTlNVQlNDUklCRSldO2Nhc2UgMjpzd2l0Y2goaXNNYW51YWxseVVuc3Vic2NyaWJlZD1fYS5zZW50KCkscGVybWlzc2lvbil7Y2FzZSBjb25zdGFudHNfMS5QRVJNSVNTSU9OX0dSQU5URUQ6cmV0dXJuWzIsaXNNYW51YWxseVVuc3Vic2NyaWJlZD90b29sdGlwVGV4dC5uZWVkU3Vic2NyaWJlOnRvb2x0aXBUZXh0LmFscmVhZHlTdWJzY3JpYmVkXTtjYXNlIGNvbnN0YW50c18xLlBFUk1JU1NJT05fUFJPTVBUOnJldHVyblsyLHRvb2x0aXBUZXh0Lm5lZWRTdWJzY3JpYmVdO2Nhc2UgY29uc3RhbnRzXzEuUEVSTUlTU0lPTl9ERU5JRUQ6cmV0dXJuWzIsdG9vbHRpcFRleHQuYmxvY2tTdWJzY3JpYmVdO2RlZmF1bHQ6cmV0dXJuWzIsdG9vbHRpcFRleHQubmVlZFN1YnNjcmliZV19cmV0dXJuWzJdfX0pfSl9LFN1YnNjcmliZVdpZGdldC5wcm90b3R5cGUuY3JlYXRlUG9wb3Zlcj1mdW5jdGlvbigpe3ZhciBwb3BvdmVyQ29udGVudFdyYXBwZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxwb3BvdmVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksX2E9cG9zaXRpb25pbmdfMS5kZWZhdWx0LmdldFBvcG92ZXJQb3NpdGlvbih0aGlzLmNvbmZpZy5wb3NpdGlvbix0aGlzLmNvbmZpZy5zaXplKSxwb3NpdGlvbj1fYVswXSxtb2RpZmljYXRpb249X2FbMV07cG9wb3Zlci5jbGFzc05hbWU9XCJwdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3ZlciBwdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlcl9fXCIrbW9kaWZpY2F0aW9uLHBvcG92ZXJDb250ZW50V3JhcHBlci5jbGFzc05hbWU9XCJwdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlci1jb250ZW50LXdyYXBwZXJcIix0aGlzLnN0eWxlLmlubmVySFRNTCs9cG9zaXRpb25pbmdfMS5kZWZhdWx0LmdldFBvcG92ZXJBcnJvd1Bvc2l0aW9uKHRoaXMuY29uZmlnLnBvc2l0aW9uLHRoaXMuY29uZmlnLnNpemUpO3ZhciBzdHlsZXM9T2JqZWN0LmFzc2lnbih7bWF4V2lkdGg6XCJjYWxjKDEwMHZ3IC0gXCIrdGhpcy5jb25maWcuaW5kZW50K1wiIC0gXCIrdGhpcy5jb25maWcuaW5kZW50K1wiKVwifSxwb3NpdGlvbik7cmV0dXJuIHRoaXMuYWRkU3R5bGVzVG9FbGVtZW50KHN0eWxlcyxwb3BvdmVyKSxwb3BvdmVyQ29udGVudFdyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy5jcmVhdGVQb3BvdmVyQ29udGVudCgpKSxwb3BvdmVyLmFwcGVuZENoaWxkKHBvcG92ZXJDb250ZW50V3JhcHBlcikscG9wb3Zlcn0sU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS5nZXRCcm93c2VyTmFtZT1mdW5jdGlvbigpe3JldHVybiBQbGF0Zm9ybUNoZWNrZXJfMS5kZWZhdWx0LmlzT3BlcmE/XCJvcGVyYVwiOjExPT09UGxhdGZvcm1DaGVja2VyXzEuZGVmYXVsdC5wbGF0Zm9ybSYmbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQW5kcm9pZC9pKT9cIm1vYmlsZUNocm9tZVwiOjEyPT09UGxhdGZvcm1DaGVja2VyXzEuZGVmYXVsdC5wbGF0Zm9ybT9cImZpcmVmb3hcIjoxMD09PVBsYXRmb3JtQ2hlY2tlcl8xLmRlZmF1bHQucGxhdGZvcm0/XCJzYWZhcmlcIjoxNTA9PT1QbGF0Zm9ybUNoZWNrZXJfMS5kZWZhdWx0LnBsYXRmb3JtP1wiZWRnZVwiOlwiY2hyb21lXCJ9LFN1YnNjcmliZVdpZGdldC5wcm90b3R5cGUuY3JlYXRlUG9wb3ZlckNvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgY29uZmlnPXRoaXMuY29uZmlnLHBvcG92ZXJDb250ZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cG9wb3ZlckNvbnRlbnQuY2xhc3NOYW1lPVwicHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXItY29udGVudFwiO3ZhciBicm93c2VyPXRoaXMuZ2V0QnJvd3Nlck5hbWUoKSx1c2VySW1hZ2VTcmM9Y29uZmlnLmNvbnRlbnRJbWFnZXMmJmNvbmZpZy5jb250ZW50SW1hZ2VzW2Jyb3dzZXJdO2lmKHVzZXJJbWFnZVNyYyl7dmFyIGltYWdlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7aW1hZ2Uuc3JjPXVzZXJJbWFnZVNyYyxwb3BvdmVyQ29udGVudC5hcHBlbmRDaGlsZChpbWFnZSl9ZWxzZXt2YXIgc3RhbmRhcmRJbWFnZT17b3BlcmE6XCJvcGVyYVwiLG1vYmlsZUNocm9tZTpcIm1vYmlsZV9jaHJvbWVcIixmaXJlZm94OlwiRkZcIixzYWZhcmk6XCJzYWZhcmlcIn1bYnJvd3Nlcl18fFwiY2hyb21lXCI7W3tzcmM6dGhpcy5nZXRJbWFnZVNyYyhzdGFuZGFyZEltYWdlKSx3aWR0aDo1MDAsaGVpZ2h0OjEzMH0se3NyYzp0aGlzLmdldEltYWdlU3JjKHN0YW5kYXJkSW1hZ2UrXCJfdW5sb2NrXCIpLHdpZHRoOjUwMCxoZWlnaHQ6MjMwfV0uZm9yRWFjaChmdW5jdGlvbihpbWFnZUF0dHJzKXt2YXIgaW1hZ2U9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtPYmplY3QuYXNzaWduKGltYWdlLGltYWdlQXR0cnMpLHBvcG92ZXJDb250ZW50LmFwcGVuZENoaWxkKGltYWdlKX0pfXJldHVybiBwb3BvdmVyQ29udGVudH0sU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS5nZXRJbWFnZVNyYz1mdW5jdGlvbihpbWcpe3JldHVyblwiaHR0cHM6Ly9jZG4ucHVzaHdvb3NoLmNvbS93ZWJwdXNoL2ltZy9cIitpbWcrXCIuanBnXCJ9LFN1YnNjcmliZVdpZGdldC5wcm90b3R5cGUucmVuZGVyPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgYmVsbCxfYSxfYjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYyl7c3dpdGNoKF9jLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMud2lkZ2V0PXRoaXMuY3JlYXRlQ29udGFpbmVyKCksdGhpcy5zdHlsZT10aGlzLmNyZWF0ZVN0eWxlKCksYmVsbD10aGlzLmNyZWF0ZUJlbGwoKSxfYT10aGlzLFs0LHRoaXMuY3JlYXRlVG9vbHRpcCgpXTtjYXNlIDE6cmV0dXJuIF9hLnRvb2x0aXA9X2Muc2VudCgpLF9iPXRoaXMsWzQsdGhpcy5jcmVhdGVQb3BvdmVyKCldO2Nhc2UgMjpyZXR1cm4gX2IucG9wb3Zlcj1fYy5zZW50KCksdGhpcy53aWRnZXQuYXBwZW5kQ2hpbGQodGhpcy5zdHlsZSksdGhpcy53aWRnZXQuYXBwZW5kQ2hpbGQoYmVsbCksdGhpcy53aWRnZXQuYXBwZW5kQ2hpbGQodGhpcy50b29sdGlwKSx0aGlzLndpZGdldC5hcHBlbmRDaGlsZCh0aGlzLnBvcG92ZXIpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy53aWRnZXQpLHRoaXMucHcucHVzaChbXCJvblN1YnNjcmliZVwiLHRoaXMub25TdWJzY3JpYmVFdmVudF0pLHRoaXMucHcucHVzaChbXCJvblVuc3Vic2NyaWJlXCIsdGhpcy5vblVuc3Vic2NyaWJlRXZlbnRdKSx0aGlzLnB3LnB1c2goW1wib25QZXJtaXNzaW9uRGVuaWVkXCIsdGhpcy5vblBlcm1pc3Npb25EZW5pZWRFdmVudF0pLHRoaXMuaXNFbmFibGVDaGFubmVscz8odGhpcy53aWRnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5vbkNsaWNrQmVsbElmRW5hYmxlQ2hhbm5lbHMpLFsyXSk6KHRoaXMuYWRkRXZlbnRMaXN0ZW5lcnNJZkRpc2FibGVkQ2hhbm5lbHMoKSxbMl0pfX0pfSl9LFN1YnNjcmliZVdpZGdldC5wcm90b3R5cGUub25DbGlja0JlbGxJZkVuYWJsZUNoYW5uZWxzPWZ1bmN0aW9uKCl7dmFyIF90aGlzPXRoaXM7dGhpcy5wdy5wdXNoKGZ1bmN0aW9uKGFwaSl7X3RoaXMucHcuZHJpdmVyLmNoZWNrSXNQZXJtaXNzaW9uRGVmYXVsdCgpP190aGlzLnB3LnN1YnNjcmlwdGlvblNlZ21lbnRXaWRnZXQuaW5pdCgpOmFwaS5wb3N0RXZlbnQoY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1NFR01FTlRfRVZFTlQse30pfSl9LFN1YnNjcmliZVdpZGdldC5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lcnNJZkRpc2FibGVkQ2hhbm5lbHM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy53aWRnZXQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5jbGlja0JlbGwpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLmNsaWNrT3V0T2ZQb3BvdmVyKSxbNCx0aGlzLnRyaWdnZXJQd0V2ZW50KGNvbnN0YW50c18xLkVWRU5UX1NIT1dfU1VCU0NSSUJFX0JVVFRPTixjb25zdGFudHNfMS5LRVlfU0hPV19TVUJTQ1JJQkVfV0lER0VUKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LFN1YnNjcmliZVdpZGdldC5wcm90b3R5cGUudG9nZ2xlSGVscFBvcG92ZXI9ZnVuY3Rpb24oKXt0aGlzLnBvcG92ZXIuY2xhc3NMaXN0LnRvZ2dsZShcInB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyX192aXNpYmxlXCIpfSxTdWJzY3JpYmVXaWRnZXQucHJvdG90eXBlLmNsaWNrQmVsbD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBlcm1pc3Npb247cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Ipe3N3aXRjaChfYi5sYWJlbCl7Y2FzZSAwOnN3aXRjaChwZXJtaXNzaW9uPXRoaXMucHcuZHJpdmVyLmdldFBlcm1pc3Npb24oKSxwZXJtaXNzaW9uKXtjYXNlIGNvbnN0YW50c18xLlBFUk1JU1NJT05fR1JBTlRFRDpyZXR1cm5bMywxXTtjYXNlIGNvbnN0YW50c18xLlBFUk1JU1NJT05fUFJPTVBUOnJldHVyblszLDNdO2Nhc2UgY29uc3RhbnRzXzEuUEVSTUlTU0lPTl9ERU5JRUQ6cmV0dXJuWzMsNV19cmV0dXJuWzMsNl07Y2FzZSAxOnJldHVybls0LHRoaXMucHcuc3Vic2NyaWJlKCldO2Nhc2UgMjpyZXR1cm4gX2Iuc2VudCgpLFszLDddO2Nhc2UgMzpyZXR1cm5bNCx0aGlzLnB3LnN1YnNjcmliZSgpXTtjYXNlIDQ6cmV0dXJuIF9iLnNlbnQoKSxbMyw3XTtjYXNlIDU6cmV0dXJuIHRoaXMudG9nZ2xlSGVscFBvcG92ZXIoKSxbMyw3XTtjYXNlIDY6Y29uc29sZS53YXJuKFwiVW5rbm93biBicm93c2VyIG5vdGlmaWNhdGlvbiBwZXJtaXNzaW9uXCIpLF9iLmxhYmVsPTc7Y2FzZSA3OnJldHVybls0LHRoaXMudHJpZ2dlclB3RXZlbnQoY29uc3RhbnRzXzEuRVZFTlRfQ0xJQ0tfU1VCU0NSSUJFX0JVVFRPTixjb25zdGFudHNfMS5LRVlfQ0xJQ0tfU1VCU0NSSUJFX1dJREdFVCldO2Nhc2UgODpyZXR1cm4gX2Iuc2VudCgpLFsyXX19KX0pfSxTdWJzY3JpYmVXaWRnZXQucHJvdG90eXBlLm9uU3Vic2NyaWJlRXZlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBpc0VuYWJsZUNoYW5uZWxzLHRvb2x0aXBDb250ZW50LF90aGlzPXRoaXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVybiBpc0VuYWJsZUNoYW5uZWxzPXRoaXMucHcuaXNFbmFibGVDaGFubmVscygpLG51bGw9PT0odG9vbHRpcENvbnRlbnQ9dGhpcy50b29sdGlwLnF1ZXJ5U2VsZWN0b3IoXCJkaXZcIikpP1syXToodG9vbHRpcENvbnRlbnQuaW5uZXJUZXh0PXRoaXMuY29uZmlnLnRvb2x0aXBUZXh0LnN1Y2Nlc3NTdWJzY3JpYmUsdGhpcy50b29sdGlwLmNsYXNzTGlzdC5hZGQoXCJwdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fdG9vbHRpcF9fdmlzaWJsZVwiKSxzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcihfdGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIF9hO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9iKXtzd2l0Y2goX2IubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy50b29sdGlwLmNsYXNzTGlzdC5yZW1vdmUoXCJwdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fdG9vbHRpcF9fdmlzaWJsZVwiKSxfYT10b29sdGlwQ29udGVudCxbNCx0aGlzLnRvb2x0aXBUZXh0RmFjdG9yeSgpXTtjYXNlIDE6cmV0dXJuIF9hLmlubmVyVGV4dD1fYi5zZW50KCksaXNFbmFibGVDaGFubmVsc3x8dGhpcy53aWRnZXQuY2xhc3NMaXN0LmFkZChcInB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19zdWJzY3JpYmVkXCIpLFsyXX19KX0pfSwyZTMpLFsyXSl9KX0pfSxTdWJzY3JpYmVXaWRnZXQucHJvdG90eXBlLm9uUGVybWlzc2lvbkRlbmllZEV2ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdG9vbHRpcENvbnRlbnQsX2E7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Ipe3N3aXRjaChfYi5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMucHcuaXNFbmFibGVDaGFubmVscygpXTtjYXNlIDE6cmV0dXJuIF9iLnNlbnQoKSYmKHRoaXMud2lkZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMub25DbGlja0JlbGxJZkVuYWJsZUNoYW5uZWxzKSx0aGlzLmFkZEV2ZW50TGlzdGVuZXJzSWZEaXNhYmxlZENoYW5uZWxzKCkpLG51bGw9PT0odG9vbHRpcENvbnRlbnQ9dGhpcy50b29sdGlwLnF1ZXJ5U2VsZWN0b3IoXCJkaXZcIikpP1syXTooX2E9dG9vbHRpcENvbnRlbnQsWzQsdGhpcy50b29sdGlwVGV4dEZhY3RvcnkoKV0pO2Nhc2UgMjpyZXR1cm4gX2EuaW5uZXJUZXh0PV9iLnNlbnQoKSxbMl19fSl9KX0sU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS5jbGlja091dE9mUG9wb3Zlcj1mdW5jdGlvbihldil7dGhpcy5wb3BvdmVyLmNsYXNzTGlzdC5jb250YWlucyhcInB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyX192aXNpYmxlXCIpJiYhZXYudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyXCIpJiZudWxsPT09ZXYudGFyZ2V0LmNsb3Nlc3QoXCIucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXJcIikmJiFldi50YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKFwicHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX2JlbGwtYnV0dG9uXCIpJiZudWxsPT09ZXYudGFyZ2V0LmNsb3Nlc3QoXCIucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX2JlbGwtYnV0dG9uXCIpJiZ0aGlzLnBvcG92ZXIuY2xhc3NMaXN0LnJlbW92ZShcInB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyX192aXNpYmxlXCIpfSxTdWJzY3JpYmVXaWRnZXQucHJvdG90eXBlLnRyaWdnZXJQd0V2ZW50PWZ1bmN0aW9uKGV2ZW50LHdpZGdldCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7cmV0dXJuWzJdfSl9KX0sU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS5vblVuc3Vic2NyaWJlRXZlbnQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB0b29sdGlwQ29udGVudCxfYTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYil7c3dpdGNoKF9iLmxhYmVsKXtjYXNlIDA6cmV0dXJuIG51bGw9PT0odG9vbHRpcENvbnRlbnQ9dGhpcy50b29sdGlwLnF1ZXJ5U2VsZWN0b3IoXCJkaXZcIikpP1syXTooX2E9dG9vbHRpcENvbnRlbnQsWzQsdGhpcy50b29sdGlwVGV4dEZhY3RvcnkoKV0pO2Nhc2UgMTpyZXR1cm4gX2EuaW5uZXJUZXh0PV9iLnNlbnQoKSxbMl19fSl9KX0sU3Vic2NyaWJlV2lkZ2V0fSgpO2RvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJwdXNod29vc2guaW5pdGlhbGl6ZWRcIixmdW5jdGlvbihldil7ZXYuZGV0YWlsLnB3LnN1YnNjcmliZVdpZGdldENvbmZpZy5lbmFibGUmJm5ldyBTdWJzY3JpYmVXaWRnZXQoZXYuZGV0YWlsLnB3KX0pfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgY29uc3RhbnRzXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg3NyksUG9zaXRpb25pbmc9ZnVuY3Rpb24oKXtmdW5jdGlvbiBQb3NpdGlvbmluZygpe31yZXR1cm4gUG9zaXRpb25pbmcuZ2V0QmVsbFBvc2l0aW9uPWZ1bmN0aW9uKHBvc2l0aW9uLGluZGVudCl7dmFyIHBvc2l0aW9uU3R5bGVzO3N3aXRjaChwb3NpdGlvbil7Y2FzZSBjb25zdGFudHNfMS5CRUxMX1BPU0lUSU9OX0JPVFRPTV9SSUdIVDpwb3NpdGlvblN0eWxlcz17dG9wOlwiYXV0b1wiLGxlZnQ6XCJhdXRvXCIsYm90dG9tOmluZGVudCxyaWdodDppbmRlbnR9O2JyZWFrO2Nhc2UgY29uc3RhbnRzXzEuQkVMTF9QT1NJVElPTl9CT1RUT01fTEVGVDpwb3NpdGlvblN0eWxlcz17dG9wOlwiYXV0b1wiLGxlZnQ6aW5kZW50LGJvdHRvbTppbmRlbnQscmlnaHQ6XCJhdXRvXCJ9O2JyZWFrO2Nhc2UgY29uc3RhbnRzXzEuQkVMTF9QT1NJVElPTl9UT1BfTEVGVDpwb3NpdGlvblN0eWxlcz17dG9wOmluZGVudCxsZWZ0OmluZGVudCxib3R0b206XCJhdXRvXCIscmlnaHQ6XCJhdXRvXCJ9O2JyZWFrO2Nhc2UgY29uc3RhbnRzXzEuQkVMTF9QT1NJVElPTl9UT1BfUklHSFQ6cG9zaXRpb25TdHlsZXM9e3RvcDppbmRlbnQsbGVmdDpcImF1dG9cIixib3R0b206XCJhdXRvXCIscmlnaHQ6aW5kZW50fTticmVhaztkZWZhdWx0OnBvc2l0aW9uU3R5bGVzPXt0b3A6XCJhdXRvXCIsbGVmdDpcImF1dG9cIixib3R0b206aW5kZW50LHJpZ2h0OmluZGVudH19cmV0dXJuIHBvc2l0aW9uU3R5bGVzfSxQb3NpdGlvbmluZy5nZXRUb29sdGlwUG9zaXRpb249ZnVuY3Rpb24oYmVsbFBvc2l0aW9uLGJlbGxTaXplKXt2YXIgcG9zaXRpb25TdHlsZXMsdG9vbHRpcE1vZGlmaWNhdGlvbixpbmNyZWFzZUluZGVudD1wYXJzZUludChiZWxsU2l6ZSkrMTIrXCJweFwiO3N3aXRjaChiZWxsUG9zaXRpb24pe2Nhc2UgY29uc3RhbnRzXzEuQkVMTF9QT1NJVElPTl9CT1RUT01fUklHSFQ6cG9zaXRpb25TdHlsZXM9e3JpZ2h0OmluY3JlYXNlSW5kZW50fSx0b29sdGlwTW9kaWZpY2F0aW9uPVwicmlnaHRcIjticmVhaztjYXNlIGNvbnN0YW50c18xLkJFTExfUE9TSVRJT05fQk9UVE9NX0xFRlQ6Y2FzZSBjb25zdGFudHNfMS5CRUxMX1BPU0lUSU9OX1RPUF9MRUZUOnBvc2l0aW9uU3R5bGVzPXtsZWZ0OmluY3JlYXNlSW5kZW50fSx0b29sdGlwTW9kaWZpY2F0aW9uPVwibGVmdFwiO2JyZWFrO2Nhc2UgY29uc3RhbnRzXzEuQkVMTF9QT1NJVElPTl9UT1BfUklHSFQ6cG9zaXRpb25TdHlsZXM9e3JpZ2h0OmluY3JlYXNlSW5kZW50fSx0b29sdGlwTW9kaWZpY2F0aW9uPVwicmlnaHRcIjticmVhaztkZWZhdWx0OnBvc2l0aW9uU3R5bGVzPXtyaWdodDppbmNyZWFzZUluZGVudH0sdG9vbHRpcE1vZGlmaWNhdGlvbj1cInJpZ2h0XCJ9cmV0dXJuW3Bvc2l0aW9uU3R5bGVzLHRvb2x0aXBNb2RpZmljYXRpb25dfSxQb3NpdGlvbmluZy5nZXRQb3BvdmVyUG9zaXRpb249ZnVuY3Rpb24oYmVsbFBvc2l0aW9uLGJlbGxTaXplKXt2YXIgcG9zaXRpb25TdHlsZXMscG9wb3Zlck1vZGlmaWNhdGlvbixpbmNyZWFzZUluZGVudD1wYXJzZUludChiZWxsU2l6ZSkrMTUrXCJweFwiO3N3aXRjaChiZWxsUG9zaXRpb24pe2Nhc2UgY29uc3RhbnRzXzEuQkVMTF9QT1NJVElPTl9CT1RUT01fUklHSFQ6cG9zaXRpb25TdHlsZXM9e2JvdHRvbTppbmNyZWFzZUluZGVudCxyaWdodDpcIjBcIixsZWZ0OlwiYXV0b1wiLHRvcDpcImF1dG9cIn0scG9wb3Zlck1vZGlmaWNhdGlvbj1cImJvdHRvbVwiO2JyZWFrO2Nhc2UgY29uc3RhbnRzXzEuQkVMTF9QT1NJVElPTl9CT1RUT01fTEVGVDpwb3NpdGlvblN0eWxlcz17Ym90dG9tOmluY3JlYXNlSW5kZW50LGxlZnQ6XCIwXCIscmlnaHQ6XCJhdXRvXCIsdG9wOlwiYXV0b1wifSxwb3BvdmVyTW9kaWZpY2F0aW9uPVwiYm90dG9tXCI7YnJlYWs7Y2FzZSBjb25zdGFudHNfMS5CRUxMX1BPU0lUSU9OX1RPUF9MRUZUOnBvc2l0aW9uU3R5bGVzPXt0b3A6aW5jcmVhc2VJbmRlbnQsbGVmdDpcIjBcIixyaWdodDpcImF1dG9cIixib3R0b206XCJhdXRvXCJ9LHBvcG92ZXJNb2RpZmljYXRpb249XCJ0b3BcIjticmVhaztjYXNlIGNvbnN0YW50c18xLkJFTExfUE9TSVRJT05fVE9QX1JJR0hUOnBvc2l0aW9uU3R5bGVzPXt0b3A6aW5jcmVhc2VJbmRlbnQscmlnaHQ6XCIwXCIsbGVmdDpcImF1dG9cIixib3R0b206XCJhdXRvXCJ9LHBvcG92ZXJNb2RpZmljYXRpb249XCJ0b3BcIjticmVhaztkZWZhdWx0OnBvc2l0aW9uU3R5bGVzPXtib3R0b206aW5jcmVhc2VJbmRlbnQscmlnaHQ6XCIwXCIsbGVmdDpcImF1dG9cIix0b3A6XCJhdXRvXCJ9LHBvcG92ZXJNb2RpZmljYXRpb249XCJib3R0b21cIn1yZXR1cm5bcG9zaXRpb25TdHlsZXMscG9wb3Zlck1vZGlmaWNhdGlvbl19LFBvc2l0aW9uaW5nLmdldFBvcG92ZXJBcnJvd1Bvc2l0aW9uPWZ1bmN0aW9uKGJlbGxQb3NpdGlvbixiZWxsU2l6ZSl7dmFyIGFycm93QWRkaXRpb25hbFN0eWxlcztzd2l0Y2goYmVsbFBvc2l0aW9uKXtjYXNlIGNvbnN0YW50c18xLkJFTExfUE9TSVRJT05fQk9UVE9NX1JJR0hUOmFycm93QWRkaXRpb25hbFN0eWxlcz1cIlxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlcl9fYm90dG9tOmFmdGVyIHtsZWZ0OiBhdXRvOyByaWdodDogXCIrKHBhcnNlSW50KGJlbGxTaXplKS8yLTQpK1wicHhcIjticmVhaztjYXNlIGNvbnN0YW50c18xLkJFTExfUE9TSVRJT05fQk9UVE9NX0xFRlQ6YXJyb3dBZGRpdGlvbmFsU3R5bGVzPVwiXFxuLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyX19ib3R0b206YWZ0ZXIge3JpZ2h0OiBhdXRvOyBsZWZ0OiBcIisocGFyc2VJbnQoYmVsbFNpemUpLzItMTIpK1wicHhcIjticmVhaztjYXNlIGNvbnN0YW50c18xLkJFTExfUE9TSVRJT05fVE9QX0xFRlQ6YXJyb3dBZGRpdGlvbmFsU3R5bGVzPVwiXFxuLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyX190b3A6YWZ0ZXIge3JpZ2h0OiBhdXRvOyBsZWZ0OiBcIisocGFyc2VJbnQoYmVsbFNpemUpLzItMTIpK1wicHhcIjticmVhaztjYXNlIGNvbnN0YW50c18xLkJFTExfUE9TSVRJT05fVE9QX1JJR0hUOmFycm93QWRkaXRpb25hbFN0eWxlcz1cIlxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlcl9fdG9wOmFmdGVyIHtsZWZ0OiBhdXRvOyByaWdodDogXCIrKHBhcnNlSW50KGJlbGxTaXplKS8yLTQpK1wicHhcIjticmVhaztkZWZhdWx0OmFycm93QWRkaXRpb25hbFN0eWxlcz1cIlxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlcl9fYm90dG9tOmFmdGVyIHtsZWZ0OiBhdXRvOyByaWdodDogXCIrKHBhcnNlSW50KGJlbGxTaXplKS8yLTQpK1wicHhcIn1yZXR1cm4gYXJyb3dBZGRpdGlvbmFsU3R5bGVzfSxQb3NpdGlvbmluZ30oKTtleHBvcnRzLmRlZmF1bHQ9UG9zaXRpb25pbmd9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuZGVmYXVsdD1mdW5jdGlvbihmaWxsQ29sb3Isc3Ryb2tlQ29sb3Ipe3JldHVybic8P3htbCB2ZXJzaW9uPVwiMS4wXCIgZW5jb2Rpbmc9XCJVVEYtOFwiIHN0YW5kYWxvbmU9XCJub1wiPz5cXG48c3ZnXFxuICAgeG1sbnM6ZGM9XCJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xL1wiXFxuICAgeG1sbnM6Y2M9XCJodHRwOi8vY3JlYXRpdmVjb21tb25zLm9yZy9ucyNcIlxcbiAgIHhtbG5zOnJkZj1cImh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyNcIlxcbiAgIHhtbG5zOnN2Zz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcXG4gICB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCJcXG4gICB4bWxuczpzb2RpcG9kaT1cImh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkXCJcXG4gICB4bWxuczppbmtzY2FwZT1cImh0dHA6Ly93d3cuaW5rc2NhcGUub3JnL25hbWVzcGFjZXMvaW5rc2NhcGVcIlxcbiAgIHZlcnNpb249XCIxLjFcIlxcbiAgIGlkPVwiQ2FwYV8xXCJcXG4gICB4PVwiMHB4XCJcXG4gICB5PVwiMHB4XCJcXG4gICB2aWV3Qm94PVwiMCAwIDM0Ni4wMTMgMzQ2LjAxM1wiXFxuICAgc3R5bGU9XCJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDM0Ni4wMTMgMzQ2LjAxMzt3aWR0aDogODAlOyBoZWlnaHQ6IGF1dG87IHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XCJcXG4gICB4bWw6c3BhY2U9XCJwcmVzZXJ2ZVwiXFxuICAgaW5rc2NhcGU6dmVyc2lvbj1cIjAuOTEgcjEzNzI1XCJcXG4gICBzb2RpcG9kaTpkb2NuYW1lPVwiYWxhcm1fd2hpdGUuc3ZnXCI+PG1ldGFkYXRhXFxuICAgICBpZD1cIm1ldGFkYXRhNTFcIj48cmRmOlJERj48Y2M6V29ya1xcbiAgICAgICAgIHJkZjphYm91dD1cIlwiPjxkYzpmb3JtYXQ+aW1hZ2Uvc3ZnK3htbDwvZGM6Zm9ybWF0PjxkYzp0eXBlXFxuICAgICAgICAgICByZGY6cmVzb3VyY2U9XCJodHRwOi8vcHVybC5vcmcvZGMvZGNtaXR5cGUvU3RpbGxJbWFnZVwiIC8+PGRjOnRpdGxlPjwvZGM6dGl0bGU+PC9jYzpXb3JrPjwvcmRmOlJERj48L21ldGFkYXRhPjxkZWZzXFxuICAgICBpZD1cImRlZnM0OVwiIC8+PHNvZGlwb2RpOm5hbWVkdmlld1xcbiAgICAgYm9yZGVyb3BhY2l0eT1cIjFcIlxcbiAgICAgb2JqZWN0dG9sZXJhbmNlPVwiMTBcIlxcbiAgICAgZ3JpZHRvbGVyYW5jZT1cIjEwXCJcXG4gICAgIGd1aWRldG9sZXJhbmNlPVwiMTBcIlxcbiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9XCIwXCJcXG4gICAgIGlua3NjYXBlOnBhZ2VzaGFkb3c9XCIyXCJcXG4gICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD1cIjE2MThcIlxcbiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD1cIjgyOFwiXFxuICAgICBpZD1cIm5hbWVkdmlldzQ3XCJcXG4gICAgIHNob3dncmlkPVwiZmFsc2VcIlxcbiAgICAgaW5rc2NhcGU6em9vbT1cIjAuNjgyMDU1M1wiXFxuICAgICBpbmtzY2FwZTpjeD1cIjE3My4wMDY1XCJcXG4gICAgIGlua3NjYXBlOmN5PVwiMTczLjAwNjVcIlxcbiAgICAgaW5rc2NhcGU6d2luZG93LXg9XCIwXCJcXG4gICAgIGlua3NjYXBlOndpbmRvdy15PVwiMFwiXFxuICAgICBpbmtzY2FwZTp3aW5kb3ctbWF4aW1pemVkPVwiMFwiXFxuICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPVwiZzNcIiAvPjxnXFxuICAgICBpZD1cImczXCI+PHBhdGhcXG4gICAgICAgZD1cIm0gMjU2Ljc2MjI3LDIyMC4xOTAwNiBjIC0xLjc3NTEzLC0yLjY5NzY2IC0zLjQ1MTU0LC01LjI0NTY0IC0zLjk4OTY2LC03LjQ2MzgyIC0wLjA0MiwtMC4xNzg2MSAtMC4wOTExLC0wLjM2MTI4IC0wLjE2MjM3LC0wLjYxNDM2IC0yLjI4MzU0LC03LjY3NjQ3IDAuNjkxNDcsLTI0LjQzOTIxIDIuNDY4ODYsLTM0LjQ1MTI0IDAuMjY3ODgsLTEuNTAzOTQgMC41MjI3NCwtMi45NDE5NyAwLjc1Mjg2LC00LjI5MDM1IDAuMDIzMiwtMC4xMzY3NSAwLjA0NCwtMC4yNzIxMSAwLjA3MjQsLTAuNDgwMDYgMS45NTU4MiwtMTUuMjgwNTEgMi41ODgxMSwtMzcuOTE5NTYgLTUuNTEwNDQsLTU4Ljk5MTQ3IC01LjYwMzIsLTE0LjU3OTc4IC0xNC40NTk3OCwtMjUuODI2MTIgLTI2LjM1NTksLTMzLjQ4MzkzIDEuMjY1OTgsLTkuODEyOTM4IC00Ljg1OTY3LC0xOS4zNDM2OTEgLTE0LjY2NjgyLC0yMi4wNTExIC05LjgwNzE1LC0yLjcwNzQxIC0xOS45NTcyNCwyLjMzMjI2IC0yMy45MDI5OCwxMS40MDU0MTMgLTE0LjEzODIsMC40Njc1MzMgLTI3LjUxMTExLDUuNTc3MDk3IC0zOS44MDExNCwxNS4yMTkyNjcgLTE3Ljc2MTI5LDEzLjkyOTggLTI4LjgzNDMxLDMzLjY4NzU3IC0zNC45OTM4OSw0Ny44MDc1NyBsIC0wLjA0NzksMC4xMTMzNSBjIC0wLjA1MTIsMC4xMjE3NSAtMC4wOTk4LDAuMjQxMTQgLTAuMTMyNDksMC4zMjk2MiAtMC40OTczMywxLjI4MjkyIC0xLjAxNTUyLDIuNjQ1MTQgLTEuNTU2ODksNC4wNzI1NSAtMy42MTMxMSw5LjUxMDQzIC05LjY2MDA0LDI1LjQyODI0IC0xNS42MTE5OTUsMzAuODkzNDIgLTAuMTA2NTI0LDAuMTAwMjcgLTAuMjA4MjI4LDAuMjAxODcgLTAuMzYyMzYyLDAuMzU0MzUgLTEuNjM2MjQzLDEuNjY1NjMgLTQuMzgyOTQxLDIuOTk0NjMgLTcuMjg4OTc5LDQuNDAxMDEgLTcuMTQ1NTMxLDMuNDUzMDEgLTIyLjAxMzYxMywxMC42NDE2NiAtMTcuMjA2Mzg5LDMxLjY3ODQ0IDAuOTI5MTU0LDQuMDcxMDUgNC4wMDg0MzcsNy4yOTA1NyA4LjAzMzg2MSw4LjQwMTg1IGwgMTY3LjU3MDgwNCw0Ni4yNjA0IGMgNC4wMjI1MywxLjExMDQ4IDguMzE1MjEsLTAuMDcyOSAxMS4yMDUyLC0zLjA4OTU4IDE0LjkxNjE3LC0xNS41ODg3NCA1Ljg0NjkzLC0yOS4zODY2OCAxLjQ4NjI1LC0zNi4wMjEzMyB6XCJcXG4gICAgICAgaWQ9XCJwYXRoNVwiXFxuICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9XCIwXCJcXG4gICAgICAgdmVjdG9yLWVmZmVjdD1cIm5vbi1zY2FsaW5nLXN0cm9rZVwiXFxuICAgICAgIHN0eWxlPVwiZmlsbDonK2ZpbGxDb2xvcitcIjsgc3Ryb2tlOiBcIitzdHJva2VDb2xvcisnOyBzdHJva2Utd2lkdGg6IDE7IFwiIC8+PHBhdGhcXG4gICAgICAgdmVjdG9yLWVmZmVjdD1cIm5vbi1zY2FsaW5nLXN0cm9rZVwiXFxuICAgICAgIGQ9XCJtIDE3NC4yNjczNywyNTkuNzIzNzggLTM4Ljc2Mzk5LC0xMC43MDEzNyBjIC0xLjU5MjQzLC0wLjQzOTYyIC0zLjI4MTgzLC0wLjE1NTk2IC00LjYzNTQ4LDAuNzc1NCAtMi41MzkwOSwxLjc0OTQgLTIuODQxODIsNC45MzE1OSAtMy4wMjMwNCw2LjgzMTg4IGwgLTAuMDE1MSwwLjE1MjQ3IGMgLTEuMjI4MTksMTIuNjcxMDYgNi43OTg1NCwyNC4zMzA0NiAxOS4wODY4OCwyNy43MjI4NCAxMi41MTU4MywzLjQ1NTE4IDI1LjgzMjQsLTIuOTE1ODYgMzAuOTY4MSwtMTQuODAzODUgbCAwLjA5MzUsLTAuMTkyMDUgYyAwLjUyMzA1LC0xLjA2NDE4IDEuNzQ2MTMsLTMuNTU1NTQgMC41MDg4MiwtNi4zMTExNiAtMC40NDMwMiwtMC45ODQzOSAtMS41Nzk0LC0yLjc0NTI5IC00LjIxOTY0LC0zLjQ3NDE2IHpcIlxcbiAgICAgICBpZD1cInBhdGg3XCJcXG4gICAgICAgaW5rc2NhcGU6Y29ubmVjdG9yLWN1cnZhdHVyZT1cIjBcIlxcbiAgICAgICBzdHlsZT1cImZpbGw6JytmaWxsQ29sb3IrXCI7IHN0cm9rZTogXCIrc3Ryb2tlQ29sb3IrJzsgc3Ryb2tlLXdpZHRoOiAxO1wiIC8+PC9nPjxnXFxuICAgICBpZD1cImcxN1wiIC8+PGdcXG4gICAgIGlkPVwiZzE5XCIgLz48Z1xcbiAgICAgaWQ9XCJnMjFcIiAvPjxnXFxuICAgICBpZD1cImcyM1wiIC8+PGdcXG4gICAgIGlkPVwiZzI1XCIgLz48Z1xcbiAgICAgaWQ9XCJnMjdcIiAvPjxnXFxuICAgICBpZD1cImcyOVwiIC8+PGdcXG4gICAgIGlkPVwiZzMxXCIgLz48Z1xcbiAgICAgaWQ9XCJnMzNcIiAvPjxnXFxuICAgICBpZD1cImczNVwiIC8+PGdcXG4gICAgIGlkPVwiZzM3XCIgLz48Z1xcbiAgICAgaWQ9XCJnMzlcIiAvPjxnXFxuICAgICBpZD1cImc0MVwiIC8+PGdcXG4gICAgIGlkPVwiZzQzXCIgLz48Z1xcbiAgICAgaWQ9XCJnNDVcIiAvPjwvc3ZnPid9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgcmVzdWx0PV9fd2VicGFja19yZXF1aXJlX18oMTQ5KTttb2R1bGUuZXhwb3J0cz1cInN0cmluZ1wiPT10eXBlb2YgcmVzdWx0P3Jlc3VsdDpyZXN1bHQudG9TdHJpbmcoKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7KG1vZHVsZS5leHBvcnRzPV9fd2VicGFja19yZXF1aXJlX18oMTUwKSh2b2lkIDApKS5wdXNoKFttb2R1bGUuaSwnLyogV2lkZ2V0ICovXFxuLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0IHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDAsIDApO1xcbn1cXG5cXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3N1YnNjcmliZWQge1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuXFxuLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0IC5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fYmVsbC1idXR0b24ge1xcbiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA1MCU7XFxuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGZvbnQtc2l6ZTogMDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiBzY2FsZSgwLjkpIHRyYW5zbGF0ZTNkKDAsIDAsIDApO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDAuOSkgdHJhbnNsYXRlM2QoMCwgMCwgMCk7XFxuICAtd2Via2l0LXRyYW5zaXRpb246IC13ZWJraXQtdHJhbnNmb3JtIC4zcyBlYXNlLWluLW91dDtcXG4gIHRyYW5zaXRpb246IC13ZWJraXQtdHJhbnNmb3JtIC4zcyBlYXNlLWluLW91dDtcXG4gIC1vLXRyYW5zaXRpb246IHRyYW5zZm9ybSAuM3MgZWFzZS1pbi1vdXQ7XFxuICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjNzIGVhc2UtaW4tb3V0O1xcbiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIC4zcyBlYXNlLWluLW91dCwgLXdlYmtpdC10cmFuc2Zvcm0gLjNzIGVhc2UtaW4tb3V0O1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbn1cXG5cXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXQgLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19iZWxsLWJ1dHRvbjpob3ZlciB7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMSk7XFxuICAgICAgLW1zLXRyYW5zZm9ybTogc2NhbGUoMSk7XFxuICAgICAgICAgIHRyYW5zZm9ybTogc2NhbGUoMSk7XFxufVxcblxcbi8qIFRvb2x0aXAgKi9cXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3Rvb2x0aXAge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgaGVpZ2h0OiA0OHB4O1xcbiAgbWF4LXdpZHRoOiAzMDBweDtcXG4gIG1pbi13aWR0aDogMjAwcHg7XFxuICBwYWRkaW5nOiA1cHggN3B4O1xcbiAgYmFja2dyb3VuZC1jb2xvcjogIzNiNDQ0YjtcXG4gIGNvbG9yOiAjZmZmZmZmO1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG4gIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGxpbmUtaGVpZ2h0OiAzOHB4O1xcbiAgZm9udC1zaXplOiAwO1xcbiAgZm9udC13ZWlnaHQ6IG5vcm1hbDtcXG4gIHZpc2liaWxpdHk6IGhpZGRlbjtcXG4gIG9wYWNpdHk6IDA7XFxuICAtd2Via2l0LXRyYW5zaXRpb246IHZpc2liaWxpdHkgMHMgZWFzZS1pbiAuM3MsXFxuICAgICAgICAgICAgICBvcGFjaXR5IC4zcyBlYXNlLWluO1xcbiAgLW8tdHJhbnNpdGlvbjogdmlzaWJpbGl0eSAwcyBlYXNlLWluIC4zcyxcXG4gICAgICAgICAgICAgIG9wYWNpdHkgLjNzIGVhc2UtaW47XFxuICB0cmFuc2l0aW9uOiB2aXNpYmlsaXR5IDBzIGVhc2UtaW4gLjNzLFxcbiAgICAgICAgICAgICAgb3BhY2l0eSAuM3MgZWFzZS1pbjtcXG4gIHRvcDogNTAlO1xcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZSgwLCAtNTAlKTtcXG4gICAgICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGUoMCwgLTUwJSk7XFxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKDAsIC01MCUpO1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAxcHggMXB4IDVweCAwIHJnYmEoMCwwLDAsMC41KTtcXG4gICAgICAgICAgYm94LXNoYWRvdzogMXB4IDFweCA1cHggMCByZ2JhKDAsMCwwLDAuNSk7XFxufVxcblxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fdG9vbHRpcF9fcmlnaHQ6YWZ0ZXIsXFxuLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X190b29sdGlwX19sZWZ0OmFmdGVyIHtcXG4gIGNvbnRlbnQ6IFwiXCI7XFxuICB0b3A6IDUwJTtcXG4gIGhlaWdodDogMDtcXG4gIHdpZHRoOiAwO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxuICBib3JkZXItdG9wOiA1cHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItYm90dG9tOiA1cHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBiYWNrZ3JvdW5kOiAjM2I0NDRiO1xcbn1cXG5cXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3Rvb2x0aXBfX3JpZ2h0OmFmdGVyIHtcXG4gIGxlZnQ6IGNhbGMoMTAwJSAtIDdweCk7XFxuICBib3JkZXItdG9wOiA1cHggc29saWQgIzNiNDQ0YjtcXG4gIGJvcmRlci1sZWZ0OiA1cHggc29saWQgIzNiNDQ0YjtcXG4gIGJvcmRlci1yaWdodDogNXB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOiAwIDA7XFxuICAgICAgLW1zLXRyYW5zZm9ybS1vcmlnaW46IDAgMDtcXG4gICAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogMCAwO1xcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpO1xcbiAgICAgIC1tcy10cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpO1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAycHggMnB4IDJweCAwIHJnYmEoMCwgMCwgMCwgMC4yNSk7XFxuICAgICAgICAgIGJveC1zaGFkb3c6IDJweCAycHggMnB4IDAgcmdiYSgwLCAwLCAwLCAwLjI1KTtcXG59XFxuXFxuLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X190b29sdGlwX19sZWZ0OmFmdGVyIHtcXG4gIGxlZnQ6IC03cHg7XFxuICBib3JkZXItdG9wOiA1cHggc29saWQgIzNiNDQ0YjtcXG4gIGJvcmRlci1yaWdodDogNXB4IHNvbGlkICMzYjQ0NGI7XFxuICBib3JkZXItbGVmdDogNXB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOiAwIDA7XFxuICAgICAgLW1zLXRyYW5zZm9ybS1vcmlnaW46IDAgMDtcXG4gICAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogMCAwO1xcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpO1xcbiAgICAgIC1tcy10cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpO1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAtMnB4IC0ycHggMnB4IDAgcmdiYSgwLCAwLCAwLCAwLjI1KTtcXG4gICAgICAgICAgYm94LXNoYWRvdzogLTJweCAtMnB4IDJweCAwIHJnYmEoMCwgMCwgMCwgMC4yNSk7XFxufVxcblxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fYmVsbC1idXR0b246aG92ZXIgKyAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3Rvb2x0aXAsXFxuLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X190b29sdGlwLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X190b29sdGlwX192aXNpYmxlIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgdmlzaWJpbGl0eTogdmlzaWJsZTtcXG4gIG9wYWNpdHk6IDE7XFxuICAtd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6IDBzO1xcbiAgICAgICAtby10cmFuc2l0aW9uLWRlbGF5OiAwcztcXG4gICAgICAgICAgdHJhbnNpdGlvbi1kZWxheTogMHM7XFxufVxcblxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldCAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3Rvb2x0aXAtY29udGVudCB7XFxuICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbiAgZm9udC1zaXplOiAxNHB4O1xcbiAgbGluZS1oZWlnaHQ6IDEuNDtcXG4gIHdoaXRlLXNwYWNlOiBub3dyYXA7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgcGFkZGluZy1yaWdodDogNXB4O1xcbiAgLW8tdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XFxuICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcXG4gIG1heC13aWR0aDogMTAwJTtcXG59XFxuXFxuLyogUG9wb3ZlciAqL1xcblxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldCAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXIge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgcmlnaHQ6IGF1dG87XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IDFweCAxcHggNXB4IDAgcmdiYSgwLCAwLCAwLCAwLjUpO1xcbiAgICAgICAgICBib3gtc2hhZG93OiAxcHggMXB4IDVweCAwIHJnYmEoMCwgMCwgMCwgMC41KTtcXG4gIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGJhY2tncm91bmQ6ICM5Y2E4YjE7XFxuICB2aXNpYmlsaXR5OiBoaWRkZW47XFxuICBvcGFjaXR5OiAwO1xcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiB2aXNpYmlsaXR5IDBzIGVhc2UtaW4gLjVzLFxcbiAgICAgICAgICAgICAgb3BhY2l0eSAuNXMgZWFzZS1pbjtcXG4gIC1vLXRyYW5zaXRpb246IHZpc2liaWxpdHkgMHMgZWFzZS1pbiAuNXMsXFxuICAgICAgICAgICAgICBvcGFjaXR5IC41cyBlYXNlLWluO1xcbiAgdHJhbnNpdGlvbjogdmlzaWJpbGl0eSAwcyBlYXNlLWluIC41cyxcXG4gICAgICAgICAgICAgIG9wYWNpdHkgLjVzIGVhc2UtaW47XFxufVxcblxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldCAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXJfX3Zpc2libGUge1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICB2aXNpYmlsaXR5OiB2aXNpYmxlO1xcbiAgb3BhY2l0eTogMTtcXG4gIC13ZWJraXQtdHJhbnNpdGlvbi1kZWxheTogMHM7XFxuICAgICAgIC1vLXRyYW5zaXRpb24tZGVsYXk6IDBzO1xcbiAgICAgICAgICB0cmFuc2l0aW9uLWRlbGF5OiAwcztcXG59XFxuXFxuLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyX19ib3R0b206YWZ0ZXIsXFxuLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyX190b3A6YWZ0ZXIge1xcbiAgY29udGVudDogXCJcIjtcXG4gIGhlaWdodDogMDtcXG4gIHdpZHRoOiAwO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgcG9pbnRlci1ldmVudHM6IG5vbmU7XFxuICBib3JkZXItcmlnaHQ6IDhweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIGJvcmRlci1sZWZ0OiA4cHggc29saWQgIzljYThiMTtcXG4gIGJhY2tncm91bmQ6ICM5Y2E4YjE7XFxuICAtd2Via2l0LXRyYW5zZm9ybS1vcmlnaW46IDAgMDtcXG4gICAgICAtbXMtdHJhbnNmb3JtLW9yaWdpbjogMCAwO1xcbiAgICAgICAgICB0cmFuc2Zvcm0tb3JpZ2luOiAwIDA7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogcm90YXRlKC00NWRlZyk7XFxuICAgICAgLW1zLXRyYW5zZm9ybTogcm90YXRlKC00NWRlZyk7XFxuICAgICAgICAgIHRyYW5zZm9ybTogcm90YXRlKC00NWRlZyk7XFxufVxcblxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlcl9fYm90dG9tOmFmdGVyIHtcXG4gIGJvcmRlci1ib3R0b206IDhweCBzb2xpZCAjOWNhOGIxO1xcbiAgYm9yZGVyLXRvcDogOHB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAtMnB4IDJweCAxcHggMCByZ2JhKDAsIDAsIDAsIDAuMjUpO1xcbiAgICAgICAgICBib3gtc2hhZG93OiAtMnB4IDJweCAxcHggMCByZ2JhKDAsIDAsIDAsIDAuMjUpO1xcbiAgYm90dG9tOiAtMTZweDtcXG59XFxuXFxuLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyX190b3A6YWZ0ZXIge1xcbiAgdG9wOiAwO1xcbiAgYm9yZGVyLXRvcDogOHB4IHNvbGlkICM5Y2E4YjE7XFxuICBib3JkZXItYm90dG9tOiA4cHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IDFweCAtMXB4IDFweCAwIHJnYmEoMCwgMCwgMCwgMC4yNSk7XFxuICAgICAgICAgIGJveC1zaGFkb3c6IDFweCAtMXB4IDFweCAwIHJnYmEoMCwgMCwgMCwgMC4yNSk7XFxufVxcblxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlci1jb250ZW50LXdyYXBwZXIge1xcbiAgb3ZlcmZsb3c6IGF1dG87XFxuICBtYXgtd2lkdGg6IDEwMCU7XFxufVxcblxcblxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldCAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXItY29udGVudCB7XFxuICBkaXNwbGF5OiAtd2Via2l0LWJveDtcXG4gIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIC13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7XFxuICAtd2Via2l0LWJveC1kaXJlY3Rpb246IG5vcm1hbDtcXG4gICAgICAtbXMtZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIHBhZGRpbmc6IDE0cHg7XFxuICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBmbG9hdDogbGVmdDtcXG4gIG1pbi13aWR0aDogMTAwJTtcXG4gIC13ZWJraXQtYm94LWFsaWduOiBjZW50ZXI7XFxuICAgICAgLW1zLWZsZXgtYWxpZ246IGNlbnRlcjtcXG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuXFxuLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0IC5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3ZlciBpbWcge1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcblxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldCAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXIgaW1nOmZpcnN0LWNoaWxkIHtcXG4gIG1hcmdpbi1ib3R0b206IDE0cHg7XFxufVxcblxcbkBtZWRpYSAobWF4LXdpZHRoOiA3NjdweCkgYW5kIChvcmllbnRhdGlvbjogcG9ydHJhaXQpIHtcXG4gIC5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldCAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXItY29udGVudCB7XFxuICAgIC13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7XFxuICAgIC13ZWJraXQtYm94LWRpcmVjdGlvbjogbm9ybWFsO1xcbiAgICAgICAgLW1zLWZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIH1cXG4gIC5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldCAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXIgaW1nIHtcXG4gICAgbWF4LXdpZHRoOiAyODBweDtcXG4gICAgaGVpZ2h0OiBhdXRvO1xcbiAgfVxcbiAgLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0IC5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3ZlciBpbWc6Zmlyc3QtY2hpbGQge1xcbiAgICBtYXJnaW4tcmlnaHQ6IDA7XFxuICAgIG1hcmdpbi1ib3R0b206IDE0cHg7XFxuICB9XFxufVxcbkBtZWRpYSAobWF4LXdpZHRoOiA3NjdweCkgYW5kIChvcmllbnRhdGlvbjogbGFuZHNjYXBlKSB7XFxuICAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXQgLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyLWNvbnRlbnQge1xcbiAgICAtd2Via2l0LWJveC1vcmllbnQ6IGhvcml6b250YWw7XFxuICAgIC13ZWJraXQtYm94LWRpcmVjdGlvbjogbm9ybWFsO1xcbiAgICAgICAgLW1zLWZsZXgtZGlyZWN0aW9uOiByb3c7XFxuICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IHJvdztcXG4gIH1cXG4gIC5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldCAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXIgaW1nIHtcXG4gICAgbWF4LXdpZHRoOiAyODBweDtcXG4gICAgaGVpZ2h0OiBhdXRvO1xcbiAgfVxcbiAgLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0IC5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3ZlciBpbWc6Zmlyc3QtY2hpbGQge1xcbiAgICBtYXJnaW4tcmlnaHQ6IDE0cHg7XFxuICAgIG1hcmdpbi1ib3R0b206IDA7XFxuICB9XFxufVxcbicsXCJcIl0pfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24odXNlU291cmNlTWFwKXt2YXIgbGlzdD1bXTtyZXR1cm4gbGlzdC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbihpdGVtKXt2YXIgY29udGVudD1mdW5jdGlvbihpdGVtLHVzZVNvdXJjZU1hcCl7dmFyIGNvbnRlbnQ9aXRlbVsxXXx8XCJcIixjc3NNYXBwaW5nPWl0ZW1bM107aWYoIWNzc01hcHBpbmcpcmV0dXJuIGNvbnRlbnQ7aWYodXNlU291cmNlTWFwJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBidG9hKXt2YXIgc291cmNlTWFwcGluZz1mdW5jdGlvbihzb3VyY2VNYXApe3JldHVyblwiLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiK2J0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkrXCIgKi9cIn0oY3NzTWFwcGluZyksc291cmNlVVJMcz1jc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uKHNvdXJjZSl7cmV0dXJuXCIvKiMgc291cmNlVVJMPVwiK2Nzc01hcHBpbmcuc291cmNlUm9vdCtzb3VyY2UrXCIgKi9cIn0pO3JldHVybltjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKX1yZXR1cm5bY29udGVudF0uam9pbihcIlxcblwiKX0oaXRlbSx1c2VTb3VyY2VNYXApO3JldHVybiBpdGVtWzJdP1wiQG1lZGlhIFwiK2l0ZW1bMl0rXCJ7XCIrY29udGVudCtcIn1cIjpjb250ZW50fSkuam9pbihcIlwiKX0sbGlzdC5pPWZ1bmN0aW9uKG1vZHVsZXMsbWVkaWFRdWVyeSl7XCJzdHJpbmdcIj09dHlwZW9mIG1vZHVsZXMmJihtb2R1bGVzPVtbbnVsbCxtb2R1bGVzLFwiXCJdXSk7Zm9yKHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzPXt9LGk9MDtpPHRoaXMubGVuZ3RoO2krKyl7dmFyIGlkPXRoaXNbaV1bMF07XCJudW1iZXJcIj09dHlwZW9mIGlkJiYoYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF09ITApfWZvcihpPTA7aTxtb2R1bGVzLmxlbmd0aDtpKyspe3ZhciBpdGVtPW1vZHVsZXNbaV07XCJudW1iZXJcIj09dHlwZW9mIGl0ZW1bMF0mJmFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV18fChtZWRpYVF1ZXJ5JiYhaXRlbVsyXT9pdGVtWzJdPW1lZGlhUXVlcnk6bWVkaWFRdWVyeSYmKGl0ZW1bMl09XCIoXCIraXRlbVsyXStcIikgYW5kIChcIittZWRpYVF1ZXJ5K1wiKVwiKSxsaXN0LnB1c2goaXRlbSkpfX0sbGlzdH19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBwd0luYm94V2lkZ2V0PV9fd2VicGFja19yZXF1aXJlX18oMTUyKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicHVzaHdvb3NoLmluaXRpYWxpemVkXCIsZnVuY3Rpb24oZXYpe2V2LmRldGFpbC5wdy5wd2luYm94JiZldi5kZXRhaWwucHcuaW5ib3hXaWRnZXRDb25maWcuZW5hYmxlJiYoZXYuZGV0YWlsLnB3LnB3aW5ib3hXaWRnZXQ9bmV3IHB3SW5ib3hXaWRnZXQuUFdJbmJveFdpZGdldChldi5kZXRhaWwucHcpKX0pfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihtb2R1bGVzKXt2YXIgaW5zdGFsbGVkTW9kdWxlcz17fTtmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKXtpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0czt2YXIgbW9kdWxlPWluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdPXtpOm1vZHVsZUlkLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsbW9kdWxlLG1vZHVsZS5leHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pLG1vZHVsZS5sPSEwLG1vZHVsZS5leHBvcnRzfXJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLm09bW9kdWxlcyxfX3dlYnBhY2tfcmVxdWlyZV9fLmM9aW5zdGFsbGVkTW9kdWxlcyxfX3dlYnBhY2tfcmVxdWlyZV9fLmQ9ZnVuY3Rpb24oZXhwb3J0cyxuYW1lLGdldHRlcil7X193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsbmFtZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLG5hbWUse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLGdldDpnZXR0ZXJ9KX0sX193ZWJwYWNrX3JlcXVpcmVfXy5yPWZ1bmN0aW9uKGV4cG9ydHMpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxfX3dlYnBhY2tfcmVxdWlyZV9fLm49ZnVuY3Rpb24obW9kdWxlKXt2YXIgZ2V0dGVyPW1vZHVsZSYmbW9kdWxlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gbW9kdWxlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIG1vZHVsZX07cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsXCJhXCIsZ2V0dGVyKSxnZXR0ZXJ9LF9fd2VicGFja19yZXF1aXJlX18ubz1mdW5jdGlvbihvYmplY3QscHJvcGVydHkpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LHByb3BlcnR5KX0sX193ZWJwYWNrX3JlcXVpcmVfXy5wPVwiXCIsX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnM9Mil9KFtmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgY29uc3RhbnRzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxKTtleHBvcnRzLmlzRWxlbWVudEZpeGVkPWZ1bmN0aW9uIGlzRWxlbWVudEZpeGVkKGVsZW1lbnQpe3ZhciBpc0ZpeGVkPVwiZml4ZWRcIj09PXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKGVsZW1lbnQpLnBvc2l0aW9uO3JldHVybiFpc0ZpeGVkJiZlbGVtZW50LnBhcmVudEVsZW1lbnQmJihpc0ZpeGVkPWlzRWxlbWVudEZpeGVkKGVsZW1lbnQucGFyZW50RWxlbWVudCkpLGlzRml4ZWR9LGV4cG9ydHMuZ2V0R2xvYmFsPWZ1bmN0aW9uKCl7cmV0dXJuIEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKX0sZXhwb3J0cy5nZXRNZXNzYWdlVGltZT1mdW5jdGlvbihkYXRlKXt2YXIgbG9jYWxEYXRlPW5ldyBEYXRlKGRhdGUpLGxvY2FsVGltZT1sb2NhbERhdGUuZ2V0SG91cnMoKStsb2NhbERhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKS82MDtsb2NhbERhdGUuc2V0SG91cnMobG9jYWxUaW1lKTt2YXIgZ2FwPShuZXcgRGF0ZSkuZ2V0VGltZSgpLWxvY2FsRGF0ZS5nZXRUaW1lKCk7cmV0dXJuIGdhcDw9NmU0P1wiSnVzdCBub3dcIjpnYXA8Y29uc3RhbnRzXzEuTUlMTElTRUNPTkRTX0lOX0hPVVImJmdhcD4wP01hdGguZmxvb3IoZ2FwLzZlNCkrXCIgbWludXRlcyBhZ29cIjpnYXA8Y29uc3RhbnRzXzEuTUlMTElTRUNPTkRTX0lOX0RBWSYmZ2FwPjA/TWF0aC5mbG9vcihnYXAvMzZlNSkrXCIgaG91cnMgYWdvXCI6bG9jYWxEYXRlLmdldERhdGUoKStcIiBcIitjb25zdGFudHNfMS5NT05USFNbbG9jYWxEYXRlLmdldE1vbnRoKCldK1wiIFwiK2xvY2FsRGF0ZS5nZXRGdWxsWWVhcigpK1wiLCBcIitsb2NhbERhdGUuZ2V0SG91cnMoKStcIjpcIisoXCIwXCIrbG9jYWxEYXRlLmdldE1pbnV0ZXMoKS50b1N0cmluZygpKS5zbGljZSgtMil9LGV4cG9ydHMuZ2V0VmFsaWRDb2xvcj1mdW5jdGlvbihjb2xvcil7cmV0dXJuXCJ0cmFuc3BhcmVudFwiPT09Y29sb3I/Y29sb3I6Y29uc3RhbnRzXzEuQ09MT1JfVEVTVF9SRUdFWFAudGVzdChjb2xvcik/Y29sb3I6XCIjMzMzXCJ9LGV4cG9ydHMuY29tcGFyZUJ5U2VuZERhdGU9ZnVuY3Rpb24oZGF0ZU9uZSxkYXRlVHdvKXt2YXIgbG9jYWxEYXRlT25lPW5ldyBEYXRlKGRhdGVPbmUpLGxvY2FsVGltZU9uZT1sb2NhbERhdGVPbmUuZ2V0SG91cnMoKStsb2NhbERhdGVPbmUuZ2V0VGltZXpvbmVPZmZzZXQoKS82MCxsb2NhbERhdGVUd289bmV3IERhdGUoZGF0ZVR3byksbG9jYWxUaW1lVHdvPWxvY2FsRGF0ZVR3by5nZXRIb3VycygpK2xvY2FsRGF0ZVR3by5nZXRUaW1lem9uZU9mZnNldCgpLzYwO3JldHVybiBsb2NhbERhdGVPbmUuc2V0SG91cnMobG9jYWxUaW1lT25lKSxsb2NhbERhdGVUd28uc2V0SG91cnMobG9jYWxUaW1lVHdvKSxsb2NhbERhdGVUd28uZ2V0VGltZSgpLWxvY2FsRGF0ZU9uZS5nZXRUaW1lKCl9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLk1JTExJU0VDT05EU19JTl9EQVk9ODY0ZTUsZXhwb3J0cy5NSUxMSVNFQ09ORFNfSU5fSE9VUj0zNmU1LGV4cG9ydHMuTU9OVEhTPVtcIkphblwiLFwiRmViXCIsXCJNYXJcIixcIkFwclwiLFwiTWF5XCIsXCJKdW5lXCIsXCJKdWx5XCIsXCJBdWdcIixcIlNlcHRcIixcIk9jdFwiLFwiTm92XCIsXCJEZWNcIl0sZXhwb3J0cy5DT05GSUdfU1RZTEVTPVt7bmFtZTpcIndpZGdldFdpZHRoXCIsdHlwZTpcInNpemVcIn0se25hbWU6XCJib3JkZXJSYWRpdXNcIix0eXBlOlwic2l6ZVwifSx7bmFtZTpcInpJbmRleFwiLHR5cGU6XCJudW1iZXJcIn0se25hbWU6XCJmb250RmFtaWx5XCIsdHlwZTpcInN0cmluZ1wifSx7bmFtZTpcImJnQ29sb3JcIix0eXBlOlwiY29sb3JcIn0se25hbWU6XCJ0ZXh0Q29sb3JcIix0eXBlOlwiY29sb3JcIn0se25hbWU6XCJhcnJvd0JvcmRlckNvbG9yXCIsdHlwZTpcImNvbG9yXCJ9LHtuYW1lOlwiYm9yZGVyQ29sb3JcIix0eXBlOlwiY29sb3JcIn0se25hbWU6XCJiYWRnZUJnQ29sb3JcIix0eXBlOlwiY29sb3JcIn0se25hbWU6XCJiYWRnZVRleHRDb2xvclwiLHR5cGU6XCJjb2xvclwifSx7bmFtZTpcInRpbWVUZXh0Q29sb3JcIix0eXBlOlwiY29sb3JcIn0se25hbWU6XCJtZXNzYWdlVGl0bGVDb2xvclwiLHR5cGU6XCJjb2xvclwifSx7bmFtZTpcImVtcHR5SW5ib3hUaXRsZUNvbG9yXCIsdHlwZTpcImNvbG9yXCJ9LHtuYW1lOlwiZW1wdHlJbmJveFRleHRDb2xvclwiLHR5cGU6XCJjb2xvclwifV0sZXhwb3J0cy5ERUZBVUxUX0NPTkZJRz17ZW5hYmxlOiExLHRyaWdnZXJJZDpcInB3SW5ib3hcIixwb3NpdGlvbjpcImJvdHRvbVwiLGFwcGVuZFRvOlwiYm9keVwiLHRpdGxlOlwiSW5ib3hcIixiZ0NvbG9yOlwiI2ZmZmZmZlwiLHRleHRDb2xvcjpcIiMzMzMzMzNcIixmb250RmFtaWx5OlwiaW5oZXJpdFwiLGJvcmRlclJhZGl1czo0LGJvcmRlckNvbG9yOlwidHJhbnNwYXJlbnRcIixiYWRnZUJnQ29sb3I6XCIjZmY0YzAwXCIsYmFkZ2VUZXh0Q29sb3I6XCIjZmZmZmZmXCIsd2lkZ2V0V2lkdGg6MzUwLHpJbmRleDoxMDAsbWVzc2FnZVRpdGxlQ29sb3I6XCIjN2E3YTdhXCIsdGltZVRleHRDb2xvcjpcIiNjNGM0YzRcIixlbXB0eUluYm94VGl0bGU6XCJZb3UncmUgYWxsIGNhdWdodCB1cFwiLGVtcHR5SW5ib3hUaXRsZUNvbG9yOlwiIzMzMzMzM1wiLGVtcHR5SW5ib3hUZXh0OlwiVGhlcmUgYXJlIG5vIG5ldyBtZXNzYWdlcy4gU3RheSB0dW5lZCFcIixlbXB0eUluYm94VGV4dENvbG9yOlwiIzdhN2E3YVwiLGVtcHR5SW5ib3hJY29uVXJsOlwiaHR0cHM6Ly9wdXNob24ucHVzaHdvb3NoLmNvbS9pbWFnZXMvaWNvbi1lbXB0eS1pbmJveC5wbmdcIixhcnJvd0JvcmRlckNvbG9yOlwicmdiYSgwLDAsMCwuMSlcIn0sZXhwb3J0cy5DT0xPUl9URVNUX1JFR0VYUD0vXigjKFtcXGRhLWZdezN9KXsxLDJ9JHwocmdifGhzbClhXFwoKFxcZHsxLDN9JT8sXFxzPyl7M30oMXwwP1xcLlxcZCspXFwpJHwocmdifGhzbClcXChcXGR7MSwzfSU/KCxcXHM/XFxkezEsM30lPyl7Mn1cXCkkKS99LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBJbmJveFdpZGdldF8xPV9fd2VicGFja19yZXF1aXJlX18oMyk7ZXhwb3J0cy5QV0luYm94V2lkZ2V0PUluYm94V2lkZ2V0XzEuZGVmYXVsdH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXNzaWduPXRoaXMmJnRoaXMuX19hc3NpZ258fE9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgcyxpPTEsbj1hcmd1bWVudHMubGVuZ3RoO2k8bjtpKyspZm9yKHZhciBwIGluIHM9YXJndW1lbnRzW2ldKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLHApJiYodFtwXT1zW3BdKTtyZXR1cm4gdH07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHdpZGdldFRlbXBsYXRlc18xPV9fd2VicGFja19yZXF1aXJlX18oNCksY29uc3RhbnRzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxoZWxwZXJzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxJbmJveFdpZGdldD1mdW5jdGlvbigpe2Z1bmN0aW9uIEluYm94V2lkZ2V0KHB3KXt0aGlzLnB3PXB3LHRoaXMuY29uZmlnPV9fYXNzaWduKHt9LGNvbnN0YW50c18xLkRFRkFVTFRfQ09ORklHLHthcnJvd0JvcmRlckNvbG9yOnRoaXMucHcuaW5ib3hXaWRnZXRDb25maWcuYm9yZGVyQ29sb3ImJlwidHJhbnNwYXJlbnRcIiE9PXRoaXMucHcuaW5ib3hXaWRnZXRDb25maWcuYm9yZGVyQ29sb3I/dGhpcy5wdy5pbmJveFdpZGdldENvbmZpZy5ib3JkZXJDb2xvcjpcInJnYmEoMCwwLDAsLjEpXCJ9LHRoaXMucHcuaW5ib3hXaWRnZXRDb25maWcpLHRoaXMudXBkYXRlSW5ib3g9dGhpcy51cGRhdGVJbmJveC5iaW5kKHRoaXMpLHRoaXMubWFya1Zpc2libGVJdGVtc0FzUmVhZD10aGlzLm1hcmtWaXNpYmxlSXRlbXNBc1JlYWQuYmluZCh0aGlzKSx0aGlzLm9uV2lkZ2V0Q2xpY2tIYW5kbGVyPXRoaXMub25XaWRnZXRDbGlja0hhbmRsZXIuYmluZCh0aGlzKSx0aGlzLm9uVHJpZ2dlckNsaWNrSGFuZGxlcj10aGlzLm9uVHJpZ2dlckNsaWNrSGFuZGxlci5iaW5kKHRoaXMpLHRoaXMub25XaW5kb3dTY3JvbGxIYW5kbGVyPXRoaXMub25XaW5kb3dTY3JvbGxIYW5kbGVyLmJpbmQodGhpcyksdGhpcy50b2dnbGU9dGhpcy50b2dnbGUuYmluZCh0aGlzKTt0cnl7dGhpcy5pbml0VHJpZ2dlcigpLHRoaXMudXBkYXRlSW5ib3goKSx0aGlzLmFkZExpc3RlbmVycygpfWNhdGNoKGVycil7Y29uc29sZS53YXJuKGVycil9fXJldHVybiBJbmJveFdpZGdldC5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKGlzT3BlbmVkKXsodm9pZCAwPT09aXNPcGVuZWQ/IXRoaXMuaXNPcGVuZWQ6aXNPcGVuZWQpP3RoaXMub3BlbldpZGdldCgpOnRoaXMuY2xvc2VXaWRnZXQoKX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLmluaXRUcmlnZ2VyPWZ1bmN0aW9uKCl7aWYoIXRoaXMucHcucHdpbmJveCl0aHJvdyBuZXcgRXJyb3IoXCJXZWIgaW5ib3ggaXMgbm90IGFsbG93ZWQuXCIpO3ZhciB0cmlnZ2VyPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuY29uZmlnLnRyaWdnZXJJZCk7aWYoIXRyaWdnZXIpdGhyb3cgbmV3IEVycm9yKFwiSW5ib3ggdHJpZ2dlciBlbGVtZW50IGRvZXNuJ3QgZXhpc3QuIFlvdSBtdXN0IHNldCB0cmlnZ2VySWQgaW4gaW5ib3hXaWRnZXQgY29uZmlnLiBTZWUgdGhlIGRvY3VtZW50YXRpb24uXCIpO3RoaXMudHJpZ2dlcj10cmlnZ2VyLHRoaXMudHJpZ2dlci5jbGFzc0xpc3QuYWRkKFwicHctaW5ib3gtdHJpZ2dlclwiKSx0aGlzLmRlZmF1bHRNYXJnaW49MTIsdGhpcy5tZXNzYWdlc0VsZW1lbnRzPXt9LHRoaXMubWVzc2FnZXM9W10sdGhpcy5yZWFkSXRlbXM9W10sdGhpcy51cGRhdGVDb3VudGVyKDApLHRoaXMuaXNPcGVuZWQ9ITEsdGhpcy5yZW5kZXJXaWRnZXQoKSx0aGlzLmlzRml4ZWQ9aGVscGVyc18xLmlzRWxlbWVudEZpeGVkKHRoaXMudHJpZ2dlcil9LEluYm94V2lkZ2V0LnByb3RvdHlwZS5yZW5kZXJXaWRnZXQ9ZnVuY3Rpb24oKXt0aGlzLndpZGdldD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMud2lkZ2V0LmlkPVwicHdJbmJveFdpZGdldFwiLHRoaXMud2lkZ2V0LmNsYXNzTmFtZT1cInB3LWluYm94LXdpZGdldFwiLHRoaXMud2lkZ2V0LmNsYXNzTGlzdC50b2dnbGUoXCJwdy1vcGVuXCIsdGhpcy5pc09wZW5lZCksdGhpcy53aWRnZXRQYXJlbnQ9ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLmNvbmZpZy5hcHBlbmRUbyl8fGRvY3VtZW50LmJvZHksdGhpcy53aWRnZXRQYXJlbnQuYXBwZW5kQ2hpbGQodGhpcy53aWRnZXQpLHRoaXMud2lkZ2V0UGFyZW50LmFwcGVuZENoaWxkKHRoaXMuZ2V0U3R5bGUoKSksdGhpcy5yZW5kZXJXaWRnZXRJbm5lcigpfSxJbmJveFdpZGdldC5wcm90b3R5cGUuZ2V0U3R5bGU9ZnVuY3Rpb24oKXt2YXIgc3R5bGVzPV9fd2VicGFja19yZXF1aXJlX18oNSksc3R5bGVOb2RlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtyZXR1cm4gc3R5bGVOb2RlLmlubmVySFRNTD10aGlzLmNvbmZpZ3VyZVN0eWxlKHN0eWxlcyksc3R5bGVOb2RlfSxJbmJveFdpZGdldC5wcm90b3R5cGUuY29uZmlndXJlU3R5bGU9ZnVuY3Rpb24oc3R5bGVzKXt2YXIgX3RoaXM9dGhpcyxyZXN1bHRTdHlsZXM9c3R5bGVzLnRvU3RyaW5nKCk7cmV0dXJuIGNvbnN0YW50c18xLkNPTkZJR19TVFlMRVMuZm9yRWFjaChmdW5jdGlvbihzdHlsZSl7dmFyIHRlbXBsYXRlPW5ldyBSZWdFeHAoXCJ2YXJcXFxcKC0tXCIrc3R5bGUubmFtZStcIlxcXFwpXCIsXCJpZ1wiKSxyZXN1bHQ9X3RoaXMuZ2V0U3R5bGVGb3JtYXR0ZXIoc3R5bGUpO3Jlc3VsdFN0eWxlcz1yZXN1bHRTdHlsZXMucmVwbGFjZSh0ZW1wbGF0ZSxyZXN1bHQpfSkscmVzdWx0U3R5bGVzfSxJbmJveFdpZGdldC5wcm90b3R5cGUuZ2V0U3R5bGVGb3JtYXR0ZXI9ZnVuY3Rpb24oc3R5bGUpe3N3aXRjaChzdHlsZS50eXBlKXtjYXNlXCJzaXplXCI6cmV0dXJuKHRoaXMuY29uZmlnW3N0eWxlLm5hbWVdfHwwKStcInB4XCI7Y2FzZVwibnVtYmVyXCI6cmV0dXJuIHBhcnNlRmxvYXQodGhpcy5jb25maWdbc3R5bGUubmFtZV0udG9TdHJpbmcoKSkudG9TdHJpbmcoKTtjYXNlXCJzdHJpbmdcIjpyZXR1cm4gdGhpcy5jb25maWdbc3R5bGUubmFtZV0udG9TdHJpbmcoKTtjYXNlXCJjb2xvclwiOnJldHVybiBoZWxwZXJzXzEuZ2V0VmFsaWRDb2xvcih0aGlzLmNvbmZpZ1tzdHlsZS5uYW1lXS50b1N0cmluZygpKTtkZWZhdWx0OnJldHVyblwibm9uZVwifX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLnJlbmRlcldpZGdldElubmVyPWZ1bmN0aW9uKCl7aWYodGhpcy5tZXNzYWdlcy5sZW5ndGg+MCl0aGlzLndpZGdldC5jbGFzc0xpc3QucmVtb3ZlKFwicHctaW5ib3gtd2lkZ2V0LS1lbXB0eVwiKSx0aGlzLndpZGdldC5pbm5lckhUTUw9d2lkZ2V0VGVtcGxhdGVzXzEud2lkZ2V0VGVtcGxhdGUodGhpcy5jb25maWcudGl0bGUpLHRoaXMucmVuZGVyTWVzc2FnZXMoKTtlbHNle3RoaXMud2lkZ2V0LmNsYXNzTGlzdC5hZGQoXCJwdy1pbmJveC13aWRnZXQtLWVtcHR5XCIpO3ZhciBfYT10aGlzLmNvbmZpZyxlbXB0eUluYm94VGl0bGU9X2EuZW1wdHlJbmJveFRpdGxlLGVtcHR5SW5ib3hUZXh0PV9hLmVtcHR5SW5ib3hUZXh0LGVtcHR5SW5ib3hJY29uVXJsPV9hLmVtcHR5SW5ib3hJY29uVXJsO3RoaXMud2lkZ2V0LmlubmVySFRNTD13aWRnZXRUZW1wbGF0ZXNfMS53aWRnZXRUZW1wbGF0ZUVtcHR5KGVtcHR5SW5ib3hJY29uVXJsLGVtcHR5SW5ib3hUaXRsZSxlbXB0eUluYm94VGV4dCl9fSxJbmJveFdpZGdldC5wcm90b3R5cGUucmVuZGVyTWVzc2FnZXM9ZnVuY3Rpb24oKXt2YXIgX3RoaXM9dGhpczt0aGlzLmxpc3Q9dGhpcy53aWRnZXQucXVlcnlTZWxlY3RvcihcIi5wdy1pbmJveF9saXN0XCIpfHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidWxcIiksdGhpcy5tZXNzYWdlcy5mb3JFYWNoKGZ1bmN0aW9uKG1lc3NhZ2Upe3ZhciBtZXNzYWdlRWxlbWVudD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7bWVzc2FnZUVsZW1lbnQuY2xhc3NOYW1lPVwicHctaW5ib3hfaXRlbVwiLG1lc3NhZ2VFbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoXCJwdy1uZXdcIiwhbWVzc2FnZS5pc1JlYWQpLG1lc3NhZ2VFbGVtZW50LmNsYXNzTGlzdC50b2dnbGUoXCJwdy11bnJlYWRcIiwhbWVzc2FnZS5pc0FjdGlvblBlcmZvcm1lZCksbWVzc2FnZUVsZW1lbnQuc2V0QXR0cmlidXRlKFwiZGF0YS1wdy1pbmJveC1tZXNzYWdlLWlkXCIsbWVzc2FnZS5jb2RlKSxtZXNzYWdlRWxlbWVudC5pbm5lckhUTUw9d2lkZ2V0VGVtcGxhdGVzXzEubWVzc2FnZVRlbXBsYXRlKG1lc3NhZ2UpLF90aGlzLmxpc3QuYXBwZW5kQ2hpbGQobWVzc2FnZUVsZW1lbnQpLF90aGlzLm1lc3NhZ2VzRWxlbWVudHNbbWVzc2FnZS5jb2RlXT1tZXNzYWdlRWxlbWVudH0pfSxJbmJveFdpZGdldC5wcm90b3R5cGUudXBkYXRlQ291bnRlcj1mdW5jdGlvbihjb3VudCl7dGhpcy5jb3VudD1jb3VudCx0aGlzLnRyaWdnZXIuc2V0QXR0cmlidXRlKFwiZGF0YS1wdy1jb3VudFwiLFwiXCIrdGhpcy5jb3VudCksdGhpcy50cmlnZ2VyLmNsYXNzTGlzdC50b2dnbGUoXCJwdy1lbXB0eVwiLDA9PT10aGlzLmNvdW50KX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLnVwZGF0ZUluYm94TWVzc2FnZXM9ZnVuY3Rpb24obWVzc2FnZXMpe3RoaXMubWVzc2FnZXM9bWVzc2FnZXMuc29ydChmdW5jdGlvbihfYSxfYil7dmFyIHNlbmREYXRlT25lPV9hLnNlbmREYXRlLHNlbmREYXRlVHdvPV9iLnNlbmREYXRlO3JldHVybiBoZWxwZXJzXzEuY29tcGFyZUJ5U2VuZERhdGUoc2VuZERhdGVPbmUsc2VuZERhdGVUd28pfSksdGhpcy5yZW5kZXJXaWRnZXRJbm5lcigpfSxJbmJveFdpZGdldC5wcm90b3R5cGUub3BlbldpZGdldD1mdW5jdGlvbigpe3RoaXMuaXNPcGVuZWQ9ITAsdGhpcy53aWRnZXQuY2xhc3NMaXN0LmFkZChcInB3LW9wZW5cIiksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5vbldpZGdldENsaWNrSGFuZGxlciksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIix0aGlzLm9uV2luZG93U2Nyb2xsSGFuZGxlciksd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLm9uV2luZG93U2Nyb2xsSGFuZGxlciksdGhpcy5tYXJrVmlzaWJsZUl0ZW1zQXNSZWFkKCksdGhpcy5tZXNzYWdlcy5sZW5ndGg+MCYmdGhpcy5saXN0LmFkZEV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIix0aGlzLm1hcmtWaXNpYmxlSXRlbXNBc1JlYWQpLHRoaXMucG9zaXRpb25XaWRnZXQoKX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLmNsb3NlV2lkZ2V0PWZ1bmN0aW9uKCl7dGhpcy5pc09wZW5lZD0hMSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLm9uV2lkZ2V0Q2xpY2tIYW5kbGVyKSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLm9uV2luZG93U2Nyb2xsSGFuZGxlciksd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIix0aGlzLm9uV2luZG93U2Nyb2xsSGFuZGxlciksdGhpcy51cGRhdGVSZWFkU3RhdHVzKCksdGhpcy5tZXNzYWdlcy5sZW5ndGg+MCYmdGhpcy5saXN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIix0aGlzLm1hcmtWaXNpYmxlSXRlbXNBc1JlYWQpLHRoaXMud2lkZ2V0LmNsYXNzTGlzdC5yZW1vdmUoXCJwdy1vcGVuXCIsXCJwdy10b3BcIixcInB3LWJvdHRvbVwiLFwicHctcmlnaHRcIixcInB3LWxlZnRcIiksdGhpcy53aWRnZXQucmVtb3ZlQXR0cmlidXRlKFwic3R5bGVcIil9LEluYm94V2lkZ2V0LnByb3RvdHlwZS5wb3NpdGlvbldpZGdldD1mdW5jdGlvbigpe3RoaXMuaXNPcGVuZWQmJih0aGlzLndpZGdldFBhcmVudD09PWRvY3VtZW50LmJvZHk/dGhpcy5kZWZhdWx0UGxhY2VXaWRnZXQoKTp0aGlzLmN1c3RvbVBsYWNlV2lkZ2V0KCkpfSxJbmJveFdpZGdldC5wcm90b3R5cGUuY3VzdG9tUGxhY2VXaWRnZXQ9ZnVuY3Rpb24oKXt2YXIgcG9zaXRpb249dGhpcy5jb25maWcucG9zaXRpb247dGhpcy53aWRnZXRQYXJlbnQuc3R5bGUucG9zaXRpb249XCJyZWxhdGl2ZVwiLHRoaXMud2lkZ2V0LmNsYXNzTGlzdC5hZGQoXCJwdy1pbmJveC13aWRnZXQtLWluc2V0XCIpLHRoaXMud2lkZ2V0LmNsYXNzTGlzdC5hZGQoXCJwdy1cIitwb3NpdGlvbil9LEluYm94V2lkZ2V0LnByb3RvdHlwZS5kZWZhdWx0UGxhY2VXaWRnZXQ9ZnVuY3Rpb24oKXt2YXIgcG9zaXRpb249dGhpcy5wdy5pbmJveFdpZGdldENvbmZpZy5wb3NpdGlvbj90aGlzLmNvbmZpZy5wb3NpdGlvbjp0aGlzLmdldERlZmF1bHRQb3NpdGlvbigpLHdpZGdldFJlY3Q9dGhpcy53aWRnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7aWYoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KXt2YXIgd2luZG93V2lkdGg9TWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLHdpbmRvdy5pbm5lcldpZHRofHwwKSx3aW5kb3dIZWlnaHQ9TWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCx3aW5kb3cuaW5uZXJIZWlnaHR8fDApO3N3aXRjaCh3aWRnZXRSZWN0LndpZHRoKzIqdGhpcy5kZWZhdWx0TWFyZ2luPndpbmRvd1dpZHRoJiYodGhpcy53aWRnZXQuc3R5bGUud2lkdGg9d2luZG93V2lkdGgtMip0aGlzLmRlZmF1bHRNYXJnaW4rXCJweFwiKSx3aWRnZXRSZWN0LmhlaWdodCsyND53aW5kb3dIZWlnaHQmJih0aGlzLndpZGdldC5zdHlsZS5oZWlnaHQ9d2luZG93SGVpZ2h0LTIqdGhpcy5kZWZhdWx0TWFyZ2luK1wicHhcIikscG9zaXRpb24pe2Nhc2VcInRvcFwiOnRoaXMuYWxpZ25XaWRnZXRUb3AoKTticmVhaztjYXNlXCJyaWdodFwiOnRoaXMuYWxpZ25XaWRnZXRSaWdodCgpO2JyZWFrO2Nhc2VcImxlZnRcIjp0aGlzLmFsaWduV2lkZ2V0TGVmdCgpO2JyZWFrO2Nhc2VcImJvdHRvbVwiOnRoaXMuYWxpZ25XaWRnZXRCb3R0b20oKX19fSxJbmJveFdpZGdldC5wcm90b3R5cGUuYWxpZ25XaWRnZXRUb3A9ZnVuY3Rpb24oKXt2YXIgdHJpZ2dlclJlY3Q9dGhpcy50cmlnZ2VyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHdpZGdldFJlY3Q9dGhpcy53aWRnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7aWYoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KXt2YXIgd2luZG93V2lkdGg9TWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLHdpbmRvdy5pbm5lcldpZHRofHwwKSxhcnJvdz10aGlzLndpZGdldC5xdWVyeVNlbGVjdG9yKFwiLnB3LWluYm94X19hcnJvd1wiKXx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0aGlzLndpZGdldC5jbGFzc0xpc3QuYWRkKFwicHctdG9wXCIpO3ZhciBsZWZ0PXBhZ2VYT2Zmc2V0K3RyaWdnZXJSZWN0LmxlZnQrTWF0aC5mbG9vcih0cmlnZ2VyUmVjdC53aWR0aC8yKS1NYXRoLmZsb29yKHdpZGdldFJlY3Qud2lkdGgvMiksaXNVbmRlckxlZnQ9bGVmdDxwYWdlWE9mZnNldCxpc1VuZGVyUmlnaHQ9bGVmdCt3aWRnZXRSZWN0LndpZHRoPnBhZ2VYT2Zmc2V0K3dpbmRvd1dpZHRoO2lzVW5kZXJMZWZ0JiYobGVmdD1wYWdlWE9mZnNldCt0aGlzLmRlZmF1bHRNYXJnaW4pLGlzVW5kZXJSaWdodCYmKGxlZnQ9cGFnZVhPZmZzZXQrd2luZG93V2lkdGgtd2lkZ2V0UmVjdC53aWR0aC10aGlzLmRlZmF1bHRNYXJnaW4pO3ZhciB0b3A9cGFnZVlPZmZzZXQrdHJpZ2dlclJlY3QudG9wLXdpZGdldFJlY3QuaGVpZ2h0O3RoaXMuYWxpZ25XaWRnZXRFbGVtZW50KGxlZnQsdG9wKSxhcnJvdy5zdHlsZS5sZWZ0PXRyaWdnZXJSZWN0LmxlZnQrTWF0aC5mbG9vcih0cmlnZ2VyUmVjdC53aWR0aC8yKS1sZWZ0K1wicHhcIjt2YXIgdG9wTWFyZ2luPXRoaXMud2lkZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcDtpZih0b3BNYXJnaW48MCl7dmFyIG5ld0hlaWdodD10aGlzLndpZGdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQrdG9wTWFyZ2luLXRoaXMuZGVmYXVsdE1hcmdpbixuZXdUb3A9dGhpcy53aWRnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkudG9wLXRvcE1hcmdpbit0aGlzLmRlZmF1bHRNYXJnaW47dGhpcy53aWRnZXQuc3R5bGUuaGVpZ2h0PW5ld0hlaWdodCtcInB4XCIsdGhpcy53aWRnZXQuc3R5bGUudG9wPW5ld1RvcCtcInB4XCJ9fX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLmFsaWduV2lkZ2V0UmlnaHQ9ZnVuY3Rpb24oKXt2YXIgdHJpZ2dlclJlY3Q9dGhpcy50cmlnZ2VyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHdpZGdldFJlY3Q9dGhpcy53aWRnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7aWYoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KXt2YXIgd2luZG93V2lkdGg9TWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLHdpbmRvdy5pbm5lcldpZHRofHwwKSx3aW5kb3dIZWlnaHQ9TWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCx3aW5kb3cuaW5uZXJIZWlnaHR8fDApLGFycm93PXRoaXMud2lkZ2V0LnF1ZXJ5U2VsZWN0b3IoXCIucHctaW5ib3hfX2Fycm93XCIpfHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3RoaXMud2lkZ2V0LmNsYXNzTGlzdC5hZGQoXCJwdy1yaWdodFwiKTt2YXIgdG9wPXBhZ2VZT2Zmc2V0K3RyaWdnZXJSZWN0LnRvcCtNYXRoLmZsb29yKHRyaWdnZXJSZWN0LmhlaWdodC8yKS1NYXRoLmZsb29yKHdpZGdldFJlY3QuaGVpZ2h0LzIpLGlzVW5kZXJUb3A9dG9wPHBhZ2VZT2Zmc2V0LGlzVW5kZXJCb3R0b209cGFnZVlPZmZzZXQrd2luZG93SGVpZ2h0PHRvcCt3aWRnZXRSZWN0LmhlaWdodDtpc1VuZGVyVG9wJiYodG9wPXBhZ2VZT2Zmc2V0K3RoaXMuZGVmYXVsdE1hcmdpbiksaXNVbmRlckJvdHRvbSYmKHRvcD1wYWdlWU9mZnNldCt3aW5kb3dIZWlnaHQtd2lkZ2V0UmVjdC5oZWlnaHQtdGhpcy5kZWZhdWx0TWFyZ2luKTt2YXIgbGVmdD1wYWdlWE9mZnNldCt0cmlnZ2VyUmVjdC5sZWZ0K3RyaWdnZXJSZWN0LndpZHRoO3RoaXMuYWxpZ25XaWRnZXRFbGVtZW50KGxlZnQsdG9wKSxhcnJvdy5zdHlsZS50b3A9dHJpZ2dlclJlY3QudG9wK01hdGguZmxvb3IodHJpZ2dlclJlY3QuaGVpZ2h0LzIpLXRvcCtcInB4XCI7dmFyIHJpZ2h0TWFyZ2luPXdpbmRvd1dpZHRoLXRoaXMud2lkZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnJpZ2h0O2lmKHJpZ2h0TWFyZ2luPHRoaXMuZGVmYXVsdE1hcmdpbil7dmFyIG5ld1dpZHRoPXRoaXMud2lkZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoK3JpZ2h0TWFyZ2luLXRoaXMuZGVmYXVsdE1hcmdpbjt0aGlzLndpZGdldC5zdHlsZS53aWR0aD1uZXdXaWR0aCtcInB4XCJ9fX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLmFsaWduV2lkZ2V0TGVmdD1mdW5jdGlvbigpe3ZhciB0cmlnZ2VyUmVjdD10aGlzLnRyaWdnZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksd2lkZ2V0UmVjdD10aGlzLndpZGdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtpZihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpe3ZhciB3aW5kb3dIZWlnaHQ9TWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCx3aW5kb3cuaW5uZXJIZWlnaHR8fDApLGFycm93PXRoaXMud2lkZ2V0LnF1ZXJ5U2VsZWN0b3IoXCIucHctaW5ib3hfX2Fycm93XCIpfHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3RoaXMud2lkZ2V0LmNsYXNzTGlzdC5hZGQoXCJwdy1sZWZ0XCIpO3ZhciB0b3A9cGFnZVlPZmZzZXQrdHJpZ2dlclJlY3QudG9wK01hdGguZmxvb3IodHJpZ2dlclJlY3QuaGVpZ2h0LzIpLU1hdGguZmxvb3Iod2lkZ2V0UmVjdC5oZWlnaHQvMiksaXNVbmRlclRvcD10b3A8cGFnZVlPZmZzZXQsaXNVbmRlckJvdHRvbT1wYWdlWU9mZnNldCt3aW5kb3dIZWlnaHQ8dG9wK3dpZGdldFJlY3QuaGVpZ2h0O2lzVW5kZXJUb3AmJih0b3A9cGFnZVlPZmZzZXQrdGhpcy5kZWZhdWx0TWFyZ2luKSxpc1VuZGVyQm90dG9tJiYodG9wPXBhZ2VZT2Zmc2V0K3dpbmRvd0hlaWdodC13aWRnZXRSZWN0LmhlaWdodC10aGlzLmRlZmF1bHRNYXJnaW4pO3ZhciBsZWZ0PXBhZ2VYT2Zmc2V0K3RyaWdnZXJSZWN0LmxlZnQtd2lkZ2V0UmVjdC53aWR0aDt0aGlzLmFsaWduV2lkZ2V0RWxlbWVudChsZWZ0LHRvcCksYXJyb3cuc3R5bGUudG9wPXRyaWdnZXJSZWN0LnRvcCtNYXRoLmZsb29yKHRyaWdnZXJSZWN0LmhlaWdodC8yKS10b3ArXCJweFwiO3ZhciBsZWZ0TWFyZ2luPXRoaXMud2lkZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmxlZnQ7aWYobGVmdE1hcmdpbjwwKXt2YXIgbmV3V2lkdGg9dGhpcy53aWRnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkud2lkdGgrbGVmdE1hcmdpbi10aGlzLmRlZmF1bHRNYXJnaW4sbmV3TGVmdD10aGlzLndpZGdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0LWxlZnRNYXJnaW47dGhpcy53aWRnZXQuc3R5bGUud2lkdGg9bmV3V2lkdGgrXCJweFwiLHRoaXMud2lkZ2V0LnN0eWxlLmxlZnQ9bmV3TGVmdCtcInB4XCJ9fX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLmFsaWduV2lkZ2V0Qm90dG9tPWZ1bmN0aW9uKCl7dmFyIHRyaWdnZXJSZWN0PXRoaXMudHJpZ2dlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx3aWRnZXRSZWN0PXRoaXMud2lkZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2lmKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCl7dmFyIHdpbmRvd1dpZHRoPU1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCx3aW5kb3cuaW5uZXJXaWR0aHx8MCksd2luZG93SGVpZ2h0PU1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsd2luZG93LmlubmVySGVpZ2h0fHwwKSxhcnJvdz10aGlzLndpZGdldC5xdWVyeVNlbGVjdG9yKFwiLnB3LWluYm94X19hcnJvd1wiKXx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0aGlzLndpZGdldC5jbGFzc0xpc3QuYWRkKFwicHctYm90dG9tXCIpO3ZhciBsZWZ0PXBhZ2VYT2Zmc2V0K3RyaWdnZXJSZWN0LmxlZnQrTWF0aC5mbG9vcih0cmlnZ2VyUmVjdC53aWR0aC8yKS1NYXRoLmZsb29yKHdpZGdldFJlY3Qud2lkdGgvMiksaXNVbmRlckxlZnQ9bGVmdDxwYWdlWE9mZnNldCxpc1VuZGVyUmlnaHQ9bGVmdCt3aWRnZXRSZWN0LndpZHRoPnBhZ2VYT2Zmc2V0K3dpbmRvd1dpZHRoO2lzVW5kZXJMZWZ0JiYobGVmdD1wYWdlWE9mZnNldCt0aGlzLmRlZmF1bHRNYXJnaW4pLGlzVW5kZXJSaWdodCYmKGxlZnQ9cGFnZVhPZmZzZXQrd2luZG93V2lkdGgtd2lkZ2V0UmVjdC53aWR0aC0xMik7dmFyIHRvcD1wYWdlWU9mZnNldCt0cmlnZ2VyUmVjdC50b3ArdHJpZ2dlclJlY3QuaGVpZ2h0O3RoaXMuYWxpZ25XaWRnZXRFbGVtZW50KGxlZnQsdG9wKSxhcnJvdy5zdHlsZS5sZWZ0PXRyaWdnZXJSZWN0LmxlZnQrTWF0aC5mbG9vcih0cmlnZ2VyUmVjdC53aWR0aC8yKS1sZWZ0K1wicHhcIjt2YXIgYm90dG9tUmFuZ2U9d2luZG93SGVpZ2h0LXRoaXMud2lkZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmJvdHRvbTtpZihib3R0b21SYW5nZTx0aGlzLmRlZmF1bHRNYXJnaW4pe3ZhciBuZXdIZWlnaHQ9dGhpcy53aWRnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0K2JvdHRvbVJhbmdlLXRoaXMuZGVmYXVsdE1hcmdpbjt0aGlzLndpZGdldC5zdHlsZS5oZWlnaHQ9bmV3SGVpZ2h0K1wicHhcIn19fSxJbmJveFdpZGdldC5wcm90b3R5cGUuYWxpZ25XaWRnZXRFbGVtZW50PWZ1bmN0aW9uKGxlZnQsdG9wKXt0aGlzLndpZGdldC5zdHlsZS5sZWZ0PWxlZnQrXCJweFwiLHRoaXMud2lkZ2V0LnN0eWxlLnRvcD10b3ArXCJweFwifSxJbmJveFdpZGdldC5wcm90b3R5cGUuZ2V0RGVmYXVsdFBvc2l0aW9uPWZ1bmN0aW9uKCl7dmFyIF9hPXRoaXMudHJpZ2dlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSxsZWZ0PV9hLmxlZnQsdG9wPV9hLnRvcCx3aWR0aD1fYS53aWR0aCxoZWlnaHQ9X2EuaGVpZ2h0O2lmKCFkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpcmV0dXJuXCJcIjt2YXIgYW50aU1hcmdpbnM9e3JpZ2h0OmxlZnQsYm90dG9tOnRvcCxsZWZ0Ok1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCx3aW5kb3cuaW5uZXJXaWR0aHx8MCktKGxlZnQrd2lkdGgpLHRvcDpNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LHdpbmRvdy5pbm5lckhlaWdodHx8MCktKHRvcCtoZWlnaHQpfSxsZWFzdE1hcmdpbj1NYXRoLm1pbihsZWZ0LHRvcCxhbnRpTWFyZ2lucy5sZWZ0LGFudGlNYXJnaW5zLnRvcCkscG9zaXRpb249XCJib3R0b21cIjtyZXR1cm4gT2JqZWN0LmtleXMoYW50aU1hcmdpbnMpLmZvckVhY2goZnVuY3Rpb24oa2V5KXthbnRpTWFyZ2luc1trZXldPT09bGVhc3RNYXJnaW4mJihwb3NpdGlvbj1rZXkpfSkscG9zaXRpb259LEluYm94V2lkZ2V0LnByb3RvdHlwZS5hZGRMaXN0ZW5lcnM9ZnVuY3Rpb24oKXt2YXIgX3RoaXM9dGhpczt0aGlzLnRyaWdnZXIuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5vblRyaWdnZXJDbGlja0hhbmRsZXIpLHRoaXMucHcucHVzaChbXCJvblB1dE5ld01lc3NhZ2VUb0luYm94U3RvcmVcIixmdW5jdGlvbigpe190aGlzLnVwZGF0ZUluYm94KCl9XSksdGhpcy5wdy5wdXNoKFtcIm9uVXBkYXRlSW5ib3hNZXNzYWdlc1wiLGZ1bmN0aW9uKCl7X3RoaXMudXBkYXRlSW5ib3goKX1dKX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLm1hcmtWaXNpYmxlSXRlbXNBc1JlYWQ9ZnVuY3Rpb24oKXt2YXIgX3RoaXM9dGhpcztpZigwIT09dGhpcy5tZXNzYWdlcy5sZW5ndGgpe3ZhciBzY3JvbGxUb3A9dGhpcy5saXN0LmNsaWVudEhlaWdodCt0aGlzLmxpc3Quc2Nyb2xsVG9wLTUwO09iamVjdC5rZXlzKHRoaXMubWVzc2FnZXNFbGVtZW50cykuZm9yRWFjaChmdW5jdGlvbihjb2RlKXtpZihfdGhpcy5tZXNzYWdlc0VsZW1lbnRzW2NvZGVdJiYhKF90aGlzLm1lc3NhZ2VzRWxlbWVudHNbY29kZV0ub2Zmc2V0VG9wPnNjcm9sbFRvcCkpe3ZhciBtZXNzYWdlPV90aGlzLm1lc3NhZ2VzLmZpbmQoZnVuY3Rpb24obWVzc2FnZSl7cmV0dXJuIG1lc3NhZ2UuY29kZT09PWNvZGV9KTshbWVzc2FnZXx8bWVzc2FnZS5pc1JlYWR8fF90aGlzLnJlYWRJdGVtcy5pbmRleE9mKGNvZGUpKzF8fF90aGlzLnJlYWRJdGVtcy5wdXNoKGNvZGUpfX0pfX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLnVwZGF0ZVJlYWRTdGF0dXM9ZnVuY3Rpb24oKXt0aGlzLnB3LnB3aW5ib3gucmVhZE1lc3NhZ2VzV2l0aENvZGVzKHRoaXMucmVhZEl0ZW1zKS50aGVuKHRoaXMudXBkYXRlSW5ib3gpfSxJbmJveFdpZGdldC5wcm90b3R5cGUudXBkYXRlSW5ib3g9ZnVuY3Rpb24oKXt2YXIgX3RoaXM9dGhpczt0aGlzLnB3LnB3aW5ib3gubG9hZE1lc3NhZ2VzKCkudGhlbihmdW5jdGlvbihtZXNzYWdlcyl7X3RoaXMudXBkYXRlSW5ib3hNZXNzYWdlcyhtZXNzYWdlcyl9KSx0aGlzLnB3LnB3aW5ib3gudW5yZWFkTWVzc2FnZXNDb3VudCgpLnRoZW4oZnVuY3Rpb24oY291bnQpe190aGlzLnVwZGF0ZUNvdW50ZXIoY291bnQpfSl9LEluYm94V2lkZ2V0LnByb3RvdHlwZS5wZXJmb3JtTWVzc2FnZUFjdGlvbj1mdW5jdGlvbihjb2RlKXt2YXIgX3RoaXM9dGhpczt0aGlzLnB3LnB3aW5ib3gucGVyZm9ybUFjdGlvbkZvck1lc3NhZ2VXaXRoQ29kZShjb2RlKS50aGVuKGZ1bmN0aW9uKCl7X3RoaXMudXBkYXRlSW5ib3goKX0pfSxJbmJveFdpZGdldC5wcm90b3R5cGUucmVtb3ZlTWVzc2FnZXM9ZnVuY3Rpb24obWVzc2FnZXMpe3ZhciBfdGhpcz10aGlzO21lc3NhZ2VzLmZvckVhY2goZnVuY3Rpb24oY29kZSl7X3RoaXMucmVhZEl0ZW1zPV90aGlzLnJlYWRJdGVtcy5zbGljZShfdGhpcy5yZWFkSXRlbXMuaW5kZXhPZihjb2RlKSwxKX0pLHRoaXMucHcucHdpbmJveC5kZWxldGVNZXNzYWdlc1dpdGhDb2RlcyhtZXNzYWdlcykudGhlbihmdW5jdGlvbigpe190aGlzLnVwZGF0ZUluYm94KCl9KX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLm9uVHJpZ2dlckNsaWNrSGFuZGxlcj1mdW5jdGlvbihldmVudCl7ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCksZXZlbnQudGFyZ2V0JiZ0aGlzLnRvZ2dsZSgpfSxJbmJveFdpZGdldC5wcm90b3R5cGUub25XaWRnZXRDbGlja0hhbmRsZXI9ZnVuY3Rpb24oZXZlbnQpe2lmKGV2ZW50LnRhcmdldCl7dmFyIGl0ZW1FbGVtZW50PWV2ZW50LnRhcmdldC5jbG9zZXN0KFwiLnB3LWluYm94X2l0ZW1cIik7aWYoaXRlbUVsZW1lbnQpe3ZhciBtZXNzYWdlQ29kZT1pdGVtRWxlbWVudC5nZXRBdHRyaWJ1dGUoXCJkYXRhLXB3LWluYm94LW1lc3NhZ2UtaWRcIik7bWVzc2FnZUNvZGUmJihldmVudC50YXJnZXQuY2xvc2VzdChcIi5wdy1pbmJveF9pdGVtLXJlbW92ZVwiKT90aGlzLnJlbW92ZU1lc3NhZ2VzKFttZXNzYWdlQ29kZV0pOnRoaXMucGVyZm9ybU1lc3NhZ2VBY3Rpb24obWVzc2FnZUNvZGUpKX1lbHNlIHRoaXMudG9nZ2xlKCl9fSxJbmJveFdpZGdldC5wcm90b3R5cGUub25XaW5kb3dTY3JvbGxIYW5kbGVyPWZ1bmN0aW9uKCl7dGhpcy5pc0ZpeGVkJiZ0aGlzLmlzT3BlbmVkP3RoaXMudG9nZ2xlKCk6dGhpcy5wb3NpdGlvbldpZGdldCgpfSxJbmJveFdpZGdldH0oKTtleHBvcnRzLmRlZmF1bHQ9SW5ib3hXaWRnZXR9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBoZWxwZXJzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygwKTtleHBvcnRzLndpZGdldFRlbXBsYXRlPWZ1bmN0aW9uKHRpdGxlKXtyZXR1cm4nXFxuPGRpdiBjbGFzcz1cInB3LWluYm94X19hcnJvd1wiPjwvZGl2PlxcbjxkaXYgY2xhc3M9XCJwdy1pbmJveF9pbm5lclwiPlxcbiAgICA8ZGl2IGNsYXNzPVwicHctaW5ib3hfdGl0bGVcIj5cXG4gICAgICAnK3RpdGxlKydcXG4gICAgPC9kaXY+XFxuICAgIDx1bCBjbGFzcz1cInB3LWluYm94X2xpc3RcIj5cXG4gICAgXFxuICAgIDwvdWw+XFxuPC9kaXY+J30sZXhwb3J0cy53aWRnZXRUZW1wbGF0ZUVtcHR5PWZ1bmN0aW9uKGVtcHR5SW5ib3hJY29uVXJsLGVtcHR5SW5ib3hUaXRsZSxlbXB0eUluYm94VGV4dCl7cmV0dXJuJ1xcbjxkaXYgY2xhc3M9XCJwdy1pbmJveF9fYXJyb3dcIj48L2Rpdj5cXG48ZGl2IGNsYXNzPVwicHctaW5ib3hfbGlzdC0tZW1wdHlcIj5cXG4gICAgPGRpdiBjbGFzcz1cInB3LWluYm94X2xpc3QtaWNvblwiPlxcbiAgICAgIDxpbWcgc3JjPVwiJytlbXB0eUluYm94SWNvblVybCsnXCIgYWx0PVwiJytlbXB0eUluYm94VGl0bGUrJ1wiPlxcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cInB3LWluYm94X2xpc3QtdGl0bGVcIj5cXG4gICAgICAnK2VtcHR5SW5ib3hUaXRsZSsnXFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVwiaXB3LWluYm94X2xpc3QtYm9keVwiPlxcbiAgICAgICcrZW1wdHlJbmJveFRleHQrXCJcXG4gICAgPC9kaXY+XFxuPC9kaXY+XCJ9LGV4cG9ydHMubWVzc2FnZVRlbXBsYXRlPWZ1bmN0aW9uKF9hKXt2YXIgaW1hZ2VVcmw9X2EuaW1hZ2VVcmwsdGl0bGU9X2EudGl0bGUsbWVzc2FnZT1fYS5tZXNzYWdlLHNlbmREYXRlPV9hLnNlbmREYXRlO3JldHVybidcXG48ZGl2IGNsYXNzPVwicHctaW5ib3hfaXRlbS1pbm5lclwiPlxcbiAgPGRpdiBjbGFzcz1cInB3LWluYm94X2ljb25cIj5cXG4gICAgPGltZyBzcmM9XCInK2ltYWdlVXJsKydcIiBhbHQ9XCInKyh0aXRsZXx8bWVzc2FnZSkrJ1wiIGNsYXNzPVwicHctaW5ib3hfbWVzc2FnZS1pbWFnZVwiPlxcbiAgPC9kaXY+XFxuICA8ZGl2IGNsYXNzPVwicHctaW5ib3hfY29udGVudFwiPlxcbiAgICAnKyh0aXRsZT8nPGRpdiBjbGFzcz1cInB3LWluYm94X2l0ZW0tdGl0bGVcIj5cXG4gICAgICAnK3RpdGxlK1wiXFxuICAgIDwvZGl2PlwiOm51bGwpKydcXG4gICAgPGRpdiBjbGFzcz1cInB3LWluYm94X2l0ZW0tYm9keVwiPlxcbiAgICAgICcrbWVzc2FnZSsnXFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVwicHctaW5ib3hfaXRlbS10aW1lXCI+XFxuICAgICAgJytoZWxwZXJzXzEuZ2V0TWVzc2FnZVRpbWUoc2VuZERhdGUpKydcXG4gICAgPC9kaXY+XFxuICA8L2Rpdj5cXG48L2Rpdj5cXG48c3BhbiBjbGFzcz1cInB3LWluYm94X2l0ZW0tcmVtb3ZlXCI+PC9zcGFuPid9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgcmVzdWx0PV9fd2VicGFja19yZXF1aXJlX18oNik7bW9kdWxlLmV4cG9ydHM9XCJzdHJpbmdcIj09dHlwZW9mIHJlc3VsdD9yZXN1bHQ6cmVzdWx0LnRvU3RyaW5nKCl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18peyhtb2R1bGUuZXhwb3J0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpKHZvaWQgMCkpLnB1c2goW21vZHVsZS5pLFwiLnB3LWluYm94LXRyaWdnZXIge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbn1cXG5cXG4ucHctaW5ib3gtdHJpZ2dlcjphZnRlciB7XFxuICBjb250ZW50OiBhdHRyKGRhdGEtcHctY291bnQpO1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICByaWdodDogMDtcXG4gIHRvcDogMDtcXG4gIGJhY2tncm91bmQ6IHZhcigtLWJhZGdlQmdDb2xvcik7XFxuICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDhweDtcXG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogOHB4O1xcbiAgY29sb3I6IHZhcigtLWJhZGdlVGV4dENvbG9yKTtcXG4gIGZvbnQtc2l6ZTogMTBweDtcXG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XFxuICBsaW5lLWhlaWdodDogMTZweDtcXG4gIHdpZHRoOiAxNnB4O1xcbiAgcGFkZGluZzogMCAycHg7XFxuICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxufVxcblxcbi5wdy1pbmJveC10cmlnZ2VyLnB3LWVtcHR5OmFmdGVyIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbi5wdy1pbmJveC13aWRnZXQgKiB7XFxuICBwb3NpdGlvbjogc3RhdGljO1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgZm9udC1zaXplOiAxZW07XFxuICBvdXRsaW5lOiBub25lO1xcbiAgZm9udC1mYW1pbHk6IHZhcigtLWZvbnRGYW1pbHkpO1xcbn1cXG4ucHctaW5ib3gtd2lkZ2V0IHtcXG4gIGZvbnQtc2l6ZTogMTRweDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHRvcDogMDtcXG4gIGxlZnQ6IC0xMDAwcHg7XFxuICBiYWNrZ3JvdW5kOiB2YXIoLS1iZ0NvbG9yKTtcXG4gIGJvcmRlcjogc29saWQgMXB4IHZhcigtLWJvcmRlckNvbG9yKTtcXG4gIC13ZWJraXQtYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyUmFkaXVzKTtcXG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogdmFyKC0tYm9yZGVyUmFkaXVzKTtcXG4gIHdpZHRoOiB2YXIoLS13aWRnZXRXaWR0aCk7XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IDAgMXB4IDRweCAwIHJnYmEoMCwwLDAsLjI1KTtcXG4gICAgICAgICAgYm94LXNoYWRvdzogMCAxcHggNHB4IDAgcmdiYSgwLDAsMCwuMjUpO1xcbiAgei1pbmRleDogdmFyKC0tekluZGV4KTtcXG4gIG9wYWNpdHk6IDA7XFxuICAtd2Via2l0LXRyYW5zaXRpb246IG9wYWNpdHkgLjZzIGVhc2U7XFxuICAtby10cmFuc2l0aW9uOiBvcGFjaXR5IC42cyBlYXNlO1xcbiAgdHJhbnNpdGlvbjogb3BhY2l0eSAuNnMgZWFzZTtcXG4gIC13ZWJraXQtdHJhbnNpdGlvbi1kZWxheTogMTAwbXM7XFxuICAgICAgIC1vLXRyYW5zaXRpb24tZGVsYXk6IDEwMG1zO1xcbiAgICAgICAgICB0cmFuc2l0aW9uLWRlbGF5OiAxMDBtcztcXG59XFxuLnB3LWluYm94LXdpZGdldC5wdy1vcGVuIHtcXG4gIG9wYWNpdHk6IDE7XFxuICAtd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6IDBtcztcXG4gICAgICAgLW8tdHJhbnNpdGlvbi1kZWxheTogMG1zO1xcbiAgICAgICAgICB0cmFuc2l0aW9uLWRlbGF5OiAwbXM7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctaW5ib3gtd2lkZ2V0LS1pbnNldCB7XFxuICB0b3A6IGF1dG87XFxuICBsZWZ0OiBhdXRvO1xcbiAgZGlzcGxheTogbm9uZTtcXG59XFxuLnB3LWluYm94LXdpZGdldC5wdy1pbmJveC13aWRnZXQtLWluc2V0LnB3LW9wZW4ge1xcbiAgZGlzcGxheTogYmxvY2s7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctaW5ib3gtd2lkZ2V0LS1pbnNldC5wdy1ib3R0b20ge1xcbiAgdG9wOiAxMDAlO1xcbiAgbGVmdDogNTAlO1xcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XFxuICAgICAgLW1zLXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcXG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xcbn1cXG4ucHctaW5ib3gtd2lkZ2V0LnB3LWluYm94LXdpZGdldC0taW5zZXQucHctdG9wIHtcXG4gIGJvdHRvbTogMTAwJTtcXG4gIGxlZnQ6IDUwJTtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xcbiAgICAgIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XFxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcXG59XFxuLnB3LWluYm94LXdpZGdldC5wdy1pbmJveC13aWRnZXQtLWluc2V0LnB3LXJpZ2h0IHtcXG4gIGxlZnQ6IDEwMCU7XFxuICB0b3A6IDUwJTtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xcbiAgICAgIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XFxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcXG59XFxuLnB3LWluYm94LXdpZGdldC5wdy1pbmJveC13aWRnZXQtLWluc2V0LnB3LWxlZnQge1xcbiAgcmlnaHQ6IDEwMCU7XFxuICB0b3A6IDUwJTtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xcbiAgICAgIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XFxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcXG59XFxuLnB3LWluYm94LXdpZGdldC5wdy1pbmJveC13aWRnZXQtLWVtcHR5IHtcXG4gIG1heC1oZWlnaHQ6IG5vbmU7XFxufVxcbi5wdy1pbmJveC13aWRnZXQgLnB3LWluYm94X19hcnJvdyB7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIHdpZHRoOiAwO1xcbiAgaGVpZ2h0OiAwO1xcbiAgYm9yZGVyLXdpZHRoOiAxMHB4O1xcbiAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcXG4gIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxufVxcbi5wdy1pbmJveC13aWRnZXQgLnB3LWluYm94X19hcnJvdzpiZWZvcmUge1xcbiAgY29udGVudDogXFxcIlxcXCI7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIHdpZHRoOiAwO1xcbiAgaGVpZ2h0OiAwO1xcbiAgYm9yZGVyLXdpZHRoOiAxMHB4O1xcbiAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcXG4gIGJvcmRlci1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctdG9wIHtcXG4gIG1hcmdpbi10b3A6IC0xMnB4O1xcbn1cXG4ucHctaW5ib3gtd2lkZ2V0LnB3LXRvcCAucHctaW5ib3hfX2Fycm93IHtcXG4gIGJvcmRlci10b3AtY29sb3I6IHZhcigtLWFycm93Qm9yZGVyQ29sb3IpO1xcbiAgYm90dG9tOiAtMjFweDtcXG4gIGxlZnQ6IDUwJTtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xcbiAgICAgIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XFxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcXG59XFxuLnB3LWluYm94LXdpZGdldC5wdy10b3AgLnB3LWluYm94X19hcnJvdzpiZWZvcmUge1xcbiAgYm9yZGVyLXRvcC1jb2xvcjogdmFyKC0tYmdDb2xvcik7XFxuICB0b3A6IC0xMXB4O1xcbiAgbGVmdDogLTEwcHg7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctYm90dG9tIHtcXG4gIG1hcmdpbi10b3A6IDEycHg7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctYm90dG9tIC5wdy1pbmJveF9fYXJyb3cge1xcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogdmFyKC0tYXJyb3dCb3JkZXJDb2xvcik7XFxuICB0b3A6IC0yMXB4O1xcbiAgbGVmdDogNTAlO1xcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XFxuICAgICAgLW1zLXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcXG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xcbn1cXG4ucHctaW5ib3gtd2lkZ2V0LnB3LWJvdHRvbSAucHctaW5ib3hfX2Fycm93OmJlZm9yZSB7XFxuICBib3JkZXItYm90dG9tLWNvbG9yOiB2YXIoLS1iZ0NvbG9yKTtcXG4gIGJvdHRvbTogLTExcHg7XFxuICBsZWZ0OiAtMTBweDtcXG59XFxuLnB3LWluYm94LXdpZGdldC5wdy1sZWZ0IHtcXG4gIG1hcmdpbi1sZWZ0OiAtMTJweDtcXG59XFxuLnB3LWluYm94LXdpZGdldC5wdy1sZWZ0IC5wdy1pbmJveF9fYXJyb3cge1xcbiAgYm9yZGVyLWxlZnQtY29sb3I6IHZhcigtLWFycm93Qm9yZGVyQ29sb3IpO1xcbiAgcmlnaHQ6IC0yMXB4O1xcbiAgdG9wOiA1MCU7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcXG4gICAgICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctbGVmdCAucHctaW5ib3hfX2Fycm93OmJlZm9yZSB7XFxuICBib3JkZXItbGVmdC1jb2xvcjogdmFyKC0tYmdDb2xvcik7XFxuICBsZWZ0OiAtMTFweDtcXG4gIHRvcDogLTEwcHg7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctcmlnaHQge1xcbiAgbWFyZ2luLWxlZnQ6IDEycHg7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctcmlnaHQgLnB3LWluYm94X19hcnJvdyB7XFxuICBib3JkZXItcmlnaHQtY29sb3I6IHZhcigtLWFycm93Qm9yZGVyQ29sb3IpO1xcbiAgbGVmdDogLTIxcHg7XFxuICB0b3A6IDUwJTtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xcbiAgICAgIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XFxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcXG59XFxuLnB3LWluYm94LXdpZGdldC5wdy1yaWdodCAucHctaW5ib3hfX2Fycm93OmJlZm9yZSB7XFxuICBib3JkZXItcmlnaHQtY29sb3I6IHZhcigtLWJnQ29sb3IpO1xcbiAgcmlnaHQ6IC0xMXB4O1xcbiAgdG9wOiAtMTBweDtcXG59XFxuLnB3LWluYm94X2lubmVyIHtcXG4gIG92ZXJmbG93OiBoaWRkZW47XFxuICBkaXNwbGF5OiAtd2Via2l0LWJveDtcXG4gIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIC13ZWJraXQtYm94LW9yaWVudDogdmVydGljYWw7XFxuICAtd2Via2l0LWJveC1kaXJlY3Rpb246IG5vcm1hbDtcXG4gICAgICAtbXMtZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcXG4gIGhlaWdodDogMTAwJTtcXG59XFxuLnB3LWluYm94X3RpdGxlIHtcXG4gIGNvbG9yOiB2YXIoLS10ZXh0Q29sb3IpO1xcbiAgbWFyZ2luOiAwO1xcbiAgcGFkZGluZzogMjhweCAzMnB4IDEycHg7XFxuICBmb250LXNpemU6IDI0cHg7XFxuICBmb250LXdlaWdodDogNTAwO1xcbiAgbGluZS1oZWlnaHQ6IDEuMTtcXG4gIHRleHQtYWxpZ246IGxlZnQ7XFxuICAtd2Via2l0LWJveC1mbGV4OiAwO1xcbiAgICAgIC1tcy1mbGV4OiAwIDAgNjZweDtcXG4gICAgICAgICAgZmxleDogMCAwIDY2cHg7XFxufVxcbi5wdy1pbmJveF9saXN0IHtcXG4gIG92ZXJmbG93LXg6IGhpZGRlbjtcXG4gIG92ZXJmbG93LXk6IGF1dG87XFxuICBtaW4td2lkdGg6IDIwMHB4O1xcbiAgbWF4LWhlaWdodDogMzAwcHg7XFxuICBwYWRkaW5nOiAwO1xcbiAgbWFyZ2luOiAwO1xcbiAgbGlzdC1zdHlsZTogbm9uZTtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIC13ZWJraXQtYm94LWZsZXg6IDE7XFxuICAgICAgLW1zLWZsZXg6IDEgMSBhdXRvO1xcbiAgICAgICAgICBmbGV4OiAxIDEgYXV0bztcXG59XFxuXFxuLnB3LWluYm94X2l0ZW0ge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgcGFkZGluZzogOHB4IDMycHg7XFxuICBtYXJnaW46IDA7XFxuICB0ZXh0LWFsaWduOiBsZWZ0O1xcbn1cXG4ucHctaW5ib3hfaXRlbS1pbm5lciB7XFxuICBkaXNwbGF5OiAtd2Via2l0LWJveDtcXG4gIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLnB3LWluYm94X2ljb24ge1xcbiAgLXdlYmtpdC1ib3gtZmxleDogMDtcXG4gICAgICAtbXMtZmxleDogMCAwIDQwcHg7XFxuICAgICAgICAgIGZsZXg6IDAgMCA0MHB4O1xcbn1cXG4ucHctaW5ib3hfbWVzc2FnZS1pbWFnZSB7XFxuICB3aWR0aDogMjhweDtcXG59XFxuLnB3LWluYm94X2NvbnRlbnQge1xcbiAgLXdlYmtpdC1ib3gtZmxleDogMDtcXG4gICAgICAtbXMtZmxleDogMCAxIDEwMCU7XFxuICAgICAgICAgIGZsZXg6IDAgMSAxMDAlO1xcbn1cXG4ucHctaW5ib3hfaXRlbS10aXRsZSB7XFxuICBjb2xvcjogdmFyKC0tbWVzc2FnZVRpdGxlQ29sb3IpO1xcbiAgZm9udC1zaXplOiAxNHB4O1xcbiAgbGluZS1oZWlnaHQ6IDIwcHg7XFxuICBtYXJnaW4tYm90dG9tOiA0cHg7XFxufVxcbi5wdy1pbmJveF9pdGVtLWJvZHkge1xcbiAgY29sb3I6IHZhcigtLXRleHRDb2xvcik7XFxuICBmb250LXNpemU6IDE0cHg7XFxuICBsaW5lLWhlaWdodDogMjBweDtcXG4gIG1hcmdpbi1ib3R0b206IDRweDtcXG59XFxuLnB3LWluYm94X2l0ZW0tdGltZSB7XFxuICBjb2xvcjogdmFyKC0tdGltZVRleHRDb2xvcik7XFxuICBmb250LXNpemU6IDEycHg7XFxuICBsaW5lLWhlaWdodDogMTdweDtcXG59XFxuLnB3LWluYm94X2l0ZW0tcmVtb3ZlIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHotaW5kZXg6IDI7XFxuICB0b3A6IDhweDtcXG4gIHJpZ2h0OiA4cHg7XFxuICBkaXNwbGF5OiBub25lO1xcbiAgd2lkdGg6IDEwcHg7XFxuICBoZWlnaHQ6IDEwcHg7XFxuICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudCB1cmwoJ2h0dHBzOi8vY2RuLnB1c2h3b29zaC5jb20vd2VicHVzaC9pbWcvaWNvbkNsb3NlLnN2ZycpIDUwJSBuby1yZXBlYXQ7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxufVxcbi5wdy1pbmJveF9pdGVtOmhvdmVyIC5wdy1pbmJveF9pdGVtLXJlbW92ZSB7XFxuICBkaXNwbGF5OiBibG9jaztcXG59XFxuXFxuLnB3LWluYm94X2l0ZW0ucHctbmV3IC5wdy1pbmJveF9pdGVtLXRpdGxlIHtcXG4gIGNvbG9yOiB2YXIoLS10ZXh0Q29sb3IpO1xcbiAgZm9udC13ZWlnaHQ6IDcwMDtcXG59XFxuXFxuLnB3LWluYm94X2l0ZW0ucHctbmV3IC5wdy1pbmJveF9pdGVtLWJvZHkge1xcbiAgZm9udC13ZWlnaHQ6IDcwMDtcXG59XFxuXFxuLnB3LWluYm94X2xpc3QtLWVtcHR5IHtcXG4gIHBhZGRpbmc6IDUwcHggMTZweDtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIG1heC1oZWlnaHQ6IDEwMCU7XFxuICBvdmVyZmxvdzogYXV0bztcXG59XFxuXFxuLnB3LWluYm94X2xpc3QtLWVtcHR5IC5wdy1pbmJveF9saXN0LWljb24ge1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgbWFyZ2luLWJvdHRvbTogMzBweDtcXG59XFxuLnB3LWluYm94X2xpc3QtLWVtcHR5IC5wdy1pbmJveF9saXN0LWljb24gaW1nIHtcXG4gIG1heC13aWR0aDogMTAwJTtcXG59XFxuXFxuLnB3LWluYm94X2xpc3QtLWVtcHR5IC5wdy1pbmJveF9saXN0LXRpdGxlIHtcXG4gIGZvbnQtc2l6ZTogMjhweDtcXG4gIGxpbmUtaGVpZ2h0OiAzNnB4O1xcbiAgY29sb3I6IHZhcigtLWVtcHR5SW5ib3hUaXRsZUNvbG9yKTtcXG4gIG1hcmdpbi1ib3R0b206IDIwcHg7XFxufVxcblxcbi5wdy1pbmJveF9saXN0LS1lbXB0eSAuaXB3LWluYm94X2xpc3QtYm9keSB7XFxuICBmb250LXNpemU6IDE0cHg7XFxuICBsaW5lLWhlaWdodDogMThweDtcXG4gIGNvbG9yOiB2YXIoLS1lbXB0eUluYm94VGV4dENvbG9yKTtcXG59XFxuXCIsXCJcIl0pfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24odXNlU291cmNlTWFwKXt2YXIgbGlzdD1bXTtyZXR1cm4gbGlzdC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbihpdGVtKXt2YXIgY29udGVudD1mdW5jdGlvbihpdGVtLHVzZVNvdXJjZU1hcCl7dmFyIGNvbnRlbnQ9aXRlbVsxXXx8XCJcIixjc3NNYXBwaW5nPWl0ZW1bM107aWYoIWNzc01hcHBpbmcpcmV0dXJuIGNvbnRlbnQ7aWYodXNlU291cmNlTWFwJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBidG9hKXt2YXIgc291cmNlTWFwcGluZz1mdW5jdGlvbihzb3VyY2VNYXApe3JldHVyblwiLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiK2J0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkrXCIgKi9cIn0oY3NzTWFwcGluZyksc291cmNlVVJMcz1jc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uKHNvdXJjZSl7cmV0dXJuXCIvKiMgc291cmNlVVJMPVwiK2Nzc01hcHBpbmcuc291cmNlUm9vdCtzb3VyY2UrXCIgKi9cIn0pO3JldHVybltjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKX1yZXR1cm5bY29udGVudF0uam9pbihcIlxcblwiKX0oaXRlbSx1c2VTb3VyY2VNYXApO3JldHVybiBpdGVtWzJdP1wiQG1lZGlhIFwiK2l0ZW1bMl0rXCJ7XCIrY29udGVudCtcIn1cIjpjb250ZW50fSkuam9pbihcIlwiKX0sbGlzdC5pPWZ1bmN0aW9uKG1vZHVsZXMsbWVkaWFRdWVyeSl7XCJzdHJpbmdcIj09dHlwZW9mIG1vZHVsZXMmJihtb2R1bGVzPVtbbnVsbCxtb2R1bGVzLFwiXCJdXSk7Zm9yKHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzPXt9LGk9MDtpPHRoaXMubGVuZ3RoO2krKyl7dmFyIGlkPXRoaXNbaV1bMF07XCJudW1iZXJcIj09dHlwZW9mIGlkJiYoYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF09ITApfWZvcihpPTA7aTxtb2R1bGVzLmxlbmd0aDtpKyspe3ZhciBpdGVtPW1vZHVsZXNbaV07XCJudW1iZXJcIj09dHlwZW9mIGl0ZW1bMF0mJmFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV18fChtZWRpYVF1ZXJ5JiYhaXRlbVsyXT9pdGVtWzJdPW1lZGlhUXVlcnk6bWVkaWFRdWVyeSYmKGl0ZW1bMl09XCIoXCIraXRlbVsyXStcIikgYW5kIChcIittZWRpYVF1ZXJ5K1wiKVwiKSxsaXN0LnB1c2goaXRlbSkpfX0sbGlzdH19XSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciB3ZWJfcHVzaF9zdWJzY3JpYmVfcG9wdXBfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE1NCk7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInB1c2h3b29zaC5pbml0aWFsaXplZFwiLGZ1bmN0aW9uKGV2KXtpZihldi5kZXRhaWwucHcuc3Vic2NyaWJlUG9wdXBDb25maWcmJmV2LmRldGFpbC5wdy5zdWJzY3JpYmVQb3B1cENvbmZpZy5lbmFibGUpe3ZhciBwb3B1cF8xPW5ldyB3ZWJfcHVzaF9zdWJzY3JpYmVfcG9wdXBfMS5QV1N1YnNjcmliZVBvcHVwKGV2LmRldGFpbC5wdyk7cG9wdXBfMS5pbml0UG9wdXAoKS50aGVuKGZ1bmN0aW9uKCl7ZXYuZGV0YWlsLnB3LnN1YnNjcmliZVBvcHVwPXBvcHVwXzF9KX19KX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24obW9kdWxlcyl7dmFyIGluc3RhbGxlZE1vZHVsZXM9e307ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCl7aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pcmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7dmFyIG1vZHVsZT1pbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXT17aTptb2R1bGVJZCxsOiExLGV4cG9ydHM6e319O3JldHVybiBtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLG1vZHVsZSxtb2R1bGUuZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKSxtb2R1bGUubD0hMCxtb2R1bGUuZXhwb3J0c31yZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5tPW1vZHVsZXMsX193ZWJwYWNrX3JlcXVpcmVfXy5jPWluc3RhbGxlZE1vZHVsZXMsX193ZWJwYWNrX3JlcXVpcmVfXy5kPWZ1bmN0aW9uKGV4cG9ydHMsbmFtZSxnZXR0ZXIpe19fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLG5hbWUpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxuYW1lLHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMCxnZXQ6Z2V0dGVyfSl9LF9fd2VicGFja19yZXF1aXJlX18ucj1mdW5jdGlvbihleHBvcnRzKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sX193ZWJwYWNrX3JlcXVpcmVfXy5uPWZ1bmN0aW9uKG1vZHVsZSl7dmFyIGdldHRlcj1tb2R1bGUmJm1vZHVsZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIG1vZHVsZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBtb2R1bGV9O3JldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLFwiYVwiLGdldHRlciksZ2V0dGVyfSxfX3dlYnBhY2tfcmVxdWlyZV9fLm89ZnVuY3Rpb24ob2JqZWN0LHByb3BlcnR5KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCxwcm9wZXJ0eSl9LF9fd2VicGFja19yZXF1aXJlX18ucD1cIlwiLF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zPTEpfShbZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5ERUZBVUxUX0NPTkZJRz17dGV4dDpcIkRvbuKAmXQgbWlzcyBvdXQgb24gb3VyIG5ld3MgYW5kIHVwZGF0ZXMhIEVuYWJsZSBwdXNoIG5vdGlmaWNhdGlvbnNcIixhc2tMYXRlckJ1dHRvblRleHQ6XCJOb3Qgbm93XCIsY29uZmlybVN1YnNjcmlwdGlvbkJ1dHRvblRleHQ6XCJTdWJzY3JpYmVcIixkZWxheTo2MCxyZXRyeU9mZnNldDo2MDQ4MDAsb3ZlcmxheTohMSxwb3NpdGlvbjpcInRvcFwiLGJnQ29sb3I6XCIjZmZmXCIsYm9yZGVyQ29sb3I6XCJ0cmFuc3BhcmVudFwiLGJveFNoYWRvdzpcIjAgM3B4IDZweCByZ2JhKDAsMCwwLDAuMTYpLCAwIDNweCA2cHggcmdiYSgwLDAsMCwwLjIzKVwiLHRleHRDb2xvcjpcIiMwMDBcIix0ZXh0U2l6ZTpcImluaGVyaXRcIixmb250RmFtaWx5OlwiaW5oZXJpdFwiLHN1YnNjcmliZUJ0bkJnQ29sb3I6XCIjNDI4NWY0XCIsc3Vic2NyaWJlQnRuVGV4dENvbG9yOlwiI2ZmZlwiLGFza0xhdGVyQnRuQmdDb2xvcjpcInRyYW5zcGFyZW50XCIsYXNrTGF0ZXJCdG5UZXh0Q29sb3I6XCIjMDAwXCIsdGhlbWU6XCJtYXRlcmlhbFwiLHZpZXdwb3J0OlwiaHRtbFwifSxleHBvcnRzLkNPTE9SX1RFU1RfUkVHRVhQPS9eKCMoW1xcZGEtZl17M30pezEsMn0kfChyZ2J8aHNsKWFcXCgoXFxkezEsM30lPyxcXHM/KXszfSgxfDA/XFwuXFxkKylcXCkkfChyZ2J8aHNsKVxcKFxcZHsxLDN9JT8oLFxccz9cXGR7MSwzfSU/KXsyfVxcKSQpLyxleHBvcnRzLlBFUk1JU1NJT05fREVOSUVEPVwiZGVuaWVkXCIsZXhwb3J0cy5QRVJNSVNTSU9OX0dSQU5URUQ9XCJncmFudGVkXCIsZXhwb3J0cy5DT05GSUdfU1RZTEVTPVt7bmFtZTpcImJnQ29sb3JcIix0eXBlOlwiY29sb3JcIn0se25hbWU6XCJib3JkZXJDb2xvclwiLHR5cGU6XCJjb2xvclwifSx7bmFtZTpcImJveFNoYWRvd1wiLHR5cGU6XCJzdHJpbmdcIn0se25hbWU6XCJ0ZXh0Q29sb3JcIix0eXBlOlwiY29sb3JcIn0se25hbWU6XCJ0ZXh0U2l6ZVwiLHR5cGU6XCJzdHJpbmdcIn0se25hbWU6XCJmb250RmFtaWx5XCIsdHlwZTpcInN0cmluZ1wifSx7bmFtZTpcInN1YnNjcmliZUJ0bkJnQ29sb3JcIix0eXBlOlwiY29sb3JcIn0se25hbWU6XCJzdWJzY3JpYmVCdG5UZXh0Q29sb3JcIix0eXBlOlwiY29sb3JcIn0se25hbWU6XCJhc2tMYXRlckJ0bkJnQ29sb3JcIix0eXBlOlwiY29sb3JcIn0se25hbWU6XCJhc2tMYXRlckJ0blRleHRDb2xvclwiLHR5cGU6XCJjb2xvclwifV19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBTdWJzY3JpYmVQb3B1cF8xPV9fd2VicGFja19yZXF1aXJlX18oMik7ZXhwb3J0cy5QV1N1YnNjcmliZVBvcHVwPVN1YnNjcmliZVBvcHVwXzEuZGVmYXVsdH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXNzaWduPXRoaXMmJnRoaXMuX19hc3NpZ258fE9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgcyxpPTEsbj1hcmd1bWVudHMubGVuZ3RoO2k8bjtpKyspZm9yKHZhciBwIGluIHM9YXJndW1lbnRzW2ldKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLHApJiYodFtwXT1zW3BdKTtyZXR1cm4gdH0sX19hd2FpdGVyPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbih0aGlzQXJnLF9hcmd1bWVudHMsUCxnZW5lcmF0b3Ipe3JldHVybiBuZXcoUHx8KFA9UHJvbWlzZSkpKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiByZWplY3RlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLnRocm93KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiBzdGVwKHJlc3VsdCl7cmVzdWx0LmRvbmU/cmVzb2x2ZShyZXN1bHQudmFsdWUpOm5ldyBQKGZ1bmN0aW9uKHJlc29sdmUpe3Jlc29sdmUocmVzdWx0LnZhbHVlKX0pLnRoZW4oZnVsZmlsbGVkLHJlamVjdGVkKX1zdGVwKChnZW5lcmF0b3I9Z2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsX2FyZ3VtZW50c3x8W10pKS5uZXh0KCkpfSl9LF9fZ2VuZXJhdG9yPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKHRoaXNBcmcsYm9keSl7dmFyIGYseSx0LGcsXz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZ0WzBdKXRocm93IHRbMV07cmV0dXJuIHRbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gZz17bmV4dDp2ZXJiKDApLHRocm93OnZlcmIoMSkscmV0dXJuOnZlcmIoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGdbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksZztmdW5jdGlvbiB2ZXJiKG4pe3JldHVybiBmdW5jdGlvbih2KXtyZXR1cm4gZnVuY3Rpb24ob3Ape2lmKGYpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtfOyl0cnl7aWYoZj0xLHkmJih0PTImb3BbMF0/eS5yZXR1cm46b3BbMF0/eS50aHJvd3x8KCh0PXkucmV0dXJuKSYmdC5jYWxsKHkpLDApOnkubmV4dCkmJiEodD10LmNhbGwoeSxvcFsxXSkpLmRvbmUpcmV0dXJuIHQ7c3dpdGNoKHk9MCx0JiYob3A9WzImb3BbMF0sdC52YWx1ZV0pLG9wWzBdKXtjYXNlIDA6Y2FzZSAxOnQ9b3A7YnJlYWs7Y2FzZSA0OnJldHVybiBfLmxhYmVsKysse3ZhbHVlOm9wWzFdLGRvbmU6ITF9O2Nhc2UgNTpfLmxhYmVsKysseT1vcFsxXSxvcD1bMF07Y29udGludWU7Y2FzZSA3Om9wPV8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEodD0odD1fLnRyeXMpLmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdKSYmKDY9PT1vcFswXXx8Mj09PW9wWzBdKSl7Xz0wO2NvbnRpbnVlfWlmKDM9PT1vcFswXSYmKCF0fHxvcFsxXT50WzBdJiZvcFsxXTx0WzNdKSl7Xy5sYWJlbD1vcFsxXTticmVha31pZig2PT09b3BbMF0mJl8ubGFiZWw8dFsxXSl7Xy5sYWJlbD10WzFdLHQ9b3A7YnJlYWt9aWYodCYmXy5sYWJlbDx0WzJdKXtfLmxhYmVsPXRbMl0sXy5vcHMucHVzaChvcCk7YnJlYWt9dFsyXSYmXy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlfW9wPWJvZHkuY2FsbCh0aGlzQXJnLF8pfWNhdGNoKGUpe29wPVs2LGVdLHk9MH1maW5hbGx5e2Y9dD0wfWlmKDUmb3BbMF0pdGhyb3cgb3BbMV07cmV0dXJue3ZhbHVlOm9wWzBdP29wWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sdl0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBjb25zdGFudHNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLHBvcHVwVGVtcGxhdGVzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygzKSxjb25zdGFudHNfMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLGhlbHBlcnNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDQpLFN1YnNjcmliZVBvcHVwPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gU3Vic2NyaWJlUG9wdXAocHcpe3RoaXMucHc9cHcsdGhpcy5jb25maWc9X19hc3NpZ24oe30sY29uc3RhbnRzXzEuREVGQVVMVF9DT05GSUcsdGhpcy5wdy5zdWJzY3JpYmVQb3B1cENvbmZpZyksdGhpcy5vbkFza0xhdGVyQ2xpY2s9dGhpcy5vbkFza0xhdGVyQ2xpY2suYmluZCh0aGlzKSx0aGlzLm9uU3Vic2NyaWJlQ2xpY2s9dGhpcy5vblN1YnNjcmliZUNsaWNrLmJpbmQodGhpcyl9cmV0dXJuIFN1YnNjcmliZVBvcHVwLnByb3RvdHlwZS5pbml0UG9wdXA9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBpc1N1YnNjcmliZWQsaXNNYW51YWxVbnN1YnNjcmliZWQscGVybWlzc2lvbixsYXN0UG9wdXBPcGVuLGxhc3RQb3B1cE9wZW5UaW1lLG5vdyxfdGhpcz10aGlzO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnB3LmlzU3Vic2NyaWJlZCgpXTtjYXNlIDE6cmV0dXJuIGlzU3Vic2NyaWJlZD1fYS5zZW50KCksWzQsdGhpcy5wdy5kYXRhLmdldFN0YXR1c01hbnVhbFVuc3Vic2NyaWJlZCgpXTtjYXNlIDI6cmV0dXJuIGlzTWFudWFsVW5zdWJzY3JpYmVkPV9hLnNlbnQoKSxpc1N1YnNjcmliZWR8fGlzTWFudWFsVW5zdWJzY3JpYmVkP1syXTpbNCx0aGlzLnB3LmRyaXZlci5nZXRQZXJtaXNzaW9uKCldO2Nhc2UgMzpyZXR1cm4ocGVybWlzc2lvbj1fYS5zZW50KCkpPT09Y29uc3RhbnRzXzIuUEVSTUlTU0lPTl9HUkFOVEVEfHxwZXJtaXNzaW9uPT09Y29uc3RhbnRzXzIuUEVSTUlTU0lPTl9ERU5JRUQ/WzJdOih0aGlzLnJlbmRlclBvcHVwKCksdGhpcy5hcHBlbmRTdHlsZXMoKSxsYXN0UG9wdXBPcGVuPWxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiTEFTVF9PUEVOX1NVQlNDUklQVElPTl9QT1BVUFwiKSxsYXN0UG9wdXBPcGVuVGltZT1sYXN0UG9wdXBPcGVuP3BhcnNlSW50KGxhc3RQb3B1cE9wZW4pOjAsbm93PShuZXcgRGF0ZSkuZ2V0VGltZSgpLGxhc3RQb3B1cE9wZW5UaW1lKzFlMyp0aGlzLmNvbmZpZy5yZXRyeU9mZnNldDxub3cmJnNldFRpbWVvdXQoZnVuY3Rpb24oKXtfdGhpcy50b2dnbGUoITApfSwxZTMqdGhpcy5jb25maWcuZGVsYXkpLFsyXSl9fSl9KX0sU3Vic2NyaWJlUG9wdXAucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbihpc1Nob3duKXsoXCJib29sZWFuXCI9PXR5cGVvZiBpc1Nob3duP2lzU2hvd246IXRoaXMuaXNTaG93bik/KHRoaXMuc2hvd1BvcHVwKCksdGhpcy5wdy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KFwic3Vic2NyaWJlLXBvcHVwLXNob3dcIix7fSkpOih0aGlzLmNsb3NlUG9wdXAoKSx0aGlzLnB3LmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJzdWJzY3JpYmUtcG9wdXAtaGlkZVwiLHt9KSl9LFN1YnNjcmliZVBvcHVwLnByb3RvdHlwZS5zaG93UG9wdXA9ZnVuY3Rpb24oKXt0aGlzLmlzU2hvd249ITAsdGhpcy5wb3B1cC5jbGFzc0xpc3QuYWRkKFwicHctc2hvd1wiKSxkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJwdy1wb3B1cC1vcGVuZWRcIik7dmFyIGV2ZW50PW5ldyBDdXN0b21FdmVudChcInNob3dQb3B1cFwiLHtidWJibGVzOiExLGNhbmNlbGFibGU6ITEsZGV0YWlsOntwb3B1cDp0aGlzLnBvcHVwfX0pO2lmKHRoaXMucG9wdXAuZGlzcGF0Y2hFdmVudChldmVudCksIShNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsd2luZG93LmlubmVyV2lkdGh8fDApPDU0MSkpe3ZhciBfYT10aGlzLmNvbmZpZyx0aGVtZT1fYS50aGVtZSx2aWV3cG9ydD1fYS52aWV3cG9ydCxwb3NpdGlvbj1fYS5wb3NpdGlvbjtpZihcInRvcGJhclwiPT09dGhlbWUmJlwidG9wXCI9PT1wb3NpdGlvbil7dmFyIHZpZXdwb3J0RWxlbWVudD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHZpZXdwb3J0KXx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxjdXJyZW50TWFyZ2luVG9wPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHZpZXdwb3J0RWxlbWVudCkubWFyZ2luVG9wfHxcIjBcIjt2aWV3cG9ydEVsZW1lbnQuc3R5bGUudHJhbnNpdGlvbj1cIm1hcmdpbi10b3AgLjNzIGVhc2Utb3V0XCIsdmlld3BvcnRFbGVtZW50LnN0eWxlLm1hcmdpblRvcD1wYXJzZUludChjdXJyZW50TWFyZ2luVG9wKSt0aGlzLnBvcHVwLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCtcInB4XCJ9fX0sU3Vic2NyaWJlUG9wdXAucHJvdG90eXBlLmNsb3NlUG9wdXA9ZnVuY3Rpb24oKXt0aGlzLmlzU2hvd249ITEsdGhpcy5wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKFwicHctc2hvd1wiKSxkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5yZW1vdmUoXCJwdy1wb3B1cC1vcGVuZWRcIik7dmFyIGV2ZW50PW5ldyBDdXN0b21FdmVudChcImhpZGVQb3B1cFwiLHtidWJibGVzOiExLGNhbmNlbGFibGU6ITEsZGV0YWlsOntwb3B1cDp0aGlzLnBvcHVwfX0pO3RoaXMucG9wdXAuZGlzcGF0Y2hFdmVudChldmVudCk7dmFyIG5vdz0obmV3IERhdGUpLmdldFRpbWUoKS50b1N0cmluZygpO2lmKGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiTEFTVF9PUEVOX1NVQlNDUklQVElPTl9QT1BVUFwiLG5vdyksIShNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsd2luZG93LmlubmVyV2lkdGh8fDApPDU0MSkpe3ZhciBfYT10aGlzLmNvbmZpZyx0aGVtZT1fYS50aGVtZSx2aWV3cG9ydD1fYS52aWV3cG9ydCxwb3NpdGlvbj1fYS5wb3NpdGlvbjtpZihcInRvcGJhclwiPT09dGhlbWUmJlwidG9wXCI9PT1wb3NpdGlvbil7dmFyIHZpZXdwb3J0RWxlbWVudD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKHZpZXdwb3J0KXx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxjdXJyZW50TWFyZ2luVG9wPXdpbmRvdy5nZXRDb21wdXRlZFN0eWxlKHZpZXdwb3J0RWxlbWVudCkubWFyZ2luVG9wfHxcIjBcIjt2aWV3cG9ydEVsZW1lbnQuc3R5bGUubWFyZ2luVG9wPXBhcnNlSW50KGN1cnJlbnRNYXJnaW5Ub3ApLXRoaXMucG9wdXAuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0K1wicHhcIn19fSxTdWJzY3JpYmVQb3B1cC5wcm90b3R5cGUucmVuZGVyUG9wdXA9ZnVuY3Rpb24oKXt0aGlzLnBvcHVwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksdGhpcy5wb3B1cC5pZD1cInB3U3Vic2NyaWJlUG9wdXBcIjt2YXIgX2E9dGhpcy5jb25maWcsdGV4dD1fYS50ZXh0LGFza0xhdGVyQnV0dG9uVGV4dD1fYS5hc2tMYXRlckJ1dHRvblRleHQsY29uZmlybVN1YnNjcmlwdGlvbkJ1dHRvblRleHQ9X2EuY29uZmlybVN1YnNjcmlwdGlvbkJ1dHRvblRleHQsaWNvblVybD1fYS5pY29uVXJsLHBvc2l0aW9uPV9hLnBvc2l0aW9uLG92ZXJsYXk9X2Eub3ZlcmxheSx0aGVtZT1fYS50aGVtZTt0aGlzLnBvcHVwLmNsYXNzTmFtZT1cInB3LXN1YnNjcmliZS1wb3B1cCBwdy1wb3NpdGlvbi1cIitwb3NpdGlvbitcIiBwdy1zdWJzY3JpYmUtcG9wdXAtXCIrdGhlbWUsdGhpcy5wb3B1cC5jbGFzc0xpc3QudG9nZ2xlKFwicHctc3Vic2NyaWJlLXBvcHVwX19vdmVybGF5XCIsb3ZlcmxheSksdGhpcy5wb3B1cC5pbm5lckhUTUw9cG9wdXBUZW1wbGF0ZXNfMS5pbm5lclRlbXBsYXRlKHt0ZXh0OnRleHQsYXNrTGF0ZXJCdXR0b25UZXh0OmFza0xhdGVyQnV0dG9uVGV4dCxjb25maXJtU3Vic2NyaXB0aW9uQnV0dG9uVGV4dDpjb25maXJtU3Vic2NyaXB0aW9uQnV0dG9uVGV4dCxpY29uVXJsOmljb25Vcmx9KSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMucG9wdXApLHRoaXMuYWRkTGlzdGVuZXJzKCl9LFN1YnNjcmliZVBvcHVwLnByb3RvdHlwZS5hcHBlbmRTdHlsZXM9ZnVuY3Rpb24oKXt2YXIgc3R5bGVzPV9fd2VicGFja19yZXF1aXJlX18oNSksc3R5bGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN0eWxlXCIpO3N0eWxlLmlubmVySFRNTD10aGlzLmNvbmZpZ3VyZVN0eWxlKHN0eWxlcyksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChzdHlsZSl9LFN1YnNjcmliZVBvcHVwLnByb3RvdHlwZS5nZXRTdHlsZUZvcm1hdHRlcj1mdW5jdGlvbihzdHlsZSl7c3dpdGNoKHN0eWxlLnR5cGUpe2Nhc2VcInNpemVcIjpyZXR1cm4odGhpcy5jb25maWdbc3R5bGUubmFtZV18fDApK1wicHhcIjtjYXNlXCJudW1iZXJcIjpyZXR1cm4gcGFyc2VGbG9hdCh0aGlzLmNvbmZpZ1tzdHlsZS5uYW1lXS50b1N0cmluZygpKS50b1N0cmluZygpO2Nhc2VcInN0cmluZ1wiOnJldHVybiB0aGlzLmNvbmZpZ1tzdHlsZS5uYW1lXS50b1N0cmluZygpO2Nhc2VcImNvbG9yXCI6cmV0dXJuIGhlbHBlcnNfMS5nZXRWYWxpZENvbG9yKHRoaXMuY29uZmlnW3N0eWxlLm5hbWVdLnRvU3RyaW5nKCkpO2RlZmF1bHQ6cmV0dXJuXCJub25lXCJ9fSxTdWJzY3JpYmVQb3B1cC5wcm90b3R5cGUuY29uZmlndXJlU3R5bGU9ZnVuY3Rpb24oc3R5bGVzKXt2YXIgX3RoaXM9dGhpcyxyZXN1bHRTdHlsZXM9c3R5bGVzLnRvU3RyaW5nKCk7cmV0dXJuIGNvbnN0YW50c18xLkNPTkZJR19TVFlMRVMuZm9yRWFjaChmdW5jdGlvbihzdHlsZSl7dmFyIHRlbXBsYXRlPW5ldyBSZWdFeHAoXCJ2YXJcXFxcKC0tXCIrc3R5bGUubmFtZStcIlxcXFwpXCIsXCJpZ1wiKSxyZXN1bHQ9X3RoaXMuZ2V0U3R5bGVGb3JtYXR0ZXIoc3R5bGUpO3Jlc3VsdFN0eWxlcz1yZXN1bHRTdHlsZXMucmVwbGFjZSh0ZW1wbGF0ZSxyZXN1bHQpfSkscmVzdWx0U3R5bGVzfSxTdWJzY3JpYmVQb3B1cC5wcm90b3R5cGUuYWRkTGlzdGVuZXJzPWZ1bmN0aW9uKCl7dmFyIGFza0xhdGVyQnV0dG9uPXRoaXMucG9wdXAucXVlcnlTZWxlY3RvcignYnV0dG9uW25hbWU9XCJwd0Fza0xhdGVyXCJdJyl8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIiksc3Vic2NyaWJlQnV0dG9uPXRoaXMucG9wdXAucXVlcnlTZWxlY3RvcignYnV0dG9uW25hbWU9XCJwd1N1YnNjcmliZVwiXScpfHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO2Fza0xhdGVyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMub25Bc2tMYXRlckNsaWNrKSxzdWJzY3JpYmVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5vblN1YnNjcmliZUNsaWNrKX0sU3Vic2NyaWJlUG9wdXAucHJvdG90eXBlLm9uQXNrTGF0ZXJDbGljaz1mdW5jdGlvbigpe3RoaXMudG9nZ2xlKCExKSx0aGlzLnB3LmV2ZW50QnVzLmRpc3BhdGNoRXZlbnQoXCJzdWJzY3JpYmUtcG9wdXAtZGVjbGluZVwiLHt9KX0sU3Vic2NyaWJlUG9wdXAucHJvdG90eXBlLm9uU3Vic2NyaWJlQ2xpY2s9ZnVuY3Rpb24oKXt0aGlzLnRvZ2dsZSghMSksdGhpcy5wdy5ldmVudEJ1cy5kaXNwYXRjaEV2ZW50KFwic3Vic2NyaWJlLXBvcHVwLWFjY2VwdFwiLHt9KSx0aGlzLnB3LnN1YnNjcmliZSgpfSxTdWJzY3JpYmVQb3B1cH0oKTtleHBvcnRzLmRlZmF1bHQ9U3Vic2NyaWJlUG9wdXB9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuaW5uZXJUZW1wbGF0ZT1mdW5jdGlvbihfYSl7dmFyIGljb25Vcmw9X2EuaWNvblVybCx0ZXh0PV9hLnRleHQsYXNrTGF0ZXJCdXR0b25UZXh0PV9hLmFza0xhdGVyQnV0dG9uVGV4dCxjb25maXJtU3Vic2NyaXB0aW9uQnV0dG9uVGV4dD1fYS5jb25maXJtU3Vic2NyaXB0aW9uQnV0dG9uVGV4dDtyZXR1cm4nPGRpdiBjbGFzcz1cInB3LXN1YnNjcmlwdGlvbi1wb3B1cC1pbm5lclwiPlxcbiAgICA8ZGl2IGNsYXNzPVwicHctc3Vic2NyaXB0aW9uLXBvcHVwLWNvbnRlbnRcIj5cXG4gICAgICAnKyhpY29uVXJsPyc8ZGl2IGNsYXNzPVwicHctc3Vic2NyaXB0aW9uLXBvcHVwLWljb25cIj5cXG4gICAgICAgIDxpbWcgc3JjPVwiJytpY29uVXJsKydcIj5cXG4gICAgICA8L2Rpdj4nOlwiXCIpKydcXG4gICAgICA8ZGl2IGNsYXNzPVwicHctc3Vic2NyaXB0aW9uLXBvcHVwLXRleHRcIj5cXG4gICAgICAgICcrdGV4dCsnXFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgICA8ZGl2IGNsYXNzPVwicHctc3Vic2NyaXB0aW9uLXBvcHVwLWNvbnRyb2xzXCI+XFxuICAgICAgPGJ1dHRvbiBuYW1lPVwicHdTdWJzY3JpYmVcIiBjbGFzcz1cInB3LXN1YnNjcmliZS1wb3B1cC1idXR0b24gcHctc3Vic2NyaWJlLXBvcHVwLWJ1dHRvbi1hY3RpdmVcIj4nK2NvbmZpcm1TdWJzY3JpcHRpb25CdXR0b25UZXh0Kyc8L2J1dHRvbj5cXG4gICAgICA8YnV0dG9uIG5hbWU9XCJwd0Fza0xhdGVyXCIgY2xhc3M9XCJwdy1zdWJzY3JpYmUtcG9wdXAtYnV0dG9uXCI+Jythc2tMYXRlckJ1dHRvblRleHQrXCI8L2J1dHRvbj5cXG4gICAgPC9kaXY+XFxuICA8L2Rpdj5cIn19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBjb25zdGFudHNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO2V4cG9ydHMuZ2V0VmFsaWRDb2xvcj1mdW5jdGlvbihjb2xvcil7cmV0dXJuXCJ0cmFuc3BhcmVudFwiPT09Y29sb3I/Y29sb3I6Y29uc3RhbnRzXzEuQ09MT1JfVEVTVF9SRUdFWFAudGVzdChjb2xvcik/Y29sb3I6XCIjMzMzXCJ9LGV4cG9ydHMuZ2V0R2xvYmFsPWZ1bmN0aW9uKCl7cmV0dXJuIEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciByZXN1bHQ9X193ZWJwYWNrX3JlcXVpcmVfXyg2KTttb2R1bGUuZXhwb3J0cz1cInN0cmluZ1wiPT10eXBlb2YgcmVzdWx0P3Jlc3VsdDpyZXN1bHQudG9TdHJpbmcoKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7KG1vZHVsZS5leHBvcnRzPV9fd2VicGFja19yZXF1aXJlX18oNykodm9pZCAwKSkucHVzaChbbW9kdWxlLmksXCIucHctc3Vic2NyaWJlLXBvcHVwIHtcXG4gIHBvc2l0aW9uOiBmaXhlZDtcXG4gIGxlZnQ6IDUwJTtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xcbiAgICAgIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XFxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcXG4gIC13ZWJraXQtYm94LXBhY2s6IGNlbnRlcjtcXG4gICAgICAtbXMtZmxleC1wYWNrOiBjZW50ZXI7XFxuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgei1pbmRleDogMTAwMDAwMDtcXG4gIGRpc3BsYXk6IC13ZWJraXQtYm94O1xcbiAgZGlzcGxheTogLW1zLWZsZXhib3g7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiBhbGwgLjRzIGVhc2Utb3V0O1xcbiAgLW8tdHJhbnNpdGlvbjogYWxsIC40cyBlYXNlLW91dDtcXG4gIHRyYW5zaXRpb246IGFsbCAuNHMgZWFzZS1vdXQ7XFxufVxcblxcbi5wdy1zdWJzY3JpYmUtcG9wdXAucHctcG9zaXRpb24tdG9wIHtcXG4gIHRvcDogY2FsYygtMTAwJSAtIDI0cHgpO1xcbn1cXG4ucHctc3Vic2NyaWJlLXBvcHVwLnB3LXBvc2l0aW9uLXRvcC5wdy1zaG93IHtcXG4gIHRvcDogMDtcXG59XFxuXFxuLnB3LXN1YnNjcmliZS1wb3B1cC5wdy1wb3NpdGlvbi1ib3R0b20ge1xcbiAgYm90dG9tOiBjYWxjKC0xMDAlIC0gMjRweCk7XFxufVxcbi5wdy1zdWJzY3JpYmUtcG9wdXAucHctcG9zaXRpb24tYm90dG9tLnB3LXNob3cge1xcbiAgYm90dG9tOiAwO1xcbn1cXG5cXG4ucHctc3Vic2NyaWJlLXBvcHVwLnB3LXBvc2l0aW9uLWNlbnRlciB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG4ucHctc3Vic2NyaWJlLXBvcHVwLnB3LXBvc2l0aW9uLWNlbnRlci5wdy1zaG93IHtcXG4gIHRvcDogNTAlO1xcbiAgZGlzcGxheTogLXdlYmtpdC1ib3g7XFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxufVxcblxcbi5wdy1zdWJzY3JpYmUtcG9wdXBfX292ZXJsYXkge1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgbGVmdDogMDtcXG4gIHJpZ2h0OiAwO1xcbiAgLXdlYmtpdC10cmFuc2Zvcm06IG5vbmU7XFxuICAgICAgLW1zLXRyYW5zZm9ybTogbm9uZTtcXG4gICAgICAgICAgdHJhbnNmb3JtOiBub25lO1xcbiAgaGVpZ2h0OiAxMDAlO1xcbiAgLXdlYmtpdC1ib3gtcGFjazogY2VudGVyO1xcbiAgICAgIC1tcy1mbGV4LXBhY2s6IGNlbnRlcjtcXG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICBiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLC40KTtcXG4gIHotaW5kZXg6IDEwMDAwMDA7XFxuICBkaXNwbGF5OiBub25lO1xcbiAgdG9wOiAwO1xcbn1cXG5cXG4ucHctc3Vic2NyaWJlLXBvcHVwX19vdmVybGF5LnB3LXBvc2l0aW9uLXRvcCB7XFxuICAtd2Via2l0LWJveC1hbGlnbjogc3RhcnQ7XFxuICAgICAgLW1zLWZsZXgtYWxpZ246IHN0YXJ0O1xcbiAgICAgICAgICBhbGlnbi1pdGVtczogZmxleC1zdGFydDtcXG59XFxuXFxuLnB3LXN1YnNjcmliZS1wb3B1cF9fb3ZlcmxheS5wdy1wb3NpdGlvbi1ib3R0b20ge1xcbiAgLXdlYmtpdC1ib3gtYWxpZ246IGVuZDtcXG4gICAgICAtbXMtZmxleC1hbGlnbjogZW5kO1xcbiAgICAgICAgICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XFxufVxcblxcbi5wdy1zdWJzY3JpYmUtcG9wdXBfX292ZXJsYXkucHctcG9zaXRpb24tY2VudGVyIHtcXG4gIC13ZWJraXQtYm94LWFsaWduOiBjZW50ZXI7XFxuICAgICAgLW1zLWZsZXgtYWxpZ246IGNlbnRlcjtcXG4gICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG59XFxuXFxuLnB3LXN1YnNjcmlwdGlvbi1wb3B1cC1pbm5lciB7XFxuICBtYXgtd2lkdGg6IDQwMHB4O1xcbiAgZm9udC1zaXplOiB2YXIoLS10ZXh0U2l6ZSk7XFxuICBjb2xvcjogdmFyKC0tdGV4dENvbG9yKTtcXG4gIGZvbnQtZmFtaWx5OiB2YXIoLS1mb250RmFtaWx5KTtcXG4gIGJvcmRlci1zdHlsZTogc29saWQ7XFxuICBib3JkZXItd2lkdGg6IDFweDtcXG4gIGJvcmRlci1jb2xvcjogdmFyKC0tYm9yZGVyQ29sb3IpO1xcbiAgYmFja2dyb3VuZDogdmFyKC0tYmdDb2xvcik7XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IHZhcigtLWJveFNoYWRvdyk7XFxuICAgICAgICAgIGJveC1zaGFkb3c6IHZhcigtLWJveFNoYWRvdyk7XFxufVxcblxcbi5wdy1zdWJzY3JpcHRpb24tcG9wdXAtY29udGVudCB7XFxuICBwYWRkaW5nOiAxNnB4IDE2cHggNHB4O1xcbiAgZGlzcGxheTogLXdlYmtpdC1ib3g7XFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICAtd2Via2l0LWJveC1wYWNrOiBzdHJldGNoO1xcbiAgICAgIC1tcy1mbGV4LXBhY2s6IHN0cmV0Y2g7XFxuICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3RyZXRjaDtcXG59XFxuXFxuLnB3LXN1YnNjcmlwdGlvbi1wb3B1cC1pY29uIHtcXG4gIC13ZWJraXQtYm94LWZsZXg6IDA7XFxuICAgICAgLW1zLWZsZXg6IDAgMCA1MHB4O1xcbiAgICAgICAgICBmbGV4OiAwIDAgNTBweDtcXG4gIG1hcmdpbi1yaWdodDogMTJweDtcXG4gIHBhZGRpbmctdG9wOiA0cHg7XFxufVxcblxcbi5wdy1zdWJzY3JpcHRpb24tcG9wdXAtaWNvbiBpbWcge1xcbiAgbWF4LXdpZHRoOiA2MHB4O1xcbiAgbWF4LWhlaWdodDogNjBweDtcXG59XFxuXFxuLnB3LXN1YnNjcmlwdGlvbi1wb3B1cC10ZXh0IHtcXG4gIC13ZWJraXQtYm94LWZsZXg6IDE7XFxuICAgICAgLW1zLWZsZXg6IDEgMSAzMDBweDtcXG4gICAgICAgICAgZmxleDogMSAxIDMwMHB4O1xcbn1cXG5cXG4ucHctc3Vic2NyaXB0aW9uLXBvcHVwLWNvbnRyb2xzIHtcXG4gIGRpc3BsYXk6IC13ZWJraXQtYm94O1xcbiAgZGlzcGxheTogLW1zLWZsZXhib3g7XFxuICBkaXNwbGF5OiBmbGV4O1xcbiAgLW1zLWZsZXgtd3JhcDogd3JhcDtcXG4gICAgICBmbGV4LXdyYXA6IHdyYXA7XFxuICAtd2Via2l0LWJveC1wYWNrOiBjZW50ZXI7XFxuICAgICAgLW1zLWZsZXgtcGFjazogY2VudGVyO1xcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIHBhZGRpbmc6IDhweCAxNnB4IDE2cHg7XFxufVxcblxcbmJ1dHRvbi5wdy1zdWJzY3JpYmUtcG9wdXAtYnV0dG9uIHtcXG4gIGJvcmRlcjogc29saWQgMXB4IHRyYW5zcGFyZW50O1xcbiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiAycHg7XFxuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDJweDtcXG4gIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gIGhlaWdodDogMzZweDtcXG4gIGxpbmUtaGVpZ2h0OiAzNnB4O1xcbiAgcGFkZGluZzogMCAxNnB4O1xcbiAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxuICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgZm9udC1zaXplOiAxNHB4O1xcbiAgb3V0bGluZTogMDtcXG4gIHRleHQtZGVjb3JhdGlvbjogbm9uZTtcXG4gIGNvbG9yOiB2YXIoLS1hc2tMYXRlckJ0blRleHRDb2xvcik7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBsZXR0ZXItc3BhY2luZzogLjVweDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG4gIGJhY2tncm91bmQ6IHZhcigtLWFza0xhdGVyQnRuQmdDb2xvcik7XFxuICBtYXJnaW46IDRweCA4cHg7XFxufVxcbmJ1dHRvbi5wdy1zdWJzY3JpYmUtcG9wdXAtYnV0dG9uOmhvdmVyIHtcXG4gIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsLjA0KTtcXG59XFxuYnV0dG9uLnB3LXN1YnNjcmliZS1wb3B1cC1idXR0b246YWN0aXZlIHtcXG4gIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsLjEyKTtcXG59XFxuXFxuYnV0dG9uLnB3LXN1YnNjcmliZS1wb3B1cC1idXR0b24ucHctc3Vic2NyaWJlLXBvcHVwLWJ1dHRvbi1hY3RpdmUge1xcbiAgY29sb3I6IHZhcigtLXN1YnNjcmliZUJ0blRleHRDb2xvcik7XFxuICBiYWNrZ3JvdW5kOiB2YXIoLS1zdWJzY3JpYmVCdG5CZ0NvbG9yKTtcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogMCAycHggMnB4IDAgcmdiYSgwLDAsMCwwLjE0KSxcXG4gIDAgM3B4IDFweCAtMnB4IHJnYmEoMCwwLDAsMC4xMiksXFxuICAwIDFweCA1cHggMCByZ2JhKDAsMCwwLDAuMik7XFxuICAgICAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDJweCAwIHJnYmEoMCwwLDAsMC4xNCksXFxuICAwIDNweCAxcHggLTJweCByZ2JhKDAsMCwwLDAuMTIpLFxcbiAgMCAxcHggNXB4IDAgcmdiYSgwLDAsMCwwLjIpO1xcbn1cXG5idXR0b24ucHctc3Vic2NyaWJlLXBvcHVwLWJ1dHRvbi5wdy1zdWJzY3JpYmUtcG9wdXAtYnV0dG9uLWFjdGl2ZTpob3ZlciB7XFxuICAtd2Via2l0LWJveC1zaGFkb3c6IDAgM3B4IDNweCAwIHJnYmEoMCwwLDAsMC4xNCksXFxuICAwIDFweCA3cHggMCByZ2JhKDAsMCwwLDAuMTIpLFxcbiAgMCAzcHggMXB4IC0xcHggcmdiYSgwLDAsMCwwLjIpO1xcbiAgICAgICAgICBib3gtc2hhZG93OiAwIDNweCAzcHggMCByZ2JhKDAsMCwwLDAuMTQpLFxcbiAgMCAxcHggN3B4IDAgcmdiYSgwLDAsMCwwLjEyKSxcXG4gIDAgM3B4IDFweCAtMXB4IHJnYmEoMCwwLDAsMC4yKTtcXG59XFxuYnV0dG9uLnB3LXN1YnNjcmliZS1wb3B1cC1idXR0b24ucHctc3Vic2NyaWJlLXBvcHVwLWJ1dHRvbi1hY3RpdmU6YWN0aXZlIHtcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogMCAycHggMnB4IDAgcmdiYSgwLDAsMCwwLjE0KSxcXG4gIDAgM3B4IDFweCAtMnB4IHJnYmEoMCwwLDAsMC4xMiksXFxuICAwIDFweCA1cHggMCByZ2JhKDAsMCwwLDAuMik7XFxuICAgICAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDJweCAwIHJnYmEoMCwwLDAsMC4xNCksXFxuICAwIDNweCAxcHggLTJweCByZ2JhKDAsMCwwLDAuMTIpLFxcbiAgMCAxcHggNXB4IDAgcmdiYSgwLDAsMCwwLjIpO1xcbn1cXG5cXG5AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOiA1NDFweCkge1xcblxcbiAgLnB3LXN1YnNjcmliZS1wb3B1cC10b3BiYXIge1xcbiAgICB3aWR0aDogMTAwJTtcXG4gIH1cXG5cXG4gIC5wdy1zdWJzY3JpYmUtcG9wdXAtdG9wYmFyIC5wdy1zdWJzY3JpcHRpb24tcG9wdXAtaW5uZXIge1xcbiAgICBtYXgtd2lkdGg6IDEwMCU7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgICBkaXNwbGF5OiAtd2Via2l0LWJveDtcXG4gICAgZGlzcGxheTogLW1zLWZsZXhib3g7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIC13ZWJraXQtYm94LW9yaWVudDogaG9yaXpvbnRhbDtcXG4gICAgLXdlYmtpdC1ib3gtZGlyZWN0aW9uOiBub3JtYWw7XFxuICAgICAgICAtbXMtZmxleC1kaXJlY3Rpb246IHJvdztcXG4gICAgICAgICAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgICBwYWRkaW5nOiAycHggNDBweDtcXG4gICAgLXdlYmtpdC1ib3gtcGFjazoganVzdGlmeTtcXG4gICAgICAgIC1tcy1mbGV4LXBhY2s6IGp1c3RpZnk7XFxuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1iZXR3ZWVuO1xcbiAgICAtd2Via2l0LWJveC1hbGlnbjogY2VudGVyO1xcbiAgICAgICAgLW1zLWZsZXgtYWxpZ246IGNlbnRlcjtcXG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICAtbXMtZmxleC13cmFwOiBub3dyYXA7XFxuICAgICAgICBmbGV4LXdyYXA6IG5vd3JhcDtcXG4gIH1cXG5cXG4gIC5wdy1zdWJzY3JpYmUtcG9wdXAtdG9wYmFyIC5wdy1zdWJzY3JpcHRpb24tcG9wdXAtY29udGVudCB7XFxuICAgIHBhZGRpbmc6IDA7XFxuICAgIC13ZWJraXQtYm94LXBhY2s6IHN0YXJ0O1xcbiAgICAgICAgLW1zLWZsZXgtcGFjazogc3RhcnQ7XFxuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LXN0YXJ0O1xcbiAgICAtd2Via2l0LWJveC1hbGlnbjogY2VudGVyO1xcbiAgICAgICAgLW1zLWZsZXgtYWxpZ246IGNlbnRlcjtcXG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgICAtd2Via2l0LWJveC1mbGV4OiAxO1xcbiAgICAgICAgLW1zLWZsZXg6IDEgMSA2MCU7XFxuICAgICAgICAgICAgZmxleDogMSAxIDYwJTtcXG4gIH1cXG5cXG4gIC5wdy1zdWJzY3JpYmUtcG9wdXAtdG9wYmFyIC5wdy1zdWJzY3JpcHRpb24tcG9wdXAtaWNvbiBpbWcge1xcbiAgICBtYXgtd2lkdGg6IDI4cHg7XFxuICAgIG1heC1oZWlnaHQ6IDI4cHg7XFxuICB9XFxuXFxuICAucHctc3Vic2NyaWJlLXBvcHVwLXRvcGJhciBidXR0b24ucHctc3Vic2NyaWJlLXBvcHVwLWJ1dHRvbiB7XFxuICAgIGhlaWdodDogMzJweDtcXG4gICAgbGluZS1oZWlnaHQ6IDMycHg7XFxuICB9XFxuXFxuICAucHctc3Vic2NyaWJlLXBvcHVwLXRvcGJhciAucHctc3Vic2NyaXB0aW9uLXBvcHVwLWNvbnRyb2xzIHtcXG4gICAgcGFkZGluZzogMCAwIDAgMTZweDtcXG4gICAgLXdlYmtpdC1ib3gtYWxpZ246IGNlbnRlcjtcXG4gICAgICAgIC1tcy1mbGV4LWFsaWduOiBjZW50ZXI7XFxuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcXG4gIH1cXG59XFxuQG1lZGlhIHNjcmVlbiBhbmQgKG1heC13aWR0aDogNTQwcHgpIHtcXG4gIC5wdy1zdWJzY3JpYmUtcG9wdXAsXFxuICAucHctc3Vic2NyaWJlLXBvcHVwLnB3LXBvc2l0aW9uLXRvcCxcXG4gIC5wdy1zdWJzY3JpYmUtcG9wdXAucHctcG9zaXRpb24tY2VudGVyLFxcbiAgLnB3LXN1YnNjcmliZS1wb3B1cC5wdy1wb3NpdGlvbi1ib3R0b20ge1xcbiAgICB0b3A6IGF1dG87XFxuICAgIGJvdHRvbTogLTExMCU7XFxuICAgIGxlZnQ6IDA7XFxuICAgIHJpZ2h0OiAwO1xcbiAgICAtd2Via2l0LXRyYW5zZm9ybTogbm9uZTtcXG4gICAgICAgIC1tcy10cmFuc2Zvcm06IG5vbmU7XFxuICAgICAgICAgICAgdHJhbnNmb3JtOiBub25lO1xcbiAgICBkaXNwbGF5OiAtd2Via2l0LWJveDtcXG4gICAgZGlzcGxheTogLW1zLWZsZXhib3g7XFxuICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgIC13ZWJraXQtdHJhbnNpdGlvbjogYm90dG9tIC40cyBlYXNlLW91dDtcXG4gICAgLW8tdHJhbnNpdGlvbjogYm90dG9tIC40cyBlYXNlLW91dDtcXG4gICAgdHJhbnNpdGlvbjogYm90dG9tIC40cyBlYXNlLW91dDtcXG4gICAgLXdlYmtpdC1ib3gtYWxpZ246IGVuZDtcXG4gICAgICAgIC1tcy1mbGV4LWFsaWduOiBlbmQ7XFxuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xcbiAgfVxcblxcbiAgLnB3LXN1YnNjcmliZS1wb3B1cC5wdy1zdWJzY3JpYmUtcG9wdXBfX292ZXJsYXkge1xcbiAgICBoZWlnaHQ6IDEwMCU7XFxuICAgIC13ZWJraXQtYm94LWFsaWduOiBlbmQ7XFxuICAgICAgICAtbXMtZmxleC1hbGlnbjogZW5kO1xcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcXG4gIH1cXG5cXG4gIC5wdy1zdWJzY3JpYmUtcG9wdXAucHctc2hvdyB7XFxuICAgIGJvdHRvbTogMDtcXG4gIH1cXG5cXG4gIC5wdy1zdWJzY3JpYmUtcG9wdXBfX292ZXJsYXkgLnB3LXN1YnNjcmlwdGlvbi1wb3B1cC1pbm5lciB7XFxuICAgIC13ZWJraXQtYm94LWFsaWduOiBlbmQ7XFxuICAgICAgICAtbXMtZmxleC1hbGlnbjogZW5kO1xcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcXG4gICAgLXdlYmtpdC1ib3gtcGFjazogc3RyZXRjaDtcXG4gICAgICAgIC1tcy1mbGV4LXBhY2s6IHN0cmV0Y2g7XFxuICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBzdHJldGNoO1xcbiAgfVxcblxcbiAgLnB3LXN1YnNjcmlwdGlvbi1wb3B1cC1pbm5lciB7XFxuICAgIG1heC13aWR0aDogMTAwJTtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICB9XFxufVxcblwiLFwiXCJdKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKHVzZVNvdXJjZU1hcCl7dmFyIGxpc3Q9W107cmV0dXJuIGxpc3QudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oaXRlbSl7dmFyIGNvbnRlbnQ9ZnVuY3Rpb24oaXRlbSx1c2VTb3VyY2VNYXApe3ZhciBjb250ZW50PWl0ZW1bMV18fFwiXCIsY3NzTWFwcGluZz1pdGVtWzNdO2lmKCFjc3NNYXBwaW5nKXJldHVybiBjb250ZW50O2lmKHVzZVNvdXJjZU1hcCYmXCJmdW5jdGlvblwiPT10eXBlb2YgYnRvYSl7dmFyIHNvdXJjZU1hcHBpbmc9ZnVuY3Rpb24oc291cmNlTWFwKXtyZXR1cm5cIi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIitidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpK1wiICovXCJ9KGNzc01hcHBpbmcpLHNvdXJjZVVSTHM9Y3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbihzb3VyY2Upe3JldHVyblwiLyojIHNvdXJjZVVSTD1cIitjc3NNYXBwaW5nLnNvdXJjZVJvb3Qrc291cmNlK1wiICovXCJ9KTtyZXR1cm5bY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIil9cmV0dXJuW2NvbnRlbnRdLmpvaW4oXCJcXG5cIil9KGl0ZW0sdXNlU291cmNlTWFwKTtyZXR1cm4gaXRlbVsyXT9cIkBtZWRpYSBcIitpdGVtWzJdK1wie1wiK2NvbnRlbnQrXCJ9XCI6Y29udGVudH0pLmpvaW4oXCJcIil9LGxpc3QuaT1mdW5jdGlvbihtb2R1bGVzLG1lZGlhUXVlcnkpe1wic3RyaW5nXCI9PXR5cGVvZiBtb2R1bGVzJiYobW9kdWxlcz1bW251bGwsbW9kdWxlcyxcIlwiXV0pO2Zvcih2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcz17fSxpPTA7aTx0aGlzLmxlbmd0aDtpKyspe3ZhciBpZD10aGlzW2ldWzBdO1wibnVtYmVyXCI9PXR5cGVvZiBpZCYmKGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdPSEwKX1mb3IoaT0wO2k8bW9kdWxlcy5sZW5ndGg7aSsrKXt2YXIgaXRlbT1tb2R1bGVzW2ldO1wibnVtYmVyXCI9PXR5cGVvZiBpdGVtWzBdJiZhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dfHwobWVkaWFRdWVyeSYmIWl0ZW1bMl0/aXRlbVsyXT1tZWRpYVF1ZXJ5Om1lZGlhUXVlcnkmJihpdGVtWzJdPVwiKFwiK2l0ZW1bMl0rXCIpIGFuZCAoXCIrbWVkaWFRdWVyeStcIilcIiksbGlzdC5wdXNoKGl0ZW0pKX19LGxpc3R9fV0pfV0pfSk7Il0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../node_modules/web-push-notifications/lib/index.js\n");

/***/ })

}]);