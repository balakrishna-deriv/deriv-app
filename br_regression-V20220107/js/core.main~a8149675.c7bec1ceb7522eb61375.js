(self.webpackChunk=self.webpackChunk||[]).push([[5469],{74667:(e,t,r)=>{var n,a,o,i,c,s;self,e.exports=(n=r(11838),a=r(90004),o=r(20374),i=r(16),c=r(32735),s=r(12788),(()=>{var e={"./Components/demo-message/index.js":(e,t,r)=>{"use strict";r.d(t,{default:()=>v});var n=r("react"),a=r.n(n),o=r("../../../node_modules/prop-types/index.js"),i=r.n(o),c=r("@deriv/translations"),s=r("../../../node_modules/classnames/index.js"),l=r.n(s),u=r("@deriv/components"),f=r("@deriv/shared"),p=r("./Stores/connect.js"),d=function(e){var t=e.has_button,r=e.has_real_account,a=e.icon,o=e.message,i=e.toggleAccountsDialog,s=e.toggleShouldShowRealAccountsList,p=n.useContext(f.PlatformContext).is_dashboard;return n.createElement("div",{className:l()("da-icon-with-message",{"da-icon-with-message-full-width":p})},n.createElement(u.Icon,{icon:a,size:128}),n.createElement(u.Text,{className:"da-icon-with-message__text",as:"p",color:"general",size:f.isMobile?"xs":"s",line_height:"m",weight:"bold"},o),t&&n.createElement(u.Button,{primary:!0,onClick:function(){s(!0),i()},className:"account__demo-message-button"},r?(0,c.localize)("Switch to real account"):(0,c.localize)("Add a real account")))};d.propTypes={icon:i().string.isRequired,has_button:i().bool,message:i().string.isRequired,toggleAccountsDialog:i().func};const m=(0,p.$j)((function(e){var t=e.client,r=e.ui;return{has_real_account:t.has_any_real_account,toggleAccountsDialog:r.toggleAccountsDialog,toggleShouldShowRealAccountsList:r.toggleShouldShowRealAccountsList}}))(d);var y=function(e){var t=e.has_demo_icon,r=e.has_button;return a().createElement(m,{icon:t?"IcPoaLockDemo":"IcPoaLock",message:(0,c.localize)("This feature is not available for demo accounts."),has_button:r})};y.propTypes={has_demo_icon:i().bool,full_width:i().bool};const v=y},"./Components/icon-message-content/index.js":(e,t,r)=>{"use strict";r.d(t,{default:()=>p});var n=r("react"),a=r.n(n),o=r("../../../node_modules/prop-types/index.js"),i=r("../../../node_modules/classnames/index.js"),c=r.n(i),s=r("@deriv/components"),l=r("@deriv/shared");function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e){var t=e.children,r=e.className,n=e.full_width,o=e.icon,i=e.icon_row,f=e.message,p=e.text;return a().createElement(s.Div100vhContainer,{className:c()("account-management__message-wrapper",{"account-management__message-wrapper-full-width":n}),is_disabled:(0,l.isDesktop)(),height_offset:"110px"},a().createElement("div",{className:c()("account-management__message-content",u({},"".concat(r,"__message-content"),r))},o&&a().createElement("div",{className:c()("account-management__message-icon",u({},"".concat(r,"__message-icon"),r))},o),i&&a().createElement("div",null,i),a().createElement(s.Text,{as:"div",color:"general",weight:"bold",size:"s",align:"center",className:c()("account-management__message",u({},"".concat(r,"__message"),r))},f),p&&a().createElement("div",{className:"account-management__text-container"},a().createElement(s.Text,{className:c()(u({},"".concat(r,"__text"),r)),as:"p",size:"xs",align:"center"},p)),t))};f.propTypes={children:o.PropTypes.oneOfType([o.PropTypes.object,o.PropTypes.array]),className:o.PropTypes.string,full_width:o.PropTypes.bool,icon:o.PropTypes.object,message:o.PropTypes.oneOfType([o.PropTypes.node,o.PropTypes.string,o.PropTypes.object]),text:o.PropTypes.oneOfType([o.PropTypes.string,o.PropTypes.element])};const p=f},"./Components/load-error-message/index.js":(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var n=r("react"),a=r.n(n),o=r("@deriv/components"),i=r("./Components/icon-message-content/index.js");const c=function(e){var t=e.error_message;return a().createElement(i.default,{message:t,icon:a().createElement(o.Icon,{icon:"IcPoaLock",size:128})})}},"./Stores/connect.js":(e,t,r)=>{"use strict";r.d(t,{$j:()=>u});var n=r("mobx-react"),a=r("react"),o=r.n(a);function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var l=o().createContext(null),u=function(e){return function(t){return function(e,t){var r=function(r){var a=o().useContext(l),i=t;return function(e){return!("function"!=typeof e||!e.prototype||!e.prototype.isReactComponent)}(t)&&(i=function(e){return o().createElement(t,e)}),(0,n.useObserver)((function(){return i(c(c({},r),e(a,r)))}))};return r.displayName=t.name,r}(e,t)}}},"../../../node_modules/classnames/index.js":(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var i=a.apply(null,r);i&&e.push(i)}}else if("object"===o)if(r.toString===Object.prototype.toString)for(var c in r)n.call(r,c)&&r[c]&&e.push(c);else e.push(r.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},"../../../node_modules/prop-types/factoryWithThrowingShims.js":(e,t,r)=>{"use strict";var n=r("../../../node_modules/prop-types/lib/ReactPropTypesSecret.js");function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,o,i){if(i!==n){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return r.PropTypes=r,r}},"../../../node_modules/prop-types/index.js":(e,t,r)=>{e.exports=r("../../../node_modules/prop-types/factoryWithThrowingShims.js")()},"../../../node_modules/prop-types/lib/ReactPropTypesSecret.js":e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"@deriv/components":e=>{"use strict";e.exports=n},"@deriv/shared":e=>{"use strict";e.exports=a},"@deriv/translations":e=>{"use strict";e.exports=o},"mobx-react":e=>{"use strict";e.exports=i},react:e=>{"use strict";e.exports=c},"react-dom":e=>{"use strict";e.exports=s}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var l={};return(()=>{"use strict";r.d(l,{default:()=>F});var e=r("../../../node_modules/prop-types/index.js"),t=r.n(e),n=r("react"),a=r("../../../node_modules/classnames/index.js"),o=r.n(a),i=r("@deriv/components"),c=r("@deriv/shared"),s=r("@deriv/translations"),u=r("./Components/load-error-message/index.js"),f=r("./Components/demo-message/index.js"),p=function(e){var t=e.title,r=e.descriptions,a=e.onClickLearnMore,o=(null==r?void 0:r.length)>0,c=1===(null==r?void 0:r.length);return n.createElement("article",{className:"da-article"},n.createElement(i.Text,{as:"h4",color:"prominent",line_height:"m",size:"xs",weight:"bold",className:"da-article__header"},t),o&&n.createElement(n.Fragment,null,c?n.createElement(i.Text,{as:"p",size:"xxs",line_height:"m"},r[0]):n.createElement("ul",{className:"da-article__list"},r.map((function(e,t){return n.createElement("li",{key:t},n.createElement(i.Text,{size:"xxs",line_height:"xs"},e.component||e))})))),a&&n.createElement("div",{className:"da-article__learn-more",onClick:a},n.createElement(i.Text,{size:"xxs",color:"loss-danger",line_height:"s"},n.createElement(s.Localize,{i18n_default_text:"Learn more"})),n.createElement(i.Icon,{icon:"IcChevronRight",className:"da-article__learn-more-icon",color:"red"})))};p.propTypes={descriptions:t().array.isRequired,onClickLearnMore:t().func,title:t().string.isRequired};const d=p,m=function(){return n.createElement(d,{title:(0,s.localize)("Account limits"),descriptions:[n.createElement(s.Localize,{key:0,i18n_default_text:"These are default limits that we apply to your accounts."}),n.createElement(s.Localize,{key:1,i18n_default_text:"To learn more about trading limits and how they apply, please go to the <0>Help Centre.</0>",components:[n.createElement(i.StaticUrl,{key:0,className:"link",href:"/help-centre"})]})]})},y=n.createContext();var v=["message"];function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function _(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var b=function(e){var t=e.message,r=_(e,v);return(0,c.isMobile)()?n.createElement(i.Text,{color:"less-prominent",line_height:"s",size:"xxxs"},t):n.createElement(i.Popover,h({alignment:"right",className:"da-account-limits__popover",icon:"info",is_bubble_hover_enabled:!0,message:t,zIndex:9999},r))};b.propTypes={message:t().string.isRequired};const g=b;var E=r("react-dom");const j=function(){var e=n.useContext(y),t=e.footer_ref,r=e.toggleOverlay;return(0,E.createPortal)(n.createElement(i.AppSettings.Footer,null,n.createElement(i.AppSettings.Footer.Left,null,n.createElement("a",{className:"link link--prominent",onClick:r},n.createElement(i.Text,{size:"xxs",line_height:"m",weight:"bold"},n.createElement(s.Localize,{i18n_default_text:"Learn more about account limits"}))))),t)},S=function(){var e=n.useContext(y),t=e.overlay_ref,r=e.toggleOverlay;return n.createElement(i.Popup.Overlay,{descriptions:[{key:"account_limits_desc_1",component:n.createElement(s.Localize,{i18n_default_text:"These are default limits that we apply to your accounts."})},{key:"account_limits_desc_2",component:n.createElement(s.Localize,{i18n_default_text:"To learn more about account limits and how they apply, please go to the <0>Help Centre</0>.",components:[n.createElement(i.StaticUrl,{key:0,className:"link",href:"/help-centre"})]})}],done_text:(0,s.localize)("Done"),overlay_ref:t,title:(0,s.localize)("Account limits"),toggleOverlay:r})};var O=function(e){var t=e.align,r=e.children,a=e.is_hint,c=e.renderExtraInfo,s=a?"xxxs":"xxs";return n.createElement(n.Fragment,null,n.createElement("td",{className:o()("da-account-limits__table-cell",{"da-account-limits__table-cell--left":"right"!==t,"da-account-limits__table-cell--right":"right"===t})},r&&n.createElement(i.Text,{align:t,as:"p",color:"prominent",size:s,line_height:"m"},r),c&&c()))};O.propTypes={align:t().oneOf(["right","left"]),children:t().any,is_hint:t().bool,renderExtraInfo:t().func};const x=O;var T=function(e){var t=e.align,r=e.children,a=e.renderExtraInfo;return n.createElement("th",{className:o()("da-account-limits__table-header",{"da-account-limits__table-header--left":"right"!==t,"da-account-limits__table-header--right":"right"===t})},r&&n.createElement(i.Text,{align:t,as:"p",color:"prominent",size:"xxs",line_height:"m",weight:"bold"},r),a&&a())};T.propTypes={align:t().oneOf(["right","left"]),children:t().any};const w=T;var A=function(e){var t=e.collection,r=e.title,a=n.useContext(y).currency;return null!=t&&t.length?t.map((function(e){return n.createElement("tr",{key:e.name},n.createElement(x,null,r&&"".concat(r," - "),e.name),n.createElement(x,{align:"right"},(0,c.formatMoney)(a,e.turnover_limit,!0)))})):null};A.propTypes={collection:t().arrayOf(t().any),title:t().any};const k=A;function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function C(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return R(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?R(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var z=function(e){var t=e.account_limits,r=e.currency,a=e.footer_ref,l=e.getLimits,p=e.is_app_settings,d=e.is_fully_authenticated,v=e.is_switching,h=e.is_virtual,_=e.overlay_ref,b=e.setIsOverlayShown,E=e.should_bypass_scrollbars,O=e.should_show_article,T=(0,c.useIsMounted)(),A=I(n.useState(!1),2),R=A[0],z=A[1],F=I(n.useState(!1),2),M=F[0],L=F[1],N=n.useContext(c.PlatformContext).is_dashboard;if(n.useEffect((function(){h?z(!1):l().then((function(){T()&&z(!1)}))}),[]),n.useEffect((function(){!h&&t&&R&&z(!1)}),[t,h,R]),n.useEffect((function(){"function"==typeof b&&b(M)}),[M,b]),v)return n.createElement(i.Loading,{is_fullscreen:!1});if(h)return n.createElement("div",{className:o()("account__demo-message-wrapper",{"account__demo-message-wrapper-dashboard":N})},n.createElement(f.default,{has_demo_icon:N,has_button:N}),";");var D=t.api_initial_load_error,U=t.open_positions,V=t.account_balance,$=t.payout,B=t.market_specific,q=t.num_of_days_limit,W=t.remainder,G=t.withdrawal_since_inception_monetary;if(D)return n.createElement(u.default,{error_message:D});if(v||R)return n.createElement(i.Loading,{is_fullscreen:!1});var H=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){C(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},B),Y=H.commodities,K=H.forex,Z=H.indices,X=H.synthetic_index,J=null==K?void 0:K.slice().sort((function(e,t){return e.name<t.name?1:-1}));J&&J.push&&J.push(J.shift());var Q={currency:r,footer_ref:a,overlay_ref:_,toggleOverlay:function(){return L(!M)}};return n.createElement(y.Provider,{value:Q},n.createElement("section",{className:"da-account-limits__wrapper"},n.createElement("div",{className:o()("da-account-limits",{"da-account-limits--app-settings":p})},O&&(0,c.isMobile)()&&n.createElement(m,null),n.createElement("div",{className:"da-account-limits__table-wrapper"},n.createElement(i.ThemedScrollbars,{is_bypassed:E||(0,c.isMobile)()},n.createElement("table",{className:"da-account-limits__table"},n.createElement("thead",null,n.createElement("tr",null,n.createElement(w,null,n.createElement(s.Localize,{i18n_default_text:"Trading limits - Item"})),n.createElement(w,{align:"right"},n.createElement(s.Localize,{i18n_default_text:"Limit"})))),n.createElement("tbody",null,n.createElement("tr",null,n.createElement(x,{renderExtraInfo:function(){return n.createElement(g,{message:(0,s.localize)("Represents the maximum number of outstanding contracts in your portfolio. Each line in your portfolio counts for one open position. Once the maximum is reached, you will not be able to open new positions without closing an existing position first.")})}},n.createElement(s.Localize,{i18n_default_text:"*Maximum number of open positions"})),n.createElement(x,{align:"right"},U)),n.createElement("tr",null,n.createElement(x,{renderExtraInfo:function(){return n.createElement(g,{message:(0,s.localize)("Represents the maximum amount of cash that you may hold in your account.  If the maximum is reached, you will be asked to withdraw funds.")})}},n.createElement(s.Localize,{i18n_default_text:"*Maximum account cash balance"})),n.createElement(x,{align:"right"},(0,c.formatMoney)(r,V,!0))),n.createElement("tr",null,n.createElement(x,{renderExtraInfo:function(){return n.createElement(g,{message:(0,s.localize)("Represents the maximum aggregate payouts on outstanding contracts in your portfolio. If the maximum is attained, you may not purchase additional contracts without first closing out existing positions.")})}},n.createElement(s.Localize,{i18n_default_text:"Maximum aggregate payouts on open positions"})),n.createElement(x,{align:"right"},(0,c.formatMoney)(r,$,!0))),n.createElement("tr",null,n.createElement(x,{is_hint:!0},n.createElement(s.Localize,{i18n_default_text:"*Any limits in your Self-exclusion settings will override these default limits."})),n.createElement(x,null)))),n.createElement("table",{className:"da-account-limits__table"},n.createElement("thead",null,n.createElement("tr",null,n.createElement(w,{renderExtraInfo:function(){return n.createElement(g,{message:(0,s.localize)("Represents the maximum volume of contracts that you may purchase in any given trading day.")})}},n.createElement(s.Localize,{i18n_default_text:"Trading limits - Maximum daily turnover"})),n.createElement(w,{align:"right"},n.createElement(s.Localize,{i18n_default_text:"Limit"})))),n.createElement("tbody",null,n.createElement(k,{collection:Y}),n.createElement(k,{collection:J,title:(0,s.localize)("Forex")}),n.createElement(k,{collection:Z}),n.createElement(k,{collection:X}))),!p&&n.createElement(n.Fragment,null,n.createElement("table",{className:"da-account-limits__table"},n.createElement("thead",null,n.createElement("tr",null,n.createElement(w,null,n.createElement(s.Localize,{i18n_default_text:"Withdrawal limits"})),d&&n.createElement(w,{align:"right"},n.createElement(s.Localize,{i18n_default_text:"Limit"})))),n.createElement("tbody",null,d?n.createElement("tr",null,n.createElement(x,null,n.createElement(n.Fragment,null,n.createElement(i.Text,{size:"xxs",color:"prominent"},(0,s.localize)("Your account is fully authenticated and your withdrawal limits have been lifted.")))),n.createElement(x,null)):n.createElement(n.Fragment,null,n.createElement("tr",null,n.createElement(x,null,n.createElement(s.Localize,{i18n_default_text:N?"Total withdrawal limit":"Total withdrawal allowed"}),N&&!d&&n.createElement(n.Fragment,null,n.createElement(i.Text,{size:(0,c.isMobile)()?"xxxs":"xxs",className:"account-management-table__verify",color:"less-prominent",line_height:"xs"},(0,s.localize)("To increase limit please verify your identity")),n.createElement(i.ButtonLink,{to:"/account/proof-of-identity",size:"small",className:"account-management-table__verify-button"},n.createElement(i.Text,{weight:"bold",color:"colored-background",size:(0,c.isMobile)()?"xxxs":"xxs"},(0,s.localize)("Verify"))))),n.createElement(x,{align:"right"},(0,c.formatMoney)(r,q,!0))),n.createElement("tr",null,n.createElement(x,null,n.createElement(s.Localize,{i18n_default_text:"Total withdrawn"})),n.createElement(x,{align:"right"},(0,c.formatMoney)(r,G,!0))),n.createElement("tr",null,n.createElement(x,null,n.createElement(s.Localize,{i18n_default_text:"Maximum withdrawal remaining"})),n.createElement(x,{align:"right"},(0,c.formatMoney)(r,W,!0)))))),!N||(0,c.isMobile)()&&n.createElement("div",{className:"da-account-limits__text-container"},n.createElement(i.Text,{as:"p",size:"xxs",color:"less-prominent",line_height:"xs"},d?n.createElement(s.Localize,{i18n_default_text:"Your account is fully authenticated and your withdrawal limits have been lifted."}):n.createElement(s.Localize,{i18n_default_text:"Stated limits are subject to change without prior notice."})))))),O&&(0,c.isDesktop)()&&n.createElement(m,null),a&&n.createElement(j,null),M&&_&&n.createElement(S,null))))};z.propTypes={account_limits:t().object,currency:t().string.isRequired,footer_ref:t().shape({current:t().any}),is_app_settings:t().bool,getLimits:t().func.isRequired,is_fully_authenticated:t().bool.isRequired,is_switching:t().bool.isRequired,is_virtual:t().bool.isRequired,overlay_ref:t().shape({current:t().any}),setIsPopupOverlayShown:t().func,should_bypass_scrollbars:t().bool,should_show_article:t().bool};const F=z})(),l.default})())},80046:(e,t,r)=>{var n,a;self,e.exports=(n=r(90004),a=r(20374),(()=>{"use strict";var e={"@deriv/shared":e=>{e.exports=n},"@deriv/translations":e=>{e.exports=a}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,r),o.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var o={};return(()=>{r.d(o,{default:()=>u});var e=r("@deriv/translations"),t=r("@deriv/shared");function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var c=function(r){var n,o,i,c,s,l=r.account_settings,u=r.is_svg,f="gb"===l.country_code;if(!l)return{};var p,d={address_line_1:{supported_in:["svg","iom","malta","maltainvest"],default_value:null!==(n=l.address_line_1)&&void 0!==n?n:"",rules:[["req",(0,e.localize)("First line of address is required")],["length",(0,e.localize)("Only {{max}} characters, please.",{max:70}),{max:70}],["regular",(0,e.localize)("Use only the following special characters: . , ' : ; ( ) @ # / -"),{regex:t.regex_checks.address_details.address_line_1}],["po_box",(0,t.getErrorMessages)().po_box()]].filter((function(e){return u?0!==e.indexOf("po_box"):e}))},address_line_2:{supported_in:["svg","iom","malta","maltainvest"],default_value:null!==(o=l.address_line_2)&&void 0!==o?o:"",rules:[["length",(0,e.localize)("Only {{max}} characters, please.",{max:70}),{max:70}],["regular",(0,e.localize)("Use only the following special characters: . , ' : ; ( ) @ # / -"),{regex:t.regex_checks.address_details.address_line_2}],["po_box",(0,t.getErrorMessages)().po_box()]].filter((function(e){return u?0!==e.indexOf("po_box"):e}))},address_city:{supported_in:["svg","iom","malta","maltainvest"],default_value:null!==(i=l.address_city)&&void 0!==i?i:"",rules:[["req",(0,e.localize)("City is required")],["length",(0,e.localize)("Only {{max}} characters, please.",{max:99}),{max:99}],["regular",(0,e.localize)("Only letters, periods, hyphens, apostrophes, and spaces, please."),{regex:t.regex_checks.address_details.address_city}]]},address_state:{supported_in:["svg","iom","malta","maltainvest"],default_value:null!==(c=l.address_state)&&void 0!==c?c:"",rules:[["req",(0,e.localize)("State is required")],["regular",(0,e.localize)("State is not in a proper format"),{regex:t.regex_checks.address_details.address_state}]]},address_postcode:{supported_in:["svg","iom","malta","maltainvest"],default_value:null!==(s=l.address_postcode)&&void 0!==s?s:"",rules:[["length",(0,e.localize)("Please enter a {{field_name}} under {{max_number}} characters.",{field_name:(0,e.localize)("postal/ZIP code"),max_number:20,interpolation:{escapeValue:!1}}),{min:0,max:20}],["regular",(0,e.localize)("Letters, numbers, spaces, hyphens only"),{regex:t.regex_checks.address_details.address_postcode}]]}};return f?a(a({},d),{},{address_postcode:{supported_in:["svg","iom","malta","maltainvest"],default_value:null!==(p=l.address_postcode)&&void 0!==p?p:"",rules:[["length",(0,e.localize)("Please enter a {{field_name}} under {{max_number}} characters.",{field_name:(0,e.localize)("postal/ZIP code"),max_number:20,interpolation:{escapeValue:!1}}),{min:0,max:20}],["regular",(0,e.localize)("Letters, numbers, spaces, hyphens only"),{regex:t.regex_checks.address_details.address_postcode}],["regular",(0,e.localize)("Our accounts and services are unavailable for the Jersey postal code."),{regex:t.regex_checks.address_details.jersey_postcode}]]}}):d},s=function(t,r){return"im"===r&&t.address_state.rules.shift(),/^(im|gb)$/.test(r)&&t.address_postcode.rules.splice(0,0,["req",(0,e.localize)("Postal/ZIP code is required")]),t},l=function(e,t){var r=t.real_account_signup_target;return r&&"svg"!==r||e.address_state.rules.shift(),e};const u=function(r,n){var a=r.upgrade_info,o=r.real_account_signup_target,i=r.residence,u=r.account_settings,f=arguments.length>2&&void 0!==arguments[2]&&arguments[2],p="svg"===(null==a?void 0:a.can_upgrade_to),d=c({account_settings:u,is_svg:p});return{header:{active_title:f?(0,e.localize)("Where do you live?"):(0,e.localize)("Complete your address details"),title:f?(0,e.localize)("ADDRESS"):(0,e.localize)("Address")},body:n,form_value:(0,t.getDefaultFields)(o,d),props:{validate:(0,t.generateValidationFunction)(o,l(s(d,i),o)),is_svg:p},passthrough:["residence_list","is_fully_authenticated"],icon:"IcDashboardAddress"}}})(),o.default})())},67027:(e,t,r)=>{var n,a,o,i;e=r.nmd(e),self,e.exports=(n=r(11838),a=r(90004),o=r(20374),i=r(32735),(()=>{"use strict";var c={"../../../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js":(e,t,r)=>{var n=r("../../../node_modules/react-is/index.js"),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};function s(e){return n.isMemo(e)?i:c[e.$$typeof]||a}c[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c[n.Memo]=i;var l=Object.defineProperty,u=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(m){var a=d(r);a&&a!==m&&e(t,a,n)}var i=u(r);f&&(i=i.concat(f(r)));for(var c=s(t),y=s(r),v=0;v<i.length;++v){var h=i[v];if(!(o[h]||n&&n[h]||y&&y[h]||c&&c[h])){var _=p(r,h);try{l(t,h,_)}catch(e){}}}}return t}},"../../../node_modules/react-fast-compare/index.js":e=>{var t=Array.isArray,r=Object.keys,n=Object.prototype.hasOwnProperty,a="undefined"!=typeof Element;function o(e,i){if(e===i)return!0;if(e&&i&&"object"==typeof e&&"object"==typeof i){var c,s,l,u=t(e),f=t(i);if(u&&f){if((s=e.length)!=i.length)return!1;for(c=s;0!=c--;)if(!o(e[c],i[c]))return!1;return!0}if(u!=f)return!1;var p=e instanceof Date,d=i instanceof Date;if(p!=d)return!1;if(p&&d)return e.getTime()==i.getTime();var m=e instanceof RegExp,y=i instanceof RegExp;if(m!=y)return!1;if(m&&y)return e.toString()==i.toString();var v=r(e);if((s=v.length)!==r(i).length)return!1;for(c=s;0!=c--;)if(!n.call(i,v[c]))return!1;if(a&&e instanceof Element&&i instanceof Element)return e===i;for(c=s;0!=c--;)if(!("_owner"===(l=v[c])&&e.$$typeof||o(e[l],i[l])))return!1;return!0}return e!=e&&i!=i}e.exports=function(e,t){try{return o(e,t)}catch(e){if(e.message&&e.message.match(/stack|recursion/i)||-2146828260===e.number)return console.warn("Warning: react-fast-compare does not handle circular references.",e.name,e.message),!1;throw e}}},"../../../node_modules/react-is/cjs/react-is.production.min.js":(e,t)=>{var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,i=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,s=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,u=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,h=r?Symbol.for("react.block"):60121,_=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,g=r?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case u:case f:case o:case c:case i:case d:return e;default:switch(e=e&&e.$$typeof){case l:case p:case v:case y:case s:return e;default:return t}}case a:return t}}}function j(e){return E(e)===f}t.AsyncMode=u,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=s,t.Element=n,t.ForwardRef=p,t.Fragment=o,t.Lazy=v,t.Memo=y,t.Portal=a,t.Profiler=c,t.StrictMode=i,t.Suspense=d,t.isAsyncMode=function(e){return j(e)||E(e)===u},t.isConcurrentMode=j,t.isContextConsumer=function(e){return E(e)===l},t.isContextProvider=function(e){return E(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return E(e)===p},t.isFragment=function(e){return E(e)===o},t.isLazy=function(e){return E(e)===v},t.isMemo=function(e){return E(e)===y},t.isPortal=function(e){return E(e)===a},t.isProfiler=function(e){return E(e)===c},t.isStrictMode=function(e){return E(e)===i},t.isSuspense=function(e){return E(e)===d},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===f||e===c||e===i||e===d||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===y||e.$$typeof===s||e.$$typeof===l||e.$$typeof===p||e.$$typeof===_||e.$$typeof===b||e.$$typeof===g||e.$$typeof===h)},t.typeOf=E},"../../../node_modules/react-is/index.js":(e,t,r)=>{e.exports=r("../../../node_modules/react-is/cjs/react-is.production.min.js")},"@deriv/components":e=>{e.exports=n},"@deriv/shared":e=>{e.exports=a},"@deriv/translations":e=>{e.exports=o},react:e=>{e.exports=i}},s={};function l(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={exports:{}};return c[e](r,r.exports,l),r.exports}l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var r in t)l.o(t,r)&&!l.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var u={};return(()=>{l.d(u,{default:()=>Fn});var n=l("react"),a=l.n(n),o=l("../../../node_modules/react-fast-compare/index.js"),i=l.n(o),c=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===s}(e)}(e)},s="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function f(e,t){return!1!==t.clone&&t.isMergeableObject(e)?d((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function p(e,t,r){return e.concat(t).map((function(e){return f(e,r)}))}function d(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||p,r.isMergeableObject=r.isMergeableObject||c;var n=Array.isArray(t);return n===Array.isArray(e)?n?r.arrayMerge(e,t,r):function(e,t,r){var n={};return r.isMergeableObject(e)&&Object.keys(e).forEach((function(t){n[t]=f(e[t],r)})),Object.keys(t).forEach((function(a){r.isMergeableObject(t[a])&&e[a]?n[a]=d(e[a],t[a],r):n[a]=f(t[a],r)})),n}(e,t,r):f(t,r)}d.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return d(e,r,t)}),{})};const m=d,y="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;var v="object"==typeof self&&self&&self.Object===Object&&self;const h=y||v||Function("return this")(),_=h.Symbol;var b=Object.prototype,g=b.hasOwnProperty,E=b.toString,j=_?_.toStringTag:void 0;const S=function(e){var t=g.call(e,j),r=e[j];try{e[j]=void 0;var n=!0}catch(e){}var a=E.call(e);return n&&(t?e[j]=r:delete e[j]),a};var O=Object.prototype.toString;const x=function(e){return O.call(e)};var T=_?_.toStringTag:void 0;const w=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":T&&T in Object(e)?S(e):x(e)},A=function(e,t){return function(r){return e(t(r))}},k=A(Object.getPrototypeOf,Object),P=function(e){return null!=e&&"object"==typeof e};var C=Function.prototype,I=Object.prototype,R=C.toString,z=I.hasOwnProperty,F=R.call(Object);const M=function(e){if(!P(e)||"[object Object]"!=w(e))return!1;var t=k(e);if(null===t)return!0;var r=z.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&R.call(r)==F},L=function(){this.__data__=[],this.size=0},N=function(e,t){return e===t||e!=e&&t!=t},D=function(e,t){for(var r=e.length;r--;)if(N(e[r][0],t))return r;return-1};var U=Array.prototype.splice;const V=function(e){var t=this.__data__,r=D(t,e);return!(r<0||(r==t.length-1?t.pop():U.call(t,r,1),--this.size,0))},$=function(e){var t=this.__data__,r=D(t,e);return r<0?void 0:t[r][1]},B=function(e){return D(this.__data__,e)>-1},q=function(e,t){var r=this.__data__,n=D(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function W(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}W.prototype.clear=L,W.prototype.delete=V,W.prototype.get=$,W.prototype.has=B,W.prototype.set=q;const G=W,H=function(){this.__data__=new G,this.size=0},Y=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},K=function(e){return this.__data__.get(e)},Z=function(e){return this.__data__.has(e)},X=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},J=function(e){if(!X(e))return!1;var t=w(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},Q=h["__core-js_shared__"];var ee,te=(ee=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||""))?"Symbol(src)_1."+ee:"";const re=function(e){return!!te&&te in e};var ne=Function.prototype.toString;const ae=function(e){if(null!=e){try{return ne.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var oe=/^\[object .+?Constructor\]$/,ie=Function.prototype,ce=Object.prototype,se=ie.toString,le=ce.hasOwnProperty,ue=RegExp("^"+se.call(le).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const fe=function(e){return!(!X(e)||re(e))&&(J(e)?ue:oe).test(ae(e))},pe=function(e,t){return null==e?void 0:e[t]},de=function(e,t){var r=pe(e,t);return fe(r)?r:void 0},me=de(h,"Map"),ye=de(Object,"create"),ve=function(){this.__data__=ye?ye(null):{},this.size=0},he=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var _e=Object.prototype.hasOwnProperty;const be=function(e){var t=this.__data__;if(ye){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return _e.call(t,e)?t[e]:void 0};var ge=Object.prototype.hasOwnProperty;const Ee=function(e){var t=this.__data__;return ye?void 0!==t[e]:ge.call(t,e)},je=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=ye&&void 0===t?"__lodash_hash_undefined__":t,this};function Se(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Se.prototype.clear=ve,Se.prototype.delete=he,Se.prototype.get=be,Se.prototype.has=Ee,Se.prototype.set=je;const Oe=Se,xe=function(){this.size=0,this.__data__={hash:new Oe,map:new(me||G),string:new Oe}},Te=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},we=function(e,t){var r=e.__data__;return Te(t)?r["string"==typeof t?"string":"hash"]:r.map},Ae=function(e){var t=we(this,e).delete(e);return this.size-=t?1:0,t},ke=function(e){return we(this,e).get(e)},Pe=function(e){return we(this,e).has(e)},Ce=function(e,t){var r=we(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function Ie(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ie.prototype.clear=xe,Ie.prototype.delete=Ae,Ie.prototype.get=ke,Ie.prototype.has=Pe,Ie.prototype.set=Ce;const Re=Ie,ze=function(e,t){var r=this.__data__;if(r instanceof G){var n=r.__data__;if(!me||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Re(n)}return r.set(e,t),this.size=r.size,this};function Fe(e){var t=this.__data__=new G(e);this.size=t.size}Fe.prototype.clear=H,Fe.prototype.delete=Y,Fe.prototype.get=K,Fe.prototype.has=Z,Fe.prototype.set=ze;const Me=Fe,Le=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e},Ne=function(){try{var e=de(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),De=function(e,t,r){"__proto__"==t&&Ne?Ne(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r};var Ue=Object.prototype.hasOwnProperty;const Ve=function(e,t,r){var n=e[t];Ue.call(e,t)&&N(n,r)&&(void 0!==r||t in e)||De(e,t,r)},$e=function(e,t,r,n){var a=!r;r||(r={});for(var o=-1,i=t.length;++o<i;){var c=t[o],s=n?n(r[c],e[c],c,r,e):void 0;void 0===s&&(s=e[c]),a?De(r,c,s):Ve(r,c,s)}return r},Be=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n},qe=function(e){return P(e)&&"[object Arguments]"==w(e)};var We=Object.prototype,Ge=We.hasOwnProperty,He=We.propertyIsEnumerable;const Ye=qe(function(){return arguments}())?qe:function(e){return P(e)&&Ge.call(e,"callee")&&!He.call(e,"callee")},Ke=Array.isArray,Ze=function(){return!1};var Xe=t&&!t.nodeType&&t,Je=Xe&&e&&!e.nodeType&&e,Qe=Je&&Je.exports===Xe?h.Buffer:void 0;const et=(Qe?Qe.isBuffer:void 0)||Ze;var tt=/^(?:0|[1-9]\d*)$/;const rt=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&tt.test(e))&&e>-1&&e%1==0&&e<t},nt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var at={};at["[object Float32Array]"]=at["[object Float64Array]"]=at["[object Int8Array]"]=at["[object Int16Array]"]=at["[object Int32Array]"]=at["[object Uint8Array]"]=at["[object Uint8ClampedArray]"]=at["[object Uint16Array]"]=at["[object Uint32Array]"]=!0,at["[object Arguments]"]=at["[object Array]"]=at["[object ArrayBuffer]"]=at["[object Boolean]"]=at["[object DataView]"]=at["[object Date]"]=at["[object Error]"]=at["[object Function]"]=at["[object Map]"]=at["[object Number]"]=at["[object Object]"]=at["[object RegExp]"]=at["[object Set]"]=at["[object String]"]=at["[object WeakMap]"]=!1;const ot=function(e){return P(e)&&nt(e.length)&&!!at[w(e)]},it=function(e){return function(t){return e(t)}};var ct=t&&!t.nodeType&&t,st=ct&&e&&!e.nodeType&&e,lt=st&&st.exports===ct&&y.process;const ut=function(){try{return st&&st.require&&st.require("util").types||lt&&lt.binding&&lt.binding("util")}catch(e){}}();var ft=ut&&ut.isTypedArray;const pt=ft?it(ft):ot;var dt=Object.prototype.hasOwnProperty;const mt=function(e,t){var r=Ke(e),n=!r&&Ye(e),a=!r&&!n&&et(e),o=!r&&!n&&!a&&pt(e),i=r||n||a||o,c=i?Be(e.length,String):[],s=c.length;for(var l in e)!t&&!dt.call(e,l)||i&&("length"==l||a&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||rt(l,s))||c.push(l);return c};var yt=Object.prototype;const vt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||yt)},ht=A(Object.keys,Object);var _t=Object.prototype.hasOwnProperty;const bt=function(e){if(!vt(e))return ht(e);var t=[];for(var r in Object(e))_t.call(e,r)&&"constructor"!=r&&t.push(r);return t},gt=function(e){return null!=e&&nt(e.length)&&!J(e)},Et=function(e){return gt(e)?mt(e):bt(e)},jt=function(e,t){return e&&$e(t,Et(t),e)},St=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t};var Ot=Object.prototype.hasOwnProperty;const xt=function(e){if(!X(e))return St(e);var t=vt(e),r=[];for(var n in e)("constructor"!=n||!t&&Ot.call(e,n))&&r.push(n);return r},Tt=function(e){return gt(e)?mt(e,!0):xt(e)},wt=function(e,t){return e&&$e(t,Tt(t),e)};var At=t&&!t.nodeType&&t,kt=At&&e&&!e.nodeType&&e,Pt=kt&&kt.exports===At?h.Buffer:void 0,Ct=Pt?Pt.allocUnsafe:void 0;const It=function(e,t){if(t)return e.slice();var r=e.length,n=Ct?Ct(r):new e.constructor(r);return e.copy(n),n},Rt=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t},zt=function(e,t){for(var r=-1,n=null==e?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o},Ft=function(){return[]};var Mt=Object.prototype.propertyIsEnumerable,Lt=Object.getOwnPropertySymbols;const Nt=Lt?function(e){return null==e?[]:(e=Object(e),zt(Lt(e),(function(t){return Mt.call(e,t)})))}:Ft,Dt=function(e,t){return $e(e,Nt(e),t)},Ut=function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e},Vt=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Ut(t,Nt(e)),e=k(e);return t}:Ft,$t=function(e,t){return $e(e,Vt(e),t)},Bt=function(e,t,r){var n=t(e);return Ke(e)?n:Ut(n,r(e))},qt=function(e){return Bt(e,Et,Nt)},Wt=function(e){return Bt(e,Tt,Vt)},Gt=de(h,"DataView"),Ht=de(h,"Promise"),Yt=de(h,"Set"),Kt=de(h,"WeakMap");var Zt="[object Map]",Xt="[object Promise]",Jt="[object Set]",Qt="[object WeakMap]",er="[object DataView]",tr=ae(Gt),rr=ae(me),nr=ae(Ht),ar=ae(Yt),or=ae(Kt),ir=w;(Gt&&ir(new Gt(new ArrayBuffer(1)))!=er||me&&ir(new me)!=Zt||Ht&&ir(Ht.resolve())!=Xt||Yt&&ir(new Yt)!=Jt||Kt&&ir(new Kt)!=Qt)&&(ir=function(e){var t=w(e),r="[object Object]"==t?e.constructor:void 0,n=r?ae(r):"";if(n)switch(n){case tr:return er;case rr:return Zt;case nr:return Xt;case ar:return Jt;case or:return Qt}return t});const cr=ir;var sr=Object.prototype.hasOwnProperty;const lr=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&sr.call(e,"index")&&(r.index=e.index,r.input=e.input),r},ur=h.Uint8Array,fr=function(e){var t=new e.constructor(e.byteLength);return new ur(t).set(new ur(e)),t},pr=function(e,t){var r=t?fr(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)};var dr=/\w*$/;const mr=function(e){var t=new e.constructor(e.source,dr.exec(e));return t.lastIndex=e.lastIndex,t};var yr=_?_.prototype:void 0,vr=yr?yr.valueOf:void 0;const hr=function(e){return vr?Object(vr.call(e)):{}},_r=function(e,t){var r=t?fr(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)},br=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return fr(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return pr(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return _r(e,r);case"[object Map]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return mr(e);case"[object Set]":return new n;case"[object Symbol]":return hr(e)}};var gr=Object.create;const Er=function(){function e(){}return function(t){if(!X(t))return{};if(gr)return gr(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),jr=function(e){return"function"!=typeof e.constructor||vt(e)?{}:Er(k(e))},Sr=function(e){return P(e)&&"[object Map]"==cr(e)};var Or=ut&&ut.isMap;const xr=Or?it(Or):Sr,Tr=function(e){return P(e)&&"[object Set]"==cr(e)};var wr=ut&&ut.isSet;const Ar=wr?it(wr):Tr;var kr="[object Arguments]",Pr="[object Function]",Cr="[object Object]",Ir={};Ir[kr]=Ir["[object Array]"]=Ir["[object ArrayBuffer]"]=Ir["[object DataView]"]=Ir["[object Boolean]"]=Ir["[object Date]"]=Ir["[object Float32Array]"]=Ir["[object Float64Array]"]=Ir["[object Int8Array]"]=Ir["[object Int16Array]"]=Ir["[object Int32Array]"]=Ir["[object Map]"]=Ir["[object Number]"]=Ir["[object Object]"]=Ir["[object RegExp]"]=Ir["[object Set]"]=Ir["[object String]"]=Ir["[object Symbol]"]=Ir["[object Uint8Array]"]=Ir["[object Uint8ClampedArray]"]=Ir["[object Uint16Array]"]=Ir["[object Uint32Array]"]=!0,Ir["[object Error]"]=Ir[Pr]=Ir["[object WeakMap]"]=!1;const Rr=function e(t,r,n,a,o,i){var c,s=1&r,l=2&r,u=4&r;if(n&&(c=o?n(t,a,o,i):n(t)),void 0!==c)return c;if(!X(t))return t;var f=Ke(t);if(f){if(c=lr(t),!s)return Rt(t,c)}else{var p=cr(t),d=p==Pr||"[object GeneratorFunction]"==p;if(et(t))return It(t,s);if(p==Cr||p==kr||d&&!o){if(c=l||d?{}:jr(t),!s)return l?$t(t,wt(c,t)):Dt(t,jt(c,t))}else{if(!Ir[p])return o?t:{};c=br(t,p,s)}}i||(i=new Me);var m=i.get(t);if(m)return m;i.set(t,c),Ar(t)?t.forEach((function(a){c.add(e(a,r,n,a,t,i))})):xr(t)&&t.forEach((function(a,o){c.set(o,e(a,r,n,o,t,i))}));var y=f?void 0:(u?l?Wt:qt:l?Tt:Et)(t);return Le(y||t,(function(a,o){y&&(a=t[o=a]),Ve(c,o,e(a,r,n,o,t,i))})),c},zr=function(e){return Rr(e,4)},Fr=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a},Mr=function(e){return"symbol"==typeof e||P(e)&&"[object Symbol]"==w(e)};function Lr(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(Lr.Cache||Re),r}Lr.Cache=Re;const Nr=Lr;var Dr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ur=/\\(\\)?/g;const Vr=function(e){var t=Nr(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Dr,(function(e,r,n,a){t.push(n?a.replace(Ur,"$1"):r||e)})),t})),$r=function(e){if("string"==typeof e||Mr(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var Br=_?_.prototype:void 0,qr=Br?Br.toString:void 0;const Wr=function e(t){if("string"==typeof t)return t;if(Ke(t))return Fr(t,e)+"";if(Mr(t))return qr?qr.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r},Gr=function(e){return null==e?"":Wr(e)},Hr=function(e){return Ke(e)?Fr(e,$r):Mr(e)?[e]:Rt(Vr(Gr(e)))},Yr=function(e,t){};l("../../../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js");const Kr=function(e){return Rr(e,5)};function Zr(){return(Zr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Xr(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Jr(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function Qr(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var en=function(e){return Array.isArray(e)&&0===e.length},tn=function(e){return"function"==typeof e},rn=function(e){return null!==e&&"object"==typeof e},nn=function(e){return String(Math.floor(Number(e)))===e},an=function(e){return"[object String]"===Object.prototype.toString.call(e)},on=function(e){return 0===n.Children.count(e)},cn=function(e){return rn(e)&&tn(e.then)};function sn(e,t,r,n){void 0===n&&(n=0);for(var a=Hr(t);e&&n<a.length;)e=e[a[n++]];return void 0===e?r:e}function ln(e,t,r){for(var n=zr(e),a=n,o=0,i=Hr(t);o<i.length-1;o++){var c=i[o],s=sn(e,i.slice(0,o+1));if(s&&(rn(s)||Array.isArray(s)))a=a[c]=zr(s);else{var l=i[o+1];a=a[c]=nn(l)&&Number(l)>=0?[]:{}}}return(0===o?e:a)[i[o]]===r?e:(void 0===r?delete a[i[o]]:a[i[o]]=r,0===o&&void 0===r&&delete n[i[o]],n)}function un(e,t,r,n){void 0===r&&(r=new WeakMap),void 0===n&&(n={});for(var a=0,o=Object.keys(e);a<o.length;a++){var i=o[a],c=e[i];rn(c)?r.get(c)||(r.set(c,!0),n[i]=Array.isArray(c)?[]:{},un(c,t,r,n[i])):n[i]=t}return n}var fn=(0,n.createContext)(void 0);fn.displayName="FormikContext";var pn=fn.Provider;function dn(){var e=(0,n.useContext)(fn);return e||Yr(!1),e}function mn(e,t){switch(t.type){case"SET_VALUES":return Zr({},e,{values:t.payload});case"SET_TOUCHED":return Zr({},e,{touched:t.payload});case"SET_ERRORS":return i()(e.errors,t.payload)?e:Zr({},e,{errors:t.payload});case"SET_STATUS":return Zr({},e,{status:t.payload});case"SET_ISSUBMITTING":return Zr({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return Zr({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return Zr({},e,{values:ln(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return Zr({},e,{touched:ln(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return Zr({},e,{errors:ln(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return Zr({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return Zr({},e,{touched:un(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return Zr({},e,{isSubmitting:!1});default:return e}}fn.Consumer;var yn={},vn={};function hn(e){var t=e.validateOnChange,r=void 0===t||t,a=e.validateOnBlur,o=void 0===a||a,c=e.validateOnMount,s=void 0!==c&&c,l=e.isInitialValid,u=e.enableReinitialize,f=void 0!==u&&u,p=e.onSubmit,d=Jr(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),y=Zr({validateOnChange:r,validateOnBlur:o,validateOnMount:s,onSubmit:p},d),v=(0,n.useRef)(y.initialValues),h=(0,n.useRef)(y.initialErrors||yn),_=(0,n.useRef)(y.initialTouched||vn),b=(0,n.useRef)(y.initialStatus),g=(0,n.useRef)(!1),E=(0,n.useRef)({});(0,n.useEffect)((function(){return g.current=!0,function(){g.current=!1}}),[]);var j=(0,n.useReducer)(mn,{values:y.initialValues,errors:y.initialErrors||yn,touched:y.initialTouched||vn,status:y.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),S=j[0],O=j[1],x=(0,n.useCallback)((function(e,t){return new Promise((function(r,n){var a=y.validate(e,t);null==a?r(yn):cn(a)?a.then((function(e){r(e||yn)}),(function(e){n(e)})):r(a)}))}),[y.validate]),T=(0,n.useCallback)((function(e,t){var r=y.validationSchema,n=tn(r)?r(t):r,a=t&&n.validateAt?n.validateAt(t,e):function(e,t,r,n){void 0===r&&(r=!1),void 0===n&&(n={});var a=bn(e);return t[r?"validateSync":"validate"](a,{abortEarly:!1,context:n})}(e,n);return new Promise((function(e,t){a.then((function(){e(yn)}),(function(r){"ValidationError"===r.name?e(function(e){var t={};if(e.inner){if(0===e.inner.length)return ln(t,e.path,e.message);var r=e.inner,n=Array.isArray(r),a=0;for(r=n?r:r[Symbol.iterator]();;){var o;if(n){if(a>=r.length)break;o=r[a++]}else{if((a=r.next()).done)break;o=a.value}var i=o;sn(t,i.path)||(t=ln(t,i.path,i.message))}}return t}(r)):t(r)}))}))}),[y.validationSchema]),w=(0,n.useCallback)((function(e,t){return new Promise((function(r){return r(E.current[e].validate(t))}))}),[]),A=(0,n.useCallback)((function(e){var t=Object.keys(E.current).filter((function(e){return tn(E.current[e].validate)})),r=t.length>0?t.map((function(t){return w(t,sn(e,t))})):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(r).then((function(e){return e.reduce((function(e,r,n){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===r||r&&(e=ln(e,t[n],r)),e}),{})}))}),[w]),k=(0,n.useCallback)((function(e){return Promise.all([A(e),y.validationSchema?T(e):{},y.validate?x(e):{}]).then((function(e){var t=e[0],r=e[1],n=e[2];return m.all([t,r,n],{arrayMerge:gn})}))}),[y.validate,y.validationSchema,A,x,T]),P=jn((function(e){return void 0===e&&(e=S.values),O({type:"SET_ISVALIDATING",payload:!0}),k(e).then((function(e){return g.current&&(O({type:"SET_ISVALIDATING",payload:!1}),O({type:"SET_ERRORS",payload:e})),e}))}));(0,n.useEffect)((function(){s&&!0===g.current&&i()(v.current,y.initialValues)&&P(v.current)}),[s,P]);var C=(0,n.useCallback)((function(e){var t=e&&e.values?e.values:v.current,r=e&&e.errors?e.errors:h.current?h.current:y.initialErrors||{},n=e&&e.touched?e.touched:_.current?_.current:y.initialTouched||{},a=e&&e.status?e.status:b.current?b.current:y.initialStatus;v.current=t,h.current=r,_.current=n,b.current=a;var o=function(){O({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:r,touched:n,status:a,values:t,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&"number"==typeof e.submitCount?e.submitCount:0}})};if(y.onReset){var i=y.onReset(S.values,Z);cn(i)?i.then(o):o()}else o()}),[y.initialErrors,y.initialStatus,y.initialTouched]);(0,n.useEffect)((function(){!0!==g.current||i()(v.current,y.initialValues)||(f&&(v.current=y.initialValues,C()),s&&P(v.current))}),[f,y.initialValues,C,s,P]),(0,n.useEffect)((function(){f&&!0===g.current&&!i()(h.current,y.initialErrors)&&(h.current=y.initialErrors||yn,O({type:"SET_ERRORS",payload:y.initialErrors||yn}))}),[f,y.initialErrors]),(0,n.useEffect)((function(){f&&!0===g.current&&!i()(_.current,y.initialTouched)&&(_.current=y.initialTouched||vn,O({type:"SET_TOUCHED",payload:y.initialTouched||vn}))}),[f,y.initialTouched]),(0,n.useEffect)((function(){f&&!0===g.current&&!i()(b.current,y.initialStatus)&&(b.current=y.initialStatus,O({type:"SET_STATUS",payload:y.initialStatus}))}),[f,y.initialStatus,y.initialTouched]);var I=jn((function(e){if(E.current[e]&&tn(E.current[e].validate)){var t=sn(S.values,e),r=E.current[e].validate(t);return cn(r)?(O({type:"SET_ISVALIDATING",payload:!0}),r.then((function(e){return e})).then((function(t){O({type:"SET_FIELD_ERROR",payload:{field:e,value:t}}),O({type:"SET_ISVALIDATING",payload:!1})}))):(O({type:"SET_FIELD_ERROR",payload:{field:e,value:r}}),Promise.resolve(r))}return y.validationSchema?(O({type:"SET_ISVALIDATING",payload:!0}),T(S.values,e).then((function(e){return e})).then((function(t){O({type:"SET_FIELD_ERROR",payload:{field:e,value:t[e]}}),O({type:"SET_ISVALIDATING",payload:!1})}))):Promise.resolve()})),R=(0,n.useCallback)((function(e,t){var r=t.validate;E.current[e]={validate:r}}),[]),z=(0,n.useCallback)((function(e){delete E.current[e]}),[]),F=jn((function(e,t){return O({type:"SET_TOUCHED",payload:e}),(void 0===t?o:t)?P(S.values):Promise.resolve()})),M=(0,n.useCallback)((function(e){O({type:"SET_ERRORS",payload:e})}),[]),L=jn((function(e,t){var n=tn(e)?e(S.values):e;return O({type:"SET_VALUES",payload:n}),(void 0===t?r:t)?P(n):Promise.resolve()})),N=(0,n.useCallback)((function(e,t){O({type:"SET_FIELD_ERROR",payload:{field:e,value:t}})}),[]),D=jn((function(e,t,n){return O({type:"SET_FIELD_VALUE",payload:{field:e,value:t}}),(void 0===n?r:n)?P(ln(S.values,e,t)):Promise.resolve()})),U=(0,n.useCallback)((function(e,t){var r,n=t,a=e;if(!an(e)){e.persist&&e.persist();var o=e.target?e.target:e.currentTarget,i=o.type,c=o.name,s=o.id,l=o.value,u=o.checked,f=(o.outerHTML,o.options),p=o.multiple;n=t||c||s,a=/number|range/.test(i)?(r=parseFloat(l),isNaN(r)?"":r):/checkbox/.test(i)?function(e,t,r){if("boolean"==typeof e)return Boolean(t);var n=[],a=!1,o=-1;if(Array.isArray(e))n=e,a=(o=e.indexOf(r))>=0;else if(!r||"true"==r||"false"==r)return Boolean(t);return t&&r&&!a?n.concat(r):a?n.slice(0,o).concat(n.slice(o+1)):n}(sn(S.values,n),u,l):f&&p?function(e){return Array.from(e).filter((function(e){return e.selected})).map((function(e){return e.value}))}(f):l}n&&D(n,a)}),[D,S.values]),V=jn((function(e){if(an(e))return function(t){return U(t,e)};U(e)})),$=jn((function(e,t,r){return void 0===t&&(t=!0),O({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t}}),(void 0===r?o:r)?P(S.values):Promise.resolve()})),B=(0,n.useCallback)((function(e,t){e.persist&&e.persist();var r=e.target,n=r.name,a=r.id,o=(r.outerHTML,t||n||a);$(o,!0)}),[$]),q=jn((function(e){if(an(e))return function(t){return B(t,e)};B(e)})),W=(0,n.useCallback)((function(e){tn(e)?O({type:"SET_FORMIK_STATE",payload:e}):O({type:"SET_FORMIK_STATE",payload:function(){return e}})}),[]),G=(0,n.useCallback)((function(e){O({type:"SET_STATUS",payload:e})}),[]),H=(0,n.useCallback)((function(e){O({type:"SET_ISSUBMITTING",payload:e})}),[]),Y=jn((function(){return O({type:"SUBMIT_ATTEMPT"}),P().then((function(e){var t=e instanceof Error;if(!t&&0===Object.keys(e).length){var r;try{if(void 0===(r=X()))return}catch(e){throw e}return Promise.resolve(r).then((function(e){return g.current&&O({type:"SUBMIT_SUCCESS"}),e})).catch((function(e){if(g.current)throw O({type:"SUBMIT_FAILURE"}),e}))}if(g.current&&(O({type:"SUBMIT_FAILURE"}),t))throw e}))})),K=jn((function(e){e&&e.preventDefault&&tn(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&tn(e.stopPropagation)&&e.stopPropagation(),Y().catch((function(e){console.warn("Warning: An unhandled error was caught from submitForm()",e)}))})),Z={resetForm:C,validateForm:P,validateField:I,setErrors:M,setFieldError:N,setFieldTouched:$,setFieldValue:D,setStatus:G,setSubmitting:H,setTouched:F,setValues:L,setFormikState:W,submitForm:Y},X=jn((function(){return p(S.values,Z)})),J=jn((function(e){e&&e.preventDefault&&tn(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&tn(e.stopPropagation)&&e.stopPropagation(),C()})),Q=(0,n.useCallback)((function(e){return{value:sn(S.values,e),error:sn(S.errors,e),touched:!!sn(S.touched,e),initialValue:sn(v.current,e),initialTouched:!!sn(_.current,e),initialError:sn(h.current,e)}}),[S.errors,S.touched,S.values]),ee=(0,n.useCallback)((function(e){return{setValue:function(t,r){return D(e,t,r)},setTouched:function(t,r){return $(e,t,r)},setError:function(t){return N(e,t)}}}),[D,$,N]),te=(0,n.useCallback)((function(e){var t=rn(e),r=t?e.name:e,n=sn(S.values,r),a={name:r,value:n,onChange:V,onBlur:q};if(t){var o=e.type,i=e.value,c=e.as,s=e.multiple;"checkbox"===o?void 0===i?a.checked=!!n:(a.checked=!(!Array.isArray(n)||!~n.indexOf(i)),a.value=i):"radio"===o?(a.checked=n===i,a.value=i):"select"===c&&s&&(a.value=a.value||[],a.multiple=!0)}return a}),[q,V,S.values]),re=(0,n.useMemo)((function(){return!i()(v.current,S.values)}),[v.current,S.values]),ne=(0,n.useMemo)((function(){return void 0!==l?re?S.errors&&0===Object.keys(S.errors).length:!1!==l&&tn(l)?l(y):l:S.errors&&0===Object.keys(S.errors).length}),[l,re,S.errors,y]);return Zr({},S,{initialValues:v.current,initialErrors:h.current,initialTouched:_.current,initialStatus:b.current,handleBlur:q,handleChange:V,handleReset:J,handleSubmit:K,resetForm:C,setErrors:M,setFormikState:W,setFieldTouched:$,setFieldValue:D,setFieldError:N,setStatus:G,setSubmitting:H,setTouched:F,setValues:L,submitForm:Y,validateForm:P,validateField:I,isValid:ne,dirty:re,unregisterField:z,registerField:R,getFieldProps:te,getFieldMeta:Q,getFieldHelpers:ee,validateOnBlur:o,validateOnChange:r,validateOnMount:s})}function _n(e){var t=hn(e),r=e.component,a=e.children,o=e.render,i=e.innerRef;return(0,n.useImperativeHandle)(i,(function(){return t})),(0,n.createElement)(pn,{value:t},r?(0,n.createElement)(r,t):o?o(t):a?tn(a)?a(t):on(a)?null:n.Children.only(a):null)}function bn(e){var t=Array.isArray(e)?[]:{};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=String(r);!0===Array.isArray(e[n])?t[n]=e[n].map((function(e){return!0===Array.isArray(e)||M(e)?bn(e):""!==e?e:void 0})):M(e[n])?t[n]=bn(e[n]):t[n]=""!==e[n]?e[n]:void 0}return t}function gn(e,t,r){var n=e.slice();return t.forEach((function(t,a){if(void 0===n[a]){var o=!1!==r.clone&&r.isMergeableObject(t);n[a]=o?m(Array.isArray(t)?[]:{},t,r):t}else r.isMergeableObject(t)?n[a]=m(e[a],t,r):-1===e.indexOf(t)&&n.push(t)})),n}var En="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?n.useLayoutEffect:n.useEffect;function jn(e){var t=(0,n.useRef)(e);return En((function(){t.current=e})),(0,n.useCallback)((function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.current.apply(void 0,r)}),[])}function Sn(e){var t=e.validate,r=e.name,a=e.render,o=e.children,i=e.as,c=e.component,s=Jr(e,["validate","name","render","children","as","component"]),l=Jr(dn(),["validate","validationSchema"]),u=l.registerField,f=l.unregisterField;(0,n.useEffect)((function(){return u(r,{validate:t}),function(){f(r)}}),[u,f,r,t]);var p=l.getFieldProps(Zr({name:r},s)),d=l.getFieldMeta(r),m={field:p,form:l};if(a)return a(Zr({},m,{meta:d}));if(tn(o))return o(Zr({},m,{meta:d}));if(c){if("string"==typeof c){var y=s.innerRef,v=Jr(s,["innerRef"]);return(0,n.createElement)(c,Zr({ref:y},p,v),o)}return(0,n.createElement)(c,Zr({field:p,form:l},s),o)}var h=i||"input";if("string"==typeof h){var _=s.innerRef,b=Jr(s,["innerRef"]);return(0,n.createElement)(h,Zr({ref:_},p,b),o)}return(0,n.createElement)(h,Zr({},p,s),o)}(0,n.forwardRef)((function(e,t){var r=e.action,a=Jr(e,["action"]),o=null!=r?r:"#",i=dn(),c=i.handleReset,s=i.handleSubmit;return(0,n.createElement)("form",Object.assign({onSubmit:s,ref:t,onReset:c,action:o},a))})).displayName="Form";var On=function(e,t,r){var n=xn(e);return n.splice(t,0,r),n},xn=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map((function(e){return parseInt(e)})).reduce((function(e,t){return t>e?t:e}),0);return Array.from(Zr({},e,{length:t+1}))}return[]};(function(e){function t(t){var r;return(r=e.call(this,t)||this).updateArrayField=function(e,t,n){var a=r.props,o=a.name;(0,a.formik.setFormikState)((function(r){var a="function"==typeof n?n:e,i="function"==typeof t?t:e,c=ln(r.values,o,e(sn(r.values,o))),s=n?a(sn(r.errors,o)):void 0,l=t?i(sn(r.touched,o)):void 0;return en(s)&&(s=void 0),en(l)&&(l=void 0),Zr({},r,{values:c,errors:n?ln(r.errors,o,s):r.errors,touched:t?ln(r.touched,o,l):r.touched})}))},r.push=function(e){return r.updateArrayField((function(t){return[].concat(xn(t),[Kr(e)])}),!1,!1)},r.handlePush=function(e){return function(){return r.push(e)}},r.swap=function(e,t){return r.updateArrayField((function(r){return function(e,t,r){var n=xn(e),a=n[t];return n[t]=n[r],n[r]=a,n}(r,e,t)}),!0,!0)},r.handleSwap=function(e,t){return function(){return r.swap(e,t)}},r.move=function(e,t){return r.updateArrayField((function(r){return function(e,t,r){var n=xn(e),a=n[t];return n.splice(t,1),n.splice(r,0,a),n}(r,e,t)}),!0,!0)},r.handleMove=function(e,t){return function(){return r.move(e,t)}},r.insert=function(e,t){return r.updateArrayField((function(r){return On(r,e,t)}),(function(t){return On(t,e,null)}),(function(t){return On(t,e,null)}))},r.handleInsert=function(e,t){return function(){return r.insert(e,t)}},r.replace=function(e,t){return r.updateArrayField((function(r){return function(e,t,r){var n=xn(e);return n[t]=r,n}(r,e,t)}),!1,!1)},r.handleReplace=function(e,t){return function(){return r.replace(e,t)}},r.unshift=function(e){var t=-1;return r.updateArrayField((function(r){var n=r?[e].concat(r):[e];return t<0&&(t=n.length),n}),(function(e){var r=e?[null].concat(e):[null];return t<0&&(t=r.length),r}),(function(e){var r=e?[null].concat(e):[null];return t<0&&(t=r.length),r})),t},r.handleUnshift=function(e){return function(){return r.unshift(e)}},r.handleRemove=function(e){return function(){return r.remove(e)}},r.handlePop=function(){return function(){return r.pop()}},r.remove=r.remove.bind(Qr(r)),r.pop=r.pop.bind(Qr(r)),r}Xr(t,e);var r=t.prototype;return r.componentDidUpdate=function(e){this.props.validateOnChange&&this.props.formik.validateOnChange&&!i()(sn(e.formik.values,e.name),sn(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(e){var t;return this.updateArrayField((function(r){var n=r?xn(r):[];return t||(t=n[e]),tn(n.splice)&&n.splice(e,1),n}),!0,!0),t},r.pop=function(){var e;return this.updateArrayField((function(t){var r=t;return e||(e=r&&r.pop&&r.pop()),r}),!0,!0),e},r.render=function(){var e={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},t=this.props,r=t.component,a=t.render,o=t.children,i=t.name,c=Zr({},e,{form:Jr(t.formik,["validate","validationSchema"]),name:i});return r?(0,n.createElement)(r,c):a?a(c):o?"function"==typeof o?o(c):on(o)?null:n.Children.only(o):null},t}(n.Component)).defaultProps={validateOnChange:!0},n.Component,n.Component;var Tn=l("@deriv/components"),wn=l("@deriv/translations"),An=l("@deriv/shared"),kn=["states_list","getCurrentStep","onSave","onCancel","goToNextStep","goToPreviousStep","validate","onSubmit","is_svg","is_gb_residence","onSubmitEnabledChange","selected_step_ref"];function Pn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Cn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Cn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Cn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function In(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}function Rn(){return(Rn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var zn=function(e){return a().createElement(Sn,{name:e.name},(function(t){var r=t.field,n=t.form,o=n.errors,i=n.touched;return a().createElement(a().Fragment,null,a().createElement(Tn.Input,Rn({type:"text",autoComplete:"off",maxLength:e.maxLength||"30",error:i[r.name]&&o[r.name]},r,e)))}))};const Fn=function(e){var t=e.states_list,r=e.getCurrentStep,n=e.onSave,o=e.onCancel,i=e.goToNextStep,c=e.goToPreviousStep,s=e.validate,l=e.onSubmit,u=e.is_svg,f=e.is_gb_residence,p=e.onSubmitEnabledChange,d=e.selected_step_ref,m=In(e,kn),y=a().useContext(An.PlatformContext).is_dashboard,v=Pn(a().useState(!1),2),h=v[0],_=v[1],b=Pn(a().useState(""),2),g=b[0],E=b[1];a().useEffect((function(){var e=(0,An.makeCancellablePromise)(m.fetchStatesList()),r=e.cancel;return e.promise.then((function(){_(!0),m.value.address_state&&E((0,An.getLocation)(t,m.value.address_state,"text"))})),function(){_(!1),r()}}),[]);var j=a().useRef(!0),S=function(e){var t;return(null==d||null===(t=d.current)||void 0===t?void 0:t.isSubmitting)||Object.keys(e).length>0},O=function(e){var t=r()-1;n(t,e),o(t,c)};return a().createElement(_n,{innerRef:d,initialValues:m.value,validate:function(e){var t=function(e){var t={},r={};return Object.keys(e).forEach((function(n){var a=e[n];Array.isArray(a)&&("warn"===a[0]?t[n]=a[1]:"error"===a[0]&&(r[n]=a[1]))})),{warnings:t,errors:r}}(s(e)).errors;return function(e){var t=S(e);j.current!==t&&(j.current=t,null==p||p(!t))}(t),t},validateOnMount:!0,onSubmit:function(e,n){e.address_state&&t.length&&(e.address_state=g?(0,An.getLocation)(t,g,"value"):(0,An.getLocation)(t,e.address_state,"value")),l(r()-1,e,n.setSubmitting,i)}},(function(e){var r=e.handleSubmit,n=e.errors,o=e.values,i=e.setFieldValue,c=e.handleChange,s=e.setFieldTouched;return a().createElement(Tn.AutoHeightWrapper,{default_height:350,height_offset:(0,An.isDesktop)()?80:null},(function(e){var l=e.setRef,p=e.height;return a().createElement("form",{ref:l,onSubmit:r},a().createElement(Tn.Div100vhContainer,{className:"details-form",height_offset:y?"222px":"90px",is_disabled:(0,An.isDesktop)()},!y&&a().createElement(Tn.Text,{as:"p",align:"left",size:"xxs",line_height:"l",className:"details-form__description"},a().createElement("strong",null,a().createElement(wn.Localize,{i18n_default_text:"Only use an address for which you have proof of residence - "})),a().createElement(wn.Localize,{i18n_default_text:"a recent utility bill (e.g. electricity, water, gas, landline, or internet), bank statement, or government-issued letter with your name and this address."})),a().createElement(Tn.ThemedScrollbars,{height:p,className:"details-form__scrollbar"},y&&a().createElement("div",{className:"details-form__sub-header"},a().createElement(Tn.Text,{size:(0,An.isMobile)()?"xs":"xxs",align:(0,An.isMobile)()&&"center"},(0,wn.localize)("We need this for verification. If the information you provide is fake or inaccurate, you wont be able to deposit and withdraw."))),a().createElement("div",{className:"details-form__elements"},a().createElement(zn,{name:"address_line_1",required:u||y,label:u||y?(0,wn.localize)("First line of address*"):(0,wn.localize)("First line of address"),maxLength:255,placeholder:(0,wn.localize)("First line of address")}),a().createElement(zn,{name:"address_line_2",required:y,label:y?(0,wn.localize)("Second line of address*"):(0,wn.localize)("Second line of address"),maxLength:255,placeholder:(0,wn.localize)("Second line of address")}),a().createElement(zn,{name:"address_city",required:u||y,label:u||y?(0,wn.localize)("Town/City*"):(0,wn.localize)("Town/City"),placeholder:(0,wn.localize)("Town/City")}),!h&&a().createElement("div",{className:"details-form__loader"},a().createElement(Tn.Loading,{is_fullscreen:!1})),(null==t?void 0:t.length)>0?a().createElement(Sn,{name:"address_state"},(function(e){var r=e.field;return a().createElement(a().Fragment,null,a().createElement(Tn.DesktopWrapper,null,a().createElement(Tn.Autocomplete,Rn({},r,g&&{value:g},{"data-lpignore":"true",autoComplete:"new-password",type:"text",label:(0,wn.localize)("State/Province"),list_items:t,onItemSelection:function(e){var t=e.value,r=e.text;i("address_state",t?r:"",!0),E("")},list_portal_id:y?"":"modal_root"}))),a().createElement(Tn.MobileWrapper,null,a().createElement(Tn.SelectNative,{placeholder:(0,wn.localize)("Please select"),label:(0,wn.localize)("State/Province"),value:g||o.address_state,list_items:t,use_text:!0,onChange:function(e){i("address_state",e.target.value,!0),E("")}})))})):a().createElement(zn,{name:"address_state",label:(0,wn.localize)("State/Province"),placeholder:(0,wn.localize)("State/Province")}),a().createElement(zn,{name:"address_postcode",required:f||y,label:y?(0,wn.localize)("Postal/ZIP Code*"):(0,wn.localize)("Postal/ZIP Code"),placeholder:(0,wn.localize)("Postal/ZIP Code"),onChange:function(e){s("address_postcode",!0),c(e)}})))),a().createElement(Tn.Modal.Footer,{has_separator:!0,is_bypassed:(0,An.isMobile)()},a().createElement(Tn.FormSubmitButton,{is_disabled:S(n),label:(0,wn.localize)("Next"),is_absolute:(0,An.isMobile)(),has_cancel:!0,cancel_label:(0,wn.localize)("Previous"),onCancel:function(){return O(o)}})))}))}))}})(),u.default})())},96408:(e,t,r)=>{var n,a,o,i,c;e=r.nmd(e),self,e.exports=(n=r(11838),a=r(90004),o=r(20374),i=r(32735),c=r(12788),(()=>{var s={"./Components/icon-message-content/index.js":(e,t,r)=>{"use strict";r.d(t,{default:()=>p});var n=r("react"),a=r.n(n),o=r("../../../node_modules/prop-types/index.js"),i=r("../../../node_modules/classnames/index.js"),c=r.n(i),s=r("@deriv/components"),l=r("@deriv/shared");function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var f=function(e){var t=e.children,r=e.className,n=e.full_width,o=e.icon,i=e.icon_row,f=e.message,p=e.text;return a().createElement(s.Div100vhContainer,{className:c()("account-management__message-wrapper",{"account-management__message-wrapper-full-width":n}),is_disabled:(0,l.isDesktop)(),height_offset:"110px"},a().createElement("div",{className:c()("account-management__message-content",u({},"".concat(r,"__message-content"),r))},o&&a().createElement("div",{className:c()("account-management__message-icon",u({},"".concat(r,"__message-icon"),r))},o),i&&a().createElement("div",null,i),a().createElement(s.Text,{as:"div",color:"general",weight:"bold",size:"s",align:"center",className:c()("account-management__message",u({},"".concat(r,"__message"),r))},f),p&&a().createElement("div",{className:"account-management__text-container"},a().createElement(s.Text,{className:c()(u({},"".concat(r,"__text"),r)),as:"p",size:"xs",align:"center"},p)),t))};f.propTypes={children:o.PropTypes.oneOfType([o.PropTypes.object,o.PropTypes.array]),className:o.PropTypes.string,full_width:o.PropTypes.bool,icon:o.PropTypes.object,message:o.PropTypes.oneOfType([o.PropTypes.node,o.PropTypes.string,o.PropTypes.object]),text:o.PropTypes.oneOfType([o.PropTypes.string,o.PropTypes.element])};const p=f},"./Components/load-error-message/index.js":(e,t,r)=>{"use strict";r.d(t,{default:()=>c});var n=r("react"),a=r.n(n),o=r("@deriv/components"),i=r("./Components/icon-message-content/index.js");const c=function(e){var t=e.error_message;return a().createElement(i.default,{message:t,icon:a().createElement(o.Icon,{icon:"IcPoaLock",size:128})})}},"../../../node_modules/classnames/index.js":(e,t)=>{var r;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var o=typeof r;if("string"===o||"number"===o)e.push(r);else if(Array.isArray(r)){if(r.length){var i=a.apply(null,r);i&&e.push(i)}}else if("object"===o)if(r.toString===Object.prototype.toString)for(var c in r)n.call(r,c)&&r[c]&&e.push(c);else e.push(r.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(r=function(){return a}.apply(t,[]))||(e.exports=r)}()},"../../../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js":(e,t,r)=>{"use strict";var n=r("../../../node_modules/react-is/index.js"),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};function s(e){return n.isMemo(e)?i:c[e.$$typeof]||a}c[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c[n.Memo]=i;var l=Object.defineProperty,u=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,r,n){if("string"!=typeof r){if(m){var a=d(r);a&&a!==m&&e(t,a,n)}var i=u(r);f&&(i=i.concat(f(r)));for(var c=s(t),y=s(r),v=0;v<i.length;++v){var h=i[v];if(!(o[h]||n&&n[h]||y&&y[h]||c&&c[h])){var _=p(r,h);try{l(t,h,_)}catch(e){}}}}return t}},"../../../node_modules/prop-types/factoryWithThrowingShims.js":(e,t,r)=>{"use strict";var n=r("../../../node_modules/prop-types/lib/ReactPropTypesSecret.js");function a(){}function o(){}o.resetWarningCache=a,e.exports=function(){function e(e,t,r,a,o,i){if(i!==n){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var r={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:o,resetWarningCache:a};return r.PropTypes=r,r}},"../../../node_modules/prop-types/index.js":(e,t,r)=>{e.exports=r("../../../node_modules/prop-types/factoryWithThrowingShims.js")()},"../../../node_modules/prop-types/lib/ReactPropTypesSecret.js":e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"../../../node_modules/react-fast-compare/index.js":e=>{"use strict";var t=Array.isArray,r=Object.keys,n=Object.prototype.hasOwnProperty,a="undefined"!=typeof Element;function o(e,i){if(e===i)return!0;if(e&&i&&"object"==typeof e&&"object"==typeof i){var c,s,l,u=t(e),f=t(i);if(u&&f){if((s=e.length)!=i.length)return!1;for(c=s;0!=c--;)if(!o(e[c],i[c]))return!1;return!0}if(u!=f)return!1;var p=e instanceof Date,d=i instanceof Date;if(p!=d)return!1;if(p&&d)return e.getTime()==i.getTime();var m=e instanceof RegExp,y=i instanceof RegExp;if(m!=y)return!1;if(m&&y)return e.toString()==i.toString();var v=r(e);if((s=v.length)!==r(i).length)return!1;for(c=s;0!=c--;)if(!n.call(i,v[c]))return!1;if(a&&e instanceof Element&&i instanceof Element)return e===i;for(c=s;0!=c--;)if(!("_owner"===(l=v[c])&&e.$$typeof||o(e[l],i[l])))return!1;return!0}return e!=e&&i!=i}e.exports=function(e,t){try{return o(e,t)}catch(e){if(e.message&&e.message.match(/stack|recursion/i)||-2146828260===e.number)return console.warn("Warning: react-fast-compare does not handle circular references.",e.name,e.message),!1;throw e}}},"../../../node_modules/react-is/cjs/react-is.production.min.js":(e,t)=>{"use strict";var r="function"==typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,i=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,s=r?Symbol.for("react.provider"):60109,l=r?Symbol.for("react.context"):60110,u=r?Symbol.for("react.async_mode"):60111,f=r?Symbol.for("react.concurrent_mode"):60111,p=r?Symbol.for("react.forward_ref"):60112,d=r?Symbol.for("react.suspense"):60113,m=r?Symbol.for("react.suspense_list"):60120,y=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116,h=r?Symbol.for("react.block"):60121,_=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,g=r?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case u:case f:case o:case c:case i:case d:return e;default:switch(e=e&&e.$$typeof){case l:case p:case v:case y:case s:return e;default:return t}}case a:return t}}}function j(e){return E(e)===f}t.AsyncMode=u,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=s,t.Element=n,t.ForwardRef=p,t.Fragment=o,t.Lazy=v,t.Memo=y,t.Portal=a,t.Profiler=c,t.StrictMode=i,t.Suspense=d,t.isAsyncMode=function(e){return j(e)||E(e)===u},t.isConcurrentMode=j,t.isContextConsumer=function(e){return E(e)===l},t.isContextProvider=function(e){return E(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return E(e)===p},t.isFragment=function(e){return E(e)===o},t.isLazy=function(e){return E(e)===v},t.isMemo=function(e){return E(e)===y},t.isPortal=function(e){return E(e)===a},t.isProfiler=function(e){return E(e)===c},t.isStrictMode=function(e){return E(e)===i},t.isSuspense=function(e){return E(e)===d},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===f||e===c||e===i||e===d||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===y||e.$$typeof===s||e.$$typeof===l||e.$$typeof===p||e.$$typeof===_||e.$$typeof===b||e.$$typeof===g||e.$$typeof===h)},t.typeOf=E},"../../../node_modules/react-is/index.js":(e,t,r)=>{"use strict";e.exports=r("../../../node_modules/react-is/cjs/react-is.production.min.js")},"@deriv/components":e=>{"use strict";e.exports=n},"@deriv/shared":e=>{"use strict";e.exports=a},"@deriv/translations":e=>{"use strict";e.exports=o},react:e=>{"use strict";e.exports=i},"react-dom":e=>{"use strict";e.exports=c}},l={};function u(e){var t=l[e];if(void 0!==t)return t.exports;var r=l[e]={exports:{}};return s[e](r,r.exports,u),r.exports}u.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return u.d(t,{a:t}),t},u.d=(e,t)=>{for(var r in t)u.o(t,r)&&!u.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},u.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var f={};return(()=>{"use strict";u.d(f,{default:()=>fa});var n=u("../../../node_modules/prop-types/index.js"),a=u.n(n),o=u("react"),i=u.n(o),c=u("../../../node_modules/classnames/index.js"),s=u.n(c),l=u("../../../node_modules/react-fast-compare/index.js"),p=u.n(l),d=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===m}(e)}(e)},m="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function y(e,t){return!1!==t.clone&&t.isMergeableObject(e)?h((r=e,Array.isArray(r)?[]:{}),e,t):e;var r}function v(e,t,r){return e.concat(t).map((function(e){return y(e,r)}))}function h(e,t,r){(r=r||{}).arrayMerge=r.arrayMerge||v,r.isMergeableObject=r.isMergeableObject||d;var n=Array.isArray(t);return n===Array.isArray(e)?n?r.arrayMerge(e,t,r):function(e,t,r){var n={};return r.isMergeableObject(e)&&Object.keys(e).forEach((function(t){n[t]=y(e[t],r)})),Object.keys(t).forEach((function(a){r.isMergeableObject(t[a])&&e[a]?n[a]=h(e[a],t[a],r):n[a]=y(t[a],r)})),n}(e,t,r):y(t,r)}h.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,r){return h(e,r,t)}),{})};const _=h,b="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g;var g="object"==typeof self&&self&&self.Object===Object&&self;const E=b||g||Function("return this")(),j=E.Symbol;var S=Object.prototype,O=S.hasOwnProperty,x=S.toString,T=j?j.toStringTag:void 0;const w=function(e){var t=O.call(e,T),r=e[T];try{e[T]=void 0;var n=!0}catch(e){}var a=x.call(e);return n&&(t?e[T]=r:delete e[T]),a};var A=Object.prototype.toString;const k=function(e){return A.call(e)};var P=j?j.toStringTag:void 0;const C=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":P&&P in Object(e)?w(e):k(e)},I=function(e,t){return function(r){return e(t(r))}},R=I(Object.getPrototypeOf,Object),z=function(e){return null!=e&&"object"==typeof e};var F=Function.prototype,M=Object.prototype,L=F.toString,N=M.hasOwnProperty,D=L.call(Object);const U=function(e){if(!z(e)||"[object Object]"!=C(e))return!1;var t=R(e);if(null===t)return!0;var r=N.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&L.call(r)==D},V=function(){this.__data__=[],this.size=0},$=function(e,t){return e===t||e!=e&&t!=t},B=function(e,t){for(var r=e.length;r--;)if($(e[r][0],t))return r;return-1};var q=Array.prototype.splice;const W=function(e){var t=this.__data__,r=B(t,e);return!(r<0||(r==t.length-1?t.pop():q.call(t,r,1),--this.size,0))},G=function(e){var t=this.__data__,r=B(t,e);return r<0?void 0:t[r][1]},H=function(e){return B(this.__data__,e)>-1},Y=function(e,t){var r=this.__data__,n=B(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this};function K(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}K.prototype.clear=V,K.prototype.delete=W,K.prototype.get=G,K.prototype.has=H,K.prototype.set=Y;const Z=K,X=function(){this.__data__=new Z,this.size=0},J=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Q=function(e){return this.__data__.get(e)},ee=function(e){return this.__data__.has(e)},te=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)},re=function(e){if(!te(e))return!1;var t=C(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t},ne=E["__core-js_shared__"];var ae,oe=(ae=/[^.]+$/.exec(ne&&ne.keys&&ne.keys.IE_PROTO||""))?"Symbol(src)_1."+ae:"";const ie=function(e){return!!oe&&oe in e};var ce=Function.prototype.toString;const se=function(e){if(null!=e){try{return ce.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var le=/^\[object .+?Constructor\]$/,ue=Function.prototype,fe=Object.prototype,pe=ue.toString,de=fe.hasOwnProperty,me=RegExp("^"+pe.call(de).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const ye=function(e){return!(!te(e)||ie(e))&&(re(e)?me:le).test(se(e))},ve=function(e,t){return null==e?void 0:e[t]},he=function(e,t){var r=ve(e,t);return ye(r)?r:void 0},_e=he(E,"Map"),be=he(Object,"create"),ge=function(){this.__data__=be?be(null):{},this.size=0},Ee=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var je=Object.prototype.hasOwnProperty;const Se=function(e){var t=this.__data__;if(be){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return je.call(t,e)?t[e]:void 0};var Oe=Object.prototype.hasOwnProperty;const xe=function(e){var t=this.__data__;return be?void 0!==t[e]:Oe.call(t,e)},Te=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=be&&void 0===t?"__lodash_hash_undefined__":t,this};function we(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}we.prototype.clear=ge,we.prototype.delete=Ee,we.prototype.get=Se,we.prototype.has=xe,we.prototype.set=Te;const Ae=we,ke=function(){this.size=0,this.__data__={hash:new Ae,map:new(_e||Z),string:new Ae}},Pe=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e},Ce=function(e,t){var r=e.__data__;return Pe(t)?r["string"==typeof t?"string":"hash"]:r.map},Ie=function(e){var t=Ce(this,e).delete(e);return this.size-=t?1:0,t},Re=function(e){return Ce(this,e).get(e)},ze=function(e){return Ce(this,e).has(e)},Fe=function(e,t){var r=Ce(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this};function Me(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Me.prototype.clear=ke,Me.prototype.delete=Ie,Me.prototype.get=Re,Me.prototype.has=ze,Me.prototype.set=Fe;const Le=Me,Ne=function(e,t){var r=this.__data__;if(r instanceof Z){var n=r.__data__;if(!_e||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Le(n)}return r.set(e,t),this.size=r.size,this};function De(e){var t=this.__data__=new Z(e);this.size=t.size}De.prototype.clear=X,De.prototype.delete=J,De.prototype.get=Q,De.prototype.has=ee,De.prototype.set=Ne;const Ue=De,Ve=function(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e},$e=function(){try{var e=he(Object,"defineProperty");return e({},"",{}),e}catch(e){}}(),Be=function(e,t,r){"__proto__"==t&&$e?$e(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r};var qe=Object.prototype.hasOwnProperty;const We=function(e,t,r){var n=e[t];qe.call(e,t)&&$(n,r)&&(void 0!==r||t in e)||Be(e,t,r)},Ge=function(e,t,r,n){var a=!r;r||(r={});for(var o=-1,i=t.length;++o<i;){var c=t[o],s=n?n(r[c],e[c],c,r,e):void 0;void 0===s&&(s=e[c]),a?Be(r,c,s):We(r,c,s)}return r},He=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n},Ye=function(e){return z(e)&&"[object Arguments]"==C(e)};var Ke=Object.prototype,Ze=Ke.hasOwnProperty,Xe=Ke.propertyIsEnumerable;const Je=Ye(function(){return arguments}())?Ye:function(e){return z(e)&&Ze.call(e,"callee")&&!Xe.call(e,"callee")},Qe=Array.isArray,et=function(){return!1};var tt=t&&!t.nodeType&&t,rt=tt&&e&&!e.nodeType&&e,nt=rt&&rt.exports===tt?E.Buffer:void 0;const at=(nt?nt.isBuffer:void 0)||et;var ot=/^(?:0|[1-9]\d*)$/;const it=function(e,t){var r=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==r||"symbol"!=r&&ot.test(e))&&e>-1&&e%1==0&&e<t},ct=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var st={};st["[object Float32Array]"]=st["[object Float64Array]"]=st["[object Int8Array]"]=st["[object Int16Array]"]=st["[object Int32Array]"]=st["[object Uint8Array]"]=st["[object Uint8ClampedArray]"]=st["[object Uint16Array]"]=st["[object Uint32Array]"]=!0,st["[object Arguments]"]=st["[object Array]"]=st["[object ArrayBuffer]"]=st["[object Boolean]"]=st["[object DataView]"]=st["[object Date]"]=st["[object Error]"]=st["[object Function]"]=st["[object Map]"]=st["[object Number]"]=st["[object Object]"]=st["[object RegExp]"]=st["[object Set]"]=st["[object String]"]=st["[object WeakMap]"]=!1;const lt=function(e){return z(e)&&ct(e.length)&&!!st[C(e)]},ut=function(e){return function(t){return e(t)}};var ft=t&&!t.nodeType&&t,pt=ft&&e&&!e.nodeType&&e,dt=pt&&pt.exports===ft&&b.process;const mt=function(){try{return pt&&pt.require&&pt.require("util").types||dt&&dt.binding&&dt.binding("util")}catch(e){}}();var yt=mt&&mt.isTypedArray;const vt=yt?ut(yt):lt;var ht=Object.prototype.hasOwnProperty;const _t=function(e,t){var r=Qe(e),n=!r&&Je(e),a=!r&&!n&&at(e),o=!r&&!n&&!a&&vt(e),i=r||n||a||o,c=i?He(e.length,String):[],s=c.length;for(var l in e)!t&&!ht.call(e,l)||i&&("length"==l||a&&("offset"==l||"parent"==l)||o&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||it(l,s))||c.push(l);return c};var bt=Object.prototype;const gt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||bt)},Et=I(Object.keys,Object);var jt=Object.prototype.hasOwnProperty;const St=function(e){if(!gt(e))return Et(e);var t=[];for(var r in Object(e))jt.call(e,r)&&"constructor"!=r&&t.push(r);return t},Ot=function(e){return null!=e&&ct(e.length)&&!re(e)},xt=function(e){return Ot(e)?_t(e):St(e)},Tt=function(e,t){return e&&Ge(t,xt(t),e)},wt=function(e){var t=[];if(null!=e)for(var r in Object(e))t.push(r);return t};var At=Object.prototype.hasOwnProperty;const kt=function(e){if(!te(e))return wt(e);var t=gt(e),r=[];for(var n in e)("constructor"!=n||!t&&At.call(e,n))&&r.push(n);return r},Pt=function(e){return Ot(e)?_t(e,!0):kt(e)},Ct=function(e,t){return e&&Ge(t,Pt(t),e)};var It=t&&!t.nodeType&&t,Rt=It&&e&&!e.nodeType&&e,zt=Rt&&Rt.exports===It?E.Buffer:void 0,Ft=zt?zt.allocUnsafe:void 0;const Mt=function(e,t){if(t)return e.slice();var r=e.length,n=Ft?Ft(r):new e.constructor(r);return e.copy(n),n},Lt=function(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t},Nt=function(e,t){for(var r=-1,n=null==e?0:e.length,a=0,o=[];++r<n;){var i=e[r];t(i,r,e)&&(o[a++]=i)}return o},Dt=function(){return[]};var Ut=Object.prototype.propertyIsEnumerable,Vt=Object.getOwnPropertySymbols;const $t=Vt?function(e){return null==e?[]:(e=Object(e),Nt(Vt(e),(function(t){return Ut.call(e,t)})))}:Dt,Bt=function(e,t){return Ge(e,$t(e),t)},qt=function(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e},Wt=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)qt(t,$t(e)),e=R(e);return t}:Dt,Gt=function(e,t){return Ge(e,Wt(e),t)},Ht=function(e,t,r){var n=t(e);return Qe(e)?n:qt(n,r(e))},Yt=function(e){return Ht(e,xt,$t)},Kt=function(e){return Ht(e,Pt,Wt)},Zt=he(E,"DataView"),Xt=he(E,"Promise"),Jt=he(E,"Set"),Qt=he(E,"WeakMap");var er="[object Map]",tr="[object Promise]",rr="[object Set]",nr="[object WeakMap]",ar="[object DataView]",or=se(Zt),ir=se(_e),cr=se(Xt),sr=se(Jt),lr=se(Qt),ur=C;(Zt&&ur(new Zt(new ArrayBuffer(1)))!=ar||_e&&ur(new _e)!=er||Xt&&ur(Xt.resolve())!=tr||Jt&&ur(new Jt)!=rr||Qt&&ur(new Qt)!=nr)&&(ur=function(e){var t=C(e),r="[object Object]"==t?e.constructor:void 0,n=r?se(r):"";if(n)switch(n){case or:return ar;case ir:return er;case cr:return tr;case sr:return rr;case lr:return nr}return t});const fr=ur;var pr=Object.prototype.hasOwnProperty;const dr=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&pr.call(e,"index")&&(r.index=e.index,r.input=e.input),r},mr=E.Uint8Array,yr=function(e){var t=new e.constructor(e.byteLength);return new mr(t).set(new mr(e)),t},vr=function(e,t){var r=t?yr(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)};var hr=/\w*$/;const _r=function(e){var t=new e.constructor(e.source,hr.exec(e));return t.lastIndex=e.lastIndex,t};var br=j?j.prototype:void 0,gr=br?br.valueOf:void 0;const Er=function(e){return gr?Object(gr.call(e)):{}},jr=function(e,t){var r=t?yr(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)},Sr=function(e,t,r){var n=e.constructor;switch(t){case"[object ArrayBuffer]":return yr(e);case"[object Boolean]":case"[object Date]":return new n(+e);case"[object DataView]":return vr(e,r);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return jr(e,r);case"[object Map]":return new n;case"[object Number]":case"[object String]":return new n(e);case"[object RegExp]":return _r(e);case"[object Set]":return new n;case"[object Symbol]":return Er(e)}};var Or=Object.create;const xr=function(){function e(){}return function(t){if(!te(t))return{};if(Or)return Or(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Tr=function(e){return"function"!=typeof e.constructor||gt(e)?{}:xr(R(e))},wr=function(e){return z(e)&&"[object Map]"==fr(e)};var Ar=mt&&mt.isMap;const kr=Ar?ut(Ar):wr,Pr=function(e){return z(e)&&"[object Set]"==fr(e)};var Cr=mt&&mt.isSet;const Ir=Cr?ut(Cr):Pr;var Rr="[object Arguments]",zr="[object Function]",Fr="[object Object]",Mr={};Mr[Rr]=Mr["[object Array]"]=Mr["[object ArrayBuffer]"]=Mr["[object DataView]"]=Mr["[object Boolean]"]=Mr["[object Date]"]=Mr["[object Float32Array]"]=Mr["[object Float64Array]"]=Mr["[object Int8Array]"]=Mr["[object Int16Array]"]=Mr["[object Int32Array]"]=Mr["[object Map]"]=Mr["[object Number]"]=Mr["[object Object]"]=Mr["[object RegExp]"]=Mr["[object Set]"]=Mr["[object String]"]=Mr["[object Symbol]"]=Mr["[object Uint8Array]"]=Mr["[object Uint8ClampedArray]"]=Mr["[object Uint16Array]"]=Mr["[object Uint32Array]"]=!0,Mr["[object Error]"]=Mr[zr]=Mr["[object WeakMap]"]=!1;const Lr=function e(t,r,n,a,o,i){var c,s=1&r,l=2&r,u=4&r;if(n&&(c=o?n(t,a,o,i):n(t)),void 0!==c)return c;if(!te(t))return t;var f=Qe(t);if(f){if(c=dr(t),!s)return Lt(t,c)}else{var p=fr(t),d=p==zr||"[object GeneratorFunction]"==p;if(at(t))return Mt(t,s);if(p==Fr||p==Rr||d&&!o){if(c=l||d?{}:Tr(t),!s)return l?Gt(t,Ct(c,t)):Bt(t,Tt(c,t))}else{if(!Mr[p])return o?t:{};c=Sr(t,p,s)}}i||(i=new Ue);var m=i.get(t);if(m)return m;i.set(t,c),Ir(t)?t.forEach((function(a){c.add(e(a,r,n,a,t,i))})):kr(t)&&t.forEach((function(a,o){c.set(o,e(a,r,n,o,t,i))}));var y=f?void 0:(u?l?Kt:Yt:l?Pt:xt)(t);return Ve(y||t,(function(a,o){y&&(a=t[o=a]),We(c,o,e(a,r,n,o,t,i))})),c},Nr=function(e){return Lr(e,4)},Dr=function(e,t){for(var r=-1,n=null==e?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a},Ur=function(e){return"symbol"==typeof e||z(e)&&"[object Symbol]"==C(e)};function Vr(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],o=r.cache;if(o.has(a))return o.get(a);var i=e.apply(this,n);return r.cache=o.set(a,i)||o,i};return r.cache=new(Vr.Cache||Le),r}Vr.Cache=Le;const $r=Vr;var Br=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,qr=/\\(\\)?/g;const Wr=function(e){var t=$r(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Br,(function(e,r,n,a){t.push(n?a.replace(qr,"$1"):r||e)})),t})),Gr=function(e){if("string"==typeof e||Ur(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t};var Hr=j?j.prototype:void 0,Yr=Hr?Hr.toString:void 0;const Kr=function e(t){if("string"==typeof t)return t;if(Qe(t))return Dr(t,e)+"";if(Ur(t))return Yr?Yr.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r},Zr=function(e){return null==e?"":Kr(e)},Xr=function(e){return Qe(e)?Dr(e,Gr):Ur(e)?[e]:Lt(Wr(Zr(e)))},Jr=function(e,t){};u("../../../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js");const Qr=function(e){return Lr(e,5)};function en(){return(en=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function tn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function rn(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function nn(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var an=function(e){return Array.isArray(e)&&0===e.length},on=function(e){return"function"==typeof e},cn=function(e){return null!==e&&"object"==typeof e},sn=function(e){return String(Math.floor(Number(e)))===e},ln=function(e){return"[object String]"===Object.prototype.toString.call(e)},un=function(e){return 0===o.Children.count(e)},fn=function(e){return cn(e)&&on(e.then)};function pn(e,t,r,n){void 0===n&&(n=0);for(var a=Xr(t);e&&n<a.length;)e=e[a[n++]];return void 0===e?r:e}function dn(e,t,r){for(var n=Nr(e),a=n,o=0,i=Xr(t);o<i.length-1;o++){var c=i[o],s=pn(e,i.slice(0,o+1));if(s&&(cn(s)||Array.isArray(s)))a=a[c]=Nr(s);else{var l=i[o+1];a=a[c]=sn(l)&&Number(l)>=0?[]:{}}}return(0===o?e:a)[i[o]]===r?e:(void 0===r?delete a[i[o]]:a[i[o]]=r,0===o&&void 0===r&&delete n[i[o]],n)}function mn(e,t,r,n){void 0===r&&(r=new WeakMap),void 0===n&&(n={});for(var a=0,o=Object.keys(e);a<o.length;a++){var i=o[a],c=e[i];cn(c)?r.get(c)||(r.set(c,!0),n[i]=Array.isArray(c)?[]:{},mn(c,t,r,n[i])):n[i]=t}return n}var yn=(0,o.createContext)(void 0);yn.displayName="FormikContext";var vn=yn.Provider;function hn(){var e=(0,o.useContext)(yn);return e||Jr(!1),e}function _n(e,t){switch(t.type){case"SET_VALUES":return en({},e,{values:t.payload});case"SET_TOUCHED":return en({},e,{touched:t.payload});case"SET_ERRORS":return p()(e.errors,t.payload)?e:en({},e,{errors:t.payload});case"SET_STATUS":return en({},e,{status:t.payload});case"SET_ISSUBMITTING":return en({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return en({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return en({},e,{values:dn(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return en({},e,{touched:dn(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return en({},e,{errors:dn(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return en({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return en({},e,{touched:mn(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return en({},e,{isSubmitting:!1});default:return e}}yn.Consumer;var bn={},gn={};function En(e){var t=e.validateOnChange,r=void 0===t||t,n=e.validateOnBlur,a=void 0===n||n,i=e.validateOnMount,c=void 0!==i&&i,s=e.isInitialValid,l=e.enableReinitialize,u=void 0!==l&&l,f=e.onSubmit,d=rn(e,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),m=en({validateOnChange:r,validateOnBlur:a,validateOnMount:c,onSubmit:f},d),y=(0,o.useRef)(m.initialValues),v=(0,o.useRef)(m.initialErrors||bn),h=(0,o.useRef)(m.initialTouched||gn),b=(0,o.useRef)(m.initialStatus),g=(0,o.useRef)(!1),E=(0,o.useRef)({});(0,o.useEffect)((function(){return g.current=!0,function(){g.current=!1}}),[]);var j=(0,o.useReducer)(_n,{values:m.initialValues,errors:m.initialErrors||bn,touched:m.initialTouched||gn,status:m.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),S=j[0],O=j[1],x=(0,o.useCallback)((function(e,t){return new Promise((function(r,n){var a=m.validate(e,t);null==a?r(bn):fn(a)?a.then((function(e){r(e||bn)}),(function(e){n(e)})):r(a)}))}),[m.validate]),T=(0,o.useCallback)((function(e,t){var r=m.validationSchema,n=on(r)?r(t):r,a=t&&n.validateAt?n.validateAt(t,e):function(e,t,r,n){void 0===r&&(r=!1),void 0===n&&(n={});var a=Sn(e);return t[r?"validateSync":"validate"](a,{abortEarly:!1,context:n})}(e,n);return new Promise((function(e,t){a.then((function(){e(bn)}),(function(r){"ValidationError"===r.name?e(function(e){var t={};if(e.inner){if(0===e.inner.length)return dn(t,e.path,e.message);var r=e.inner,n=Array.isArray(r),a=0;for(r=n?r:r[Symbol.iterator]();;){var o;if(n){if(a>=r.length)break;o=r[a++]}else{if((a=r.next()).done)break;o=a.value}var i=o;pn(t,i.path)||(t=dn(t,i.path,i.message))}}return t}(r)):t(r)}))}))}),[m.validationSchema]),w=(0,o.useCallback)((function(e,t){return new Promise((function(r){return r(E.current[e].validate(t))}))}),[]),A=(0,o.useCallback)((function(e){var t=Object.keys(E.current).filter((function(e){return on(E.current[e].validate)})),r=t.length>0?t.map((function(t){return w(t,pn(e,t))})):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(r).then((function(e){return e.reduce((function(e,r,n){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===r||r&&(e=dn(e,t[n],r)),e}),{})}))}),[w]),k=(0,o.useCallback)((function(e){return Promise.all([A(e),m.validationSchema?T(e):{},m.validate?x(e):{}]).then((function(e){var t=e[0],r=e[1],n=e[2];return _.all([t,r,n],{arrayMerge:On})}))}),[m.validate,m.validationSchema,A,x,T]),P=Tn((function(e){return void 0===e&&(e=S.values),O({type:"SET_ISVALIDATING",payload:!0}),k(e).then((function(e){return g.current&&(O({type:"SET_ISVALIDATING",payload:!1}),O({type:"SET_ERRORS",payload:e})),e}))}));(0,o.useEffect)((function(){c&&!0===g.current&&p()(y.current,m.initialValues)&&P(y.current)}),[c,P]);var C=(0,o.useCallback)((function(e){var t=e&&e.values?e.values:y.current,r=e&&e.errors?e.errors:v.current?v.current:m.initialErrors||{},n=e&&e.touched?e.touched:h.current?h.current:m.initialTouched||{},a=e&&e.status?e.status:b.current?b.current:m.initialStatus;y.current=t,v.current=r,h.current=n,b.current=a;var o=function(){O({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:r,touched:n,status:a,values:t,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&"number"==typeof e.submitCount?e.submitCount:0}})};if(m.onReset){var i=m.onReset(S.values,Z);fn(i)?i.then(o):o()}else o()}),[m.initialErrors,m.initialStatus,m.initialTouched]);(0,o.useEffect)((function(){!0!==g.current||p()(y.current,m.initialValues)||(u&&(y.current=m.initialValues,C()),c&&P(y.current))}),[u,m.initialValues,C,c,P]),(0,o.useEffect)((function(){u&&!0===g.current&&!p()(v.current,m.initialErrors)&&(v.current=m.initialErrors||bn,O({type:"SET_ERRORS",payload:m.initialErrors||bn}))}),[u,m.initialErrors]),(0,o.useEffect)((function(){u&&!0===g.current&&!p()(h.current,m.initialTouched)&&(h.current=m.initialTouched||gn,O({type:"SET_TOUCHED",payload:m.initialTouched||gn}))}),[u,m.initialTouched]),(0,o.useEffect)((function(){u&&!0===g.current&&!p()(b.current,m.initialStatus)&&(b.current=m.initialStatus,O({type:"SET_STATUS",payload:m.initialStatus}))}),[u,m.initialStatus,m.initialTouched]);var I=Tn((function(e){if(E.current[e]&&on(E.current[e].validate)){var t=pn(S.values,e),r=E.current[e].validate(t);return fn(r)?(O({type:"SET_ISVALIDATING",payload:!0}),r.then((function(e){return e})).then((function(t){O({type:"SET_FIELD_ERROR",payload:{field:e,value:t}}),O({type:"SET_ISVALIDATING",payload:!1})}))):(O({type:"SET_FIELD_ERROR",payload:{field:e,value:r}}),Promise.resolve(r))}return m.validationSchema?(O({type:"SET_ISVALIDATING",payload:!0}),T(S.values,e).then((function(e){return e})).then((function(t){O({type:"SET_FIELD_ERROR",payload:{field:e,value:t[e]}}),O({type:"SET_ISVALIDATING",payload:!1})}))):Promise.resolve()})),R=(0,o.useCallback)((function(e,t){var r=t.validate;E.current[e]={validate:r}}),[]),z=(0,o.useCallback)((function(e){delete E.current[e]}),[]),F=Tn((function(e,t){return O({type:"SET_TOUCHED",payload:e}),(void 0===t?a:t)?P(S.values):Promise.resolve()})),M=(0,o.useCallback)((function(e){O({type:"SET_ERRORS",payload:e})}),[]),L=Tn((function(e,t){var n=on(e)?e(S.values):e;return O({type:"SET_VALUES",payload:n}),(void 0===t?r:t)?P(n):Promise.resolve()})),N=(0,o.useCallback)((function(e,t){O({type:"SET_FIELD_ERROR",payload:{field:e,value:t}})}),[]),D=Tn((function(e,t,n){return O({type:"SET_FIELD_VALUE",payload:{field:e,value:t}}),(void 0===n?r:n)?P(dn(S.values,e,t)):Promise.resolve()})),U=(0,o.useCallback)((function(e,t){var r,n=t,a=e;if(!ln(e)){e.persist&&e.persist();var o=e.target?e.target:e.currentTarget,i=o.type,c=o.name,s=o.id,l=o.value,u=o.checked,f=(o.outerHTML,o.options),p=o.multiple;n=t||c||s,a=/number|range/.test(i)?(r=parseFloat(l),isNaN(r)?"":r):/checkbox/.test(i)?function(e,t,r){if("boolean"==typeof e)return Boolean(t);var n=[],a=!1,o=-1;if(Array.isArray(e))n=e,a=(o=e.indexOf(r))>=0;else if(!r||"true"==r||"false"==r)return Boolean(t);return t&&r&&!a?n.concat(r):a?n.slice(0,o).concat(n.slice(o+1)):n}(pn(S.values,n),u,l):f&&p?function(e){return Array.from(e).filter((function(e){return e.selected})).map((function(e){return e.value}))}(f):l}n&&D(n,a)}),[D,S.values]),V=Tn((function(e){if(ln(e))return function(t){return U(t,e)};U(e)})),$=Tn((function(e,t,r){return void 0===t&&(t=!0),O({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t}}),(void 0===r?a:r)?P(S.values):Promise.resolve()})),B=(0,o.useCallback)((function(e,t){e.persist&&e.persist();var r=e.target,n=r.name,a=r.id,o=(r.outerHTML,t||n||a);$(o,!0)}),[$]),q=Tn((function(e){if(ln(e))return function(t){return B(t,e)};B(e)})),W=(0,o.useCallback)((function(e){on(e)?O({type:"SET_FORMIK_STATE",payload:e}):O({type:"SET_FORMIK_STATE",payload:function(){return e}})}),[]),G=(0,o.useCallback)((function(e){O({type:"SET_STATUS",payload:e})}),[]),H=(0,o.useCallback)((function(e){O({type:"SET_ISSUBMITTING",payload:e})}),[]),Y=Tn((function(){return O({type:"SUBMIT_ATTEMPT"}),P().then((function(e){var t=e instanceof Error;if(!t&&0===Object.keys(e).length){var r;try{if(void 0===(r=X()))return}catch(e){throw e}return Promise.resolve(r).then((function(e){return g.current&&O({type:"SUBMIT_SUCCESS"}),e})).catch((function(e){if(g.current)throw O({type:"SUBMIT_FAILURE"}),e}))}if(g.current&&(O({type:"SUBMIT_FAILURE"}),t))throw e}))})),K=Tn((function(e){e&&e.preventDefault&&on(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&on(e.stopPropagation)&&e.stopPropagation(),Y().catch((function(e){console.warn("Warning: An unhandled error was caught from submitForm()",e)}))})),Z={resetForm:C,validateForm:P,validateField:I,setErrors:M,setFieldError:N,setFieldTouched:$,setFieldValue:D,setStatus:G,setSubmitting:H,setTouched:F,setValues:L,setFormikState:W,submitForm:Y},X=Tn((function(){return f(S.values,Z)})),J=Tn((function(e){e&&e.preventDefault&&on(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&on(e.stopPropagation)&&e.stopPropagation(),C()})),Q=(0,o.useCallback)((function(e){return{value:pn(S.values,e),error:pn(S.errors,e),touched:!!pn(S.touched,e),initialValue:pn(y.current,e),initialTouched:!!pn(h.current,e),initialError:pn(v.current,e)}}),[S.errors,S.touched,S.values]),ee=(0,o.useCallback)((function(e){return{setValue:function(t,r){return D(e,t,r)},setTouched:function(t,r){return $(e,t,r)},setError:function(t){return N(e,t)}}}),[D,$,N]),te=(0,o.useCallback)((function(e){var t=cn(e),r=t?e.name:e,n=pn(S.values,r),a={name:r,value:n,onChange:V,onBlur:q};if(t){var o=e.type,i=e.value,c=e.as,s=e.multiple;"checkbox"===o?void 0===i?a.checked=!!n:(a.checked=!(!Array.isArray(n)||!~n.indexOf(i)),a.value=i):"radio"===o?(a.checked=n===i,a.value=i):"select"===c&&s&&(a.value=a.value||[],a.multiple=!0)}return a}),[q,V,S.values]),re=(0,o.useMemo)((function(){return!p()(y.current,S.values)}),[y.current,S.values]),ne=(0,o.useMemo)((function(){return void 0!==s?re?S.errors&&0===Object.keys(S.errors).length:!1!==s&&on(s)?s(m):s:S.errors&&0===Object.keys(S.errors).length}),[s,re,S.errors,m]);return en({},S,{initialValues:y.current,initialErrors:v.current,initialTouched:h.current,initialStatus:b.current,handleBlur:q,handleChange:V,handleReset:J,handleSubmit:K,resetForm:C,setErrors:M,setFormikState:W,setFieldTouched:$,setFieldValue:D,setFieldError:N,setStatus:G,setSubmitting:H,setTouched:F,setValues:L,submitForm:Y,validateForm:P,validateField:I,isValid:ne,dirty:re,unregisterField:z,registerField:R,getFieldProps:te,getFieldMeta:Q,getFieldHelpers:ee,validateOnBlur:a,validateOnChange:r,validateOnMount:c})}function jn(e){var t=En(e),r=e.component,n=e.children,a=e.render,i=e.innerRef;return(0,o.useImperativeHandle)(i,(function(){return t})),(0,o.createElement)(vn,{value:t},r?(0,o.createElement)(r,t):a?a(t):n?on(n)?n(t):un(n)?null:o.Children.only(n):null)}function Sn(e){var t=Array.isArray(e)?[]:{};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var n=String(r);!0===Array.isArray(e[n])?t[n]=e[n].map((function(e){return!0===Array.isArray(e)||U(e)?Sn(e):""!==e?e:void 0})):U(e[n])?t[n]=Sn(e[n]):t[n]=""!==e[n]?e[n]:void 0}return t}function On(e,t,r){var n=e.slice();return t.forEach((function(t,a){if(void 0===n[a]){var o=!1!==r.clone&&r.isMergeableObject(t);n[a]=o?_(Array.isArray(t)?[]:{},t,r):t}else r.isMergeableObject(t)?n[a]=_(e[a],t,r):-1===e.indexOf(t)&&n.push(t)})),n}var xn="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?o.useLayoutEffect:o.useEffect;function Tn(e){var t=(0,o.useRef)(e);return xn((function(){t.current=e})),(0,o.useCallback)((function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return t.current.apply(void 0,r)}),[])}function wn(e){var t=e.validate,r=e.name,n=e.render,a=e.children,i=e.as,c=e.component,s=rn(e,["validate","name","render","children","as","component"]),l=rn(hn(),["validate","validationSchema"]),u=l.registerField,f=l.unregisterField;(0,o.useEffect)((function(){return u(r,{validate:t}),function(){f(r)}}),[u,f,r,t]);var p=l.getFieldProps(en({name:r},s)),d=l.getFieldMeta(r),m={field:p,form:l};if(n)return n(en({},m,{meta:d}));if(on(a))return a(en({},m,{meta:d}));if(c){if("string"==typeof c){var y=s.innerRef,v=rn(s,["innerRef"]);return(0,o.createElement)(c,en({ref:y},p,v),a)}return(0,o.createElement)(c,en({field:p,form:l},s),a)}var h=i||"input";if("string"==typeof h){var _=s.innerRef,b=rn(s,["innerRef"]);return(0,o.createElement)(h,en({ref:_},p,b),a)}return(0,o.createElement)(h,en({},p,s),a)}var An=(0,o.forwardRef)((function(e,t){var r=e.action,n=rn(e,["action"]),a=null!=r?r:"#",i=hn(),c=i.handleReset,s=i.handleSubmit;return(0,o.createElement)("form",Object.assign({onSubmit:s,ref:t,onReset:c,action:a},n))}));An.displayName="Form";var kn=function(e,t,r){var n=Pn(e);return n.splice(t,0,r),n},Pn=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map((function(e){return parseInt(e)})).reduce((function(e,t){return t>e?t:e}),0);return Array.from(en({},e,{length:t+1}))}return[]};(function(e){function t(t){var r;return(r=e.call(this,t)||this).updateArrayField=function(e,t,n){var a=r.props,o=a.name;(0,a.formik.setFormikState)((function(r){var a="function"==typeof n?n:e,i="function"==typeof t?t:e,c=dn(r.values,o,e(pn(r.values,o))),s=n?a(pn(r.errors,o)):void 0,l=t?i(pn(r.touched,o)):void 0;return an(s)&&(s=void 0),an(l)&&(l=void 0),en({},r,{values:c,errors:n?dn(r.errors,o,s):r.errors,touched:t?dn(r.touched,o,l):r.touched})}))},r.push=function(e){return r.updateArrayField((function(t){return[].concat(Pn(t),[Qr(e)])}),!1,!1)},r.handlePush=function(e){return function(){return r.push(e)}},r.swap=function(e,t){return r.updateArrayField((function(r){return function(e,t,r){var n=Pn(e),a=n[t];return n[t]=n[r],n[r]=a,n}(r,e,t)}),!0,!0)},r.handleSwap=function(e,t){return function(){return r.swap(e,t)}},r.move=function(e,t){return r.updateArrayField((function(r){return function(e,t,r){var n=Pn(e),a=n[t];return n.splice(t,1),n.splice(r,0,a),n}(r,e,t)}),!0,!0)},r.handleMove=function(e,t){return function(){return r.move(e,t)}},r.insert=function(e,t){return r.updateArrayField((function(r){return kn(r,e,t)}),(function(t){return kn(t,e,null)}),(function(t){return kn(t,e,null)}))},r.handleInsert=function(e,t){return function(){return r.insert(e,t)}},r.replace=function(e,t){return r.updateArrayField((function(r){return function(e,t,r){var n=Pn(e);return n[t]=r,n}(r,e,t)}),!1,!1)},r.handleReplace=function(e,t){return function(){return r.replace(e,t)}},r.unshift=function(e){var t=-1;return r.updateArrayField((function(r){var n=r?[e].concat(r):[e];return t<0&&(t=n.length),n}),(function(e){var r=e?[null].concat(e):[null];return t<0&&(t=r.length),r}),(function(e){var r=e?[null].concat(e):[null];return t<0&&(t=r.length),r})),t},r.handleUnshift=function(e){return function(){return r.unshift(e)}},r.handleRemove=function(e){return function(){return r.remove(e)}},r.handlePop=function(){return function(){return r.pop()}},r.remove=r.remove.bind(nn(r)),r.pop=r.pop.bind(nn(r)),r}tn(t,e);var r=t.prototype;return r.componentDidUpdate=function(e){this.props.validateOnChange&&this.props.formik.validateOnChange&&!p()(pn(e.formik.values,e.name),pn(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(e){var t;return this.updateArrayField((function(r){var n=r?Pn(r):[];return t||(t=n[e]),on(n.splice)&&n.splice(e,1),n}),!0,!0),t},r.pop=function(){var e;return this.updateArrayField((function(t){var r=t;return e||(e=r&&r.pop&&r.pop()),r}),!0,!0),e},r.render=function(){var e={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},t=this.props,r=t.component,n=t.render,a=t.children,i=t.name,c=en({},e,{form:rn(t.formik,["validate","validationSchema"]),name:i});return r?(0,o.createElement)(r,c):n?n(c):a?"function"==typeof a?a(c):un(a)?null:o.Children.only(a):null},t}(o.Component)).defaultProps={validateOnChange:!0},o.Component,o.Component;var Cn=u("@deriv/components"),In=u("@deriv/shared"),Rn=u("@deriv/translations"),zn=u("./Components/load-error-message/index.js"),Fn=function(e){var t=e.title,r=e.descriptions,n=e.onClickLearnMore,a=(null==r?void 0:r.length)>0,i=1===(null==r?void 0:r.length);return o.createElement("article",{className:"da-article"},o.createElement(Cn.Text,{as:"h4",color:"prominent",line_height:"m",size:"xs",weight:"bold",className:"da-article__header"},t),a&&o.createElement(o.Fragment,null,i?o.createElement(Cn.Text,{as:"p",size:"xxs",line_height:"m"},r[0]):o.createElement("ul",{className:"da-article__list"},r.map((function(e,t){return o.createElement("li",{key:t},o.createElement(Cn.Text,{size:"xxs",line_height:"xs"},e.component||e))})))),n&&o.createElement("div",{className:"da-article__learn-more",onClick:n},o.createElement(Cn.Text,{size:"xxs",color:"loss-danger",line_height:"s"},o.createElement(Rn.Localize,{i18n_default_text:"Learn more"})),o.createElement(Cn.Icon,{icon:"IcChevronRight",className:"da-article__learn-more-icon",color:"red"})))};Fn.propTypes={descriptions:a().array.isRequired,onClickLearnMore:a().func,title:a().string.isRequired};const Mn=Fn,Ln=function(){return i().createElement(Mn,{title:(0,Rn.localize)("API token"),descriptions:[i().createElement(Rn.Localize,{key:0,i18n_default_text:"To access your mobile apps and other third-party apps, you'll first need to generate an API token."})]})};function Nn(){return(Nn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}var Dn=function(e){var t=e.name,r=e.value,n=e.display_name,a=e.description,i=e.setFieldValue;return o.createElement(wn,{name:t},(function(e){var c=e.field;return o.createElement(Cn.CompositeCheckbox,Nn({},c,{onChange:function(){return i(t,!r)},value:r,className:"api-token__checkbox",defaultChecked:r,label:n,description:a}))}))};Dn.propTypes={description:a().string.isRequired,display_name:a().string.isRequired,name:a().string.isRequired,value:a().oneOfType([a().string,a().bool]),setFieldValue:a().func.isRequired};const Un=Dn;var Vn=u("react-dom");const $n=o.createContext(),Bn=function(){var e=o.useContext($n),t=e.footer_ref,r=e.toggleOverlay;return(0,Vn.createPortal)(o.createElement(Cn.AppSettings.Footer,null,o.createElement(Cn.AppSettings.Footer.Left,null,o.createElement("a",{className:"link link--prominent",onClick:r},o.createElement(Cn.Text,{size:"xxs",line_height:"m",weight:"bold"},o.createElement(Rn.Localize,{i18n_default_text:"Learn more about API token"}))))),t)},qn=function(){var e=o.useContext($n),t=e.overlay_ref,r=e.toggleOverlay;return o.createElement(Cn.Popup.Overlay,{descriptions:[{key:"api_token_desc_1",component:o.createElement(Rn.Localize,{key:0,i18n_default_text:"To access our mobile apps and other third-party apps, you'll first need to generate an API token."})}],done_text:(0,Rn.localize)("Done"),overlay_ref:t,title:(0,Rn.localize)("API Token"),toggleOverlay:r})};function Wn(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Gn(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Gn(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Gn(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Hn=function(e){var t=e.token,r=o.useContext($n).deleteToken,n=Wn(o.useState(!1),2),a=n[0],i=n[1],c=(0,In.useIsMounted)(),s=o.useRef(null);return o.useEffect((function(){a?s.current=setTimeout((function(){c()&&i(!1)}),1e4):clearTimeout(s.current)}),[a]),a?o.createElement(Cn.Button.Group,null,o.createElement(Cn.Button,{type:"button",secondary:!0,small:!0,onClick:function(){return i(!1)}},o.createElement(Rn.Localize,{i18n_default_text:"No"})),o.createElement(Cn.Button,{type:"button",secondary:!0,small:!0,onClick:function(){r(t.token).finally((function(){c()&&i(!1)}))}},o.createElement(Rn.Localize,{i18n_default_text:"Yes"}))):o.createElement(Cn.Button,{type:"button",secondary:!0,small:!0,onClick:function(){return i(!0)}},o.createElement(Rn.Localize,{i18n_default_text:"Delete"}))};Hn.propTypes={token:a().shape({display_name:a().string.isRequired,last_used:a().string.isRequired,scopes:a().string.isRequired,token:a().string.isRequired}).isRequired};const Yn=Hn;var Kn=function(e){var t=e.className,r=e.children;return e.should_bypass_text?o.createElement("td",{className:s()("da-api-token__table-cell",t)},r):o.createElement("td",{className:s()("da-api-token__table-cell",t)},o.createElement(Cn.Text,{color:"prominent ",size:"xs",line_height:"m"},r))};Kn.propTypes={children:a().any.isRequired,should_bypass_text:a().bool};const Zn=Kn;var Xn=function(e){var t=e.token;return o.createElement("tr",{className:"da-api-token__table-cell-row"},o.createElement(Zn,{className:"da-api-token__table-cell--name"},t.display_name),o.createElement(Zn,{should_bypass_text:!0},o.createElement("div",{className:"da-api-token__clipboard-wrapper"},o.createElement(Cn.Text,{as:"p",color:"prominent ",size:"xs",line_height:"m"},t.token),o.createElement(Cn.Clipboard,{className:"da-api-token__clipboard",info_message:(0,Rn.localize)("Click here to copy token"),popover_props:{relative_render:!1,zIndex:9999},success_message:(0,Rn.localize)("Token copied!"),text_copy:t.token}))),o.createElement(Zn,null,t.scopes),o.createElement(Zn,null,t.last_used),o.createElement(Zn,{should_bypass_text:!0},o.createElement(Yn,{token:t})))};Xn.propTypes={token:a().shape({display_name:a().string.isRequired,last_used:a().string.isRequired,scopes:a().string.isRequired,token:a().string.isRequired}).isRequired};const Jn=Xn;var Qn=function(e){var t=e.text;return o.createElement("th",{className:"da-api-token__table-header"},o.createElement(Cn.Text,{color:"prominent ",size:"xs",line_height:"m",weight:"bold"},t))};Qn.propTypes={text:a().string.isRequired};const ea=Qn,ta=function(){var e=o.useContext($n).api_tokens,t=function(e){var t=e.scopes.map((function(e){return(t=(e||"").replace(/-|_/g," "))[0].toUpperCase()+t.slice(1).toLowerCase();var t})),r=5===t.length?(0,Rn.localize)("All"):t.join(", "),n=e.last_used?(0,In.formatDate)(e.last_used,"DD/MM/YYYY"):(0,Rn.localize)("Never");return{display_name:e.display_name,scopes:r,last_used:n,token:e.token}};return(0,In.isMobile)()?e.map((function(e){var r=t(e);return o.createElement("div",{key:r.token,className:"da-api-token__scope"},o.createElement("div",{className:"da-api-token__scope-item"},o.createElement("div",null,o.createElement(Cn.Text,{as:"h5",size:"xxs",color:"general",line_height:"xs",weight:"bold"},o.createElement(Rn.Localize,{i18n_default_text:"Name"})),o.createElement(Cn.Text,{className:"da-api-token__scope-item--name",as:"p",size:"s",color:"general",line_height:"m"},r.display_name))),o.createElement("div",{className:"da-api-token__scope-item"},o.createElement("div",null,o.createElement(Cn.Text,{as:"h5",size:"xxs",color:"general",line_height:"xs",weight:"bold"},o.createElement(Rn.Localize,{i18n_default_text:"Token"})),o.createElement("div",{className:"da-api-token__clipboard-wrapper"},o.createElement(Cn.Text,{size:"xs",color:"general",line_height:"m"},r.token),o.createElement(Cn.Clipboard,{className:"da-api-token__clipboard",popover_props:{relative_render:!1,zIndex:9999},text_copy:r.token}))),o.createElement("div",null,o.createElement(Cn.Text,{as:"h5",size:"xxs",color:"general",line_height:"xs",weight:"bold"},o.createElement(Rn.Localize,{i18n_default_text:"Last Used"})),o.createElement(Cn.Text,{as:"p",size:"s",color:"general",line_height:"m"},r.last_used))),o.createElement("div",{className:"da-api-token__scope-item"},o.createElement("div",null,o.createElement(Cn.Text,{as:"h5",size:"xxs",color:"general",line_height:"xs",weight:"bold"},o.createElement(Rn.Localize,{i18n_default_text:"Scope"})),o.createElement(Cn.Text,{as:"p",size:"s",color:"general",line_height:"m"},r.scopes)),o.createElement("div",null,o.createElement(Yn,{token:r}))))})):o.createElement("table",{className:"da-api-token__table"},o.createElement("thead",null,o.createElement("tr",{className:"da-api-token__table-header-row"},o.createElement(ea,{text:(0,Rn.localize)("Name")}),o.createElement(ea,{text:(0,Rn.localize)("Token")}),o.createElement(ea,{text:(0,Rn.localize)("Scopes")}),o.createElement(ea,{text:(0,Rn.localize)("Last used")}),o.createElement(ea,{text:(0,Rn.localize)("Action")}))),o.createElement("tbody",null,e.map((function(e){return o.createElement(Jn,{key:e.token,token:t(e)})}))))};function ra(){return(ra=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function na(e,t,r,n,a,o,i){try{var c=e[o](i),s=c.value}catch(e){return void r(e)}c.done?t(s):Promise.resolve(s).then(n,a)}function aa(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){na(o,n,a,i,c,"next",e)}function c(e){na(o,n,a,i,c,"throw",e)}i(void 0)}))}}function oa(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ia(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oa(Object(r),!0).forEach((function(t){ca(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oa(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function ca(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function sa(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],i=!0,c=!1;try{for(r=r.call(e);!(i=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(c)throw a}}return o}}(e,t)||function(e,t){if(e){if("string"==typeof e)return la(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?la(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function la(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ua=function(e){var t=e.footer_ref,r=e.is_app_settings,n=e.is_switching,a=e.overlay_ref,i=e.setIsOverlayShown,c=e.ws,l=(0,In.useIsMounted)(),u=o.useRef(n),f=sa(o.useReducer((function(e,t){return ia(ia({},e),t)}),{api_tokens:[],is_loading:!0,is_success:!1,is_overlay_shown:!1,error_message:"",show_delete:!1,dispose_token:"",is_delete_loading:!1,is_delete_success:!1}),2),p=f[0],d=f[1];o.useEffect((function(){return h(),function(){return d({dispose_token:""})}}),[]),o.useEffect((function(){u.current!==n&&(u.current=n,h())}),[n]),o.useEffect((function(){"function"==typeof i&&i(p.is_overlay_shown)}),[p.is_overlay_shown,i]);var m=function(e){return Object.keys(e).filter((function(t){return"token_name"!==t&&e[t]}))},y=function(){var e=aa(regeneratorRuntime.mark((function e(t,r){var n,a,o,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.setSubmitting,a=r.setFieldError,o=r.resetForm,e.next=3,c.apiToken({api_token:1,new_token:t.token_name,new_token_scopes:m(t)});case 3:(i=e.sent).error?a("token_name",i.error.message):l()&&(d({is_success:!0,api_tokens:(0,In.getPropertyValue)(i,["api_token","tokens"])}),setTimeout((function(){l()&&d({is_success:!1})}),500)),o(),n(!1);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}(),v=function(e){l()&&(e.error?d({is_loading:!1,error_message:(0,In.getPropertyValue)(e,["error","message"])}):d({is_loading:!1,api_tokens:(0,In.getPropertyValue)(e,["api_token","tokens"])}))},h=function(){var e=aa(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d({is_loading:!0}),e.next=3,c.authorized.apiToken({api_token:1});case 3:t=e.sent,v(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=aa(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d({is_delete_loading:!0}),e.next=3,c.authorized.apiToken({api_token:1,delete_token:t});case 3:r=e.sent,v(r),l()&&d({is_delete_loading:!1,is_delete_success:!0}),setTimeout((function(){l&&d({is_delete_success:!1})}),500);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=p.api_tokens,g=p.is_loading,E=p.is_success,j=p.error_message,S=p.is_overlay_shown;if(g||n)return o.createElement(Cn.Loading,{is_fullscreen:!1,className:"account__initial-loader"});if(j)return o.createElement(zn.default,{error_message:j});var O={api_tokens:b,toggleOverlay:function(){return d({is_overlay_shown:!p.is_overlay_shown})},deleteToken:_,footer_ref:t,overlay_ref:a};return o.createElement(o.Fragment,null,o.createElement($n.Provider,{value:O},o.createElement("section",{className:s()("da-api-token",{"da-api-token--app-settings":r})},o.createElement("div",{className:"da-api-token__wrapper"},o.createElement(Cn.ThemedScrollbars,{className:"da-api-token__scrollbars",is_bypassed:(0,In.isMobile)()},!r&&(0,In.isMobile)()&&o.createElement(Ln,null),o.createElement(jn,{initialValues:{token_name:"",read:!1,trade:!1,payments:!1,admin:!1,trading_information:!1},onSubmit:y,validate:function(e){var t={},r=e.token_name&&e.token_name.trim();return r?/^[A-Za-z0-9\s_]+$/g.test(r)?r.length<2?t.token_name=(0,Rn.localize)("Length of token name must be between {{MIN_TOKEN}} and {{MAX_TOKEN}} characters.",{MIN_TOKEN:2,MAX_TOKEN:32}):r.length>32&&(t.token_name=(0,Rn.localize)("Maximum {{MAX_TOKEN}} characters.",{MAX_TOKEN:32})):t.token_name=(0,Rn.localize)("Only letters, numbers, and underscores are allowed."):t.token_name=(0,Rn.localize)("Please enter a token name."),t}},(function(e){var t=e.values,r=e.errors,n=e.isValid,a=e.dirty,i=e.touched,c=e.handleChange,l=e.handleBlur,u=e.isSubmitting,f=e.setFieldValue,p=e.setFieldTouched;return o.createElement(An,{noValidate:!0},o.createElement(Cn.Timeline,{className:"da-api-token__timeline"},o.createElement(Cn.Timeline.Item,{item_title:(0,Rn.localize)("Select scopes based on the access you need.")},o.createElement("div",{className:"da-api-token__checkbox-wrapper"},o.createElement(Un,{name:"read",value:t.read,setFieldValue:f,display_name:(0,Rn.localize)("Read"),description:(0,Rn.localize)("View account activity such as settings, limits, balance sheets, trade purchase history, and more.")}),o.createElement(Un,{name:"trade",value:t.trade,display_name:(0,Rn.localize)("Trade"),setFieldValue:f,description:(0,Rn.localize)("Buy and sell contracts, renew expired purchases, and top up demo accounts.")}),o.createElement(Un,{name:"payments",value:t.payments,display_name:(0,Rn.localize)("Payments"),setFieldValue:f,description:(0,Rn.localize)("Withdraw to payment agents, and transfer funds between accounts.")}),o.createElement(Un,{name:"admin",value:t.admin,display_name:(0,Rn.localize)("Admin"),setFieldValue:f,description:(0,Rn.localize)("Open accounts, manage settings, manage token usage, and more.")}),o.createElement(Un,{name:"trading_information",value:t.trading_information,display_name:(0,Rn.localize)("Trading information"),setFieldValue:f,description:(0,Rn.localize)("View the trading history.")}))),o.createElement(Cn.Timeline.Item,{item_title:(0,Rn.localize)("Name your token and click on 'Create' to generate your token.")},o.createElement("div",{className:"da-api-token__input-group"},o.createElement(wn,{name:"token_name"},(function(e){var n=e.field;return o.createElement(Cn.Input,ra({},n,{"data-lpignore":"true",type:"text",className:"da-api-token__input dc-input__input-group",label:(0,Rn.localize)("Token name"),value:t.token_name,onChange:function(e){p("token_name",!0),c(e)},onBlur:l,hint:(0,Rn.localize)("Length of token name must be between 2 and 32 characters."),required:!0,error:i.token_name&&r.token_name}))})),o.createElement(Cn.Button,{className:s()("dc-btn__button-group","da-api-token__button",{"da-api-token__button--success":E}),type:"submit",is_disabled:!a||u||!n||!m(t).length,has_effect:!0,is_loading:u,is_submit_success:E,text:(0,Rn.localize)("Create"),primary:!0,large:!0}))),o.createElement(Cn.Timeline.Item,{item_title:(0,Rn.localize)("Copy and paste the token into the app.")},o.createElement(ta,null))))}))),!r&&(0,In.isDesktop)()&&o.createElement(Ln,{title:(0,Rn.localize)("API token"),descriptions:[o.createElement(Rn.Localize,{key:0,i18n_default_text:"To access our mobile apps and other third-party apps, you'll first need to generate an API token."})]}))),t&&o.createElement(Bn,null),a&&S&&o.createElement(qn,null)))};ua.propTypes={footer_ref:a().shape({current:a().any}),is_app_settings:a().bool,is_switching:a().bool,overlay_ref:a().shape({current:a().any}),setIsOverlayShown:a().func,ws:a().any.isRequired};const fa=ua})(),f.default})())}}]);