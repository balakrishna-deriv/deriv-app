/*! For license information please see api-token.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@deriv/components"),require("@deriv/shared"),require("@deriv/translations"),require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["@deriv/components","@deriv/shared","@deriv/translations","react","react-dom"],t):"object"==typeof exports?exports["@deriv/account"]=t(require("@deriv/components"),require("@deriv/shared"),require("@deriv/translations"),require("react"),require("react-dom")):e["@deriv/account"]=t(e["@deriv/components"],e["@deriv/shared"],e["@deriv/translations"],e.react,e["react-dom"])}(self,(function(e,t,n,r,o){return(()=>{var a={"./Components/icon-message-content/index.ts":(e,t,n)=>{"use strict";n.d(t,{default:()=>u});var r=n("react"),o=n.n(r),a=n("../../../node_modules/classnames/index.js"),i=n.n(a),c=n("@deriv/components"),s=n("@deriv/shared");function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}const u=function(e){var t=e.children,n=e.className,r=e.full_width,a=e.icon,u=e.message,f=e.text;return o().createElement(c.Div100vhContainer,{className:i()("account-management__message-wrapper",{"account-management__message-wrapper-full-width":r}),is_disabled:(0,s.isDesktop)(),height_offset:"110px"},o().createElement("div",{className:i()("account-management__message-content",l({},"".concat(n,"__message-content"),n))},a&&o().createElement("div",{className:i()("account-management__message-icon",l({},"".concat(n,"__message-icon"),n))},a),o().createElement(c.Text,{as:"div",color:"general",weight:"bold",size:"s",align:"center",className:i()("account-management__message",l({},"".concat(n,"__message"),n))},u),f&&o().createElement("div",{className:"account-management__text-container"},o().createElement(c.Text,{className:i()(l({},"".concat(n,"__text"),n)),as:"p",size:"xs",align:"center"},f)),t))}},"./Components/load-error-message/index.ts":(e,t,n)=>{"use strict";n.d(t,{default:()=>c});var r=n("react"),o=n.n(r),a=n("@deriv/components"),i=n("./Components/icon-message-content/index.ts");const c=function(e){var t=e.error_message;return o().createElement(i.default,{message:t,icon:o().createElement(a.Icon,{icon:"IcPoaLock",size:128})})}},"../../../node_modules/classnames/index.js":(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var i=o.apply(null,n);i&&e.push(i)}}else if("object"===a){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var c in n)r.call(n,c)&&n[c]&&e.push(c)}}}return e.join(" ")}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},"../../../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js":(e,t,n)=>{"use strict";var r=n("../../../node_modules/react-is/index.js"),o={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},i={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},c={};function s(e){return r.isMemo(e)?i:c[e.$$typeof]||o}c[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},c[r.Memo]=i;var l=Object.defineProperty,u=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,m=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(m){var o=d(n);o&&o!==m&&e(t,o,r)}var i=u(n);f&&(i=i.concat(f(n)));for(var c=s(t),y=s(n),v=0;v<i.length;++v){var h=i[v];if(!(a[h]||r&&r[h]||y&&y[h]||c&&c[h])){var _=p(n,h);try{l(t,h,_)}catch(e){}}}}return t}},"../../../node_modules/prop-types/factoryWithThrowingShims.js":(e,t,n)=>{"use strict";var r=n("../../../node_modules/prop-types/lib/ReactPropTypesSecret.js");function o(){}function a(){}a.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,a,i){if(i!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},"../../../node_modules/prop-types/index.js":(e,t,n)=>{e.exports=n("../../../node_modules/prop-types/factoryWithThrowingShims.js")()},"../../../node_modules/prop-types/lib/ReactPropTypesSecret.js":e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},"../../../node_modules/react-fast-compare/index.js":e=>{"use strict";var t=Array.isArray,n=Object.keys,r=Object.prototype.hasOwnProperty,o="undefined"!=typeof Element;function a(e,i){if(e===i)return!0;if(e&&i&&"object"==typeof e&&"object"==typeof i){var c,s,l,u=t(e),f=t(i);if(u&&f){if((s=e.length)!=i.length)return!1;for(c=s;0!=c--;)if(!a(e[c],i[c]))return!1;return!0}if(u!=f)return!1;var p=e instanceof Date,d=i instanceof Date;if(p!=d)return!1;if(p&&d)return e.getTime()==i.getTime();var m=e instanceof RegExp,y=i instanceof RegExp;if(m!=y)return!1;if(m&&y)return e.toString()==i.toString();var v=n(e);if((s=v.length)!==n(i).length)return!1;for(c=s;0!=c--;)if(!r.call(i,v[c]))return!1;if(o&&e instanceof Element&&i instanceof Element)return e===i;for(c=s;0!=c--;)if(!("_owner"===(l=v[c])&&e.$$typeof||a(e[l],i[l])))return!1;return!0}return e!=e&&i!=i}e.exports=function(e,t){try{return a(e,t)}catch(e){if(e.message&&e.message.match(/stack|recursion/i)||-2146828260===e.number)return console.warn("Warning: react-fast-compare does not handle circular references.",e.name,e.message),!1;throw e}}},"../../../node_modules/react-is/cjs/react-is.production.min.js":(e,t)=>{"use strict";var n="function"==typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,o=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,i=n?Symbol.for("react.strict_mode"):60108,c=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,l=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,m=n?Symbol.for("react.suspense_list"):60120,y=n?Symbol.for("react.memo"):60115,v=n?Symbol.for("react.lazy"):60116,h=n?Symbol.for("react.block"):60121,_=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,g=n?Symbol.for("react.scope"):60119;function E(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case f:case a:case c:case i:case d:return e;default:switch(e=e&&e.$$typeof){case l:case p:case v:case y:case s:return e;default:return t}}case o:return t}}}function j(e){return E(e)===f}t.AsyncMode=u,t.ConcurrentMode=f,t.ContextConsumer=l,t.ContextProvider=s,t.Element=r,t.ForwardRef=p,t.Fragment=a,t.Lazy=v,t.Memo=y,t.Portal=o,t.Profiler=c,t.StrictMode=i,t.Suspense=d,t.isAsyncMode=function(e){return j(e)||E(e)===u},t.isConcurrentMode=j,t.isContextConsumer=function(e){return E(e)===l},t.isContextProvider=function(e){return E(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return E(e)===p},t.isFragment=function(e){return E(e)===a},t.isLazy=function(e){return E(e)===v},t.isMemo=function(e){return E(e)===y},t.isPortal=function(e){return E(e)===o},t.isProfiler=function(e){return E(e)===c},t.isStrictMode=function(e){return E(e)===i},t.isSuspense=function(e){return E(e)===d},t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===a||e===f||e===c||e===i||e===d||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===y||e.$$typeof===s||e.$$typeof===l||e.$$typeof===p||e.$$typeof===_||e.$$typeof===b||e.$$typeof===g||e.$$typeof===h)},t.typeOf=E},"../../../node_modules/react-is/index.js":(e,t,n)=>{"use strict";e.exports=n("../../../node_modules/react-is/cjs/react-is.production.min.js")},"@deriv/components":t=>{"use strict";t.exports=e},"@deriv/shared":e=>{"use strict";e.exports=t},"@deriv/translations":e=>{"use strict";e.exports=n},react:e=>{"use strict";e.exports=r},"react-dom":e=>{"use strict";e.exports=o}},i={};function c(e){var t=i[e];if(void 0!==t)return t.exports;var n=i[e]={exports:{}};return a[e](n,n.exports,c),n.exports}c.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return c.d(t,{a:t}),t},c.d=(e,t)=>{for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var s={};return(()=>{"use strict";c.d(s,{default:()=>bo});var e=c("react"),t=c.n(e),n=c("../../../node_modules/classnames/index.js"),r=c.n(n),o=c("../../../node_modules/react-fast-compare/index.js"),a=c.n(o),i=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===l}(e)}(e)};var l="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function u(e,t){return!1!==t.clone&&t.isMergeableObject(e)?p((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function f(e,t,n){return e.concat(t).map((function(e){return u(e,n)}))}function p(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||f,n.isMergeableObject=n.isMergeableObject||i;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):function(e,t,n){var r={};return n.isMergeableObject(e)&&Object.keys(e).forEach((function(t){r[t]=u(e[t],n)})),Object.keys(t).forEach((function(o){n.isMergeableObject(t[o])&&e[o]?r[o]=p(e[o],t[o],n):r[o]=u(t[o],n)})),r}(e,t,n):u(t,n)}p.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return p(e,n,t)}),{})};const d=p;const m="object"==typeof global&&global&&global.Object===Object&&global;var y="object"==typeof self&&self&&self.Object===Object&&self;const v=m||y||Function("return this")();const h=v.Symbol;var _=Object.prototype,b=_.hasOwnProperty,g=_.toString,E=h?h.toStringTag:void 0;const j=function(e){var t=b.call(e,E),n=e[E];try{e[E]=void 0;var r=!0}catch(e){}var o=g.call(e);return r&&(t?e[E]=n:delete e[E]),o};var S=Object.prototype.toString;const k=function(e){return S.call(e)};var O=h?h.toStringTag:void 0;const w=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":O&&O in Object(e)?j(e):k(e)};const T=function(e,t){return function(n){return e(t(n))}};const x=T(Object.getPrototypeOf,Object);const A=function(e){return null!=e&&"object"==typeof e};var I=Function.prototype,C=Object.prototype,P=I.toString,z=C.hasOwnProperty,F=P.call(Object);const R=function(e){if(!A(e)||"[object Object]"!=w(e))return!1;var t=x(e);if(null===t)return!0;var n=z.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&P.call(n)==F};const N=function(){this.__data__=[],this.size=0};const M=function(e,t){return e===t||e!=e&&t!=t};const D=function(e,t){for(var n=e.length;n--;)if(M(e[n][0],t))return n;return-1};var L=Array.prototype.splice;const U=function(e){var t=this.__data__,n=D(t,e);return!(n<0)&&(n==t.length-1?t.pop():L.call(t,n,1),--this.size,!0)};const V=function(e){var t=this.__data__,n=D(t,e);return n<0?void 0:t[n][1]};const $=function(e){return D(this.__data__,e)>-1};const B=function(e,t){var n=this.__data__,r=D(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this};function q(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}q.prototype.clear=N,q.prototype.delete=U,q.prototype.get=V,q.prototype.has=$,q.prototype.set=B;const W=q;const H=function(){this.__data__=new W,this.size=0};const G=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n};const K=function(e){return this.__data__.get(e)};const Y=function(e){return this.__data__.has(e)};const X=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)};const Z=function(e){if(!X(e))return!1;var t=w(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t};const J=v["__core-js_shared__"];var Q,ee=(Q=/[^.]+$/.exec(J&&J.keys&&J.keys.IE_PROTO||""))?"Symbol(src)_1."+Q:"";const te=function(e){return!!ee&&ee in e};var ne=Function.prototype.toString;const re=function(e){if(null!=e){try{return ne.call(e)}catch(e){}try{return e+""}catch(e){}}return""};var oe=/^\[object .+?Constructor\]$/,ae=Function.prototype,ie=Object.prototype,ce=ae.toString,se=ie.hasOwnProperty,le=RegExp("^"+ce.call(se).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const ue=function(e){return!(!X(e)||te(e))&&(Z(e)?le:oe).test(re(e))};const fe=function(e,t){return null==e?void 0:e[t]};const pe=function(e,t){var n=fe(e,t);return ue(n)?n:void 0};const de=pe(v,"Map");const me=pe(Object,"create");const ye=function(){this.__data__=me?me(null):{},this.size=0};const ve=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t};var he=Object.prototype.hasOwnProperty;const _e=function(e){var t=this.__data__;if(me){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return he.call(t,e)?t[e]:void 0};var be=Object.prototype.hasOwnProperty;const ge=function(e){var t=this.__data__;return me?void 0!==t[e]:be.call(t,e)};const Ee=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=me&&void 0===t?"__lodash_hash_undefined__":t,this};function je(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}je.prototype.clear=ye,je.prototype.delete=ve,je.prototype.get=_e,je.prototype.has=ge,je.prototype.set=Ee;const Se=je;const ke=function(){this.size=0,this.__data__={hash:new Se,map:new(de||W),string:new Se}};const Oe=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e};const we=function(e,t){var n=e.__data__;return Oe(t)?n["string"==typeof t?"string":"hash"]:n.map};const Te=function(e){var t=we(this,e).delete(e);return this.size-=t?1:0,t};const xe=function(e){return we(this,e).get(e)};const Ae=function(e){return we(this,e).has(e)};const Ie=function(e,t){var n=we(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this};function Ce(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ce.prototype.clear=ke,Ce.prototype.delete=Te,Ce.prototype.get=xe,Ce.prototype.has=Ae,Ce.prototype.set=Ie;const Pe=Ce;const ze=function(e,t){var n=this.__data__;if(n instanceof W){var r=n.__data__;if(!de||r.length<199)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new Pe(r)}return n.set(e,t),this.size=n.size,this};function Fe(e){var t=this.__data__=new W(e);this.size=t.size}Fe.prototype.clear=H,Fe.prototype.delete=G,Fe.prototype.get=K,Fe.prototype.has=Y,Fe.prototype.set=ze;const Re=Fe;const Ne=function(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e};const Me=function(){try{var e=pe(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();const De=function(e,t,n){"__proto__"==t&&Me?Me(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n};var Le=Object.prototype.hasOwnProperty;const Ue=function(e,t,n){var r=e[t];Le.call(e,t)&&M(r,n)&&(void 0!==n||t in e)||De(e,t,n)};const Ve=function(e,t,n,r){var o=!n;n||(n={});for(var a=-1,i=t.length;++a<i;){var c=t[a],s=r?r(n[c],e[c],c,n,e):void 0;void 0===s&&(s=e[c]),o?De(n,c,s):Ue(n,c,s)}return n};const $e=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r};const Be=function(e){return A(e)&&"[object Arguments]"==w(e)};var qe=Object.prototype,We=qe.hasOwnProperty,He=qe.propertyIsEnumerable,Ge=Be(function(){return arguments}())?Be:function(e){return A(e)&&We.call(e,"callee")&&!He.call(e,"callee")};const Ke=Ge;const Ye=Array.isArray;const Xe=function(){return!1};var Ze="object"==typeof exports&&exports&&!exports.nodeType&&exports,Je=Ze&&"object"==typeof module&&module&&!module.nodeType&&module,Qe=Je&&Je.exports===Ze?v.Buffer:void 0;const et=(Qe?Qe.isBuffer:void 0)||Xe;var tt=/^(?:0|[1-9]\d*)$/;const nt=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&tt.test(e))&&e>-1&&e%1==0&&e<t};const rt=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991};var ot={};ot["[object Float32Array]"]=ot["[object Float64Array]"]=ot["[object Int8Array]"]=ot["[object Int16Array]"]=ot["[object Int32Array]"]=ot["[object Uint8Array]"]=ot["[object Uint8ClampedArray]"]=ot["[object Uint16Array]"]=ot["[object Uint32Array]"]=!0,ot["[object Arguments]"]=ot["[object Array]"]=ot["[object ArrayBuffer]"]=ot["[object Boolean]"]=ot["[object DataView]"]=ot["[object Date]"]=ot["[object Error]"]=ot["[object Function]"]=ot["[object Map]"]=ot["[object Number]"]=ot["[object Object]"]=ot["[object RegExp]"]=ot["[object Set]"]=ot["[object String]"]=ot["[object WeakMap]"]=!1;const at=function(e){return A(e)&&rt(e.length)&&!!ot[w(e)]};const it=function(e){return function(t){return e(t)}};var ct="object"==typeof exports&&exports&&!exports.nodeType&&exports,st=ct&&"object"==typeof module&&module&&!module.nodeType&&module,lt=st&&st.exports===ct&&m.process;const ut=function(){try{var e=st&&st.require&&st.require("util").types;return e||lt&&lt.binding&&lt.binding("util")}catch(e){}}();var ft=ut&&ut.isTypedArray;const pt=ft?it(ft):at;var dt=Object.prototype.hasOwnProperty;const mt=function(e,t){var n=Ye(e),r=!n&&Ke(e),o=!n&&!r&&et(e),a=!n&&!r&&!o&&pt(e),i=n||r||o||a,c=i?$e(e.length,String):[],s=c.length;for(var l in e)!t&&!dt.call(e,l)||i&&("length"==l||o&&("offset"==l||"parent"==l)||a&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||nt(l,s))||c.push(l);return c};var yt=Object.prototype;const vt=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||yt)};const ht=T(Object.keys,Object);var _t=Object.prototype.hasOwnProperty;const bt=function(e){if(!vt(e))return ht(e);var t=[];for(var n in Object(e))_t.call(e,n)&&"constructor"!=n&&t.push(n);return t};const gt=function(e){return null!=e&&rt(e.length)&&!Z(e)};const Et=function(e){return gt(e)?mt(e):bt(e)};const jt=function(e,t){return e&&Ve(t,Et(t),e)};const St=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t};var kt=Object.prototype.hasOwnProperty;const Ot=function(e){if(!X(e))return St(e);var t=vt(e),n=[];for(var r in e)("constructor"!=r||!t&&kt.call(e,r))&&n.push(r);return n};const wt=function(e){return gt(e)?mt(e,!0):Ot(e)};const Tt=function(e,t){return e&&Ve(t,wt(t),e)};var xt="object"==typeof exports&&exports&&!exports.nodeType&&exports,At=xt&&"object"==typeof module&&module&&!module.nodeType&&module,It=At&&At.exports===xt?v.Buffer:void 0,Ct=It?It.allocUnsafe:void 0;const Pt=function(e,t){if(t)return e.slice();var n=e.length,r=Ct?Ct(n):new e.constructor(n);return e.copy(r),r};const zt=function(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t};const Ft=function(e,t){for(var n=-1,r=null==e?0:e.length,o=0,a=[];++n<r;){var i=e[n];t(i,n,e)&&(a[o++]=i)}return a};const Rt=function(){return[]};var Nt=Object.prototype.propertyIsEnumerable,Mt=Object.getOwnPropertySymbols;const Dt=Mt?function(e){return null==e?[]:(e=Object(e),Ft(Mt(e),(function(t){return Nt.call(e,t)})))}:Rt;const Lt=function(e,t){return Ve(e,Dt(e),t)};const Ut=function(e,t){for(var n=-1,r=t.length,o=e.length;++n<r;)e[o+n]=t[n];return e};const Vt=Object.getOwnPropertySymbols?function(e){for(var t=[];e;)Ut(t,Dt(e)),e=x(e);return t}:Rt;const $t=function(e,t){return Ve(e,Vt(e),t)};const Bt=function(e,t,n){var r=t(e);return Ye(e)?r:Ut(r,n(e))};const qt=function(e){return Bt(e,Et,Dt)};const Wt=function(e){return Bt(e,wt,Vt)};const Ht=pe(v,"DataView");const Gt=pe(v,"Promise");const Kt=pe(v,"Set");const Yt=pe(v,"WeakMap");var Xt="[object Map]",Zt="[object Promise]",Jt="[object Set]",Qt="[object WeakMap]",en="[object DataView]",tn=re(Ht),nn=re(de),rn=re(Gt),on=re(Kt),an=re(Yt),cn=w;(Ht&&cn(new Ht(new ArrayBuffer(1)))!=en||de&&cn(new de)!=Xt||Gt&&cn(Gt.resolve())!=Zt||Kt&&cn(new Kt)!=Jt||Yt&&cn(new Yt)!=Qt)&&(cn=function(e){var t=w(e),n="[object Object]"==t?e.constructor:void 0,r=n?re(n):"";if(r)switch(r){case tn:return en;case nn:return Xt;case rn:return Zt;case on:return Jt;case an:return Qt}return t});const sn=cn;var ln=Object.prototype.hasOwnProperty;const un=function(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&ln.call(e,"index")&&(n.index=e.index,n.input=e.input),n};const fn=v.Uint8Array;const pn=function(e){var t=new e.constructor(e.byteLength);return new fn(t).set(new fn(e)),t};const dn=function(e,t){var n=t?pn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)};var mn=/\w*$/;const yn=function(e){var t=new e.constructor(e.source,mn.exec(e));return t.lastIndex=e.lastIndex,t};var vn=h?h.prototype:void 0,hn=vn?vn.valueOf:void 0;const _n=function(e){return hn?Object(hn.call(e)):{}};const bn=function(e,t){var n=t?pn(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)};const gn=function(e,t,n){var r=e.constructor;switch(t){case"[object ArrayBuffer]":return pn(e);case"[object Boolean]":case"[object Date]":return new r(+e);case"[object DataView]":return dn(e,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return bn(e,n);case"[object Map]":case"[object Set]":return new r;case"[object Number]":case"[object String]":return new r(e);case"[object RegExp]":return yn(e);case"[object Symbol]":return _n(e)}};var En=Object.create;const jn=function(){function e(){}return function(t){if(!X(t))return{};if(En)return En(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const Sn=function(e){return"function"!=typeof e.constructor||vt(e)?{}:jn(x(e))};const kn=function(e){return A(e)&&"[object Map]"==sn(e)};var On=ut&&ut.isMap;const wn=On?it(On):kn;const Tn=function(e){return A(e)&&"[object Set]"==sn(e)};var xn=ut&&ut.isSet;const An=xn?it(xn):Tn;var In="[object Arguments]",Cn="[object Function]",Pn="[object Object]",zn={};zn[In]=zn["[object Array]"]=zn["[object ArrayBuffer]"]=zn["[object DataView]"]=zn["[object Boolean]"]=zn["[object Date]"]=zn["[object Float32Array]"]=zn["[object Float64Array]"]=zn["[object Int8Array]"]=zn["[object Int16Array]"]=zn["[object Int32Array]"]=zn["[object Map]"]=zn["[object Number]"]=zn["[object Object]"]=zn["[object RegExp]"]=zn["[object Set]"]=zn["[object String]"]=zn["[object Symbol]"]=zn["[object Uint8Array]"]=zn["[object Uint8ClampedArray]"]=zn["[object Uint16Array]"]=zn["[object Uint32Array]"]=!0,zn["[object Error]"]=zn[Cn]=zn["[object WeakMap]"]=!1;const Fn=function e(t,n,r,o,a,i){var c,s=1&n,l=2&n,u=4&n;if(r&&(c=a?r(t,o,a,i):r(t)),void 0!==c)return c;if(!X(t))return t;var f=Ye(t);if(f){if(c=un(t),!s)return zt(t,c)}else{var p=sn(t),d=p==Cn||"[object GeneratorFunction]"==p;if(et(t))return Pt(t,s);if(p==Pn||p==In||d&&!a){if(c=l||d?{}:Sn(t),!s)return l?$t(t,Tt(c,t)):Lt(t,jt(c,t))}else{if(!zn[p])return a?t:{};c=gn(t,p,s)}}i||(i=new Re);var m=i.get(t);if(m)return m;i.set(t,c),An(t)?t.forEach((function(o){c.add(e(o,n,r,o,t,i))})):wn(t)&&t.forEach((function(o,a){c.set(a,e(o,n,r,a,t,i))}));var y=f?void 0:(u?l?Wt:qt:l?wt:Et)(t);return Ne(y||t,(function(o,a){y&&(o=t[a=o]),Ue(c,a,e(o,n,r,a,t,i))})),c};const Rn=function(e){return Fn(e,4)};const Nn=function(e,t){for(var n=-1,r=null==e?0:e.length,o=Array(r);++n<r;)o[n]=t(e[n],n,e);return o};const Mn=function(e){return"symbol"==typeof e||A(e)&&"[object Symbol]"==w(e)};function Dn(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var n=function(){var r=arguments,o=t?t.apply(this,r):r[0],a=n.cache;if(a.has(o))return a.get(o);var i=e.apply(this,r);return n.cache=a.set(o,i)||a,i};return n.cache=new(Dn.Cache||Pe),n}Dn.Cache=Pe;const Ln=Dn;var Un=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vn=/\\(\\)?/g;const $n=function(e){var t=Ln(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(Un,(function(e,n,r,o){t.push(r?o.replace(Vn,"$1"):n||e)})),t}));const Bn=function(e){if("string"==typeof e||Mn(e))return e;var t=e+"";return"0"==t&&1/e==-Infinity?"-0":t};var qn=h?h.prototype:void 0,Wn=qn?qn.toString:void 0;const Hn=function e(t){if("string"==typeof t)return t;if(Ye(t))return Nn(t,e)+"";if(Mn(t))return Wn?Wn.call(t):"";var n=t+"";return"0"==n&&1/t==-Infinity?"-0":n};const Gn=function(e){return null==e?"":Hn(e)};const Kn=function(e){return Ye(e)?Nn(e,Bn):Mn(e)?[e]:zt($n(Gn(e)))};const Yn=function(e,t){};c("../../../node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js");const Xn=function(e){return Fn(e,5)};function Zn(){return Zn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Zn.apply(this,arguments)}function Jn(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Qn(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}function er(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var tr=function(e){return Array.isArray(e)&&0===e.length},nr=function(e){return"function"==typeof e},rr=function(e){return null!==e&&"object"==typeof e},or=function(e){return String(Math.floor(Number(e)))===e},ar=function(e){return"[object String]"===Object.prototype.toString.call(e)},ir=function(t){return 0===e.Children.count(t)},cr=function(e){return rr(e)&&nr(e.then)};function sr(e,t,n,r){void 0===r&&(r=0);for(var o=Kn(t);e&&r<o.length;)e=e[o[r++]];return void 0===e?n:e}function lr(e,t,n){for(var r=Rn(e),o=r,a=0,i=Kn(t);a<i.length-1;a++){var c=i[a],s=sr(e,i.slice(0,a+1));if(s&&(rr(s)||Array.isArray(s)))o=o[c]=Rn(s);else{var l=i[a+1];o=o[c]=or(l)&&Number(l)>=0?[]:{}}}return(0===a?e:o)[i[a]]===n?e:(void 0===n?delete o[i[a]]:o[i[a]]=n,0===a&&void 0===n&&delete r[i[a]],r)}function ur(e,t,n,r){void 0===n&&(n=new WeakMap),void 0===r&&(r={});for(var o=0,a=Object.keys(e);o<a.length;o++){var i=a[o],c=e[i];rr(c)?n.get(c)||(n.set(c,!0),r[i]=Array.isArray(c)?[]:{},ur(c,t,n,r[i])):r[i]=t}return r}var fr=(0,e.createContext)(void 0);fr.displayName="FormikContext";var pr=fr.Provider;fr.Consumer;function dr(){var t=(0,e.useContext)(fr);return t||Yn(!1),t}function mr(e,t){switch(t.type){case"SET_VALUES":return Zn({},e,{values:t.payload});case"SET_TOUCHED":return Zn({},e,{touched:t.payload});case"SET_ERRORS":return a()(e.errors,t.payload)?e:Zn({},e,{errors:t.payload});case"SET_STATUS":return Zn({},e,{status:t.payload});case"SET_ISSUBMITTING":return Zn({},e,{isSubmitting:t.payload});case"SET_ISVALIDATING":return Zn({},e,{isValidating:t.payload});case"SET_FIELD_VALUE":return Zn({},e,{values:lr(e.values,t.payload.field,t.payload.value)});case"SET_FIELD_TOUCHED":return Zn({},e,{touched:lr(e.touched,t.payload.field,t.payload.value)});case"SET_FIELD_ERROR":return Zn({},e,{errors:lr(e.errors,t.payload.field,t.payload.value)});case"RESET_FORM":return Zn({},e,t.payload);case"SET_FORMIK_STATE":return t.payload(e);case"SUBMIT_ATTEMPT":return Zn({},e,{touched:ur(e.values,!0),isSubmitting:!0,submitCount:e.submitCount+1});case"SUBMIT_FAILURE":case"SUBMIT_SUCCESS":return Zn({},e,{isSubmitting:!1});default:return e}}var yr={},vr={};function hr(t){var n=t.validateOnChange,r=void 0===n||n,o=t.validateOnBlur,i=void 0===o||o,c=t.validateOnMount,s=void 0!==c&&c,l=t.isInitialValid,u=t.enableReinitialize,f=void 0!==u&&u,p=t.onSubmit,m=Qn(t,["validateOnChange","validateOnBlur","validateOnMount","isInitialValid","enableReinitialize","onSubmit"]),y=Zn({validateOnChange:r,validateOnBlur:i,validateOnMount:s,onSubmit:p},m),v=(0,e.useRef)(y.initialValues),h=(0,e.useRef)(y.initialErrors||yr),_=(0,e.useRef)(y.initialTouched||vr),b=(0,e.useRef)(y.initialStatus),g=(0,e.useRef)(!1),E=(0,e.useRef)({});(0,e.useEffect)((function(){return g.current=!0,function(){g.current=!1}}),[]);var j=(0,e.useReducer)(mr,{values:y.initialValues,errors:y.initialErrors||yr,touched:y.initialTouched||vr,status:y.initialStatus,isSubmitting:!1,isValidating:!1,submitCount:0}),S=j[0],k=j[1],O=(0,e.useCallback)((function(e,t){return new Promise((function(n,r){var o=y.validate(e,t);null==o?n(yr):cr(o)?o.then((function(e){n(e||yr)}),(function(e){r(e)})):n(o)}))}),[y.validate]),w=(0,e.useCallback)((function(e,t){var n=y.validationSchema,r=nr(n)?n(t):n,o=t&&r.validateAt?r.validateAt(t,e):function(e,t,n,r){void 0===n&&(n=!1);void 0===r&&(r={});var o=br(e);return t[n?"validateSync":"validate"](o,{abortEarly:!1,context:r})}(e,r);return new Promise((function(e,t){o.then((function(){e(yr)}),(function(n){"ValidationError"===n.name?e(function(e){var t={};if(e.inner){if(0===e.inner.length)return lr(t,e.path,e.message);var n=e.inner,r=Array.isArray(n),o=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(o>=n.length)break;a=n[o++]}else{if((o=n.next()).done)break;a=o.value}var i=a;sr(t,i.path)||(t=lr(t,i.path,i.message))}}return t}(n)):t(n)}))}))}),[y.validationSchema]),T=(0,e.useCallback)((function(e,t){return new Promise((function(n){return n(E.current[e].validate(t))}))}),[]),x=(0,e.useCallback)((function(e){var t=Object.keys(E.current).filter((function(e){return nr(E.current[e].validate)})),n=t.length>0?t.map((function(t){return T(t,sr(e,t))})):[Promise.resolve("DO_NOT_DELETE_YOU_WILL_BE_FIRED")];return Promise.all(n).then((function(e){return e.reduce((function(e,n,r){return"DO_NOT_DELETE_YOU_WILL_BE_FIRED"===n||n&&(e=lr(e,t[r],n)),e}),{})}))}),[T]),A=(0,e.useCallback)((function(e){return Promise.all([x(e),y.validationSchema?w(e):{},y.validate?O(e):{}]).then((function(e){var t=e[0],n=e[1],r=e[2];return d.all([t,n,r],{arrayMerge:gr})}))}),[y.validate,y.validationSchema,x,O,w]),I=jr((function(e){return void 0===e&&(e=S.values),k({type:"SET_ISVALIDATING",payload:!0}),A(e).then((function(e){return g.current&&(k({type:"SET_ISVALIDATING",payload:!1}),k({type:"SET_ERRORS",payload:e})),e}))}));(0,e.useEffect)((function(){s&&!0===g.current&&a()(v.current,y.initialValues)&&I(v.current)}),[s,I]);var C=(0,e.useCallback)((function(e){var t=e&&e.values?e.values:v.current,n=e&&e.errors?e.errors:h.current?h.current:y.initialErrors||{},r=e&&e.touched?e.touched:_.current?_.current:y.initialTouched||{},o=e&&e.status?e.status:b.current?b.current:y.initialStatus;v.current=t,h.current=n,_.current=r,b.current=o;var a=function(){k({type:"RESET_FORM",payload:{isSubmitting:!!e&&!!e.isSubmitting,errors:n,touched:r,status:o,values:t,isValidating:!!e&&!!e.isValidating,submitCount:e&&e.submitCount&&"number"==typeof e.submitCount?e.submitCount:0}})};if(y.onReset){var i=y.onReset(S.values,X);cr(i)?i.then(a):a()}else a()}),[y.initialErrors,y.initialStatus,y.initialTouched]);(0,e.useEffect)((function(){!0!==g.current||a()(v.current,y.initialValues)||(f&&(v.current=y.initialValues,C()),s&&I(v.current))}),[f,y.initialValues,C,s,I]),(0,e.useEffect)((function(){f&&!0===g.current&&!a()(h.current,y.initialErrors)&&(h.current=y.initialErrors||yr,k({type:"SET_ERRORS",payload:y.initialErrors||yr}))}),[f,y.initialErrors]),(0,e.useEffect)((function(){f&&!0===g.current&&!a()(_.current,y.initialTouched)&&(_.current=y.initialTouched||vr,k({type:"SET_TOUCHED",payload:y.initialTouched||vr}))}),[f,y.initialTouched]),(0,e.useEffect)((function(){f&&!0===g.current&&!a()(b.current,y.initialStatus)&&(b.current=y.initialStatus,k({type:"SET_STATUS",payload:y.initialStatus}))}),[f,y.initialStatus,y.initialTouched]);var P=jr((function(e){if(E.current[e]&&nr(E.current[e].validate)){var t=sr(S.values,e),n=E.current[e].validate(t);return cr(n)?(k({type:"SET_ISVALIDATING",payload:!0}),n.then((function(e){return e})).then((function(t){k({type:"SET_FIELD_ERROR",payload:{field:e,value:t}}),k({type:"SET_ISVALIDATING",payload:!1})}))):(k({type:"SET_FIELD_ERROR",payload:{field:e,value:n}}),Promise.resolve(n))}return y.validationSchema?(k({type:"SET_ISVALIDATING",payload:!0}),w(S.values,e).then((function(e){return e})).then((function(t){k({type:"SET_FIELD_ERROR",payload:{field:e,value:t[e]}}),k({type:"SET_ISVALIDATING",payload:!1})}))):Promise.resolve()})),z=(0,e.useCallback)((function(e,t){var n=t.validate;E.current[e]={validate:n}}),[]),F=(0,e.useCallback)((function(e){delete E.current[e]}),[]),R=jr((function(e,t){return k({type:"SET_TOUCHED",payload:e}),(void 0===t?i:t)?I(S.values):Promise.resolve()})),N=(0,e.useCallback)((function(e){k({type:"SET_ERRORS",payload:e})}),[]),M=jr((function(e,t){var n=nr(e)?e(S.values):e;return k({type:"SET_VALUES",payload:n}),(void 0===t?r:t)?I(n):Promise.resolve()})),D=(0,e.useCallback)((function(e,t){k({type:"SET_FIELD_ERROR",payload:{field:e,value:t}})}),[]),L=jr((function(e,t,n){return k({type:"SET_FIELD_VALUE",payload:{field:e,value:t}}),(void 0===n?r:n)?I(lr(S.values,e,t)):Promise.resolve()})),U=(0,e.useCallback)((function(e,t){var n,r=t,o=e;if(!ar(e)){e.persist&&e.persist();var a=e.target?e.target:e.currentTarget,i=a.type,c=a.name,s=a.id,l=a.value,u=a.checked,f=(a.outerHTML,a.options),p=a.multiple;r=t||(c||s),o=/number|range/.test(i)?(n=parseFloat(l),isNaN(n)?"":n):/checkbox/.test(i)?function(e,t,n){if("boolean"==typeof e)return Boolean(t);var r=[],o=!1,a=-1;if(Array.isArray(e))r=e,o=(a=e.indexOf(n))>=0;else if(!n||"true"==n||"false"==n)return Boolean(t);if(t&&n&&!o)return r.concat(n);if(!o)return r;return r.slice(0,a).concat(r.slice(a+1))}(sr(S.values,r),u,l):f&&p?function(e){return Array.from(e).filter((function(e){return e.selected})).map((function(e){return e.value}))}(f):l}r&&L(r,o)}),[L,S.values]),V=jr((function(e){if(ar(e))return function(t){return U(t,e)};U(e)})),$=jr((function(e,t,n){return void 0===t&&(t=!0),k({type:"SET_FIELD_TOUCHED",payload:{field:e,value:t}}),(void 0===n?i:n)?I(S.values):Promise.resolve()})),B=(0,e.useCallback)((function(e,t){e.persist&&e.persist();var n=e.target,r=n.name,o=n.id,a=(n.outerHTML,t||(r||o));$(a,!0)}),[$]),q=jr((function(e){if(ar(e))return function(t){return B(t,e)};B(e)})),W=(0,e.useCallback)((function(e){nr(e)?k({type:"SET_FORMIK_STATE",payload:e}):k({type:"SET_FORMIK_STATE",payload:function(){return e}})}),[]),H=(0,e.useCallback)((function(e){k({type:"SET_STATUS",payload:e})}),[]),G=(0,e.useCallback)((function(e){k({type:"SET_ISSUBMITTING",payload:e})}),[]),K=jr((function(){return k({type:"SUBMIT_ATTEMPT"}),I().then((function(e){var t=e instanceof Error;if(!t&&0===Object.keys(e).length){var n;try{if(void 0===(n=Z()))return}catch(e){throw e}return Promise.resolve(n).then((function(e){return g.current&&k({type:"SUBMIT_SUCCESS"}),e})).catch((function(e){if(g.current)throw k({type:"SUBMIT_FAILURE"}),e}))}if(g.current&&(k({type:"SUBMIT_FAILURE"}),t))throw e}))})),Y=jr((function(e){e&&e.preventDefault&&nr(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&nr(e.stopPropagation)&&e.stopPropagation(),K().catch((function(e){console.warn("Warning: An unhandled error was caught from submitForm()",e)}))})),X={resetForm:C,validateForm:I,validateField:P,setErrors:N,setFieldError:D,setFieldTouched:$,setFieldValue:L,setStatus:H,setSubmitting:G,setTouched:R,setValues:M,setFormikState:W,submitForm:K},Z=jr((function(){return p(S.values,X)})),J=jr((function(e){e&&e.preventDefault&&nr(e.preventDefault)&&e.preventDefault(),e&&e.stopPropagation&&nr(e.stopPropagation)&&e.stopPropagation(),C()})),Q=(0,e.useCallback)((function(e){return{value:sr(S.values,e),error:sr(S.errors,e),touched:!!sr(S.touched,e),initialValue:sr(v.current,e),initialTouched:!!sr(_.current,e),initialError:sr(h.current,e)}}),[S.errors,S.touched,S.values]),ee=(0,e.useCallback)((function(e){return{setValue:function(t,n){return L(e,t,n)},setTouched:function(t,n){return $(e,t,n)},setError:function(t){return D(e,t)}}}),[L,$,D]),te=(0,e.useCallback)((function(e){var t=rr(e),n=t?e.name:e,r=sr(S.values,n),o={name:n,value:r,onChange:V,onBlur:q};if(t){var a=e.type,i=e.value,c=e.as,s=e.multiple;"checkbox"===a?void 0===i?o.checked=!!r:(o.checked=!(!Array.isArray(r)||!~r.indexOf(i)),o.value=i):"radio"===a?(o.checked=r===i,o.value=i):"select"===c&&s&&(o.value=o.value||[],o.multiple=!0)}return o}),[q,V,S.values]),ne=(0,e.useMemo)((function(){return!a()(v.current,S.values)}),[v.current,S.values]),re=(0,e.useMemo)((function(){return void 0!==l?ne?S.errors&&0===Object.keys(S.errors).length:!1!==l&&nr(l)?l(y):l:S.errors&&0===Object.keys(S.errors).length}),[l,ne,S.errors,y]);return Zn({},S,{initialValues:v.current,initialErrors:h.current,initialTouched:_.current,initialStatus:b.current,handleBlur:q,handleChange:V,handleReset:J,handleSubmit:Y,resetForm:C,setErrors:N,setFormikState:W,setFieldTouched:$,setFieldValue:L,setFieldError:D,setStatus:H,setSubmitting:G,setTouched:R,setValues:M,submitForm:K,validateForm:I,validateField:P,isValid:re,dirty:ne,unregisterField:F,registerField:z,getFieldProps:te,getFieldMeta:Q,getFieldHelpers:ee,validateOnBlur:i,validateOnChange:r,validateOnMount:s})}function _r(t){var n=hr(t),r=t.component,o=t.children,a=t.render,i=t.innerRef;return(0,e.useImperativeHandle)(i,(function(){return n})),(0,e.createElement)(pr,{value:n},r?(0,e.createElement)(r,n):a?a(n):o?nr(o)?o(n):ir(o)?null:e.Children.only(o):null)}function br(e){var t=Array.isArray(e)?[]:{};for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=String(n);!0===Array.isArray(e[r])?t[r]=e[r].map((function(e){return!0===Array.isArray(e)||R(e)?br(e):""!==e?e:void 0})):R(e[r])?t[r]=br(e[r]):t[r]=""!==e[r]?e[r]:void 0}return t}function gr(e,t,n){var r=e.slice();return t.forEach((function(t,o){if(void 0===r[o]){var a=!1!==n.clone&&n.isMergeableObject(t);r[o]=a?d(Array.isArray(t)?[]:{},t,n):t}else n.isMergeableObject(t)?r[o]=d(e[o],t,n):-1===e.indexOf(t)&&r.push(t)})),r}var Er="undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement?e.useLayoutEffect:e.useEffect;function jr(t){var n=(0,e.useRef)(t);return Er((function(){n.current=t})),(0,e.useCallback)((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.current.apply(void 0,t)}),[])}function Sr(t){var n=t.validate,r=t.name,o=t.render,a=t.children,i=t.as,c=t.component,s=Qn(t,["validate","name","render","children","as","component"]),l=Qn(dr(),["validate","validationSchema"]);var u=l.registerField,f=l.unregisterField;(0,e.useEffect)((function(){return u(r,{validate:n}),function(){f(r)}}),[u,f,r,n]);var p=l.getFieldProps(Zn({name:r},s)),d=l.getFieldMeta(r),m={field:p,form:l};if(o)return o(Zn({},m,{meta:d}));if(nr(a))return a(Zn({},m,{meta:d}));if(c){if("string"==typeof c){var y=s.innerRef,v=Qn(s,["innerRef"]);return(0,e.createElement)(c,Zn({ref:y},p,v),a)}return(0,e.createElement)(c,Zn({field:p,form:l},s),a)}var h=i||"input";if("string"==typeof h){var _=s.innerRef,b=Qn(s,["innerRef"]);return(0,e.createElement)(h,Zn({ref:_},p,b),a)}return(0,e.createElement)(h,Zn({},p,s),a)}var kr=(0,e.forwardRef)((function(t,n){var r=t.action,o=Qn(t,["action"]),a=null!=r?r:"#",i=dr(),c=i.handleReset,s=i.handleSubmit;return(0,e.createElement)("form",Object.assign({onSubmit:s,ref:n,onReset:c,action:a},o))}));kr.displayName="Form";var Or=function(e,t,n){var r=wr(e);return r.splice(t,0,n),r},wr=function(e){if(e){if(Array.isArray(e))return[].concat(e);var t=Object.keys(e).map((function(e){return parseInt(e)})).reduce((function(e,t){return t>e?t:e}),0);return Array.from(Zn({},e,{length:t+1}))}return[]},Tr=function(t){function n(e){var n;return(n=t.call(this,e)||this).updateArrayField=function(e,t,r){var o=n.props,a=o.name;(0,o.formik.setFormikState)((function(n){var o="function"==typeof r?r:e,i="function"==typeof t?t:e,c=lr(n.values,a,e(sr(n.values,a))),s=r?o(sr(n.errors,a)):void 0,l=t?i(sr(n.touched,a)):void 0;return tr(s)&&(s=void 0),tr(l)&&(l=void 0),Zn({},n,{values:c,errors:r?lr(n.errors,a,s):n.errors,touched:t?lr(n.touched,a,l):n.touched})}))},n.push=function(e){return n.updateArrayField((function(t){return[].concat(wr(t),[Xn(e)])}),!1,!1)},n.handlePush=function(e){return function(){return n.push(e)}},n.swap=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=wr(e),o=r[t];return r[t]=r[n],r[n]=o,r}(n,e,t)}),!0,!0)},n.handleSwap=function(e,t){return function(){return n.swap(e,t)}},n.move=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=wr(e),o=r[t];return r.splice(t,1),r.splice(n,0,o),r}(n,e,t)}),!0,!0)},n.handleMove=function(e,t){return function(){return n.move(e,t)}},n.insert=function(e,t){return n.updateArrayField((function(n){return Or(n,e,t)}),(function(t){return Or(t,e,null)}),(function(t){return Or(t,e,null)}))},n.handleInsert=function(e,t){return function(){return n.insert(e,t)}},n.replace=function(e,t){return n.updateArrayField((function(n){return function(e,t,n){var r=wr(e);return r[t]=n,r}(n,e,t)}),!1,!1)},n.handleReplace=function(e,t){return function(){return n.replace(e,t)}},n.unshift=function(e){var t=-1;return n.updateArrayField((function(n){var r=n?[e].concat(n):[e];return t<0&&(t=r.length),r}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n}),(function(e){var n=e?[null].concat(e):[null];return t<0&&(t=n.length),n})),t},n.handleUnshift=function(e){return function(){return n.unshift(e)}},n.handleRemove=function(e){return function(){return n.remove(e)}},n.handlePop=function(){return function(){return n.pop()}},n.remove=n.remove.bind(er(n)),n.pop=n.pop.bind(er(n)),n}Jn(n,t);var r=n.prototype;return r.componentDidUpdate=function(e){this.props.validateOnChange&&this.props.formik.validateOnChange&&!a()(sr(e.formik.values,e.name),sr(this.props.formik.values,this.props.name))&&this.props.formik.validateForm(this.props.formik.values)},r.remove=function(e){var t;return this.updateArrayField((function(n){var r=n?wr(n):[];return t||(t=r[e]),nr(r.splice)&&r.splice(e,1),r}),!0,!0),t},r.pop=function(){var e;return this.updateArrayField((function(t){var n=t;return e||(e=n&&n.pop&&n.pop()),n}),!0,!0),e},r.render=function(){var t={push:this.push,pop:this.pop,swap:this.swap,move:this.move,insert:this.insert,replace:this.replace,unshift:this.unshift,remove:this.remove,handlePush:this.handlePush,handlePop:this.handlePop,handleSwap:this.handleSwap,handleMove:this.handleMove,handleInsert:this.handleInsert,handleReplace:this.handleReplace,handleUnshift:this.handleUnshift,handleRemove:this.handleRemove},n=this.props,r=n.component,o=n.render,a=n.children,i=n.name,c=Zn({},t,{form:Qn(n.formik,["validate","validationSchema"]),name:i});return r?(0,e.createElement)(r,c):o?o(c):a?"function"==typeof a?a(c):ir(a)?null:e.Children.only(a):null},n}(e.Component);Tr.defaultProps={validateOnChange:!0};e.Component,e.Component;var xr=c("@deriv/components"),Ar=c("../../../node_modules/prop-types/index.js"),Ir=c.n(Ar),Cr=function(e){var n=e.icon,r=e.message,o=e.title;return t().createElement("div",{className:"da-inline-note-with-icon"},t().createElement("div",null,t().createElement(xr.Icon,{icon:n,size:16})),t().createElement(xr.Text,{as:"p",size:"xxxs",line_height:"s"},t().createElement("strong",null,o,": "),r))};Cr.propTypes={icon:Ir().string.isRequired,message:Ir().string.isRequired,title:Ir().string.isRequired};const Pr=Cr;var zr=c("@deriv/shared"),Fr=c("@deriv/translations"),Rr=c("./Components/load-error-message/index.ts");const Nr=function(e){var n=e.title,o=e.descriptions,a=e.onClickLearnMore,i=e.className,c=(null==o?void 0:o.length)>0,s=1===(null==o?void 0:o.length);return t().createElement("article",{className:r()("da-article",i)},t().createElement(xr.Text,{as:"h4",color:"prominent",line_height:"m",size:"xs",weight:"bold",className:"da-article__header"},n),c&&t().createElement(t().Fragment,null,s?t().createElement(xr.Text,{as:"p",size:"xxs",line_height:"m"},o[0]):t().createElement("ul",{className:"da-article__list"},o.map((function(e,n){return t().createElement("li",{key:n},t().createElement(xr.Text,{size:"xxs",line_height:"xs"},"component"in e?e.component:e))})))),a&&t().createElement("div",{className:"da-article__learn-more",onClick:a},t().createElement(xr.Text,{size:"xxs",color:"loss-danger",line_height:"s"},t().createElement(Fr.Localize,{i18n_default_text:"Learn more"})),t().createElement(xr.Icon,{icon:"IcChevronRight",className:"da-article__learn-more-icon",color:"red"})))};const Mr=function(){return t().createElement(Nr,{title:(0,Fr.localize)("API token"),descriptions:[t().createElement(Fr.Localize,{key:0,i18n_default_text:"To access your mobile apps and other third-party apps, you'll first need to generate an API token."})]})};function Dr(){return Dr=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Dr.apply(this,arguments)}const Lr=function(e){var n=e.name,r=e.value,o=e.display_name,a=e.description,i=e.setFieldValue,c=e.children;return t().createElement(Sr,{name:n},(function(e){var s=e.field;return t().createElement(xr.CompositeCheckbox,Dr({},s,{onChange:function(){return i(n,!r)},value:r,className:"api-token__checkbox",defaultChecked:r,label:o,description:a}),c)}))};var Ur=c("react-dom");const Vr=e.createContext({});const $r=function(){var e=t().useContext(Vr),n=e.footer_ref,r=e.toggleOverlay;return(0,Ur.createPortal)(t().createElement("a",{className:"link link--prominent",onClick:r},t().createElement(xr.Text,{size:"xxs",line_height:"m",weight:"bold"},t().createElement(Fr.Localize,{i18n_default_text:"Learn more about API token"}))),n)};const Br=function(){var e=t().useContext(Vr),n=e.overlay_ref,r=e.toggleOverlay;return t().createElement(xr.Popup.Overlay,{descriptions:[{key:"api_token_desc_1",component:t().createElement(Fr.Localize,{key:0,i18n_default_text:"To access our mobile apps and other third-party apps, you'll first need to generate an API token."})}],done_text:(0,Fr.localize)("Done"),overlay_ref:n,title:(0,Fr.localize)("API Token"),toggleOverlay:r})};function qr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Wr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Wr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Wr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const Hr=function(e){var n=e.token,r=e.popover_alignment,o=void 0===r?"left":r,a=t().useContext(Vr).deleteToken,i=qr(t().useState(!1),2),c=i[0],s=i[1],l=qr(t().useState(!1),2),u=l[0],f=l[1],p=qr(t().useState(!1),2),d=p[0],m=p[1],y=(0,zr.useIsMounted)();return t().createElement(t().Fragment,null,t().createElement(xr.Modal,{is_open:c,small:!0},t().createElement(xr.Modal.Body,null,t().createElement(xr.Text,{as:"h1",color:"prominent",weight:"bold",className:"da-api-token__modal-title"},(0,Fr.localize)("Delete token")),t().createElement(xr.Text,{as:"p",color:"prominent ",size:"xs",line_height:"m"},(0,Fr.localize)("Are you sure you want to delete this token?"))),t().createElement(xr.Modal.Footer,{className:"da-api-token__modal-footer"},t().createElement(xr.Button,{className:"dc-dialog__button",has_effect:!0,text:(0,Fr.localize)("Cancel"),onClick:function(){return s(!1)},secondary:!0,large:!0}),t().createElement(xr.Button,{className:"dc-dialog__button",has_effect:!0,text:(0,Fr.localize)("Yes, delete"),onClick:function(){f(!0),a(n.token).finally((function(){y()&&(f(!1),s(!1))}))},primary:!0,large:!0,is_loading:u}))),t().createElement(xr.Popover,{alignment:o,classNameBubble:"dc-clipboard__popover",message:(0,Fr.localize)("Delete this token"),relative_render:!1,zIndex:"9999",is_open:d},t().createElement(xr.Icon,{icon:"IcDelete",custom_color:"var(--text-prominent)",className:"dc-clipboard da-api-token__delete-icon",onClick:function(){m(!1),s(!0)},size:14,data_testid:"dt_token_delete_icon",onMouseEnter:function(){c||m(!0)},onMouseLeave:function(){c||m(!1)}})))};const Gr=function(e){var n=e.className,o=e.children;return e.should_bypass_text?t().createElement("td",{className:r()("da-api-token__table-cell",n)},o):t().createElement("td",{className:r()("da-api-token__table-cell",n)},t().createElement(xr.Text,{color:"prominent ",size:"xs",line_height:"m"},o))};const Kr=function(e){var n=e.scopes;return t().createElement("div",{className:"da-api-token__table-scopes-cell-block"},n.map((function(e){return t().createElement("div",{key:e,className:r()("da-api-token__table-scope-cell",{"da-api-token__table-scope-cell-admin":"admin"===e.toLowerCase()})},e)})))};function Yr(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Xr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Xr(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Xr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Zr=function(e){var n=e.message;return t().createElement("div",{className:"da-api-token__bullet-wrapper"},t().createElement("div",{className:"da-api-token__bullet"}),t().createElement(xr.Text,{as:"p",color:"prominent ",size:"xs",line_height:"m"},n))},Jr=function(){return t().createElement(t().Fragment,null,t().createElement(xr.Text,{as:"p",color:"prominent ",size:"xs",line_height:"m"},(0,Fr.localize)("Be careful who you share this token with. Anyone with this token can perform the following actions on your account behalf")),t().createElement("div",{className:"da-api-token__bullet-container"},t().createElement(Zr,{message:(0,Fr.localize)("Add accounts")}),t().createElement(Zr,{message:(0,Fr.localize)("Create or delete API tokens for trading and withdrawals")}),t().createElement(Zr,{message:(0,Fr.localize)("Modify account settings")})))};const Qr=function(e){var n,r,o=e.scopes,a=e.text_copy,i=e.info_message,c=e.success_message,s=e.popover_alignment,l=void 0===s?"bottom":s,u=Yr((0,xr.useCopyToClipboard)(),3),f=u[0],p=u[1],d=u[2],m=Yr(t().useState(!1),2),y=m[0],v=m[1],h=Yr(t().useState(!1),2),_=h[0],b=h[1],g=(0,zr.useIsMounted)(),E=o.includes("Admin"),j=function(){v(!1),p(a),b(!0),n=setTimeout((function(){g()&&(b(!1),d(!1))}),1900),r=setTimeout((function(){g()&&d(!1)}),2050)};return t().useEffect((function(){return function(){clearTimeout(n),clearTimeout(r)}}),[n,r]),t().createElement(t().Fragment,null,t().createElement(xr.Modal,{is_open:y,small:!0},t().createElement(xr.Modal.Body,null,t().createElement(Jr,null)),t().createElement(xr.Modal.Footer,{className:"da-api-token__modal-footer"},t().createElement(xr.Button,{className:"dc-dialog__button",has_effect:!0,text:(0,Fr.localize)("OK"),onClick:j,primary:!0,large:!0}))),t().createElement(xr.Popover,{alignment:l,classNameBubble:"dc-clipboard__popover",message:f?c:i,is_open:_,zIndex:"9999"},t().createElement(xr.Icon,{icon:"".concat(f?"IcCheckmarkCircle":"IcClipboard"),custom_color:"".concat(f?"var(--status-success)":"var(--text-prominent)"),className:"dc-clipboard",size:14,data_testid:"".concat(f?"dt_token_copied_icon":"dt_copy_token_icon"),onClick:function(){E?v(!0):j()},onMouseEnter:function(){f||b(!0)},onMouseLeave:function(){f||b(!1)}})))};function eo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||no(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function to(e){return function(e){if(Array.isArray(e))return ro(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||no(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function no(e,t){if(e){if("string"==typeof e)return ro(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ro(e,t):void 0}}function ro(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oo=function(){return t().createElement("div",{className:"da-api-token__pass-dot-container"},to(Array(15)).map((function(e,n){return t().createElement("div",{key:n,className:"da-api-token__pass-dot"})})))};const ao=function(e){var n=e.token,r=e.scopes,o=eo(t().useState(!1),2),a=o[0],i=o[1];return t().createElement("div",{className:"da-api-token__clipboard-wrapper"},a?t().createElement(xr.Text,{as:"p",color:"prominent ",size:"xs",line_height:"m"},n):t().createElement(oo,null),t().createElement(Qr,{info_message:(0,Fr.localize)("Copy this token"),success_message:(0,Fr.localize)("Token copied!"),text_copy:n,scopes:r}),t().createElement(xr.Popover,{alignment:"bottom",classNameBubble:"dc-clipboard__popover",message:a?(0,Fr.localize)("Hide this token"):(0,Fr.localize)("Show this token")},t().createElement(xr.Icon,{icon:a?"IcPasswordEyeVisible":"IcPasswordEyeHide",className:"da-api-token__visibility-icon",onClick:function(){i((function(e){return!e}))},width:15,custom_color:"var(--text-prominent)",data_testid:"dt_toggle_visibility_icon"})))};const io=function(e){var n=e.token;return t().createElement("tr",{className:"da-api-token__table-cell-row"},t().createElement(Gr,{className:"da-api-token__table-cell--name"},n.display_name),t().createElement(Gr,{should_bypass_text:!0},t().createElement(ao,{token:n.token,scopes:n.scopes})),t().createElement(Gr,{should_bypass_text:!0},t().createElement(Kr,{scopes:n.scopes})),t().createElement(Gr,null,n.last_used),t().createElement(Gr,{should_bypass_text:!0},t().createElement(Hr,{token:n})))};const co=function(e){var n=e.text;return t().createElement("th",{className:"da-api-token__table-header"},t().createElement(xr.Text,{color:"prominent ",size:"xs",line_height:"m",weight:"bold"},n))};const so=function(){var e=t().useContext(Vr).api_tokens,n=function(e){var t,n=null===(t=e.scopes)||void 0===t?void 0:t.map((function(e){return function(e){switch(e){case"read":return(0,Fr.localize)("Read");case"trade":return(0,Fr.localize)("Trade");case"payments":return(0,Fr.localize)("Payments");case"admin":return(0,Fr.localize)("Admin");case"trading_information":return(0,Fr.localize)("Trading information");default:return function(e){var t=e.replace(/-|_/g," ");return t[0].toUpperCase()+t.slice(1).toLowerCase()}(e)}}(e)})),r=e.last_used?(0,zr.formatDate)(e.last_used,"DD/MM/YYYY"):(0,Fr.localize)("Never");return{display_name:e.display_name,scopes:n,last_used:r,token:e.token}};return(0,zr.isMobile)()?t().createElement(t().Fragment,null,null==e?void 0:e.map((function(e){var r=n(e);return t().createElement("div",{key:r.token,className:"da-api-token__scope"},t().createElement("div",{className:"da-api-token__scope-item"},t().createElement("div",null,t().createElement(xr.Text,{as:"h5",size:"xxs",color:"general",line_height:"xs",weight:"bold"},t().createElement(Fr.Localize,{i18n_default_text:"Name"})),t().createElement(xr.Text,{className:"da-api-token__scope-item--name",as:"p",size:"s",color:"general",line_height:"m"},r.display_name))),t().createElement("div",{className:"da-api-token__scope-item"},t().createElement("div",null,t().createElement(xr.Text,{as:"h5",size:"xxs",color:"general",line_height:"xs",weight:"bold"},t().createElement(Fr.Localize,{i18n_default_text:"Token"})),t().createElement(ao,{token:r.token,scopes:r.scopes})),t().createElement("div",null,t().createElement(xr.Text,{as:"h5",size:"xxs",color:"general",line_height:"xs",weight:"bold"},t().createElement(Fr.Localize,{i18n_default_text:"Last Used"})),t().createElement(xr.Text,{as:"p",size:"s",color:"general",line_height:"m"},r.last_used))),t().createElement("div",{className:"da-api-token__scope-item"},t().createElement("div",null,t().createElement(xr.Text,{as:"h5",size:"xxs",color:"general",line_height:"xs",weight:"bold"},t().createElement(Fr.Localize,{i18n_default_text:"Scopes"})),t().createElement(Kr,{scopes:r.scopes})),t().createElement("div",null,t().createElement(Hr,{token:r}))))}))):t().createElement("table",{className:"da-api-token__table"},t().createElement("thead",null,t().createElement("tr",{className:"da-api-token__table-header-row"},t().createElement(co,{text:(0,Fr.localize)("Name")}),t().createElement(co,{text:(0,Fr.localize)("Token")}),t().createElement(co,{text:(0,Fr.localize)("Scopes")}),t().createElement(co,{text:(0,Fr.localize)("Last used")}),t().createElement("th",null))),t().createElement("tbody",null,null==e?void 0:e.map((function(e){return t().createElement(io,{key:e.token,token:n(e)})}))))};function lo(){return lo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},lo.apply(this,arguments)}function uo(e,t,n,r,o,a,i){try{var c=e[a](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function fo(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function i(e){uo(a,r,o,i,c,"next",e)}function c(e){uo(a,r,o,i,c,"throw",e)}i(void 0)}))}}function po(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mo(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?po(Object(n),!0).forEach((function(t){yo(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):po(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function yo(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vo(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,o,a=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);i=!0);}catch(e){c=!0,o=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ho(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ho(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ho(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}const _o=function(e){var n=e.footer_ref,o=e.is_app_settings,a=e.is_switching,i=e.overlay_ref,c=e.setIsOverlayShown,s=e.ws,l=(0,zr.useIsMounted)(),u=t().useRef(a),f=vo(t().useReducer((function(e,t){return mo(mo({},e),t)}),{api_tokens:[],is_loading:!0,is_success:!1,is_overlay_shown:!1,error_message:"",show_delete:!1,dispose_token:"",is_delete_loading:!1,is_delete_success:!1}),2),p=f[0],d=f[1];t().useEffect((function(){return h(),function(){return d({dispose_token:""})}}),[]),t().useEffect((function(){u.current!==a&&(u.current=a,h())}),[a]),t().useEffect((function(){"function"==typeof c&&c(p.is_overlay_shown)}),[p.is_overlay_shown,c]);var m=function(e){return Object.keys(e).filter((function(t){return"token_name"!==t&&e[t]}))},y=function(){var e=fo(regeneratorRuntime.mark((function e(t,n){var r,o,a,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.setSubmitting,o=n.setFieldError,a=n.resetForm,e.next=3,s.apiToken({api_token:1,new_token:t.token_name,new_token_scopes:m(t)});case 3:(i=e.sent).error?o("token_name",i.error.message):l()&&(d({is_success:!0,api_tokens:(0,zr.getPropertyValue)(i,["api_token","tokens"])}),setTimeout((function(){l()&&d({is_success:!1})}),500)),a(),r(!1);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),v=function(e){l()&&(e.error?d({is_loading:!1,error_message:(0,zr.getPropertyValue)(e,["error","message"])}):d({is_loading:!1,api_tokens:(0,zr.getPropertyValue)(e,["api_token","tokens"])}))},h=function(){var e=fo(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d({is_loading:!0}),e.next=3,s.authorized.apiToken({api_token:1});case 3:t=e.sent,v(t);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=fo(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d({is_delete_loading:!0}),e.next=3,s.authorized.apiToken({api_token:1,delete_token:t});case 3:n=e.sent,v(n),l()&&d({is_delete_loading:!1,is_delete_success:!0}),setTimeout((function(){l()&&d({is_delete_success:!1})}),500);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=p.api_tokens,g=p.is_loading,E=p.is_success,j=p.error_message,S=p.is_overlay_shown;if(g||a)return t().createElement(xr.Loading,{is_fullscreen:!1,className:"account__initial-loader"});if(j)return t().createElement(Rr.default,{error_message:j});var k={api_tokens:b,toggleOverlay:function(){return d({is_overlay_shown:!p.is_overlay_shown})},deleteToken:_,footer_ref:n,overlay_ref:i};return t().createElement(t().Fragment,null,t().createElement(Vr.Provider,{value:k},t().createElement("section",{className:r()("da-api-token",{"da-api-token--app-settings":o})},t().createElement("div",{className:"da-api-token__wrapper"},t().createElement(xr.ThemedScrollbars,{className:"da-api-token__scrollbars",is_bypassed:(0,zr.isMobile)()},!o&&(0,zr.isMobile)()&&t().createElement(Mr,null),t().createElement(_r,{initialValues:{token_name:"",read:!1,trade:!1,payments:!1,trading_information:!1,admin:!1},onSubmit:y,validate:function(e){var t={},n=e.token_name&&e.token_name.trim();return n?/^[A-Za-z0-9\s_]+$/g.test(n)?n.length<2?t.token_name=(0,Fr.localize)("Length of token name must be between {{MIN_TOKEN}} and {{MAX_TOKEN}} characters.",{MIN_TOKEN:2,MAX_TOKEN:32}):n.length>32&&(t.token_name=(0,Fr.localize)("Maximum {{MAX_TOKEN}} characters.",{MAX_TOKEN:32})):t.token_name=(0,Fr.localize)("Only letters, numbers, and underscores are allowed."):t.token_name=(0,Fr.localize)("Please enter a token name."),t}},(function(e){var n=e.values,o=e.errors,a=e.isValid,i=e.dirty,c=e.touched,s=e.handleChange,l=e.handleBlur,u=e.isSubmitting,f=e.setFieldValue,p=e.setFieldTouched;return t().createElement(kr,{noValidate:!0},t().createElement(xr.Timeline,{className:"da-api-token__timeline",line_height:"xxxl"},t().createElement(xr.Timeline.Item,{item_title:(0,Fr.localize)("Select scopes based on the access you need.")},t().createElement("div",{className:"da-api-token__checkbox-wrapper"},t().createElement(Lr,{name:"read",value:n.read,setFieldValue:f,display_name:(0,Fr.localize)("Read"),description:(0,Fr.localize)("This scope will allow third-party apps to view your account activity, settings, limits, balance sheets, trade purchase history, and more.")}),t().createElement(Lr,{name:"trade",value:n.trade,display_name:(0,Fr.localize)("Trade"),setFieldValue:f,description:(0,Fr.localize)("This scope will allow third-party apps to buy and sell contracts for you, renew your expired purchases, and top up your demo accounts.")}),t().createElement(Lr,{name:"payments",value:n.payments,display_name:(0,Fr.localize)("Payments"),setFieldValue:f,description:(0,Fr.localize)("This scope will allow third-party apps to withdraw to payment agents and make inter-account transfers for you.")}),t().createElement(Lr,{name:"trading_information",value:n.trading_information,display_name:(0,Fr.localize)("Trading information"),setFieldValue:f,description:(0,Fr.localize)("This scope will allow third-party apps to view your trading history.")}),t().createElement(Lr,{name:"admin",value:n.admin,display_name:(0,Fr.localize)("Admin"),setFieldValue:f,description:(0,Fr.localize)("This scope will allow third-party apps to open accounts for you, manage your settings and token usage, and more. ")},t().createElement(Pr,{icon:"IcAlertWarning",message:(0,Fr.localize)("To avoid loss of funds, do not share tokens with the Admin scope with unauthorised parties."),title:(0,Fr.localize)("Note")})))),t().createElement(xr.Timeline.Item,{item_title:(0,Fr.localize)("Name your token and click on 'Create' to generate your token.")},t().createElement("div",{className:"da-api-token__input-group"},t().createElement(Sr,{name:"token_name"},(function(e){var r=e.field;return t().createElement(xr.Input,lo({},r,{"data-lpignore":"true",type:"text",className:"da-api-token__input dc-input__input-group",label:(0,Fr.localize)("Token name"),value:n.token_name,onChange:function(e){p("token_name",!0),s(e)},onBlur:l,hint:(0,Fr.localize)("Length of token name must be between 2 and 32 characters."),required:!0,error:c.token_name&&o.token_name}))})),t().createElement(xr.Button,{className:r()("dc-btn__button-group","da-api-token__button",{"da-api-token__button--success":E}),type:"submit",is_disabled:!i||u||!a||!m(n).length,has_effect:!0,is_loading:u,is_submit_success:E,text:(0,Fr.localize)("Create"),primary:!0,large:!0}))),t().createElement(xr.Timeline.Item,{item_title:(0,Fr.localize)("Copy and paste the token into the app.")},t().createElement(so,null))))}))),!o&&(0,zr.isDesktop)()&&t().createElement(Mr,null))),n&&t().createElement($r,null),i&&S&&t().createElement(Br,null)))},bo=_o})(),s=s.default})()}));