{"version":3,"file":"trader/js/trader.screen-small.d6cbdc46dd3f1c1655ee.js","mappings":"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","sources":["webpack://@deriv/trader/./src/Modules/Trading/Containers/allow-equals.tsx","webpack://@deriv/trader/./src/Stores/Modules/Trading/Helpers/preview-proposal.ts","webpack://@deriv/trader/./src/Modules/Trading/Components/Form/TradeParams/amount-mobile.tsx","webpack://@deriv/trader/./src/Modules/Trading/Containers/Multiplier/multiplier-amount-modal.tsx","webpack://@deriv/trader/./src/Modules/Trading/Components/Form/RadioGroupWithInfoMobile/radio-group-with-info-mobile.tsx","webpack://@deriv/trader/./src/Modules/Trading/Components/Form/RadioGroupWithInfoMobile/index.ts","webpack://@deriv/trader/./src/Modules/Trading/Containers/Multiplier/multiplier-options.tsx","webpack://@deriv/trader/./src/Modules/Trading/Containers/radio-group-options-modal.tsx","webpack://@deriv/trader/./src/Modules/Trading/Components/Form/TradeParams/Multiplier/expiration-modal.jsx","webpack://@deriv/trader/./src/Modules/Trading/Components/Form/TradeParams/Multiplier/widgets.jsx","webpack://@deriv/trader/./src/Modules/Trading/Components/Form/TradeParams/Accumulator/accumulators-amount-mobile.tsx","webpack://@deriv/trader/./src/Modules/Trading/Components/Form/TradeParams/Duration/duration-mobile.jsx","webpack://@deriv/trader/./src/Modules/Trading/Containers/trade-params-mobile.tsx","webpack://@deriv/trader/./src/Modules/Trading/Components/Elements/mobile-widget.jsx","webpack://@deriv/trader/./src/Modules/Trading/Components/Elements/Multiplier/cancel-deal-mobile.tsx","webpack://@deriv/trader/./src/Modules/Trading/Containers/Multiplier/risk-management-dialog.tsx","webpack://@deriv/trader/./src/Modules/Trading/Components/Elements/Multiplier/risk-management-info.tsx","webpack://@deriv/trader/./src/Modules/Trading/Components/Elements/payout-per-point-mobile.tsx","webpack://@deriv/trader/./src/Modules/Trading/Components/Form/screen-small.tsx"],"sourcesContent":["import classNames from 'classnames';\nimport { useTraderStore } from 'Stores/useTraderStores';\nimport { observer } from '@deriv/stores';\nimport React from 'react';\nimport { Checkbox, Text } from '@deriv/components';\nimport { Localize, localize } from '@deriv/translations';\n\ntype TAllowEquals = {\n    onChange: (e: { target: { name: string; value: number } }) => Promise<void>;\n    is_allow_equal: boolean;\n    has_equals_only: boolean;\n    className?: string;\n};\n\nconst AllowEquals = ({ onChange, is_allow_equal, has_equals_only, className }: TAllowEquals) => {\n    const handleOnChange: React.ComponentProps<typeof Checkbox>['onChange'] = e => {\n        e.persist();\n        if ('checked' in e.target) {\n            const { name, checked } = e.target;\n            onChange({ target: { name, value: Number(checked) } });\n        }\n    };\n\n    return (\n        <div className={classNames('allow-equals', 'mobile-widget', className)}>\n            <Checkbox\n                label={localize('Equals')}\n                value={is_allow_equal}\n                name='is_equal'\n                onChange={handleOnChange}\n                disabled={has_equals_only}\n            />\n            <Text as='p' size='xxxs'>\n                <Localize i18n_default_text='Win payout if exit spot is also equal to entry spot.' />\n            </Text>\n        </div>\n    );\n};\n\nexport default observer(() => {\n    const { is_equal, has_equals_only, onChange } = useTraderStore();\n    const allow_equals_props = {\n        is_allow_equal: !!is_equal,\n        has_equals_only,\n        onChange,\n    };\n    return <AllowEquals {...allow_equals_props} />;\n});\n","import debounce from 'lodash.debounce';\nimport { isEmptyObject, WS } from '@deriv/shared';\nimport { createProposalRequests } from './proposal';\nimport { PriceProposalRequest, PriceProposalResponse } from '@deriv/api-types';\nimport { TTradeStore } from 'Types';\n\ntype TResponse<Req, Res extends { [key: string]: unknown }, K extends string> = Res & {\n    echo_req: Req;\n    error?: {\n        code: string;\n        message: string;\n        details?: Res[K] & { field: string };\n    };\n};\nexport const requestPreviewProposal = debounce(\n    (store: TTradeStore, override = {}, onProposalResponse: TTradeStore['onProposalResponse']) => {\n        const new_store = { ...store, ...override };\n        const requests = createProposalRequests(new_store);\n        const subscription_map: { [key: string]: boolean } = {};\n\n        const onResponse = (response: TResponse<PriceProposalRequest, PriceProposalResponse, 'proposal'>) => {\n            if (response.error || !response.subscription) return;\n\n            subscription_map[response.subscription.id] = true;\n            onProposalResponse(response);\n        };\n\n        if (!isEmptyObject(requests)) {\n            const proposal_requests = requests;\n\n            Object.keys(proposal_requests).forEach(type => {\n                WS.subscribeProposal(proposal_requests[type], onResponse);\n            });\n        }\n\n        return () => {\n            Object.keys(subscription_map).forEach(id => {\n                WS.forget(id);\n                delete subscription_map[id];\n            });\n        };\n    },\n    700\n);\n","import React from 'react';\nimport classNames from 'classnames';\nimport { observer, useStore } from '@deriv/stores';\nimport { useTraderStore } from 'Stores/useTraderStores';\nimport { Localize, localize } from '@deriv/translations';\nimport { Money, Numpad, Tabs } from '@deriv/components';\nimport { getDecimalPlaces, isEmptyObject } from '@deriv/shared';\nimport MinMaxStakeInfo from './min-max-stake-info';\n\ntype TAmountMobile = Pick<\n    React.ComponentProps<typeof Basis>,\n    'toggleModal' | 'duration_value' | 'duration_unit' | 'has_duration_error' | 'setAmountError' | 'setSelectedAmount'\n> & {\n    amount_tab_idx?: number;\n    setAmountTabIdx?: React.ComponentProps<typeof Tabs>['onTabItemClick'];\n    stake_value: string | number;\n    payout_value?: string | number;\n};\n\ntype TBasis = {\n    basis: string;\n    duration_unit?: string;\n    duration_value?: number;\n    toggleModal: () => void;\n    has_duration_error?: boolean;\n    selected_basis?: string | number;\n    setSelectedAmount: (basis: string, num: string | number) => void;\n    setAmountError?: (has_error: boolean) => void;\n};\n\nconst Basis = observer(\n    ({\n        basis,\n        duration_unit,\n        duration_value,\n        toggleModal,\n        has_duration_error,\n        selected_basis,\n        setSelectedAmount,\n        setAmountError,\n    }: TBasis) => {\n        const { ui, client } = useStore();\n        const { addToast } = ui;\n        const { currency } = client;\n        const {\n            contract_type,\n            is_turbos,\n            is_vanilla,\n            onChangeMultiple,\n            amount: trade_amount,\n            basis: trade_basis,\n            duration_unit: trade_duration_unit,\n            duration: trade_duration,\n            stake_boundary,\n        } = useTraderStore();\n        const { min_stake, max_stake } = stake_boundary[contract_type.toUpperCase()] || {};\n        const user_currency_decimal_places = getDecimalPlaces(currency);\n        const onNumberChange = (num: number | string) => {\n            setSelectedAmount(basis, num);\n            validateAmount(num);\n        };\n        const formatAmount = (value: number | string) =>\n            !isNaN(+value) && value !== '' ? Number(value).toFixed(user_currency_decimal_places) : value;\n        const setBasisAndAmount = (amount: number | string) => {\n            const on_change_obj: Partial<ReturnType<typeof useTraderStore>> = {};\n\n            // Check for any duration changes in Duration trade params Tab before sending onChange object\n            if (duration_unit !== trade_duration_unit && !has_duration_error)\n                on_change_obj.duration_unit = duration_unit;\n            if (duration_value !== trade_duration && !has_duration_error) on_change_obj.duration = duration_value;\n\n            if (amount !== trade_amount || basis !== trade_basis) {\n                on_change_obj.basis = basis;\n                on_change_obj.amount = +amount;\n            }\n\n            if (!isEmptyObject(on_change_obj)) onChangeMultiple(on_change_obj);\n            toggleModal();\n        };\n        const zero_decimals = Number('0').toFixed(getDecimalPlaces(currency));\n        const min_amount = parseFloat(zero_decimals.toString().replace(/.$/, '1'));\n\n        const validateAmount = (value: number | string) => {\n            const localized_message = <Localize i18n_default_text='Should not be 0 or empty' />;\n            const min_max_stake_message = (\n                <Localize\n                    i18n_default_text='Stake must be between {{min_stake}} {{currency}} and {{max_stake}} {{currency}}'\n                    values={{ min_stake, currency, max_stake }}\n                />\n            );\n            const selected_value = parseFloat(value.toString());\n\n            if (value.toString() === '0.' || selected_value === 0) {\n                addToast({ key: 'amount_error', content: localized_message, type: 'error', timeout: 2000 });\n                setAmountError?.(true);\n                return 'error';\n            } else if (isNaN(selected_value) || selected_value < min_amount || value.toString().length < 1) {\n                addToast({ key: 'amount_error', content: localized_message, type: 'error', timeout: 2000 });\n                setAmountError?.(true);\n                return false;\n            } else if (selected_value < Number(min_stake)) {\n                addToast({ key: 'amount_error', content: min_max_stake_message, type: 'error', timeout: 2000 });\n                setAmountError?.(true);\n                return 'error';\n            }\n            setAmountError?.(false);\n            return true;\n        };\n\n        return (\n            <React.Fragment>\n                <div className='trade-params__stake-container'>\n                    {(is_turbos || is_vanilla) && (\n                        <MinMaxStakeInfo currency={currency} max_stake={max_stake} min_stake={min_stake} />\n                    )}\n                    <div\n                        className={classNames('trade-params__amount-keypad', {\n                            strike__pos: is_vanilla,\n                        })}\n                    >\n                        <Numpad\n                            value={selected_basis || ''}\n                            format={formatAmount}\n                            onSubmit={setBasisAndAmount}\n                            currency={currency}\n                            min={min_amount}\n                            max={max_stake}\n                            is_currency\n                            render={({ value, className }) => {\n                                return (\n                                    <div className={className}>\n                                        {parseFloat(value) > 0 ? (\n                                            <Money currency={currency} amount={value} should_format={false} />\n                                        ) : (\n                                            value\n                                        )}\n                                    </div>\n                                );\n                            }}\n                            reset_press_interval={450}\n                            reset_value=''\n                            pip_size={user_currency_decimal_places}\n                            onValidate={validateAmount}\n                            submit_label={localize('OK')}\n                            onValueChange={onNumberChange}\n                        />\n                    </div>\n                </div>\n            </React.Fragment>\n        );\n    }\n);\n\nconst Amount = observer(\n    ({\n        toggleModal,\n        duration_value,\n        duration_unit,\n        has_duration_error,\n        amount_tab_idx,\n        setAmountError,\n        setAmountTabIdx,\n        setSelectedAmount,\n        stake_value,\n        payout_value,\n    }: TAmountMobile) => {\n        const { basis, basis_list } = useTraderStore();\n        const has_selected_tab_idx = typeof amount_tab_idx !== 'undefined';\n        const active_index = has_selected_tab_idx ? amount_tab_idx : basis_list.findIndex(b => b.value === basis);\n\n        if (basis_list.length === 1) {\n            return (\n                <Basis\n                    toggleModal={toggleModal}\n                    duration_value={duration_value}\n                    duration_unit={duration_unit}\n                    has_duration_error={has_duration_error}\n                    basis={basis_list[0].value}\n                    setAmountError={setAmountError}\n                    selected_basis={basis_list[0].value === 'stake' ? stake_value : payout_value}\n                    setSelectedAmount={setSelectedAmount}\n                />\n            );\n        }\n\n        return (\n            <div>\n                <Tabs active_index={active_index} onTabItemClick={setAmountTabIdx} top>\n                    {basis_list.map(basis_option => {\n                        switch (basis_option.value) {\n                            case 'stake':\n                                return (\n                                    <div label={basis_option.text} key={basis_option.value}>\n                                        <Basis\n                                            toggleModal={toggleModal}\n                                            duration_value={duration_value}\n                                            duration_unit={duration_unit}\n                                            has_duration_error={has_duration_error}\n                                            basis={basis_option.value}\n                                            setAmountError={setAmountError}\n                                            selected_basis={stake_value}\n                                            setSelectedAmount={setSelectedAmount}\n                                        />\n                                    </div>\n                                );\n                            case 'payout':\n                                return (\n                                    <div label={basis_option.text} key={basis_option.value}>\n                                        <Basis\n                                            toggleModal={toggleModal}\n                                            duration_value={duration_value}\n                                            duration_unit={duration_unit}\n                                            has_duration_error={has_duration_error}\n                                            basis={basis_option.value}\n                                            setAmountError={setAmountError}\n                                            selected_basis={payout_value}\n                                            setSelectedAmount={setSelectedAmount}\n                                        />\n                                    </div>\n                                );\n                            default:\n                                return null;\n                        }\n                    })}\n                </Tabs>\n            </div>\n        );\n    }\n);\n\nexport default Amount;\n","import React from 'react';\nimport { Div100vhContainer, Modal, Money, Popover, usePreventIOSZoom } from '@deriv/components';\nimport { useIsMounted, WS } from '@deriv/shared';\nimport { localize, Localize } from '@deriv/translations';\nimport { requestPreviewProposal } from 'Stores/Modules/Trading/Helpers/preview-proposal';\nimport AmountMobile from 'Modules/Trading/Components/Form/TradeParams/amount-mobile';\nimport MultipliersInfo from 'Modules/Trading/Components/Form/TradeParams/Multiplier/info';\nimport { observer } from '@deriv/stores';\nimport { useTraderStore } from 'Stores/useTraderStores';\nimport { TTradeStore } from 'Types';\n\ntype TToggleModal = () => void;\ntype TMultiplierAmountModal = {\n    is_open: boolean;\n    toggleModal: TToggleModal;\n};\n\nconst MultiplierAmountModal = ({ is_open, toggleModal }: TMultiplierAmountModal) => {\n    // Fix to prevent iOS from zooming in erratically on quick taps\n    usePreventIOSZoom();\n\n    return (\n        <React.Fragment>\n            <Modal\n                id='dt_trade_parameters_mobile'\n                className='trade-params'\n                is_open={is_open}\n                is_title_centered\n                should_header_stick_body={false}\n                toggleModal={toggleModal}\n                height='auto'\n                width='calc(100vw - 32px)'\n                title={localize('Stake')}\n            >\n                <Div100vhContainer className='mobile-widget-dialog__wrapper' max_autoheight_offset='48px'>\n                    <TradeParamsMobile toggleModal={toggleModal} />\n                </Div100vhContainer>\n            </Modal>\n        </React.Fragment>\n    );\n};\n\nexport default MultiplierAmountModal;\n\nconst TradeParamsMobile = observer(({ toggleModal }: { toggleModal: TToggleModal }) => {\n    const trade_store = useTraderStore();\n    const { amount, currency } = trade_store;\n\n    const [stake_value, setStakeValue] = React.useState<string | number>(amount);\n    const [commission, setCommission] = React.useState<number | null>();\n    const [stop_out, setStopOut] = React.useState<number | null>();\n    const stake_ref = React.useRef<string | number>(amount);\n    const isMounted = useIsMounted();\n\n    React.useEffect(() => {\n        if (stake_value === amount) return undefined;\n\n        const onProposalResponse: TTradeStore['onProposalResponse'] = response => {\n            const { proposal, echo_req, subscription } = response;\n            if (\n                isMounted() &&\n                proposal &&\n                echo_req.contract_type === 'MULTUP' &&\n                Number(echo_req.amount) === Number(stake_ref.current)\n            ) {\n                setCommission(proposal.commission);\n                proposal.limit_order?.stop_out && setStopOut(proposal.limit_order.stop_out?.order_amount);\n            } else if (subscription?.id) {\n                WS.forget(subscription.id);\n            }\n        };\n        const dispose = requestPreviewProposal(trade_store, { amount: stake_value }, onProposalResponse);\n\n        return () => {\n            dispose?.();\n        };\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [stake_value]);\n\n    const setSelectedAmount = (basis: string | undefined, stake: number | string) => {\n        setStakeValue(stake);\n        stake_ref.current = stake;\n    };\n\n    return (\n        <React.Fragment>\n            <div className='trade-params__multiplier-ic-info-wrapper'>\n                <Popover\n                    alignment='right'\n                    classNameBubble='dc-popover__trade-params'\n                    icon='info'\n                    id='dt_multiplier-stake__tooltip'\n                    zIndex='9999'\n                    is_bubble_hover_enabled\n                    message={\n                        <Localize\n                            i18n_default_text='To ensure your loss does not exceed your stake, your contract will be closed automatically when your loss equals to <0/>.'\n                            components={[<Money key={0} amount={stop_out || ''} currency={currency} show_currency />]}\n                        />\n                    }\n                />\n            </div>\n            <AmountMobile\n                toggleModal={toggleModal}\n                amount_tab_idx={0}\n                setSelectedAmount={setSelectedAmount}\n                stake_value={stake_value}\n            />\n            <MultipliersInfo\n                className='trade-params__multiplier-trade-info'\n                should_show_tooltip\n                commission={commission}\n                stop_out={stop_out}\n                amount={stake_value}\n            />\n        </React.Fragment>\n    );\n});\n","import React, { ChangeEvent } from 'react';\nimport { RadioGroup, Popover } from '@deriv/components';\n\ntype TItemsList = {\n    text: string;\n    value: number;\n};\n\ntype TRadioGroupWithInfoMobile = {\n    items_list?: TItemsList[];\n    contract_name: string;\n    current_value_object: {\n        name: string;\n        value: number;\n    };\n    onChange: (event: {\n        target: {\n            name: string;\n            value: number;\n        };\n    }) => void;\n    info: React.ComponentProps<typeof Popover>['message'];\n    is_tooltip_disabled?: boolean;\n    popover_alignment?: React.ComponentProps<typeof Popover>['alignment'];\n    toggleModal: () => void;\n};\n\nconst RadioGroupWithInfoMobile = ({\n    items_list,\n    contract_name,\n    current_value_object,\n    onChange,\n    info,\n    is_tooltip_disabled = false,\n    popover_alignment = 'right',\n    toggleModal,\n}: TRadioGroupWithInfoMobile) => {\n    const onValueChange = (e: ChangeEvent<HTMLInputElement>) => {\n        onChange({\n            target: {\n                name: current_value_object.name,\n                value: Number(e.target.value),\n            },\n        });\n        toggleModal();\n    };\n\n    return (\n        <>\n            <div className={`trade-params__${contract_name}-ic-info-wrapper`}>\n                <Popover\n                    alignment={popover_alignment}\n                    classNameBubble='dc-popover__trade-params'\n                    disable_target_icon={is_tooltip_disabled}\n                    icon='info'\n                    id={`dt_${contract_name}-stake__tooltip`}\n                    is_bubble_hover_enabled\n                    zIndex='9999'\n                    message={info}\n                />\n            </div>\n            <RadioGroup\n                className={`trade-params__${contract_name}-radio-group`}\n                name={`trade-params__${contract_name}-radio`}\n                selected={!Number.isNaN(current_value_object.value) ? current_value_object.value?.toString() : ''}\n                onToggle={onValueChange}\n            >\n                {items_list?.map(({ text, value }) => (\n                    <RadioGroup.Item key={value} id={text} label={text} value={value?.toString()} disabled={false} />\n                ))}\n            </RadioGroup>\n        </>\n    );\n};\n\nexport default RadioGroupWithInfoMobile;\n","import RadioGroupWithInfoMobile from './radio-group-with-info-mobile';\n\nexport default RadioGroupWithInfoMobile;\n","import React from 'react';\nimport MultipliersInfo from 'Modules/Trading/Components/Form/TradeParams/Multiplier/info';\nimport RadioGroupWithInfoMobile from 'Modules/Trading/Components/Form/RadioGroupWithInfoMobile';\nimport { requestPreviewProposal } from 'Stores/Modules/Trading/Helpers/preview-proposal';\nimport { localize } from '@deriv/translations';\nimport { observer } from '@deriv/stores';\nimport { useTraderStore } from 'Stores/useTraderStores';\nimport { useIsMounted, WS } from '@deriv/shared';\nimport { TTradeStore } from 'Types';\n\ntype TMultiplierOptions = {\n    toggleModal: () => void;\n};\n\nconst MultiplierOptions = observer(({ toggleModal }: TMultiplierOptions) => {\n    const trade_store = useTraderStore();\n    const { amount, multiplier, multiplier_range_list, onChange } = trade_store;\n    const [commission, setCommission] = React.useState<number | null>();\n    const [stop_out, setStopOut] = React.useState<number>();\n    const isMounted = useIsMounted();\n\n    React.useEffect(() => {\n        if (!amount) return undefined;\n\n        const onProposalResponse: TTradeStore['onProposalResponse'] = ({ echo_req, proposal, subscription }) => {\n            if (isMounted() && proposal && echo_req.contract_type === 'MULTUP' && Number(echo_req.amount) === amount) {\n                setCommission(proposal.commission);\n                proposal.limit_order?.stop_out && setStopOut(proposal.limit_order.stop_out?.order_amount);\n            } else if (subscription?.id) {\n                WS.forget(subscription.id);\n            }\n        };\n        const dispose = requestPreviewProposal(trade_store, { amount }, onProposalResponse);\n\n        return () => {\n            dispose?.();\n        };\n\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [amount]);\n\n    return (\n        <React.Fragment>\n            <RadioGroupWithInfoMobile\n                popover_alignment='bottom'\n                contract_name='multiplier'\n                current_value_object={{ name: 'multiplier', value: multiplier }}\n                info={localize(\n                    'Your gross profit is the percentage change in market price times your stake and the multiplier chosen here.'\n                )}\n                items_list={multiplier_range_list}\n                onChange={onChange}\n                toggleModal={toggleModal}\n            />\n            <MultipliersInfo\n                className='trade-params__multiplier-trade-info'\n                should_show_tooltip\n                commission={commission}\n                stop_out={stop_out}\n                amount={amount}\n            />\n        </React.Fragment>\n    );\n});\n\nexport default MultiplierOptions;\n","import React from 'react';\nimport { Div100vhContainer, Modal, usePreventIOSZoom } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport { useTraderStore } from 'Stores/useTraderStores';\nimport { getGrowthRatePercentage, getTickSizeBarrierPercentage, isEmptyObject } from '@deriv/shared';\nimport MultiplierOptions from 'Modules/Trading/Containers/Multiplier/multiplier-options';\nimport RadioGroupWithInfoMobile from 'Modules/Trading/Components/Form/RadioGroupWithInfoMobile';\nimport { observer } from '@deriv/stores';\n\ntype TRadioGroupOptionsModal = {\n    is_open: boolean;\n    modal_title: string;\n    toggleModal: () => void;\n};\n\nconst RadioGroupOptionsModal = observer(({ is_open, modal_title, toggleModal }: TRadioGroupOptionsModal) => {\n    const { accumulator_range_list, growth_rate, onChange, tick_size_barrier, proposal_info } = useTraderStore();\n\n    // Fix to prevent iOS from zooming in erratically on quick taps\n    usePreventIOSZoom();\n    const has_error_or_not_loaded =\n        proposal_info?.ACCU?.has_error || !proposal_info?.ACCU?.id || isEmptyObject(proposal_info);\n\n    return (\n        <React.Fragment>\n            <Modal\n                id='dt_trade_parameters_mobile'\n                className='trade-params'\n                is_open={is_open}\n                is_title_centered\n                should_header_stick_body={false}\n                toggleModal={toggleModal}\n                height='auto'\n                width='calc(100vw - 32px)'\n                title={modal_title}\n            >\n                <Div100vhContainer className='mobile-widget-dialog__wrapper' max_autoheight_offset='48px'>\n                    {modal_title === localize('Multiplier') ? (\n                        <MultiplierOptions toggleModal={toggleModal} />\n                    ) : (\n                        <RadioGroupWithInfoMobile\n                            contract_name='accumulator'\n                            current_value_object={{ name: 'growth_rate', value: growth_rate }}\n                            info={localize(\n                                'Your stake will grow at {{growth_rate}}% per tick as long as the current spot price remains within {{tick_size_barrier}} from the previous spot price.',\n                                {\n                                    growth_rate: getGrowthRatePercentage(growth_rate),\n                                    tick_size_barrier: getTickSizeBarrierPercentage(tick_size_barrier),\n                                }\n                            )}\n                            is_tooltip_disabled={has_error_or_not_loaded}\n                            items_list={accumulator_range_list?.map(value => ({\n                                text: `${getGrowthRatePercentage(value)}%`,\n                                value,\n                            }))}\n                            onChange={onChange}\n                            popover_alignment='bottom'\n                            toggleModal={toggleModal}\n                        />\n                    )}\n                </Div100vhContainer>\n            </Modal>\n        </React.Fragment>\n    );\n});\n\nexport default RadioGroupOptionsModal;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Div100vhContainer, Modal, Text } from '@deriv/components';\nimport { localize, Localize } from '@deriv/translations';\nimport Expiration from './expiration.jsx';\nimport { observer, useStore } from '@deriv/stores';\n\nconst MultipliersExpirationModal = observer(({ is_open, toggleModal }) => {\n    const { ui } = useStore();\n    const { enableApp, disableApp } = ui;\n    return (\n        <React.Fragment>\n            <Modal\n                enableApp={enableApp}\n                is_open={is_open}\n                disableApp={disableApp}\n                toggleModal={toggleModal}\n                has_close_icon={false}\n                should_header_stick_body={false}\n                height='auto'\n                width='calc(100vw - 3.2rem)'\n                title={localize('Expiration')}\n            >\n                <Div100vhContainer className='mobile-widget-dialog__wrapper' max_autoheight_offset='48px'>\n                    <div style={{ minHeight: '120px', padding: '1.6rem' }}>\n                        <Text size='xs' color='general'>\n                            <Localize\n                                i18n_default_text='Your contract will be closed automatically at the next available asset price on <0></0>.'\n                                components={[<Expiration key={0} is_text_only text_size='xs' />]}\n                            />\n                        </Text>\n                    </div>\n                    <Modal.Footer has_separator>\n                        <Button\n                            style={{ width: '100%', height: '4rem' }}\n                            large\n                            primary\n                            has_effect\n                            text={localize('OK')}\n                            onClick={toggleModal}\n                        />\n                    </Modal.Footer>\n                </Div100vhContainer>\n            </Modal>\n        </React.Fragment>\n    );\n});\n\nMultipliersExpirationModal.propTypes = {\n    is_open: PropTypes.bool,\n    toggleModal: PropTypes.func,\n};\n\nexport default MultipliersExpirationModal;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Money, Text, Popover } from '@deriv/components';\nimport { useTraderStore } from 'Stores/useTraderStores';\nimport { observer } from '@deriv/stores';\nimport MultiplierAmountModal from 'Modules/Trading/Containers/Multiplier/multiplier-amount-modal';\nimport RadioGroupOptionsModal from 'Modules/Trading/Containers/radio-group-options-modal';\nimport MultipliersExpiration from 'Modules/Trading/Components/Form/TradeParams/Multiplier/expiration.jsx';\nimport MultipliersExpirationModal from 'Modules/Trading/Components/Form/TradeParams/Multiplier/expiration-modal.jsx';\nimport MultipliersInfo from 'Modules/Trading/Components/Form/TradeParams/Multiplier/info';\nimport { localize, Localize } from '@deriv/translations';\nimport { getGrowthRatePercentage, getTickSizeBarrierPercentage } from '@deriv/shared';\n\nconst AmountWidget = ({ amount, currency, expiration, is_crypto_multiplier }) => {\n    const [is_open, setIsOpen] = React.useState(false);\n    const [is_expiration_modal_open, setIsExpirationModalOpen] = React.useState(false);\n\n    const toggleModal = () => {\n        setIsOpen(!is_open);\n    };\n\n    const toggleExpirationModal = () => {\n        setIsExpirationModalOpen(!is_expiration_modal_open);\n    };\n\n    return (\n        <React.Fragment>\n            <MultiplierAmountModal is_open={is_open} toggleModal={toggleModal} />\n            <div className='mobile-widget mobile-widget__multiplier' onClick={toggleModal}>\n                <div className='mobile-widget__multiplier-amount'>\n                    <div className='mobile-widget__item'>\n                        <Text weight='bold' size='xxs'>\n                            <Money amount={amount} currency={currency} show_currency />\n                        </Text>\n                    </div>\n                </div>\n                <MultipliersInfo\n                    className='mobile-widget__multiplier-trade-info'\n                    commission_text_size='xxxxs'\n                    stop_out_text_size='xxxxs'\n                />\n            </div>\n            {is_crypto_multiplier && (\n                <div className='mobile-widget' onClick={expiration ? toggleExpirationModal : null}>\n                    <div className='mobile-widget__multiplier-expiration'>\n                        <Text size='xxs'>{localize('Expires on')}</Text>\n                        <MultipliersExpiration is_text_only text_size='xxs' />\n                    </div>\n                    <MultipliersExpirationModal\n                        is_open={is_expiration_modal_open}\n                        toggleModal={toggleExpirationModal}\n                    />\n                </div>\n            )}\n        </React.Fragment>\n    );\n};\n\nexport const MultiplierAmountWidget = observer(() => {\n    const { amount, expiration, currency, is_crypto_multiplier, multiplier } = useTraderStore();\n    const amount_widget_props = {\n        amount,\n        expiration,\n        currency,\n        is_crypto_multiplier,\n        multiplier,\n    };\n    return <AmountWidget {...amount_widget_props} />;\n});\n\nconst RadioGroupOptionsWidget = ({ displayed_trade_param, tooltip_message, is_disabled, modal_title }) => {\n    const [is_open, setIsOpen] = React.useState(false);\n\n    const toggleModal = () => {\n        if (is_disabled) return;\n        setIsOpen(!is_open);\n    };\n\n    return (\n        <React.Fragment>\n            <RadioGroupOptionsModal is_open={is_open} toggleModal={toggleModal} modal_title={modal_title} />\n            <div className='mobile-widget mobile-widget__multiplier-options' onClick={toggleModal}>\n                <div\n                    className={classNames('mobile-widget__item', {\n                        'mobile-widget__item-disabled': is_disabled,\n                    })}\n                >\n                    <span className='mobile-widget__item-value'>{displayed_trade_param}</span>\n                </div>\n                {!!tooltip_message && (\n                    <span className='mobile-widget__item-tooltip' onClick={e => e.stopPropagation()}>\n                        <Popover\n                            alignment='left'\n                            classNameBubble='mobile-widget__item-popover'\n                            icon='info'\n                            is_bubble_hover_enabled\n                            zIndex={9999}\n                            message={tooltip_message}\n                        />\n                    </span>\n                )}\n            </div>\n        </React.Fragment>\n    );\n};\n\nexport const MultiplierOptionsWidget = observer(() => {\n    const { multiplier } = useTraderStore();\n    const displayed_trade_param = `x${multiplier}`;\n    const modal_title = localize('Multiplier');\n    return <RadioGroupOptionsWidget displayed_trade_param={displayed_trade_param} modal_title={modal_title} />;\n});\n\nexport const AccumulatorOptionsWidget = observer(() => {\n    const { growth_rate, has_open_accu_contract, tick_size_barrier } = useTraderStore();\n    const displayed_trade_param = `${getGrowthRatePercentage(growth_rate)}%`;\n    const modal_title = localize('Growth rate');\n    const tooltip_message = (\n        <Localize\n            i18n_default_text='Your stake will grow at {{growth_rate}}% per tick as long as the current spot price remains within {{tick_size_barrier}} from the previous spot price.'\n            values={{\n                growth_rate: getGrowthRatePercentage(growth_rate),\n                tick_size_barrier: getTickSizeBarrierPercentage(tick_size_barrier),\n            }}\n        />\n    );\n    return (\n        <RadioGroupOptionsWidget\n            displayed_trade_param={displayed_trade_param}\n            is_disabled={has_open_accu_contract}\n            modal_title={modal_title}\n            tooltip_message={tooltip_message}\n        />\n    );\n});\n","import React from 'react';\nimport classNames from 'classnames';\nimport { AMOUNT_MAX_LENGTH, getDecimalPlaces } from '@deriv/shared';\nimport { MobileWrapper } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport LabeledQuantityInputMobile from '../../LabeledQuantityInputMobile';\nimport { observer, useStore } from '@deriv/stores';\nimport { useTraderStore } from 'Stores/useTraderStores';\n\ntype TAccumulatorsAmountMobile = {\n    is_nativepicker?: boolean;\n};\n\nconst AccumulatorsAmountMobile = observer(({ is_nativepicker }: TAccumulatorsAmountMobile) => {\n    const { ui, client } = useStore();\n    const { current_focus, setCurrentFocus } = ui;\n    const { is_single_currency } = client;\n    const { amount, currency, onChange, has_open_accu_contract } = useTraderStore();\n    return (\n        <>\n            <MobileWrapper>\n                <LabeledQuantityInputMobile\n                    input_label={localize('Stake')}\n                    className={classNames('trade-container__amount', 'trade-container__amount--accumulator')}\n                    classNameInlinePrefix='trade-container__currency'\n                    classNameInput={classNames('trade-container__input', 'trade-container__input--accumulator')}\n                    currency={currency}\n                    current_focus={current_focus}\n                    fractional_digits={getDecimalPlaces(currency)}\n                    id='dt_amount_input'\n                    inline_prefix={is_single_currency ? currency : null}\n                    is_autocomplete_disabled\n                    is_disabled={has_open_accu_contract}\n                    is_float\n                    is_hj_whitelisted\n                    is_incrementable\n                    is_nativepicker={is_nativepicker}\n                    is_negative_disabled\n                    max_length={AMOUNT_MAX_LENGTH}\n                    name='amount'\n                    onChange={onChange}\n                    type='tel'\n                    value={amount}\n                    ariaLabel={localize('Amount')}\n                    setCurrentFocus={setCurrentFocus}\n                />\n            </MobileWrapper>\n        </>\n    );\n});\n\nexport default AccumulatorsAmountMobile;\n","import React from 'react';\nimport classNames from 'classnames';\nimport { Tabs, TickPicker, Numpad, RelativeDatepicker } from '@deriv/components';\nimport { isEmptyObject, addComma, getDurationMinMaxValues, getUnitMap } from '@deriv/shared';\nimport { Localize, localize } from '@deriv/translations';\nimport ExpiryText from './expiry-text.jsx';\nimport DurationRangeText from './duration-range-text';\nimport { observer, useStore } from '@deriv/stores';\nimport { useTraderStore } from 'Stores/useTraderStores';\nimport moment from 'moment';\n\nconst submit_label = localize('OK');\n\nconst updateAmountChanges = (obj, stake_value, payout_value, basis, trade_basis, trade_amount) => {\n    // TODO: Move onChangeMultiple outside of duration and amount\n    //  and unify all trade parameter components to use same onMultipleChange func onSubmit\n    // Checks if Amount tab was changed to stake and stake value was updated\n    if (basis === 'stake' && stake_value !== trade_amount) {\n        obj.basis = 'stake';\n        obj.amount = stake_value;\n        // Checks if Amount tab was changed to payout and payout value was updated\n    } else if (basis === 'payout' && payout_value !== trade_amount) {\n        obj.basis = 'payout';\n        obj.amount = payout_value;\n        // Checks if Amount tab was changed but payout or stake value was not updated\n    } else if (trade_basis !== basis) {\n        obj.basis = basis;\n        obj.amount = trade_amount;\n    }\n};\n\nconst Ticks = observer(\n    ({\n        setDurationError,\n        basis_option,\n        toggleModal,\n        has_amount_error,\n        payout_value,\n        stake_value,\n        selected_duration,\n        setSelectedDuration,\n    }) => {\n        const {\n            duration_min_max,\n            duration: trade_duration,\n            duration_unit: trade_duration_unit,\n            basis: trade_basis,\n            amount: trade_amount,\n            onChangeMultiple,\n        } = useTraderStore();\n        React.useEffect(() => {\n            setDurationError(false);\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n        }, []);\n\n        const [min_tick, max_tick] = getDurationMinMaxValues(duration_min_max, 'tick', 't');\n\n        const setTickDuration = value => {\n            const { value: duration } = value.target;\n            const on_change_obj = {};\n\n            // check for any amount changes from Amount trade params tab before submitting onChange object\n            if (!has_amount_error)\n                updateAmountChanges(on_change_obj, stake_value, payout_value, basis_option, trade_basis, trade_amount);\n\n            if (trade_duration !== duration || trade_duration_unit !== 't') {\n                on_change_obj.duration_unit = 't';\n                on_change_obj.duration = duration;\n            }\n\n            if (!isEmptyObject(on_change_obj)) onChangeMultiple(on_change_obj);\n            toggleModal();\n        };\n\n        const onTickChange = tick => setSelectedDuration('t', tick);\n        const tick_duration = trade_duration < min_tick && selected_duration < min_tick ? min_tick : selected_duration;\n        return (\n            <div className='trade-params__duration-tickpicker'>\n                <TickPicker\n                    default_value={tick_duration}\n                    submit_label={submit_label}\n                    max_value={max_tick}\n                    min_value={min_tick}\n                    onSubmit={setTickDuration}\n                    onValueChange={onTickChange}\n                    singular_label={localize('Tick')}\n                    plural_label={localize('Ticks')}\n                />\n            </div>\n        );\n    }\n);\n\nconst Numbers = observer(\n    ({\n        basis_option,\n        contract_expiry = 'intraday',\n        duration_unit_option,\n        duration_values,\n        expiry_epoch,\n        has_amount_error,\n        payout_value,\n        selected_duration,\n        setDurationError,\n        setSelectedDuration,\n        stake_value,\n        show_expiry = false,\n        toggleModal,\n    }) => {\n        const { ui } = useStore();\n        const { addToast } = ui;\n        const {\n            duration_min_max,\n            duration: trade_duration,\n            duration_unit: trade_duration_unit,\n            basis: trade_basis,\n            amount: trade_amount,\n            is_vanilla,\n            onChangeMultiple,\n        } = useTraderStore();\n        const { value: duration_unit } = duration_unit_option;\n        const [min, max] = getDurationMinMaxValues(duration_min_max, contract_expiry, duration_unit);\n        const [has_error, setHasError] = React.useState(false);\n\n        const validateDuration = value => {\n            const localized_message = (\n                <Localize\n                    i18n_default_text='Should be between {{min}} and {{max}}'\n                    values={{\n                        min,\n                        max: addComma(max, 0, false),\n                    }}\n                />\n            );\n            if (parseInt(value) < min || parseInt(selected_duration) > max) {\n                addToast({ key: 'duration_error', content: localized_message, type: 'error', timeout: 2000 });\n                setDurationError(true);\n                setHasError(true);\n                return 'error';\n            } else if (parseInt(value) > max) {\n                addToast({ key: 'duration_error', content: localized_message, type: 'error', timeout: 2000 });\n                setHasError(true);\n                return 'error';\n            } else if (value.toString().length < 1) {\n                addToast({ key: 'duration_error', content: localized_message, type: 'error', timeout: 2000 });\n                setDurationError(true);\n                setHasError(true);\n                return false;\n            }\n\n            setDurationError(false);\n            setHasError(false);\n            return true;\n        };\n\n        const setDuration = duration => {\n            const on_change_obj = {};\n\n            // check for any amount changes from Amount trade params tab before submitting onChange object\n            if (!has_amount_error)\n                updateAmountChanges(on_change_obj, stake_value, payout_value, basis_option, trade_basis, trade_amount);\n\n            if (trade_duration !== duration || trade_duration_unit !== duration_unit) {\n                on_change_obj.duration_unit = duration_unit;\n                on_change_obj.duration = duration;\n                on_change_obj.expiry_type = 'duration';\n            }\n\n            if (!isEmptyObject(on_change_obj)) onChangeMultiple(on_change_obj);\n            toggleModal();\n        };\n\n        const setExpiryDate = (epoch, duration) => {\n            if (trade_duration_unit !== 'd') {\n                return moment.utc().add(Number(duration), 'days').format('D MMM YYYY, [23]:[59]:[59] [GMT +0]');\n            }\n            let expiry_date = new Date((epoch - trade_duration * 24 * 60 * 60) * 1000);\n            if (duration) {\n                expiry_date = new Date(expiry_date.getTime() + duration * 24 * 60 * 60 * 1000);\n            }\n\n            return expiry_date\n                .toUTCString()\n                .replace('GMT', 'GMT +0')\n                .substring(5)\n                .replace(/(\\d{2}) (\\w{3} \\d{4})/, '$1 $2,');\n        };\n\n        const onNumberChange = num => {\n            setSelectedDuration(duration_unit, num);\n            validateDuration(num);\n        };\n\n        const fixed_date = !has_error ? setExpiryDate(expiry_epoch, duration_values?.d_duration) : '';\n\n        const { name_plural, name } = getUnitMap()[duration_unit];\n        const duration_unit_text = name_plural ?? name;\n\n        return (\n            <div className='trade-params__amount-keypad'>\n                <div\n                    className={classNames('text-container', {\n                        'text-container--vanilla': is_vanilla,\n                    })}\n                >\n                    {is_vanilla && <DurationRangeText min={min} max={max} duration_unit_text={duration_unit_text} />}\n                    {show_expiry && <ExpiryText fixed_date={fixed_date} />}\n                </div>\n                <Numpad\n                    value={selected_duration}\n                    onSubmit={setDuration}\n                    render={({ value: v, className }) => {\n                        return <div className={className}>{v}</div>;\n                    }}\n                    pip_size={0}\n                    submit_label={submit_label}\n                    min={min}\n                    max={max}\n                    reset_press_interval={350}\n                    reset_value=''\n                    onValidate={validateDuration}\n                    onValueChange={onNumberChange}\n                />\n            </div>\n        );\n    }\n);\n\nconst Duration = observer(\n    ({\n        amount_tab_idx,\n        d_duration,\n        duration_tab_idx,\n        expiry_epoch,\n        h_duration,\n        has_amount_error,\n        m_duration,\n        payout_value,\n        s_duration,\n        setDurationError,\n        setDurationTabIdx,\n        setSelectedDuration,\n        stake_value,\n        t_duration,\n        toggleModal,\n    }) => {\n        const { duration_units_list, duration_min_max, duration_unit, basis: trade_basis } = useTraderStore();\n        const duration_values = {\n            t_duration,\n            s_duration,\n            m_duration,\n            h_duration,\n            d_duration,\n        };\n        const has_selected_tab_idx = typeof duration_tab_idx !== 'undefined';\n        const active_index = has_selected_tab_idx\n            ? duration_tab_idx\n            : duration_units_list.findIndex(d => d.value === duration_unit);\n        const [min, max] = getDurationMinMaxValues(duration_min_max, 'daily', 'd');\n        const handleRelativeChange = date => {\n            setSelectedDuration('d', date);\n        };\n        const selected_basis_option = () => {\n            if (amount_tab_idx === 0) {\n                return 'stake';\n            } else if (amount_tab_idx === 1) {\n                return 'payout';\n            }\n            return trade_basis;\n        };\n\n        const onTabChange = index => {\n            setDurationTabIdx(index);\n            const { value: unit } = duration_units_list[index];\n            setSelectedDuration(unit, duration_values[`${unit}_duration`]);\n        };\n\n        return (\n            <div>\n                <Tabs active_index={active_index} onTabItemClick={num => onTabChange(num)} single_tab_has_no_label top>\n                    {duration_units_list.map(duration_unit_option => {\n                        switch (duration_unit_option.value) {\n                            case 't':\n                                return (\n                                    <div label={duration_unit_option.text} key={duration_unit_option.value}>\n                                        <Ticks\n                                            basis_option={selected_basis_option()}\n                                            has_amount_error={has_amount_error}\n                                            toggleModal={toggleModal}\n                                            selected_duration={t_duration}\n                                            setDurationError={setDurationError}\n                                            setSelectedDuration={setSelectedDuration}\n                                            stake_value={stake_value}\n                                            payout_value={payout_value}\n                                        />\n                                    </div>\n                                );\n                            case 's':\n                                return (\n                                    <div label={duration_unit_option.text} key={duration_unit_option.value}>\n                                        <Numbers\n                                            basis_option={selected_basis_option()}\n                                            has_amount_error={has_amount_error}\n                                            toggleModal={toggleModal}\n                                            duration_unit_option={duration_unit_option}\n                                            selected_duration={s_duration}\n                                            setDurationError={setDurationError}\n                                            setSelectedDuration={setSelectedDuration}\n                                            stake_value={stake_value}\n                                            payout_value={payout_value}\n                                        />\n                                    </div>\n                                );\n                            case 'm':\n                                return (\n                                    <div label={duration_unit_option.text} key={duration_unit_option.value}>\n                                        <Numbers\n                                            basis_option={selected_basis_option()}\n                                            has_amount_error={has_amount_error}\n                                            toggleModal={toggleModal}\n                                            duration_unit_option={duration_unit_option}\n                                            selected_duration={m_duration}\n                                            setDurationError={setDurationError}\n                                            setSelectedDuration={setSelectedDuration}\n                                            stake_value={stake_value}\n                                            payout_value={payout_value}\n                                        />\n                                    </div>\n                                );\n                            case 'h':\n                                return (\n                                    <div label={duration_unit_option.text} key={duration_unit_option.value}>\n                                        <Numbers\n                                            basis_option={selected_basis_option()}\n                                            has_amount_error={has_amount_error}\n                                            toggleModal={toggleModal}\n                                            duration_unit_option={duration_unit_option}\n                                            selected_duration={h_duration}\n                                            setDurationError={setDurationError}\n                                            setSelectedDuration={setSelectedDuration}\n                                            stake_value={stake_value}\n                                            payout_value={payout_value}\n                                        />\n                                    </div>\n                                );\n                            case 'd':\n                                return (\n                                    <div label={duration_unit_option.text} key={duration_unit_option.value}>\n                                        <Numbers\n                                            basis_option={selected_basis_option()}\n                                            has_amount_error={has_amount_error}\n                                            toggleModal={toggleModal}\n                                            duration_unit_option={duration_unit_option}\n                                            contract_expiry='daily'\n                                            selected_duration={d_duration}\n                                            setDurationError={setDurationError}\n                                            setSelectedDuration={setSelectedDuration}\n                                            stake_value={stake_value}\n                                            show_expiry\n                                            payout_value={payout_value}\n                                            expiry_epoch={expiry_epoch}\n                                            duration_values={duration_values}\n                                        />\n                                        <RelativeDatepicker\n                                            onChange={handleRelativeChange}\n                                            min_date={min}\n                                            max_date={max}\n                                            title={localize('Pick an end date')}\n                                        />\n                                    </div>\n                                );\n                            default:\n                                return null;\n                        }\n                    })}\n                </Tabs>\n            </div>\n        );\n    }\n);\n\nexport default Duration;\n","import 'Sass/app/modules/trading-mobile.scss';\nimport { Div100vhContainer, Modal, Money, Tabs, ThemedScrollbars, usePreventIOSZoom } from '@deriv/components';\nimport AmountMobile from 'Modules/Trading/Components/Form/TradeParams/amount-mobile';\nimport Barrier from 'Modules/Trading/Components/Form/TradeParams/barrier';\nimport DurationMobile from 'Modules/Trading/Components/Form/TradeParams/Duration/duration-mobile.jsx';\nimport LastDigit from 'Modules/Trading/Components/Form/TradeParams/last-digit';\nimport { TTextValueStrings } from 'Types';\nimport { observer, useStore } from '@deriv/stores';\nimport { useTraderStore } from 'Stores/useTraderStores';\nimport React from 'react';\nimport classNames from 'classnames';\nimport { localize } from '@deriv/translations';\n\ntype TTradeParamsModal = {\n    is_open: boolean;\n    tab_index: number;\n    toggleModal: () => void;\n};\n\ntype TTradeParamsMobile = {\n    currency: string;\n    toggleModal: () => void;\n    isVisible: (component_key: string) => boolean;\n    setAmountTabIdx: (amount_tab_idx?: number) => void;\n    amount_tab_idx?: number;\n    setTradeParamTabIdx: (trade_param_tab_idx: number) => void;\n    trade_param_tab_idx: number;\n    setDurationTabIdx: (duration_tab_idx?: number) => void;\n    duration_unit: string;\n    duration_units_list: TTextValueStrings[];\n    duration_value: number;\n    duration_tab_idx?: number;\n    has_amount_error: boolean;\n    has_duration_error: boolean;\n    // amount\n    setAmountError: (has_error: boolean) => void;\n    setSelectedAmount: (basis: string, selected_basis_value: string | number) => void;\n    stake_value: number;\n    payout_value: number;\n    // duration\n    setDurationError: (has_error: boolean) => void;\n    setSelectedDuration: (selected_duration_unit: string, selected_duration: number) => void;\n    t_duration: number;\n    s_duration: number;\n    m_duration: number;\n    h_duration: number;\n    d_duration: number;\n};\n\ntype TReducer = Pick<\n    TTradeParamsMobile,\n    | 'trade_param_tab_idx'\n    | 'duration_tab_idx'\n    | 'amount_tab_idx'\n    | 'has_amount_error'\n    | 'has_duration_error'\n    | 't_duration'\n    | 's_duration'\n    | 'm_duration'\n    | 'h_duration'\n    | 'd_duration'\n    | 'stake_value'\n    | 'payout_value'\n> & { curr_duration_unit: string; curr_duration_value: number };\n\nconst DEFAULT_DURATION = Object.freeze({\n    t: 5,\n    s: 15,\n    m: 3,\n    h: 1,\n    d: 1,\n});\n\nconst reducer = (state: TReducer, payload: Partial<TReducer>) => {\n    return {\n        ...state,\n        ...payload,\n    };\n};\n\nconst makeGetDefaultDuration = (trade_duration: number, trade_duration_unit: string) => (duration_unit: string) =>\n    trade_duration_unit === duration_unit\n        ? trade_duration\n        : DEFAULT_DURATION[duration_unit as keyof typeof DEFAULT_DURATION];\n\nconst TradeParamsModal = observer(({ is_open, toggleModal, tab_index }: TTradeParamsModal) => {\n    const { client } = useStore();\n    const { currency } = client;\n    const { amount, form_components, duration, duration_unit, duration_units_list, is_vanilla } = useTraderStore();\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    const getDefaultDuration = React.useCallback(makeGetDefaultDuration(duration, duration_unit), []);\n\n    const [state, dispatch] = React.useReducer(reducer, {\n        trade_param_tab_idx: tab_index,\n        duration_tab_idx: undefined,\n        amount_tab_idx: undefined,\n        has_amount_error: false,\n        has_duration_error: false,\n        // duration unit values\n        curr_duration_unit: duration_unit,\n        curr_duration_value: duration,\n        t_duration: getDefaultDuration('t'),\n        s_duration: getDefaultDuration('s'),\n        m_duration: getDefaultDuration('m'),\n        h_duration: getDefaultDuration('h'),\n        d_duration: getDefaultDuration('d'),\n        // amount values\n        stake_value: amount,\n        payout_value: amount,\n    });\n\n    usePreventIOSZoom();\n\n    React.useEffect(() => {\n        setSelectedDuration(duration_unit, duration);\n        setDurationTabIdx();\n        // duration and duration_unit can be changed in trade-store when contract type is changed\n    }, [duration, duration_unit]);\n\n    const setTradeParamTabIdx = (trade_param_tab_idx: number) => dispatch({ trade_param_tab_idx });\n\n    const setDurationTabIdx = (duration_tab_idx?: number) => dispatch({ duration_tab_idx });\n\n    const setAmountTabIdx = (amount_tab_idx?: number) => dispatch({ amount_tab_idx });\n\n    const setSelectedAmount = (basis: string, selected_basis_value: string | number) =>\n        dispatch({ [`${basis}_value`]: selected_basis_value });\n\n    const setSelectedDuration = (selected_duration_unit: string, selected_duration: number) => {\n        dispatch({\n            [`${selected_duration_unit}_duration`]: selected_duration,\n            curr_duration_unit: selected_duration_unit,\n            curr_duration_value: selected_duration,\n        });\n    };\n\n    const setAmountError = (has_error: boolean) => {\n        dispatch({ has_amount_error: has_error });\n    };\n    const setDurationError = (has_error: boolean) => {\n        dispatch({ has_duration_error: has_error });\n    };\n\n    const isVisible = (component_key: string): boolean => form_components.includes(component_key);\n    return (\n        <React.Fragment>\n            <Modal\n                id='dt_trade_parameters_mobile'\n                className='trade-params'\n                is_open={is_open}\n                header={<div />}\n                toggleModal={toggleModal}\n                height={is_vanilla ? '53.8rem' : 'auto'}\n                width='calc(100vw - 32px)'\n            >\n                <ThemedScrollbars>\n                    <Div100vhContainer className='mobile-widget-dialog__wrapper' max_autoheight_offset='120px'>\n                        <TradeParamsMobile\n                            currency={currency}\n                            toggleModal={toggleModal}\n                            isVisible={isVisible}\n                            setTradeParamTabIdx={setTradeParamTabIdx}\n                            trade_param_tab_idx={tab_index}\n                            setDurationTabIdx={setDurationTabIdx}\n                            duration_tab_idx={state.duration_tab_idx}\n                            setAmountTabIdx={setAmountTabIdx}\n                            amount_tab_idx={state.amount_tab_idx}\n                            // amount\n                            setSelectedAmount={setSelectedAmount}\n                            stake_value={state.stake_value}\n                            payout_value={state.payout_value}\n                            duration_unit={state.curr_duration_unit}\n                            duration_value={state.curr_duration_value}\n                            duration_units_list={duration_units_list}\n                            has_amount_error={state.has_amount_error}\n                            setAmountError={setAmountError}\n                            // duration\n                            setSelectedDuration={setSelectedDuration}\n                            has_duration_error={state.has_duration_error}\n                            setDurationError={setDurationError}\n                            t_duration={state.t_duration}\n                            s_duration={state.s_duration}\n                            m_duration={state.m_duration}\n                            h_duration={state.h_duration}\n                            d_duration={state.d_duration}\n                        />\n                    </Div100vhContainer>\n                </ThemedScrollbars>\n            </Modal>\n        </React.Fragment>\n    );\n});\n\nexport default TradeParamsModal;\n\nconst TradeParamsMobile = observer(\n    ({\n        currency,\n        toggleModal,\n        isVisible,\n        setAmountTabIdx,\n        amount_tab_idx,\n        setTradeParamTabIdx,\n        trade_param_tab_idx,\n        setDurationTabIdx,\n        duration_unit,\n        duration_units_list,\n        duration_value,\n        duration_tab_idx,\n        has_amount_error,\n        has_duration_error,\n        // amount\n        setAmountError,\n        setSelectedAmount,\n        stake_value,\n        payout_value,\n        // duration\n        setDurationError,\n        setSelectedDuration,\n        t_duration,\n        s_duration,\n        m_duration,\n        h_duration,\n        d_duration,\n    }: TTradeParamsMobile) => {\n        const { basis_list, basis, expiry_epoch, is_turbos, is_vanilla } = useTraderStore();\n        const getDurationText = () => {\n            const duration = duration_units_list.find(d => d.value === duration_unit);\n            return `${duration_value} ${\n                duration && (duration_value > 1 ? localize(duration.text) : localize(duration.text.slice(0, -1)))\n            }`;\n        };\n\n        const getAmountText = () => {\n            const has_selected_tab_idx = typeof amount_tab_idx !== 'undefined';\n            const active_index = has_selected_tab_idx ? amount_tab_idx : basis_list.findIndex(b => b.value === basis);\n\n            return <Money currency={currency} show_currency amount={active_index === 1 ? payout_value : stake_value} />;\n        };\n\n        const getHeaderContent = (tab_key: string) => {\n            switch (tab_key) {\n                case 'duration':\n                    return (\n                        <div className='trade-params__header'>\n                            <div className='trade-params__header-label'>{localize('Duration')}</div>\n                            <div\n                                className={classNames('trade-params__header-value', {\n                                    'trade-params__header-value--has-error': has_duration_error,\n                                })}\n                            >\n                                {has_duration_error ? localize('Error') : getDurationText()}\n                            </div>\n                        </div>\n                    );\n                case 'amount':\n                    return (\n                        <div className='trade-params__header'>\n                            <div className='trade-params__header-label'>\n                                {is_turbos || is_vanilla ? localize('Stake') : localize('Amount')}\n                            </div>\n                            <div\n                                className={classNames('trade-params__header-value', {\n                                    'trade-params__header-value--has-error': has_amount_error,\n                                })}\n                            >\n                                {has_amount_error ? localize('Error') : getAmountText()}\n                            </div>\n                        </div>\n                    );\n                default:\n                    return null;\n            }\n        };\n        return (\n            <Tabs\n                active_index={trade_param_tab_idx}\n                className='trade-params-duration-amount'\n                onTabItemClick={setTradeParamTabIdx}\n                top\n            >\n                {isVisible('duration') ? (\n                    <div data-header-content={getHeaderContent('duration')}>\n                        <DurationMobile\n                            // @ts-expect-error: TODO: check if TS error is gone after <DurationMobile /> is migrated to TS\n                            toggleModal={toggleModal}\n                            amount_tab_idx={amount_tab_idx}\n                            duration_tab_idx={duration_tab_idx}\n                            setDurationTabIdx={setDurationTabIdx}\n                            setSelectedDuration={setSelectedDuration}\n                            setDurationError={setDurationError}\n                            has_amount_error={has_amount_error}\n                            t_duration={t_duration}\n                            s_duration={s_duration}\n                            m_duration={m_duration}\n                            h_duration={h_duration}\n                            d_duration={d_duration}\n                            stake_value={stake_value}\n                            payout_value={payout_value}\n                            expiry_epoch={expiry_epoch}\n                        />\n                    </div>\n                ) : null}\n                {isVisible('amount') ? (\n                    <div data-header-content={getHeaderContent('amount')}>\n                        <AmountMobile\n                            duration_unit={duration_unit}\n                            duration_value={duration_value}\n                            toggleModal={toggleModal}\n                            amount_tab_idx={amount_tab_idx}\n                            setAmountTabIdx={setAmountTabIdx}\n                            has_duration_error={has_duration_error}\n                            setSelectedAmount={setSelectedAmount}\n                            setAmountError={setAmountError}\n                            stake_value={stake_value}\n                            payout_value={payout_value}\n                        />\n                    </div>\n                ) : null}\n            </Tabs>\n        );\n    }\n);\n\nexport const LastDigitMobile = observer(() => {\n    const { form_components } = useTraderStore();\n    return form_components.includes('last_digit') ? <LastDigit /> : null;\n});\n\nexport const BarrierMobile = observer(() => {\n    const { form_components } = useTraderStore();\n    return form_components.includes('barrier') ? <Barrier /> : null;\n});\n","import React from 'react';\nimport { Money } from '@deriv/components';\nimport { localize, Localize } from '@deriv/translations';\nimport { getExpiryType, getDurationMinMaxValues, getLocalizedBasis } from '@deriv/shared';\nimport { MultiplierAmountWidget } from 'Modules/Trading/Components/Form/TradeParams/Multiplier/widgets.jsx';\nimport TradeParamsModal from '../../Containers/trade-params-mobile';\nimport { observer, useStore } from '@deriv/stores';\nimport { useTraderStore } from 'Stores/useTraderStores';\n\nconst MobileWidget = observer(({ toggleDigitsWidget, is_collapsed }) => {\n    const { ui } = useStore();\n    const { onChangeUiStore } = ui;\n    const trade_store = useTraderStore();\n    const {\n        amount,\n        basis,\n        currency,\n        duration,\n        duration_min_max,\n        duration_unit,\n        form_components,\n        is_multiplier,\n        last_digit,\n        onChange,\n    } = trade_store;\n\n    const [is_open, setIsOpen] = React.useState(false);\n    const [tab_index, setTabIndex] = React.useState(0);\n\n    React.useEffect(() => {\n        assertDurationIsWithinBoundary();\n    });\n\n    const assertDurationIsWithinBoundary = () => {\n        const contract_expiry_type = getExpiryType(trade_store);\n        const [min_value, max_value] = getDurationMinMaxValues(duration_min_max, contract_expiry_type, duration_unit);\n\n        if (contract_expiry_type === 'tick' && duration < min_value) {\n            onChangeUiStore({ name: `duration_${duration_unit}`, value: min_value });\n            onChange({ target: { name: 'duration', value: min_value } });\n        }\n        if (!(duration < min_value) && duration > max_value) {\n            onChangeUiStore({ name: `duration_${duration_unit}`, value: max_value });\n            onChange({ target: { name: 'duration', value: max_value } });\n        }\n    };\n\n    // tab_index 0 is duration and 1 is amount\n    const toggleWidget = tab_index => {\n        setTabIndex(tab_index);\n        setIsOpen(!is_open);\n    };\n\n    const getHumanReadableDuration = () => {\n        if (!duration_unit) return '';\n        const lookup = {\n            t: [localize('tick'), localize('ticks')],\n            s: [localize('second'), localize('seconds')],\n            m: [localize('min'), localize('mins')],\n            h: [localize('hour'), localize('hours')],\n            d: [localize('day'), localize('days')],\n        };\n\n        try {\n            if (!duration_unit) return '';\n            const formatted_duration_unit = +duration === 1 ? lookup[duration_unit][0] : lookup[duration_unit][1];\n\n            return `${duration} ${formatted_duration_unit}`;\n        } catch (e) {\n            return '';\n        }\n    };\n\n    const isVisible = component => {\n        return form_components.includes(component);\n    };\n\n    const localized_basis = getLocalizedBasis();\n\n    const stakeOrPayout = () => {\n        switch (basis) {\n            case 'stake':\n                return localized_basis.stake;\n            case 'payout':\n                return localized_basis.payout;\n            default:\n                return basis;\n        }\n    };\n\n    return (\n        <div className='mobile-widget__wrapper'>\n            {is_multiplier ? (\n                <MultiplierAmountWidget />\n            ) : (\n                <div id='duration_amount_selector' className='mobile-widget duration_amount_selector'>\n                    <div className='mobile-widget__duration' onClick={() => toggleWidget(0)}>\n                        {getHumanReadableDuration()}\n                    </div>\n                    <div className='mobile-widget__amount--container' onClick={() => toggleWidget(1)}>\n                        <div className='mobile-widget__amount'>\n                            <Money amount={amount} currency={currency} show_currency />\n                        </div>\n                        <div className='mobile-widget__type'>{stakeOrPayout()}</div>\n                    </div>\n                </div>\n            )}\n            <TradeParamsModal is_open={is_open} toggleModal={() => toggleWidget(tab_index)} tab_index={tab_index} />\n            {isVisible('last_digit') && is_collapsed && (\n                <div className='mobile-widget' onClick={toggleDigitsWidget}>\n                    <div className='mobile-widget__amount'>\n                        <Localize i18n_default_text='Digit: {{last_digit}} ' values={{ last_digit }} />\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n});\n\nexport default MobileWidget;\n","import React from 'react';\nimport { Checkbox, RadioGroup, Dialog, Popover, Text } from '@deriv/components';\nimport { localize, Localize } from '@deriv/translations';\nimport { onToggleCancellation, onChangeCancellationDuration } from 'Stores/Modules/Trading/Helpers/multiplier';\nimport Fieldset from 'App/Components/Form/fieldset';\nimport { observer, useStore } from '@deriv/stores';\nimport { TTradeStore } from 'Types';\nimport { useTraderStore } from 'Stores/useTraderStores';\n\ntype TDealCancellationWarningDialog = {\n    is_visible: boolean;\n    onConfirm: () => void;\n    onCancel: () => void;\n};\n\ntype TCancelDeal = {\n    has_cancellation: boolean;\n    has_take_profit: boolean;\n    has_stop_loss: boolean;\n    onChangeMultiple: (\n        props: Partial<\n            Pick<\n                TTradeStore,\n                | 'cancellation_duration'\n                | 'has_cancellation'\n                | 'has_stop_loss'\n                | 'has_take_profit'\n                | 'stop_loss'\n                | 'take_profit'\n            >\n        >\n    ) => void;\n    cancellation_duration: string;\n};\n\nconst DealCancellationWarningDialog = observer(\n    ({ is_visible, onConfirm, onCancel }: TDealCancellationWarningDialog) => {\n        const { ui } = useStore();\n        const { disableApp, enableApp, should_show_cancellation_warning, toggleCancellationWarning } = ui;\n        return (\n            <Dialog\n                className='trade-params__multiplier-deal-cancellation-dialog'\n                title={localize('About deal cancellation')}\n                confirm_button_text={localize('Got it')}\n                cancel_button_text={localize('Cancel')}\n                onConfirm={onConfirm}\n                onCancel={onCancel}\n                is_mobile_full_width={false}\n                is_visible={is_visible}\n                disableApp={disableApp}\n                enableApp={enableApp}\n                portal_element_id='modal_root'\n            >\n                <Text size='xxxs' color='general'>\n                    <Localize i18n_default_text='Take profit and/or stop loss are not available while deal cancellation is active.' />\n                </Text>\n                <Checkbox\n                    defaultChecked={!should_show_cancellation_warning}\n                    onChange={() => toggleCancellationWarning()}\n                    name='should_show_cancellation_warning'\n                    label={localize(\"Don't show this again\")}\n                />\n            </Dialog>\n        );\n    }\n);\n\nconst CancelDeal = observer(\n    ({ has_cancellation, has_take_profit, has_stop_loss, onChangeMultiple, cancellation_duration }: TCancelDeal) => {\n        const { ui } = useStore();\n        const { should_show_cancellation_warning } = ui;\n        const { cancellation_range_list } = useTraderStore();\n        const [is_deal_cancel_warning_visible, setDealCancelWarningVisibility] = React.useState(false);\n\n        const canToggleDealCancel = () => {\n            const should_show_popover = (has_take_profit || has_stop_loss) && should_show_cancellation_warning;\n            if (should_show_popover) setDealCancelWarningVisibility(should_show_popover);\n            return !should_show_popover;\n        };\n\n        return (\n            <React.Fragment>\n                <DealCancellationWarningDialog\n                    is_visible={is_deal_cancel_warning_visible}\n                    onCancel={() => setDealCancelWarningVisibility(false)}\n                    onConfirm={() => {\n                        setDealCancelWarningVisibility(false);\n                        onToggleCancellation({ has_cancellation, onChangeMultiple });\n                    }}\n                />\n                <Fieldset className='trade-container__fieldset'>\n                    <div className='dc-input-wrapper--inline'>\n                        <Checkbox\n                            id='dt_cancellation-checkbox_input'\n                            onChange={() => {\n                                if (canToggleDealCancel()) {\n                                    onToggleCancellation({ has_cancellation, onChangeMultiple });\n                                }\n                            }}\n                            name='has_cancellation'\n                            label={localize('Deal cancellation')}\n                            defaultChecked={has_cancellation}\n                        />\n                        <Popover\n                            alignment='left'\n                            icon='info'\n                            id='dt_multiplier-stake__tooltip'\n                            is_bubble_hover_enabled\n                            classNameBubble='trade-container__deal-cancellation-popover'\n                            zIndex='9999'\n                            message={localize(\n                                'Cancel your trade anytime within a chosen time-frame. Triggered automatically if your trade reaches the stop out level within the chosen time-frame.'\n                            )}\n                        />\n                    </div>\n                    {has_cancellation && (\n                        <React.Fragment>\n                            <RadioGroup\n                                className='trade-params__multiplier-radio-group'\n                                name='trade-params__multiplier-radio'\n                                selected={cancellation_duration}\n                                onToggle={event => onChangeCancellationDuration({ event, onChangeMultiple })}\n                            >\n                                {cancellation_range_list.map(({ text, value }) => (\n                                    <RadioGroup.Item key={value} id={text} label={text} value={value.toString()} />\n                                ))}\n                            </RadioGroup>\n                        </React.Fragment>\n                    )}\n                </Fieldset>\n            </React.Fragment>\n        );\n    }\n);\n\nexport default CancelDeal;\n","import classNames from 'classnames';\nimport React from 'react';\nimport { MobileDialog, Button, Div100vhContainer } from '@deriv/components';\nimport { isDeepEqual, pick } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { observer } from '@deriv/stores';\nimport { useTraderStore } from 'Stores/useTraderStores';\nimport StopLoss from 'Modules/Trading/Components/Form/TradeParams/Multiplier/stop-loss.jsx';\nimport TakeProfit from 'Modules/Trading/Components/Form/TradeParams/Multiplier/take-profit.jsx';\nimport CancelDeal from 'Modules/Trading/Components/Elements/Multiplier/cancel-deal-mobile';\n\ntype TRiskManagementDialog = {\n    is_open: boolean;\n    onClose: () => void;\n    toggleDialog: () => void;\n};\ntype TValidation_errors = {\n    take_profit: string[] | [];\n    stop_loss: string[] | [];\n};\n\nconst RiskManagementDialog = observer(({ is_open, onClose, toggleDialog }: TRiskManagementDialog) => {\n    const {\n        is_turbos,\n        take_profit,\n        has_take_profit,\n        has_stop_loss,\n        stop_loss,\n        has_cancellation,\n        cancellation_range_list,\n        cancellation_duration,\n        onChangeMultiple,\n    } = useTraderStore();\n    const applied_risk_management_state = {\n        take_profit,\n        stop_loss,\n        has_take_profit,\n        has_stop_loss,\n        has_cancellation,\n        cancellation_duration,\n    };\n    const [state, setState] = React.useState(applied_risk_management_state);\n\n    const [validation_errors, setValidationErrors] = React.useState<TValidation_errors | Record<string, never>>({});\n\n    const should_show_deal_cancellation = cancellation_range_list?.length > 0;\n\n    const getStateToCompare = (_state: typeof applied_risk_management_state) => {\n        const props_to_pick = [\n            'has_take_profit',\n            'has_stop_loss',\n            'has_cancellation',\n            _state.has_take_profit && 'take_profit',\n            _state.has_stop_loss && 'stop_loss',\n            _state.has_cancellation && 'cancellation_duration',\n        ];\n\n        return pick(_state, props_to_pick);\n    };\n\n    const isStateUnchanged = () => {\n        return isDeepEqual(getStateToCompare(state), getStateToCompare(applied_risk_management_state));\n    };\n\n    const validate = (new_state: typeof applied_risk_management_state) => {\n        setValidationErrors({\n            take_profit:\n                new_state.has_take_profit && !new_state.take_profit\n                    ? [localize('Please enter a take profit amount.')]\n                    : [],\n            stop_loss:\n                new_state.has_stop_loss && !new_state.stop_loss ? [localize('Please enter a stop loss amount.')] : [],\n        });\n    };\n\n    const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n        const { name, value } = e.target;\n        const new_state = { ...state };\n        new_state[name as 'take_profit' | 'stop_loss' | 'cancellation_duration'] = value;\n        setState(new_state);\n        validate(new_state);\n    };\n\n    const onChangeMultipleLocal = (props: keyof typeof applied_risk_management_state) => {\n        const new_state = { ...state };\n        Object.assign(new_state, props);\n        setState(new_state);\n        validate(new_state);\n    };\n\n    const apply = () => {\n        onChangeMultiple(state);\n        toggleDialog();\n    };\n\n    const resetAndClose = () => {\n        setState(applied_risk_management_state);\n        onClose();\n    };\n\n    return (\n        <React.Fragment>\n            <MobileDialog portal_element_id='modal_root' visible={is_open} has_content_scroll onClose={resetAndClose}>\n                <Div100vhContainer\n                    className={classNames('trade-params__multiplier-risk-management-dialog', {\n                        'trade-params__multiplier-risk-management-dialog--no-cancel': !should_show_deal_cancellation,\n                    })}\n                    height_offset='54px'\n                >\n                    <TakeProfit\n                        // @ts-expect-error TODO: ts migration of <TakeProfit />\n                        take_profit={state.take_profit}\n                        has_take_profit={state.has_take_profit}\n                        onChange={onChange}\n                        onChangeMultiple={onChangeMultipleLocal}\n                        validation_errors={validation_errors}\n                    />\n                    {!is_turbos && (\n                        <StopLoss\n                            // @ts-expect-error TODO: ts migration of <StopLoss />\n                            stop_loss={state.stop_loss}\n                            has_stop_loss={state.has_stop_loss}\n                            onChange={onChange}\n                            onChangeMultiple={onChangeMultipleLocal}\n                            validation_errors={validation_errors}\n                        />\n                    )}\n                    {should_show_deal_cancellation && (\n                        <CancelDeal\n                            has_take_profit={state.has_take_profit}\n                            has_stop_loss={state.has_stop_loss}\n                            has_cancellation={state.has_cancellation}\n                            cancellation_duration={state.cancellation_duration}\n                            onChangeMultiple={\n                                onChangeMultipleLocal as unknown as React.ComponentProps<\n                                    typeof CancelDeal\n                                >['onChangeMultiple']\n                            }\n                        />\n                    )}\n                    <div className='trade-params__multiplier-risk-management-dialog-bottom-separator' />\n                    <div className='trade-params__multiplier-risk-management-dialog-apply-button'>\n                        <Button\n                            text={localize('Apply')}\n                            onClick={apply}\n                            primary\n                            is_disabled={\n                                validation_errors.take_profit?.length > 0 ||\n                                validation_errors.stop_loss?.length > 0 ||\n                                isStateUnchanged()\n                            }\n                        />\n                    </div>\n                </Div100vhContainer>\n            </MobileDialog>\n        </React.Fragment>\n    );\n});\n\nexport default RiskManagementDialog;\n","import React from 'react';\nimport { Money } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport RiskManagementDialog from 'Modules/Trading/Containers/Multiplier/risk-management-dialog';\nimport { observer } from '@deriv/stores';\nimport { useTraderStore } from 'Stores/useTraderStores';\n\nconst RiskManagementInfo = observer(() => {\n    const {\n        currency,\n        stop_loss,\n        take_profit,\n        has_take_profit,\n        has_stop_loss,\n        cancellation_duration,\n        cancellation_range_list,\n        has_cancellation,\n    } = useTraderStore();\n    const [is_dialog_open, setDialogOpen] = React.useState(false);\n    const has_risk_management = has_take_profit || has_stop_loss || has_cancellation;\n    const toggleDialog = () => {\n        setDialogOpen(!is_dialog_open);\n    };\n    const cancellation_label = cancellation_range_list.find(r => r.value === cancellation_duration)?.text;\n\n    return (\n        <React.Fragment>\n            <RiskManagementDialog\n                is_open={is_dialog_open}\n                toggleDialog={toggleDialog}\n                onClose={() => setDialogOpen(false)}\n            />\n            <div\n                className='mobile-widget mobile-widget__multiplier-risk-management'\n                onClick={() => setDialogOpen(!is_dialog_open)}\n            >\n                {!has_risk_management && (\n                    <div className='mobile-widget__item'>\n                        <div className='mobile-widget__item-label'>{localize('Risk management')}</div>\n                        <div className='mobile-widget__item-value'>{localize('Not set')}</div>\n                    </div>\n                )}\n                {has_take_profit && (\n                    <div className='mobile-widget__item'>\n                        <div className='mobile-widget__item-label'>{localize('Take profit')}</div>\n                        <div className='mobile-widget__item-value'>\n                            <Money amount={take_profit} currency={currency} show_currency />\n                        </div>\n                    </div>\n                )}\n                {has_stop_loss && (\n                    <div className='mobile-widget__item'>\n                        <div className='mobile-widget__item-label'>{localize('Stop loss')}</div>\n                        <div className='mobile-widget__item-value'>\n                            <Money amount={stop_loss} currency={currency} show_currency />\n                        </div>\n                    </div>\n                )}\n                {has_cancellation && (\n                    <div className='mobile-widget__item'>\n                        <div className='mobile-widget__item-label'>{localize('Deal Cancellation')}</div>\n                        <div className='mobile-widget__item-value'>{cancellation_label}</div>\n                    </div>\n                )}\n            </div>\n        </React.Fragment>\n    );\n});\n\nexport default RiskManagementInfo;\n","import React from 'react';\nimport { Icon, Money, Text, Popover } from '@deriv/components';\nimport { Localize, localize } from '@deriv/translations';\nimport Fieldset from 'App/Components/Form/fieldset';\nimport { observer } from '@deriv/stores';\nimport { getContractSubtype, isVanillaContract } from '@deriv/shared';\nimport { useTraderStore } from 'Stores/useTraderStores';\nimport { TProposalTypeInfo } from 'Types';\n\ntype TProposalInfo = {\n    [key: string]: TProposalTypeInfo;\n};\n\nconst PayoutPerPointMobile = observer(() => {\n    const { currency, proposal_info, contract_type } = useTraderStore();\n    const contract_key = contract_type?.toUpperCase();\n    // remove assertion and local TProposalInfo type after TS migration for trade package is complete\n    const { has_error, has_increased, id, message, obj_contract_basis } =\n        (proposal_info as TProposalInfo)?.[contract_key] || {};\n    const { text: label, value: payout_per_point } = obj_contract_basis || {};\n    const has_error_or_not_loaded = has_error || !id;\n    const turbos_titles = {\n        Long: localize('For Long:'),\n        Short: localize('For Short:'),\n    };\n    const tooltip_text = isVanillaContract(contract_type) ? (\n        <Localize i18n_default_text='The payout at expiry is equal to the payout per point multiplied by the difference between the final price and the strike price.' />\n    ) : (\n        <Localize\n            i18n_default_text='<0>{{title}}</0> {{message}}'\n            components={[<Text key={0} weight='bold' size='xxs' />]}\n            values={{\n                title: turbos_titles[getContractSubtype(contract_key) as keyof typeof turbos_titles],\n                message,\n            }}\n        />\n    );\n    if (!payout_per_point) return <Fieldset className='payout-per-point' />;\n    return (\n        <Fieldset className='payout-per-point'>\n            <div className='payout-per-point__label-wrapper'>\n                <Text size='xs' color='less-prominent' className='payout-per-point__label'>\n                    {label}\n                </Text>\n                <Popover\n                    alignment='top'\n                    icon='info'\n                    is_bubble_hover_enabled\n                    margin={0}\n                    zIndex='9999'\n                    message={message ? tooltip_text : ''}\n                />\n            </div>\n            <Text size='xs' weight='bold' className='payout-per-point__value'>\n                <Money amount={payout_per_point} currency={currency} show_currency should_format={false} />\n                <span className='trade-container__price-info-movement'>\n                    {!has_error_or_not_loaded && has_increased !== null && has_increased ? (\n                        <Icon icon='IcProfit' />\n                    ) : (\n                        <Icon icon='IcLoss' />\n                    )}\n                </span>\n            </Text>\n        </Fieldset>\n    );\n});\n\nexport default PayoutPerPointMobile;\n","import React from 'react';\nimport { Collapsible } from '@deriv/components';\nimport { TradeParamsLoader } from 'App/Components/Elements/ContentLoader';\nimport AllowEqualsMobile from 'Modules/Trading/Containers/allow-equals';\nimport {\n    hasCallPutEqual,\n    hasDurationForCallPutEqual,\n    isRiseFallEqual,\n} from 'Stores/Modules/Trading/Helpers/allow-equals';\nimport {\n    AccumulatorOptionsWidget,\n    MultiplierOptionsWidget,\n} from 'Modules/Trading/Components/Form/TradeParams/Multiplier/widgets.jsx';\nimport AccumulatorsAmountMobile from 'Modules/Trading/Components/Form/TradeParams/Accumulator/accumulators-amount-mobile';\nimport AccumulatorsInfoDisplay from 'Modules/Trading/Components/Form/TradeParams/Accumulator/accumulators-info-display';\nimport { BarrierMobile, LastDigitMobile } from 'Modules/Trading/Containers/trade-params-mobile';\nimport ContractType from 'Modules/Trading/Containers/contract-type';\nimport MobileWidget from 'Modules/Trading/Components/Elements/mobile-widget.jsx';\nimport Purchase from 'Modules/Trading/Containers/purchase';\nimport RiskManagementInfo from 'Modules/Trading/Components/Elements/Multiplier/risk-management-info';\nimport TakeProfit from 'Modules/Trading/Components/Form/TradeParams/Multiplier/take-profit.jsx';\nimport 'Sass/app/_common/mobile-widget.scss';\nimport classNames from 'classnames';\nimport AccumulatorsStats from 'Modules/Contract/Components/AccumulatorsStats';\nimport Strike from 'Modules/Trading/Components/Form/TradeParams/strike.jsx';\nimport BarrierSelector from 'Modules/Trading/Components/Form/TradeParams/Turbos/barrier-selector';\nimport PayoutPerPointMobile from 'Modules/Trading/Components/Elements/payout-per-point-mobile';\nimport TradeTypeTabs from 'Modules/Trading/Components/Form/TradeParams/trade-type-tabs';\nimport { observer } from '@deriv/stores';\nimport { useTraderStore } from 'Stores/useTraderStores';\n\ntype TCollapsibleTradeParams = Pick<\n    ReturnType<typeof useTraderStore>,\n    | 'form_components'\n    | 'has_take_profit'\n    | 'previous_symbol'\n    | 'is_accumulator'\n    | 'is_trade_params_expanded'\n    | 'is_multiplier'\n    | 'is_vanilla'\n    | 'is_turbos'\n    | 'onChange'\n    | 'take_profit'\n    | 'setIsTradeParamsExpanded'\n> & {\n    has_allow_equals: boolean;\n    is_allow_equal: boolean;\n};\n\nconst CollapsibleTradeParams = ({\n    form_components,\n    has_allow_equals,\n    has_take_profit,\n    previous_symbol,\n    is_allow_equal,\n    is_accumulator,\n    is_multiplier,\n    is_trade_params_expanded,\n    is_turbos,\n    is_vanilla,\n    onChange,\n    take_profit,\n    setIsTradeParamsExpanded,\n}: TCollapsibleTradeParams) => {\n    React.useEffect(() => {\n        if (previous_symbol && is_allow_equal && has_allow_equals) setIsTradeParamsExpanded(true);\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [previous_symbol]);\n\n    const is_collapsed = !is_trade_params_expanded;\n\n    const onClick = (e: boolean) => {\n        setIsTradeParamsExpanded(e);\n    };\n\n    const toggleDigitsWidget = () => {\n        setIsTradeParamsExpanded(true);\n    };\n\n    const isVisible = (component: string) => form_components.includes(component);\n\n    return (\n        <Collapsible position='top' is_collapsed={is_collapsed} onClick={onClick}>\n            {is_accumulator && is_collapsed && <AccumulatorsStats />}\n            <div className='trade-params__contract-type-container'>\n                <ContractType />\n                {is_multiplier && <MultiplierOptionsWidget />}\n                {isVisible('trade_type_tabs') && <TradeTypeTabs />}\n                {is_accumulator && <AccumulatorOptionsWidget />}\n            </div>\n            {isVisible('last_digit') && (\n                <div data-collapsible='true'>\n                    <LastDigitMobile />\n                </div>\n            )}\n            {isVisible('barrier') && (\n                <div data-collapsible='true'>\n                    <BarrierMobile />\n                </div>\n            )}\n            {isVisible('barrier_selector') && (\n                <div data-collapsible='true'>\n                    <BarrierSelector />\n                </div>\n            )}\n            {isVisible('strike') && (\n                <div data-collapsible='true'>\n                    <Strike />\n                </div>\n            )}\n            {/* \n            // @ts-expect-error Observer wrapped component needs to be ts migrated before props can be detected */}\n            {!is_accumulator && <MobileWidget is_collapsed={is_collapsed} toggleDigitsWidget={toggleDigitsWidget} />}\n            {has_allow_equals && (\n                <div data-collapsible='true'>\n                    <AllowEqualsMobile />\n                </div>\n            )}\n            {(is_multiplier || is_turbos) && (\n                <div data-collapsible='true'>\n                    <RiskManagementInfo />\n                </div>\n            )}\n            {is_accumulator && [\n                <AccumulatorsAmountMobile key='accu_amount' />,\n                <div\n                    data-collapsible='true'\n                    key='accu_take_profit'\n                    className={classNames('take-profit', 'mobile-widget')}\n                >\n                    <TakeProfit\n                        //@ts-expect-error Observer wrapped component needs to be ts migrated before props can be detected\n                        take_profit={take_profit}\n                        has_take_profit={has_take_profit}\n                        onChange={onChange}\n                        has_info={false}\n                    />\n                </div>,\n                <div data-collapsible='true' key='accu_info'>\n                    <AccumulatorsInfoDisplay />\n                </div>,\n            ]}\n            {(is_turbos || is_vanilla) && <PayoutPerPointMobile />}\n            <div\n                className={classNames({\n                    'purchase-container': !is_vanilla,\n                    [`purchase-container__${is_accumulator ? 'accumulator' : 'turbos'}`]: is_accumulator || is_turbos,\n                })}\n            >\n                <Purchase />\n            </div>\n        </Collapsible>\n    );\n};\n\nconst ScreenSmall = observer(({ is_trade_enabled }: { is_trade_enabled: boolean }) => {\n    const trade_store = useTraderStore();\n    const {\n        is_accumulator,\n        is_multiplier,\n        is_turbos,\n        is_vanilla,\n        duration_unit,\n        contract_types_list,\n        contract_type,\n        expiry_type,\n        contract_start_type,\n        form_components,\n        has_take_profit,\n        onChange,\n        previous_symbol,\n        is_trade_params_expanded,\n        setIsTradeParamsExpanded,\n        take_profit,\n    } = trade_store;\n    const is_allow_equal = !!trade_store.is_equal;\n\n    const collapsible_trade_params_props = {\n        is_accumulator,\n        is_multiplier,\n        is_turbos,\n        is_vanilla,\n        form_components,\n        has_take_profit,\n        onChange,\n        previous_symbol,\n        is_trade_params_expanded,\n        setIsTradeParamsExpanded,\n        take_profit,\n        is_allow_equal,\n    };\n\n    const has_callputequal_duration = hasDurationForCallPutEqual(\n        contract_types_list,\n        duration_unit,\n        contract_start_type\n    );\n\n    const has_callputequal = hasCallPutEqual(contract_types_list);\n    const has_allow_equals =\n        isRiseFallEqual(contract_type) && (has_callputequal_duration || expiry_type === 'endtime') && has_callputequal;\n\n    return !is_trade_enabled ? (\n        <div className='mobile-wrapper__content-loader'>\n            <TradeParamsLoader speed={2} />\n        </div>\n    ) : (\n        <CollapsibleTradeParams has_allow_equals={has_allow_equals} {...collapsible_trade_params_props} />\n    );\n});\n\nexport default ScreenSmall;\n"],"names":["AllowEquals","onChange","is_allow_equal","has_equals_only","className","classNames","Checkbox","label","localize","value","name","e","persist","target","checked","Number","disabled","Text","as","size","Localize","i18n_default_text","observer","useTraderStore","allow_equals_props","is_equal","requestPreviewProposal","debounce","store","override","onProposalResponse","new_store","requests","createProposalRequests","subscription_map","onResponse","response","error","subscription","id","isEmptyObject","proposal_requests","Object","keys","forEach","type","WS","Basis","basis","duration_unit","duration_value","toggleModal","has_duration_error","selected_basis","setSelectedAmount","setAmountError","useStore","ui","client","addToast","currency","contract_type","is_turbos","is_vanilla","onChangeMultiple","trade_amount","amount","trade_basis","trade_duration_unit","trade_duration","duration","stake_boundary","toUpperCase","min_stake","max_stake","user_currency_decimal_places","getDecimalPlaces","zero_decimals","toFixed","min_amount","parseFloat","toString","replace","validateAmount","localized_message","min_max_stake_message","values","selected_value","key","content","timeout","isNaN","length","strike__pos","Numpad","format","onSubmit","on_change_obj","min","max","is_currency","render","Money","should_format","reset_press_interval","reset_value","pip_size","onValidate","submit_label","onValueChange","num","amount_tab_idx","setAmountTabIdx","stake_value","payout_value","basis_list","active_index","findIndex","b","Tabs","onTabItemClick","top","map","basis_option","text","is_open","usePreventIOSZoom","Modal","is_title_centered","should_header_stick_body","height","width","title","Div100vhContainer","max_autoheight_offset","TradeParamsMobile","trade_store","React","setStakeValue","commission","setCommission","stop_out","setStopOut","stake_ref","isMounted","useIsMounted","dispose","proposal","echo_req","current","limit_order","order_amount","Popover","alignment","classNameBubble","icon","zIndex","is_bubble_hover_enabled","message","components","show_currency","stake","should_show_tooltip","items_list","contract_name","current_value_object","info","is_tooltip_disabled","popover_alignment","disable_target_icon","RadioGroup","selected","onToggle","MultiplierOptions","multiplier","multiplier_range_list","modal_title","accumulator_range_list","growth_rate","tick_size_barrier","proposal_info","has_error_or_not_loaded","ACCU","has_error","getGrowthRatePercentage","getTickSizeBarrierPercentage","MultipliersExpirationModal","enableApp","disableApp","has_close_icon","style","minHeight","padding","color","is_text_only","text_size","has_separator","Button","large","primary","has_effect","onClick","propTypes","PropTypes","AmountWidget","expiration","is_crypto_multiplier","setIsOpen","is_expiration_modal_open","setIsExpirationModalOpen","toggleExpirationModal","weight","commission_text_size","stop_out_text_size","MultiplierAmountWidget","amount_widget_props","RadioGroupOptionsWidget","displayed_trade_param","tooltip_message","is_disabled","stopPropagation","MultiplierOptionsWidget","AccumulatorOptionsWidget","has_open_accu_contract","is_nativepicker","current_focus","setCurrentFocus","is_single_currency","MobileWrapper","LabeledQuantityInputMobile","input_label","classNameInlinePrefix","classNameInput","fractional_digits","inline_prefix","is_autocomplete_disabled","is_float","is_hj_whitelisted","is_incrementable","is_negative_disabled","max_length","AMOUNT_MAX_LENGTH","ariaLabel","updateAmountChanges","obj","Ticks","setDurationError","has_amount_error","selected_duration","setSelectedDuration","duration_min_max","getDurationMinMaxValues","min_tick","max_tick","tick_duration","TickPicker","default_value","max_value","min_value","tick","singular_label","plural_label","Numbers","contract_expiry","duration_unit_option","duration_values","expiry_epoch","show_expiry","setHasError","validateDuration","addComma","parseInt","fixed_date","epoch","moment","add","expiry_date","Date","getTime","toUTCString","substring","setExpiryDate","d_duration","getUnitMap","name_plural","duration_unit_text","expiry_type","v","duration_tab_idx","h_duration","m_duration","s_duration","setDurationTabIdx","t_duration","duration_units_list","d","handleRelativeChange","date","selected_basis_option","index","unit","onTabChange","single_tab_has_no_label","RelativeDatepicker","min_date","max_date","DEFAULT_DURATION","freeze","t","s","m","h","reducer","state","payload","tab_index","form_components","getDefaultDuration","trade_param_tab_idx","undefined","curr_duration_unit","curr_duration_value","dispatch","selected_duration_unit","header","ThemedScrollbars","isVisible","component_key","includes","setTradeParamTabIdx","selected_basis_value","getHeaderContent","tab_key","find","slice","LastDigitMobile","BarrierMobile","MobileWidget","toggleDigitsWidget","is_collapsed","onChangeUiStore","is_multiplier","last_digit","setTabIndex","assertDurationIsWithinBoundary","component","contract_expiry_type","getExpiryType","toggleWidget","localized_basis","getLocalizedBasis","lookup","formatted_duration_unit","getHumanReadableDuration","payout","stakeOrPayout","DealCancellationWarningDialog","is_visible","onConfirm","onCancel","should_show_cancellation_warning","toggleCancellationWarning","Dialog","confirm_button_text","cancel_button_text","is_mobile_full_width","portal_element_id","defaultChecked","has_cancellation","has_take_profit","has_stop_loss","cancellation_duration","cancellation_range_list","is_deal_cancel_warning_visible","setDealCancelWarningVisibility","onToggleCancellation","should_show_popover","event","onChangeCancellationDuration","onClose","toggleDialog","take_profit","stop_loss","applied_risk_management_state","setState","validation_errors","setValidationErrors","should_show_deal_cancellation","getStateToCompare","_state","props_to_pick","pick","validate","new_state","onChangeMultipleLocal","props","assign","MobileDialog","visible","has_content_scroll","height_offset","isDeepEqual","is_dialog_open","setDialogOpen","has_risk_management","cancellation_label","r","PayoutPerPointMobile","contract_key","has_increased","obj_contract_basis","payout_per_point","turbos_titles","Long","Short","tooltip_text","isVanillaContract","getContractSubtype","margin","Icon","CollapsibleTradeParams","has_allow_equals","previous_symbol","is_accumulator","is_trade_params_expanded","setIsTradeParamsExpanded","Collapsible","position","AccumulatorsStats","has_info","ScreenSmall","is_trade_enabled","contract_types_list","contract_start_type","collapsible_trade_params_props","has_callputequal_duration","hasDurationForCallPutEqual","has_callputequal","hasCallPutEqual","isRiseFallEqual","speed"],"sourceRoot":""}