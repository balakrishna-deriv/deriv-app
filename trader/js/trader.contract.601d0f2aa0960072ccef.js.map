{"version":3,"file":"trader/js/trader.contract.601d0f2aa0960072ccef.js","mappings":"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","sources":["webpack://@deriv/trader/./src/App/Components/Elements/Errors/error-component.jsx","webpack://@deriv/trader/./src/App/Components/Elements/Errors/index.js","webpack://@deriv/trader/./src/App/Components/Elements/Modals/UnsupportedContractModal/unsupported-contract-modal.jsx","webpack://@deriv/trader/./src/App/Components/Elements/Modals/UnsupportedContractModal/index.js","webpack://@deriv/trader/./src/App/Components/Elements/ContractAudit/contract-audit-item.jsx","webpack://@deriv/trader/./src/App/Components/Elements/ContractAudit/contract-details.jsx","webpack://@deriv/trader/./src/Stores/Modules/Trading/Helpers/logic.js","webpack://@deriv/trader/./src/App/Components/Elements/ContractAudit/contract-history.jsx","webpack://@deriv/trader/./src/App/Components/Elements/ContractAudit/contract-audit.jsx","webpack://@deriv/trader/./src/App/Components/Elements/ContractAudit/index.js","webpack://@deriv/trader/./src/App/Components/Elements/ContractDrawer/swipeable-components.jsx","webpack://@deriv/trader/./src/App/Components/Elements/ContractDrawer/market-closed-contract-overlay.jsx","webpack://@deriv/trader/./src/App/Components/Elements/ContractDrawer/contract-drawer-card.jsx","webpack://@deriv/trader/./src/App/Components/Elements/ContractDrawer/contract-drawer.jsx","webpack://@deriv/trader/./src/App/Components/Elements/ContractDrawer/index.js","webpack://@deriv/trader/./src/Modules/Contract/Components/InfoBox/info-box-longcode.jsx","webpack://@deriv/trader/./src/Modules/Contract/Components/contract-error.jsx","webpack://@deriv/trader/./src/Modules/Contract/Components/InfoBox/info-box.jsx","webpack://@deriv/trader/./src/Modules/Contract/Components/InfoBox/index.js","webpack://@deriv/trader/./src/Modules/Contract/Containers/contract-replay-widget.jsx","webpack://@deriv/trader/./src/Modules/Contract/Containers/contract-replay.jsx","webpack://@deriv/trader/./src/Modules/Contract/Containers/contract.jsx","webpack://@deriv/trader/./src/Modules/Contract/index.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Dialog, PageErrorContainer } from '@deriv/components';\nimport { routes } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\n\nconst ErrorComponent = ({\n    header,\n    message,\n    is_dialog,\n    redirect_label,\n    redirectOnClick,\n    should_show_refresh = true,\n}) => {\n    const refresh_message = should_show_refresh ? localize('Please refresh this page to continue.') : '';\n\n    if (is_dialog) {\n        return (\n            <Dialog\n                title={header || localize('There was an error')}\n                is_visible\n                confirm_button_text={redirect_label || localize('Ok')}\n                onConfirm={redirectOnClick || (() => location.reload())}\n            >\n                {message || localize('Sorry, an error occured while processing your request.')}\n            </Dialog>\n        );\n    }\n    return (\n        <PageErrorContainer\n            error_header={header ?? ''}\n            error_messages={message ? message[(message, refresh_message)] : []}\n            redirect_urls={[routes.trade]}\n            redirect_labels={[redirect_label || localize('Refresh')]}\n            buttonOnClick={redirectOnClick || (() => location.reload())}\n        />\n    );\n};\n\nErrorComponent.propTypes = {\n    header: PropTypes.string,\n    is_dialog: PropTypes.bool,\n    message: PropTypes.oneOfType([PropTypes.node, PropTypes.string, PropTypes.object]),\n    redirect_label: PropTypes.string,\n    redirectOnClick: PropTypes.func,\n    should_show_refresh: PropTypes.bool,\n    type: PropTypes.string,\n};\n\nexport default ErrorComponent;\n","import ErrorComponent from './error-component.jsx';\n\nexport default ErrorComponent;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Dialog } from '@deriv/components';\nimport { localize, Localize } from '@deriv/translations';\nimport { website_name } from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\n\nconst UnsupportedContractModal = observer(({ onConfirm, onClose }) => {\n    const { ui } = useStore();\n    const { disableApp, enableApp, is_loading, is_unsupported_contract_modal_visible: is_visible } = ui;\n\n    return (\n        <Dialog\n            title={localize('We’re working on it')}\n            confirm_button_text={localize('Stay on {{website_domain}}', { website_domain: website_name })}\n            cancel_button_text={localize('Go to Binary.com')}\n            onConfirm={onConfirm}\n            onCancel={onClose}\n            disableApp={disableApp}\n            enableApp={enableApp}\n            is_loading={is_loading}\n            is_closed_on_cancel\n            is_visible={is_visible}\n        >\n            <Localize i18n_default_text='You’ve selected a trade type that is currently unsupported, but we’re working on it.' />\n        </Dialog>\n    );\n});\n\nUnsupportedContractModal.propTypes = {\n    onClose: PropTypes.func,\n    onConfirm: PropTypes.func,\n};\n\nexport default UnsupportedContractModal;\n","import UnsupportedContractModal from './unsupported-contract-modal.jsx';\n\nexport default UnsupportedContractModal;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { formatDate, formatTime } from '@deriv/shared';\nimport { Text } from '@deriv/components';\n\nconst ContractAuditItem = ({ icon, id, label, timestamp, value, value2 }) => (\n    <div id={id} className='contract-audit__grid' data-testid={id}>\n        {icon && <div className='contract-audit__icon'>{icon}</div>}\n        <div className='contract-audit__item'>\n            <Text size='xxxs' styles={{ lineHeight: 'unset' }} className='contract-audit__label'>\n                {label}\n            </Text>\n            <div className='contract-audit__value-wrapper'>\n                <Text weight='bold' size='xxs' line_height='m' color='prominent' className='contract-audit__value'>\n                    {value}\n                </Text>\n                {value2 && (\n                    <Text weight='bold' size='xxs' line_height='m' color='prominent' className='contract-audit__value2'>\n                        {value2}\n                    </Text>\n                )}\n            </div>\n        </div>\n        {timestamp && (\n            <div className='contract-audit__timestamp'>\n                <Text size='xxxs' align='right' line_height='xs' className='contract-audit__timestamp-value'>\n                    {formatDate(timestamp)}\n                </Text>\n                <Text size='xxxs' align='right' line_height='xs' className='contract-audit__timestamp-value'>\n                    {formatTime(timestamp)}\n                </Text>\n            </div>\n        )}\n    </div>\n);\n\nContractAuditItem.propTypes = {\n    icon: PropTypes.node,\n    id: PropTypes.string,\n    label: PropTypes.string,\n    timestamp: PropTypes.string,\n    value: PropTypes.PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.node]),\n    value2: PropTypes.PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n};\n\nexport default ContractAuditItem;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Money, Icon, ThemedScrollbars } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport {\n    epochToMoment,\n    toGMTFormat,\n    getCancellationPrice,\n    isAccumulatorContract,\n    getCurrencyDisplayCode,\n    isMobile,\n    isMultiplierContract,\n    isUserSold,\n    isEndedBeforeCancellationExpired,\n    isUserCancelled,\n} from '@deriv/shared';\nimport {\n    addCommaToNumber,\n    getBarrierLabel,\n    getBarrierValue,\n    isDigitType,\n} from 'App/Components/Elements/PositionsDrawer/helpers';\nimport ContractAuditItem from './contract-audit-item.jsx';\nimport { isCancellationExpired } from 'Stores/Modules/Trading/Helpers/logic';\n\nconst ContractDetails = ({ contract_end_time, contract_info, duration, duration_unit, exit_spot, is_vanilla }) => {\n    const {\n        commission,\n        contract_type,\n        currency,\n        entry_spot_display_value,\n        entry_tick_time,\n        exit_tick_time,\n        profit,\n        date_start,\n        tick_count,\n        tick_passed,\n        transaction_ids: { buy, sell } = {},\n        number_of_contracts,\n    } = contract_info;\n\n    const is_profit = profit >= 0;\n    const cancellation_price = getCancellationPrice(contract_info);\n    const ticks_duration_text = isAccumulatorContract(contract_type)\n        ? `${tick_passed}/${tick_count} ${localize('ticks')}`\n        : `${tick_count} ${tick_count < 2 ? localize('tick') : localize('ticks')}`;\n\n    const getLabel = () => {\n        if (isUserSold(contract_info) && isEndedBeforeCancellationExpired(contract_info))\n            return localize('Deal cancellation');\n        if (isUserCancelled(contract_info)) return localize('Deal cancellation (executed)');\n        if (isCancellationExpired(contract_info)) return localize('Deal cancellation (expired)');\n        return localize('Deal cancellation (active)');\n    };\n\n    return (\n        <ThemedScrollbars is_bypassed={isMobile()}>\n            <div className='contract-audit__tabs-content'>\n                <ContractAuditItem\n                    id='dt_id_label'\n                    icon={<Icon icon='IcContractId' size={24} />}\n                    label={localize('Reference ID')}\n                    value={localize('{{buy_value}} (Buy)', { buy_value: buy })}\n                    value2={sell ? localize('{{sell_value}} (Sell)', { sell_value: sell }) : undefined}\n                />\n                {isMultiplierContract(contract_type) ? (\n                    <React.Fragment>\n                        <ContractAuditItem\n                            id='dt_commission_label'\n                            icon={<Icon icon='IcContractCommission' size={24} />}\n                            label={localize('Commission')}\n                            value={<Money amount={commission} currency={currency} show_currency />}\n                        />\n                        {!!cancellation_price && (\n                            <ContractAuditItem\n                                id='dt_cancellation_label'\n                                icon={<Icon icon='IcContractSafeguard' size={24} />}\n                                label={getLabel()}\n                                value={<Money amount={cancellation_price} currency={currency} />}\n                            />\n                        )}\n                    </React.Fragment>\n                ) : (\n                    <React.Fragment>\n                        {(!isAccumulatorContract(contract_type) || !isNaN(contract_end_time)) && (\n                            <ContractAuditItem\n                                id='dt_duration_label'\n                                icon={<Icon icon='IcContractDuration' size={24} />}\n                                label={localize('Duration')}\n                                value={tick_count > 0 ? ticks_duration_text : `${duration} ${duration_unit}`}\n                            />\n                        )}\n                        {is_vanilla && (\n                            <React.Fragment>\n                                <ContractAuditItem\n                                    id='dt_bt_label'\n                                    icon={<Icon icon='IcContractStrike' size={24} />}\n                                    label={getBarrierLabel(contract_info)}\n                                    value={getBarrierValue(contract_info) || ' - '}\n                                />\n                                <ContractAuditItem\n                                    id='dt_bt_label'\n                                    icon={<Icon icon='IcContractPayout' size={24} />}\n                                    label={localize('Payout per point')}\n                                    value={`${number_of_contracts} ${getCurrencyDisplayCode(currency)}` || ' - '}\n                                    should_format={!is_vanilla}\n                                />\n                            </React.Fragment>\n                        )}\n                        {!isAccumulatorContract(contract_type) && !is_vanilla && (\n                            <ContractAuditItem\n                                id='dt_bt_label'\n                                icon={\n                                    isDigitType(contract_type) ? (\n                                        <Icon icon='IcContractTarget' size={24} />\n                                    ) : (\n                                        <Icon icon='IcContractBarrier' size={24} />\n                                    )\n                                }\n                                label={getBarrierLabel(contract_info)}\n                                value={getBarrierValue(contract_info) || ' - '}\n                            />\n                        )}\n                    </React.Fragment>\n                )}\n                <ContractAuditItem\n                    id='dt_start_time_label'\n                    icon={<Icon icon='IcContractStartTime' size={24} />}\n                    label={localize('Start time')}\n                    value={toGMTFormat(epochToMoment(date_start)) || ' - '}\n                />\n                {!isDigitType(contract_type) && (\n                    <ContractAuditItem\n                        id='dt_entry_spot_label'\n                        icon={<Icon icon='IcContractEntrySpot' size={24} />}\n                        label={localize('Entry spot')}\n                        value={addCommaToNumber(entry_spot_display_value) || ' - '}\n                        value2={toGMTFormat(epochToMoment(entry_tick_time)) || ' - '}\n                    />\n                )}\n                {!isNaN(exit_spot) && (\n                    <ContractAuditItem\n                        id='dt_exit_spot_label'\n                        icon={<Icon icon='IcContractExitSpot' size={24} />}\n                        label={localize('Exit spot')}\n                        value={addCommaToNumber(exit_spot) || ' - '}\n                        value2={toGMTFormat(epochToMoment(exit_tick_time)) || ' - '}\n                    />\n                )}\n                {!isNaN(contract_end_time) && (\n                    <ContractAuditItem\n                        id='dt_exit_time_label'\n                        icon={<Icon icon='IcContractExitTime' color={is_profit ? 'green' : 'red'} size={24} />}\n                        label={localize('Exit time')}\n                        value={toGMTFormat(epochToMoment(contract_end_time)) || ' - '}\n                    />\n                )}\n            </div>\n        </ThemedScrollbars>\n    );\n};\n\nContractDetails.propTypes = {\n    contract_end_time: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    contract_info: PropTypes.object,\n    date_start: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    duration: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n    duration_unit: PropTypes.string,\n    exit_spot: PropTypes.string,\n    is_vanilla: PropTypes.bool,\n};\n\nexport default ContractDetails;\n","import ServerTime from '_common/base/server_time';\n\nexport const isCancellationExpired = contract_info =>\n    !!(contract_info.cancellation.date_expiry < ServerTime.get().unix());\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Icon, Money, ThemedScrollbars, Text } from '@deriv/components';\nimport { isMobile } from '@deriv/shared';\n\nimport { localize } from '@deriv/translations';\nimport ContractAuditItem from './contract-audit-item.jsx';\n\nconst ContractHistory = ({ currency, history = [] }) => {\n    if (!history.length) {\n        return (\n            <div className='contract-audit__empty'>\n                <Icon icon='IcBox' size={48} color='secondary' />\n                <h4 className='contract-audit__empty-header'>{localize('No history')}</h4>\n                <Text align='center' line_height='s' color='less-prominent' size='xxs'>\n                    {localize('You have yet to update either take profit or stop loss')}\n                </Text>\n            </div>\n        );\n    }\n    return (\n        <ThemedScrollbars is_bypassed={isMobile()}>\n            <div className='contract-audit__tabs-content'>\n                {history.map((item, key) => (\n                    <ContractAuditItem\n                        key={key}\n                        id={`dt_history_label_${key}`}\n                        label={item.display_name}\n                        timestamp={+item.order_date}\n                        value={\n                            Math.abs(+item.order_amount) !== 0 ? (\n                                <React.Fragment>\n                                    {+item.order_amount < 0 && <strong>-</strong>}\n                                    <Money amount={item.order_amount} currency={currency} />\n                                    {item.value && (\n                                        <React.Fragment>\n                                            <br />\n                                            <span>({item.value})</span>\n                                        </React.Fragment>\n                                    )}\n                                </React.Fragment>\n                            ) : (\n                                localize('Cancelled')\n                            )\n                        }\n                    />\n                ))}\n            </div>\n        </ThemedScrollbars>\n    );\n};\n\nContractHistory.propTypes = {\n    currency: PropTypes.string,\n    history: PropTypes.array,\n};\n\nexport default ContractHistory;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Tabs } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport { WS } from '@deriv/shared';\nimport ContractDetails from './contract-details.jsx';\nimport ContractHistory from './contract-history.jsx';\n\nconst ContractAudit = ({\n    contract_update_history,\n    has_result,\n    is_accumulator,\n    is_multiplier,\n    toggleHistoryTab,\n    ...props\n}) => {\n    const { contract_id, currency } = props.contract_info;\n    const [update_history, setUpdateHistory] = React.useState([]);\n\n    const getSortedUpdateHistory = history => history.sort((a, b) => b.order_date - a.order_date);\n\n    React.useEffect(() => {\n        if (!!contract_update_history.length && contract_update_history.length > update_history.length)\n            setUpdateHistory(getSortedUpdateHistory(contract_update_history));\n    }, [contract_update_history, update_history]);\n\n    const onTabItemClick = tab_index => {\n        toggleHistoryTab(tab_index);\n        if (tab_index) {\n            WS.contractUpdateHistory(contract_id).then(response => {\n                setUpdateHistory(getSortedUpdateHistory(response.contract_update_history));\n            });\n        }\n    };\n\n    if (!has_result) return null;\n\n    if (!is_multiplier && !is_accumulator) {\n        return (\n            <div className='contract-audit__wrapper'>\n                <ContractDetails {...props} />\n            </div>\n        );\n    }\n    return (\n        <div className='contract-audit__wrapper'>\n            <Tabs top className='contract-audit__tabs' onTabItemClick={onTabItemClick}>\n                <div label={localize('Details')}>\n                    <ContractDetails {...props} />\n                </div>\n                <div label={localize('History')}>\n                    <ContractHistory currency={currency} history={update_history} />\n                </div>\n            </Tabs>\n        </div>\n    );\n};\n\nContractAudit.propTypes = {\n    contract_info: PropTypes.object,\n    contract_update_history: PropTypes.array,\n    has_result: PropTypes.bool,\n    is_accumulator: PropTypes.bool,\n    is_multiplier: PropTypes.bool,\n    toggleHistoryTab: PropTypes.func,\n};\n\nexport default ContractAudit;\n","import ContractAudit from './contract-audit.jsx';\n\nexport default ContractAudit;\n","import classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { SwipeableWrapper } from '@deriv/components';\n\n/**\n * Swipeable components\n */\nexport const SwipeableContractAudit = ({ is_multiplier, children, onSwipedDown }) => {\n    const swipe_handlers = SwipeableWrapper.useSwipeable({\n        onSwipedDown,\n    });\n\n    const target_el = document.getElementById('dt_contract_drawer_audit');\n\n    if (!target_el) return null;\n\n    return ReactDOM.createPortal(\n        <div className='contract-audit-card'>\n            <div\n                {...swipe_handlers}\n                className={classNames('contract-audit-card__container', {\n                    'contract-audit-card__container--is-multiplier': is_multiplier,\n                })}\n            >\n                {children}\n            </div>\n        </div>,\n        target_el\n    );\n};\n\nSwipeableContractAudit.propTypes = {\n    is_multiplier: PropTypes.bool,\n    children: PropTypes.node,\n    onSwipedDown: PropTypes.func,\n};\n\nexport const SwipeableContractDrawer = ({ children, onSwipedDown, onSwipedUp }) => {\n    const swipe_handlers = SwipeableWrapper.useSwipeable({\n        onSwipedDown,\n        onSwipedUp,\n    });\n\n    return <div {...swipe_handlers}>{children}</div>;\n};\n\nSwipeableContractDrawer.propTypes = {\n    children: PropTypes.node,\n    onSwipedDown: PropTypes.func,\n    onSwipedUp: PropTypes.func,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Text } from '@deriv/components';\n\nconst MarketClosedContractOverlay = ({ validation_error }) => (\n    <div className='contract-card__market-closed'>\n        <Text align='center' as='p' className='contract-card__market-closed__title' weight='bold'>\n            {validation_error}\n        </Text>\n    </div>\n);\n\nMarketClosedContractOverlay.propTypes = {\n    symbol: PropTypes.string,\n};\n\nexport default MarketClosedContractOverlay;\n","import classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { DesktopWrapper, MobileWrapper, Collapsible, ContractCard, useHover } from '@deriv/components';\nimport { isCryptoContract, isDesktop, getEndTime, getSymbolDisplayName } from '@deriv/shared';\nimport { getCardLabels, getContractTypeDisplay } from 'Constants/contract';\nimport { getMarketInformation } from 'Utils/Helpers/market-underlying';\nimport { SwipeableContractDrawer } from './swipeable-components.jsx';\nimport MarketClosedContractOverlay from './market-closed-contract-overlay.jsx';\nimport { useTraderStore } from 'Stores/useTraderStores';\nimport { observer, useStore } from '@deriv/stores';\n\nconst ContractDrawerCard = observer(\n    ({\n        contract_info,\n        contract_update,\n        currency,\n        is_accumulator,\n        is_market_closed,\n        is_mobile,\n        is_multiplier,\n        is_vanilla,\n        is_sell_requested,\n        is_collapsed,\n        onClickCancel,\n        onClickSell,\n        onSwipedUp,\n        onSwipedDown,\n        result,\n        server_time,\n        status,\n        toggleContractAuditDrawer,\n    }) => {\n        const { ui, contract_trade } = useStore();\n        const { active_symbols } = useTraderStore();\n        const {\n            addToast,\n            current_focus,\n            removeToast,\n            should_show_cancellation_warning,\n            setCurrentFocus,\n            toggleCancellationWarning,\n        } = ui;\n        const { getContractById } = contract_trade;\n        const [hover_ref, should_hide_closed_overlay] = useHover();\n\n        const { profit, validation_error } = contract_info;\n        const is_sold = !!getEndTime(contract_info);\n        const display_name = getSymbolDisplayName(\n            active_symbols,\n            getMarketInformation(contract_info.shortcode).underlying\n        );\n\n        const is_crypto = isCryptoContract(contract_info.underlying);\n        const has_progress_slider = !is_multiplier || (is_crypto && is_multiplier);\n\n        const card_header = (\n            <ContractCard.Header\n                contract_info={contract_info}\n                display_name={display_name}\n                getCardLabels={getCardLabels}\n                getContractTypeDisplay={getContractTypeDisplay}\n                has_progress_slider={isDesktop() && has_progress_slider}\n                is_mobile={is_mobile}\n                is_sell_requested={is_sell_requested}\n                is_sold={is_sold}\n                onClickSell={onClickSell}\n                server_time={server_time}\n            />\n        );\n\n        const card_body = (\n            <ContractCard.Body\n                addToast={addToast}\n                contract_info={contract_info}\n                contract_update={contract_update}\n                currency={currency}\n                current_focus={current_focus}\n                getCardLabels={getCardLabels}\n                getContractById={getContractById}\n                is_accumulator={is_accumulator}\n                is_mobile={is_mobile}\n                is_multiplier={is_multiplier}\n                is_sold={is_sold}\n                is_vanilla={is_vanilla}\n                has_progress_slider={has_progress_slider}\n                removeToast={removeToast}\n                server_time={server_time}\n                setCurrentFocus={setCurrentFocus}\n                should_show_cancellation_warning={should_show_cancellation_warning}\n                status={status}\n                toggleCancellationWarning={toggleCancellationWarning}\n            />\n        );\n\n        const card_footer = (\n            <ContractCard.Footer\n                contract_info={contract_info}\n                getCardLabels={getCardLabels}\n                is_multiplier={is_multiplier}\n                is_sell_requested={is_sell_requested}\n                onClickCancel={onClickCancel}\n                onClickSell={onClickSell}\n                server_time={server_time}\n                status={status}\n            />\n        );\n\n        const contract_el = (\n            <React.Fragment>\n                {card_header}\n                {card_body}\n            </React.Fragment>\n        );\n\n        const contract_card = (\n            <ContractCard\n                contract_info={contract_info}\n                getCardLabels={getCardLabels}\n                is_multiplier={is_multiplier}\n                profit_loss={profit}\n                should_show_result_overlay={false}\n            >\n                <div\n                    className={classNames('dc-contract-card', {\n                        'dc-contract-card--green': is_mobile && !is_multiplier && profit > 0 && !result,\n                        'dc-contract-card--red': is_mobile && !is_multiplier && profit < 0 && !result,\n                        'contract-card__market-closed--disabled': is_market_closed && should_hide_closed_overlay,\n                    })}\n                    ref={hover_ref}\n                >\n                    {is_market_closed && !getEndTime(contract_info) && (\n                        <div\n                            className={classNames({\n                                'contract-card__market-closed--hidden': isDesktop() && should_hide_closed_overlay,\n                            })}\n                        >\n                            <MarketClosedContractOverlay validation_error={validation_error} />\n                        </div>\n                    )}\n                    {contract_el}\n                    {card_footer}\n                </div>\n            </ContractCard>\n        );\n\n        const has_swipeable_drawer = is_sold || is_multiplier || is_accumulator || is_vanilla;\n\n        return (\n            <React.Fragment>\n                <DesktopWrapper>{contract_card}</DesktopWrapper>\n                <MobileWrapper>\n                    <SwipeableContractDrawer\n                        onSwipedUp={has_swipeable_drawer ? onSwipedUp : undefined}\n                        onSwipedDown={has_swipeable_drawer ? onSwipedDown : undefined}\n                    >\n                        {has_swipeable_drawer && (\n                            <Collapsible.ArrowButton onClick={toggleContractAuditDrawer} is_collapsed={is_collapsed} />\n                        )}\n                        {contract_card}\n                    </SwipeableContractDrawer>\n                </MobileWrapper>\n            </React.Fragment>\n        );\n    }\n);\n\nContractDrawerCard.propTypes = {\n    currency: PropTypes.string,\n    is_accumulator: PropTypes.bool,\n    is_collapsed: PropTypes.bool,\n    onClickCancel: PropTypes.func,\n    onClickSell: PropTypes.func,\n};\nexport default ContractDrawerCard;\n","import classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { withRouter } from 'react-router';\nimport { CSSTransition } from 'react-transition-group';\nimport { DesktopWrapper, MobileWrapper, Div100vhContainer } from '@deriv/components';\nimport {\n    isUserSold,\n    isMobile,\n    getDurationPeriod,\n    getDurationTime,\n    getDurationUnitText,\n    getEndTime,\n} from '@deriv/shared';\nimport ContractAudit from 'App/Components/Elements/ContractAudit';\nimport { PositionsCardLoader } from 'App/Components/Elements/ContentLoader';\nimport ContractDrawerCard from './contract-drawer-card.jsx';\nimport { SwipeableContractAudit } from './swipeable-components.jsx';\nimport { observer, useStore } from '@deriv/stores';\n\nconst ContractDrawer = observer(\n    ({\n        contract_info,\n        contract_update,\n        contract_update_history,\n        is_accumulator,\n        is_sell_requested,\n        is_dark_theme,\n        is_market_closed,\n        is_multiplier,\n        is_vanilla,\n        onClickCancel,\n        onClickSell,\n        status,\n        toggleHistoryTab,\n    }) => {\n        const { common, ui } = useStore();\n        const { server_time } = common;\n        const { is_mobile } = ui;\n        const { currency, exit_tick_display_value, is_sold } = contract_info;\n        const contract_drawer_ref = React.useRef();\n        const contract_drawer_card_ref = React.useRef();\n        const [should_show_contract_audit, setShouldShowContractAudit] = React.useState(false);\n\n        const getBodyContent = () => {\n            const exit_spot =\n                isUserSold(contract_info) && !is_multiplier && !is_accumulator ? '-' : exit_tick_display_value;\n\n            const contract_audit = (\n                <ContractAudit\n                    contract_info={contract_info}\n                    contract_update_history={contract_update_history}\n                    contract_end_time={getEndTime(contract_info)}\n                    is_accumulator={is_accumulator}\n                    is_dark_theme={is_dark_theme}\n                    is_multiplier={is_multiplier}\n                    is_open\n                    duration={getDurationTime(contract_info)}\n                    duration_unit={getDurationUnitText(getDurationPeriod(contract_info))}\n                    exit_spot={exit_spot}\n                    has_result={!!is_sold || is_multiplier || is_vanilla || is_accumulator}\n                    toggleHistoryTab={toggleHistoryTab}\n                    is_vanilla={is_vanilla}\n                />\n            );\n\n            return (\n                <React.Fragment>\n                    <ContractDrawerCard\n                        contract_info={contract_info}\n                        contract_update={contract_update}\n                        currency={currency}\n                        is_accumulator={is_accumulator}\n                        is_mobile={is_mobile}\n                        is_market_closed={is_market_closed}\n                        is_multiplier={is_multiplier}\n                        is_vanilla={is_vanilla}\n                        is_sell_requested={is_sell_requested}\n                        is_collapsed={should_show_contract_audit}\n                        onClickCancel={onClickCancel}\n                        onClickSell={onClickSell}\n                        onSwipedUp={() => setShouldShowContractAudit(true)}\n                        onSwipedDown={() => setShouldShowContractAudit(false)}\n                        server_time={server_time}\n                        status={status}\n                        toggleContractAuditDrawer={() => setShouldShowContractAudit(!should_show_contract_audit)}\n                    />\n                    <DesktopWrapper>{contract_audit}</DesktopWrapper>\n                </React.Fragment>\n            );\n        };\n\n        if (!contract_info) return null;\n\n        // For non-binary contract, the status is always null, so we check for is_expired in contract_info\n        const fallback_result = contract_info.status || contract_info.is_expired;\n\n        const exit_spot =\n            isUserSold(contract_info) && !is_multiplier && !is_accumulator ? '-' : exit_tick_display_value;\n\n        const contract_audit = (\n            <ContractAudit\n                contract_info={contract_info}\n                contract_update_history={contract_update_history}\n                contract_end_time={getEndTime(contract_info)}\n                is_accumulator={is_accumulator}\n                is_dark_theme={is_dark_theme}\n                is_multiplier={is_multiplier}\n                is_open\n                duration={getDurationTime(contract_info)}\n                duration_unit={getDurationUnitText(getDurationPeriod(contract_info))}\n                exit_spot={exit_spot}\n                has_result={!!is_sold || is_multiplier || is_vanilla || is_accumulator}\n                toggleHistoryTab={toggleHistoryTab}\n                is_vanilla={is_vanilla}\n            />\n        );\n\n        const body_content = fallback_result ? (\n            getBodyContent()\n        ) : (\n            <div className='contract-card'>\n                <PositionsCardLoader is_dark_theme={is_dark_theme} speed={2} />\n            </div>\n        );\n\n        const contract_drawer = (\n            <CSSTransition in={should_show_contract_audit} timeout={250} classNames='contract-drawer__transition'>\n                <div\n                    id='dt_contract_drawer'\n                    className={classNames('contract-drawer', {\n                        'contract-drawer--with-collapsible-btn':\n                            !!getEndTime(contract_info) ||\n                            ((is_multiplier || is_vanilla || is_accumulator) && isMobile()),\n                        'contract-drawer--is-multiplier': is_multiplier && isMobile(),\n                        'contract-drawer--is-multiplier-sold': is_multiplier && isMobile() && getEndTime(contract_info),\n                    })}\n                    style={{\n                        transform:\n                            should_show_contract_audit &&\n                            contract_drawer_ref.current &&\n                            contract_drawer_card_ref.current &&\n                            `translateY(calc(${contract_drawer_card_ref.current.clientHeight}px - ${contract_drawer_ref.current.clientHeight}px))`,\n                    }}\n                    ref={contract_drawer_ref}\n                >\n                    <div className='contract-drawer__body' ref={contract_drawer_card_ref}>\n                        {body_content}\n                    </div>\n                    {should_show_contract_audit && (\n                        <MobileWrapper>\n                            <div id='dt_contract_drawer_audit'>\n                                <SwipeableContractAudit is_multiplier={is_multiplier}>\n                                    {contract_audit}\n                                </SwipeableContractAudit>\n                            </div>\n                        </MobileWrapper>\n                    )}\n                </div>\n            </CSSTransition>\n        );\n\n        return (\n            <React.Fragment>\n                <DesktopWrapper>{contract_drawer}</DesktopWrapper>\n                <MobileWrapper>\n                    <div\n                        style={{\n                            height: contract_drawer_card_ref.current?.clientHeight,\n                        }}\n                    >\n                        <Div100vhContainer height_offset='40px' is_bypassed={!contract_drawer_card_ref.current}>\n                            {contract_drawer}\n                        </Div100vhContainer>\n                    </div>\n                </MobileWrapper>\n            </React.Fragment>\n        );\n    }\n);\n\nContractDrawer.propTypes = {\n    is_accumulator: PropTypes.bool,\n    is_multiplier: PropTypes.bool,\n    is_vanilla: PropTypes.bool,\n    toggleHistoryTab: PropTypes.func,\n};\n\nexport default withRouter(ContractDrawer);\n","import ContractDrawer from './contract-drawer.jsx';\n\nexport default ContractDrawer;\n","import { observer } from 'mobx-react';\nimport PropTypes from 'prop-types';\nimport classNames from 'classnames';\nimport React from 'react';\nimport { Icon, Text } from '@deriv/components';\nimport { localize } from '@deriv/translations';\n\nconst InfoBoxLongcode = ({ contract_info }) => {\n    const max_longcode_length = 150;\n    const [is_collapsed, setIsCollapsed] = React.useState(true);\n\n    const handleToggle = () => {\n      setIsCollapsed(!is_collapsed);\n    };\n    \n    return (\n        <div className='info-box-longcode'>\n            <Icon icon='IcContractFlag' className='info-box-longcode-icon' size={24} />\n            <div className='info-box-longcode-wrapper'>\n                <Text size='xs' className={classNames('info-box-longcode-text', {'info-box-longcode-text--collapsed' : is_collapsed})}>\n                    {contract_info.longcode}\n                </Text>\n                {` `}\n                {contract_info.longcode.length > max_longcode_length && \n                <Text as='a' href='#' size='xs' onClick={handleToggle} c>\n                    {is_collapsed ? localize('View more') : localize('View less')}\n                </Text>}\n            </div>\n        </div>\n    );\n};\n\nInfoBoxLongcode.propTypes = {\n    contract_info: PropTypes.object,\n    longcode: PropTypes.string,\n    is_vanilla: PropTypes.bool,\n};\n\nexport default observer(InfoBoxLongcode);\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Icon } from '@deriv/components';\n\n// TODO: move to App/Components, Refactor svg, consider other types, more features;\n// when a general design and more icons for all messages is ready\nconst ContractError = ({ message = '', onClickClose }) =>\n    !message ? null : (\n        <div className='message'>\n            <div className='message-icon'>\n                <svg width='16' height='16' viewBox='0 0 16 16'>\n                    <g fill='none' fillRule='evenodd'>\n                        <circle cx='8' cy='8' r='8' fill='#F44336' />\n                        <path\n                            fill='#FFF'\n                            fillRule='nonzero'\n                            d='M8 7.293l3.146-3.147a.5.5 0 0 1 .708.708L8.707 8l3.147 3.146a.5.5 0 0 1-.708.708L8 8.707l-3.146 3.147a.5.5 0 0 1-.708-.708L7.293 8 4.146 4.854a.5.5 0 1 1 .708-.708L8 7.293z'\n                        />\n                    </g>\n                </svg>\n            </div>\n            <div className='message-text'>{message}</div>\n            <div className='message-close' onClick={onClickClose}>\n                <Icon icon='IcCross' />\n            </div>\n        </div>\n    );\n\nContractError.propTypes = {\n    message: PropTypes.string,\n    onClickClose: PropTypes.func,\n};\n\nexport default ContractError;\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { SlideIn } from 'App/Components/Animations';\nimport InfoBoxLongcode from './info-box-longcode.jsx';\nimport ContractError from '../contract-error.jsx';\n\nconst InfoBox = ({ contract_info, error_message, removeError }) => {\n    const is_ready = !!contract_info.longcode;\n    return (\n        <SlideIn is_visible={is_ready} className='info-box-container' keyname='info-box-container'>\n            {!!contract_info.contract_type && (\n                <div className='info-box'>\n                    <InfoBoxLongcode contract_info={contract_info} />\n                </div>\n            )}\n            <ContractError message={error_message} onClickClose={removeError} />\n        </SlideIn>\n    );\n};\n\nInfoBox.propTypes = {\n    contract_info: PropTypes.object,\n    error_message: PropTypes.string,\n    removeError: PropTypes.func,\n};\n\nexport default InfoBox;\n","import InfoBox from './info-box.jsx';\n\nexport default InfoBox;\n","import React from 'react';\nimport Digits from 'Modules/Contract/Components/Digits';\nimport InfoBox from 'Modules/Contract/Components/InfoBox';\nimport BottomWidgets from '../../SmartChart/Components/bottom-widgets.jsx';\nimport TopWidgets from '../../SmartChart/Components/top-widgets.jsx';\nimport { observer, useStore } from '@deriv/stores';\nimport { useTraderStore } from 'Stores/useTraderStores';\n\nexport const DigitsWidget = observer(() => {\n    const { contract_replay } = useStore();\n    const { contract_store } = contract_replay;\n    const { contract_info, digits_info, display_status, is_digit_contract, is_ended } = contract_store;\n\n    return (\n        <Digits\n            is_digit_contract={is_digit_contract}\n            is_ended={is_ended}\n            contract_info={contract_info}\n            digits_info={digits_info}\n            display_status={display_status}\n        />\n    );\n});\n\nexport const InfoBoxWidget = observer(() => {\n    const { contract_replay } = useStore();\n    const { is_vanilla } = useTraderStore();\n    const { contract_store, removeErrorMessage: removeError, error_message } = contract_replay;\n    const { contract_info } = contract_store;\n\n    return (\n        <InfoBox\n            contract_info={contract_info}\n            error_message={error_message}\n            removeError={removeError}\n            is_vanilla={is_vanilla}\n        />\n    );\n});\n\n// Chart widgets passed into SmartCharts\nexport const ChartTopWidgets = () => <TopWidgets InfoBox={<InfoBoxWidget />} is_title_enabled={false} />;\nexport const ChartBottomWidgets = () => <BottomWidgets Widget={<DigitsWidget />} />;\n","import classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport {\n    DesktopWrapper,\n    Div100vhContainer,\n    MobileWrapper,\n    PageOverlay,\n    SwipeableWrapper,\n    FadeWrapper,\n    usePrevious,\n} from '@deriv/components';\nimport {\n    getDurationPeriod,\n    getDurationUnitText,\n    getEndTime,\n    getPlatformRedirect,\n    isAccumulatorContract,\n    isDesktop,\n    isEmptyObject,\n    isMobile,\n    isMultiplierContract,\n    isVanillaContract,\n    urlFor,\n} from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport ChartLoader from 'App/Components/Elements/chart-loader.jsx';\nimport ContractDrawer from 'App/Components/Elements/ContractDrawer';\nimport UnsupportedContractModal from 'App/Components/Elements/Modals/UnsupportedContractModal';\nimport { SmartChart } from 'Modules/SmartChart';\nimport { ChartBottomWidgets, ChartTopWidgets, DigitsWidget, InfoBoxWidget } from './contract-replay-widget.jsx';\nimport ChartMarker from 'Modules/SmartChart/Components/Markers/marker.jsx';\nimport { observer, useStore } from '@deriv/stores';\nimport { useTraderStore } from 'Stores/useTraderStores';\n\nconst ContractReplay = observer(({ contract_id }) => {\n    const { common, contract_replay, ui } = useStore();\n    const { contract_store } = contract_replay;\n    const {\n        is_market_closed,\n        is_sell_requested,\n        is_valid_to_cancel,\n        onClickCancel,\n        onClickSell,\n        onMount,\n        onUnmount,\n        indicative_status,\n        is_chart_loading,\n        is_forward_starting,\n    } = contract_replay;\n    const { contract_info, contract_update, contract_update_history, is_digit_contract } = contract_store;\n    const { routeBackInApp } = common;\n    const { is_dark_mode_on: is_dark_theme, notification_messages_ui: NotificationMessages, toggleHistoryTab } = ui;\n\n    const [is_visible, setIsVisible] = React.useState(false);\n    const history = useHistory();\n\n    React.useEffect(() => {\n        const url_contract_id = +/[^/]*$/.exec(location.pathname)[0];\n        onMount(contract_id || url_contract_id);\n        setIsVisible(true);\n\n        return () => {\n            setIsVisible(false);\n            onUnmount();\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [contract_id, location, onMount, onUnmount]);\n\n    const onClickClose = () => {\n        setIsVisible(false);\n        const is_from_table_row = !isEmptyObject(location.state) ? location.state.from_table_row : false;\n        return is_from_table_row ? history.goBack() : routeBackInApp(history);\n    };\n\n    if (!contract_info.underlying) return null;\n\n    const is_accumulator = isAccumulatorContract(contract_info.contract_type);\n    const is_multiplier = isMultiplierContract(contract_info.contract_type);\n    const is_vanilla = isVanillaContract(contract_info.contract_type);\n\n    const contract_drawer_el = (\n        <ContractDrawer\n            contract_info={contract_info}\n            contract_update={contract_update}\n            contract_update_history={contract_update_history}\n            is_accumulator={is_accumulator}\n            is_chart_loading={is_chart_loading}\n            is_dark_theme={is_dark_theme}\n            is_market_closed={is_market_closed}\n            is_multiplier={is_multiplier}\n            is_sell_requested={is_sell_requested}\n            is_valid_to_cancel={is_valid_to_cancel}\n            is_vanilla={is_vanilla}\n            onClickCancel={onClickCancel}\n            onClickSell={onClickSell}\n            status={indicative_status}\n            toggleHistoryTab={toggleHistoryTab}\n        />\n    );\n\n    const unsupportedContractOnConfirm = () => {\n        history.goBack();\n    };\n\n    const unsupportedContractOnClose = () => {\n        const statementws_url = urlFor('user/statementws', { legacy: true });\n        window.open(statementws_url, '_blank');\n    };\n\n    return (\n        <FadeWrapper is_visible={is_visible} className='contract-details-wrapper' keyname='contract-details-wrapper'>\n            <MobileWrapper>\n                <NotificationMessages />\n            </MobileWrapper>\n            <UnsupportedContractModal\n                onConfirm={unsupportedContractOnConfirm}\n                onClose={unsupportedContractOnClose}\n                is_visible={is_forward_starting}\n            />\n            <PageOverlay\n                id='dt_contract_replay_container'\n                header={localize('Contract details')}\n                onClickClose={onClickClose}\n            >\n                <Div100vhContainer\n                    className='trade-container__replay'\n                    is_disabled={isDesktop()}\n                    height_offset='80px' // * 80px = header + contract details header heights in mobile\n                >\n                    <DesktopWrapper>{contract_drawer_el}</DesktopWrapper>\n                    <MobileWrapper>\n                        <div\n                            className={classNames('contract-drawer__mobile-wrapper', {\n                                'contract-drawer__mobile-wrapper--is-multiplier': isMobile() && is_multiplier,\n                            })}\n                        >\n                            {contract_drawer_el}\n                        </div>\n                    </MobileWrapper>\n                    <React.Suspense fallback={<div />}>\n                        <div\n                            className={classNames('replay-chart__container', {\n                                'replay-chart__container--is-multiplier': isMobile() && is_multiplier,\n                                'vanilla-trade-chart': is_vanilla,\n                            })}\n                        >\n                            <DesktopWrapper>\n                                <NotificationMessages />\n                            </DesktopWrapper>\n                            <ChartLoader is_dark={is_dark_theme} is_visible={is_chart_loading} />\n                            <DesktopWrapper>\n                                <ReplayChart is_dark_theme={is_dark_theme} is_accumulator_contract={is_accumulator} />\n                            </DesktopWrapper>\n                            <MobileWrapper>\n                                {is_digit_contract ? (\n                                    <React.Fragment>\n                                        <InfoBoxWidget />\n                                        <SwipeableWrapper className='replay-chart__container-swipeable-wrapper'>\n                                            <DigitsWidget />\n                                            <ReplayChart />\n                                        </SwipeableWrapper>\n                                    </React.Fragment>\n                                ) : (\n                                    <ReplayChart\n                                        is_dark_theme={is_dark_theme}\n                                        is_accumulator_contract={is_accumulator}\n                                    />\n                                )}\n                            </MobileWrapper>\n                        </div>\n                    </React.Suspense>\n                </Div100vhContainer>\n            </PageOverlay>\n        </FadeWrapper>\n    );\n});\n\nContractReplay.propTypes = {\n    contract_id: PropTypes.number,\n};\n\nexport default ContractReplay;\n\n// CHART -----------------------------------------\n\nconst ReplayChart = observer(({ is_accumulator_contract }) => {\n    const trade = useTraderStore();\n    const { contract_replay, common, ui } = useStore();\n    const { contract_store, chart_state, chartStateChange, margin } = contract_replay;\n    const { contract_config, is_digit_contract, barriers_array, markers_array, contract_info, getMarkersArray } =\n        contract_store;\n    const { underlying: symbol, audit_details } = contract_info;\n    const allow_scroll_to_epoch = chart_state === 'READY' || chart_state === 'SCROLL_TO_LEFT';\n    const { app_routing_history, current_language, is_socket_opened } = common;\n    const { is_dark_mode_on: is_dark_theme, is_chart_layout_default, is_chart_countdown_visible } = ui;\n    const { end_epoch, chart_type, start_epoch, granularity } = contract_config;\n    /**\n     * TODO: remove forcing light theme once DBot supports dark theme\n     * DBot does not support for dark theme since till now,\n     * as a result, if any user come to report detail pages\n     * from DBot, we should force it to have light theme\n     */\n    const from_platform = getPlatformRedirect(app_routing_history);\n    const should_force_light_theme = from_platform.name === 'DBot';\n    const settings = {\n        language: current_language.toLowerCase(),\n        theme: is_dark_theme && !should_force_light_theme ? 'dark' : 'light',\n        position: is_chart_layout_default ? 'bottom' : 'left',\n        countdown: is_chart_countdown_visible,\n        assetInformation: false, // ui.is_chart_asset_info_visible,\n        isHighestLowestMarkerEnabled: false, // TODO: Pending UI\n    };\n    const scroll_to_epoch = allow_scroll_to_epoch ? contract_config.scroll_to_epoch : undefined;\n    const all_ticks = audit_details ? audit_details.all_ticks : [];\n    const { wsForget, wsSubscribe, wsSendRequest, wsForgetStream } = trade;\n\n    const isBottomWidgetVisible = () => {\n        return isDesktop() && is_digit_contract;\n    };\n\n    const getChartYAxisMargin = () => {\n        const chart_margin = {\n            top: isMobile() ? 96 : 148,\n            bottom: isBottomWidgetVisible() ? 128 : 112,\n        };\n\n        if (isMobile()) {\n            chart_margin.bottom = 48;\n        }\n\n        return chart_margin;\n    };\n    const prev_start_epoch = usePrevious(start_epoch);\n\n    const has_ended = !!getEndTime(contract_info);\n\n    return (\n        <SmartChart\n            id={'replay'}\n            barriers={barriers_array}\n            bottomWidgets={isBottomWidgetVisible() ? ChartBottomWidgets : null}\n            chartControlsWidgets={null}\n            chartType={chart_type}\n            endEpoch={end_epoch}\n            margin={margin || null}\n            isMobile={isMobile()}\n            enabledNavigationWidget={isDesktop()}\n            enabledChartFooter={false}\n            granularity={granularity}\n            requestAPI={wsSendRequest}\n            requestForget={wsForget}\n            requestForgetStream={wsForgetStream}\n            crosshair={isMobile() ? 0 : undefined}\n            maxTick={isMobile() ? 8 : undefined}\n            requestSubscribe={wsSubscribe}\n            settings={settings}\n            startEpoch={start_epoch}\n            scrollToEpoch={scroll_to_epoch}\n            stateChangeListener={chartStateChange}\n            symbol={symbol}\n            allTicks={all_ticks}\n            topWidgets={ChartTopWidgets}\n            isConnectionOpened={is_socket_opened}\n            isStaticChart={\n                // forcing chart reload when start_epoch changes to an earlier epoch for ACCU closed contract:\n                is_accumulator_contract && end_epoch && start_epoch < prev_start_epoch\n            }\n            shouldFetchTradingTimes={false}\n            yAxisMargin={getChartYAxisMargin()}\n            anchorChartToLeft={isMobile()}\n            shouldFetchTickHistory={\n                getDurationUnitText(getDurationPeriod(contract_info)) !== 'seconds' || contract_info.status === 'open'\n            }\n            shouldDrawTicksFromContractInfo={is_accumulator_contract}\n            contractInfo={contract_info}\n            markers_array={getMarkersArray()}\n            isLive={!has_ended}\n            startWithDataFitMode={true}\n        >\n            {markers_array.map(({ content_config, marker_config, react_key }) => (\n                <ChartMarker\n                    key={react_key}\n                    marker_config={marker_config}\n                    marker_content_props={content_config}\n                    is_bottom_widget_visible={isBottomWidgetVisible()}\n                />\n            ))}\n        </SmartChart>\n    );\n});\n\nReplayChart.propTypes = {\n    is_accumulator_contract: PropTypes.bool,\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Redirect, withRouter } from 'react-router';\nimport { CSSTransition } from 'react-transition-group';\nimport { routes } from '@deriv/shared';\nimport ErrorComponent from 'App/Components/Elements/Errors';\nimport { localize } from '@deriv/translations';\nimport ContractReplay from './contract-replay.jsx';\nimport { observer, useStore } from '@deriv/stores';\n\nconst dialog_errors = ['GetProposalFailure', 'ContractValidationError'];\n\nconst Contract = observer(({ match, history }) => {\n    const { contract_replay } = useStore();\n    const {\n        removeErrorMessage,\n        error_message,\n        error_code,\n        has_error,\n        removeAccountSwitcherListener: onUnmount,\n        setAccountSwitcherListener: onMount,\n    } = contract_replay;\n    React.useEffect(() => {\n        onMount(+match.params.contract_id, history);\n\n        return () => {\n            removeErrorMessage();\n            onUnmount();\n        };\n    }, [onMount, onUnmount, removeErrorMessage, history, match.params.contract_id]);\n\n    if (isNaN(match.params.contract_id)) {\n        return <Redirect to='/404' />;\n    }\n\n    return (\n        <React.Fragment>\n            {has_error ? (\n                <ErrorComponent\n                    message={error_message}\n                    is_dialog={dialog_errors.includes(error_code)}\n                    redirect_label={\n                        dialog_errors.includes(error_code) ? localize('Ok') : localize('Go back to trading')\n                    }\n                    redirectOnClick={() => history.push(routes.trade)}\n                    should_show_refresh={false}\n                />\n            ) : (\n                <CSSTransition\n                    in={!has_error}\n                    timeout={400}\n                    classNames={{\n                        enter: 'contract--enter',\n                        enterDone: 'contract--enter-done',\n                        exit: 'contract--exit',\n                    }}\n                    unmountOnExit\n                >\n                    <ContractReplay contract_id={+match.params.contract_id} key={+match.params.contract_id} />\n                </CSSTransition>\n            )}\n        </React.Fragment>\n    );\n});\n\nContract.propTypes = {\n    history: PropTypes.object,\n    match: PropTypes.object,\n};\n\nexport default withRouter(Contract);\n","import Contract from './Containers/contract.jsx';\n\nexport default Contract;\n"],"names":["ErrorComponent","header","message","is_dialog","redirect_label","redirectOnClick","should_show_refresh","refresh_message","localize","Dialog","title","is_visible","confirm_button_text","onConfirm","location","reload","PageErrorContainer","error_header","error_messages","redirect_urls","routes","redirect_labels","buttonOnClick","propTypes","PropTypes","type","UnsupportedContractModal","observer","onClose","ui","useStore","disableApp","enableApp","is_loading","is_unsupported_contract_modal_visible","website_domain","website_name","cancel_button_text","onCancel","is_closed_on_cancel","Localize","i18n_default_text","ContractAuditItem","icon","id","label","timestamp","value","value2","className","Text","size","styles","lineHeight","weight","line_height","color","align","formatDate","formatTime","ContractDetails","contract_end_time","contract_info","duration","duration_unit","exit_spot","is_vanilla","commission","contract_type","currency","entry_spot_display_value","entry_tick_time","exit_tick_time","profit","date_start","tick_count","tick_passed","transaction_ids","buy","sell","number_of_contracts","is_profit","cancellation_price","getCancellationPrice","ticks_duration_text","isAccumulatorContract","ThemedScrollbars","is_bypassed","isMobile","Icon","buy_value","sell_value","undefined","isMultiplierContract","Money","amount","show_currency","isUserSold","isEndedBeforeCancellationExpired","isUserCancelled","cancellation","date_expiry","ServerTime","unix","isCancellationExpired","isNaN","getBarrierLabel","getBarrierValue","getCurrencyDisplayCode","should_format","isDigitType","toGMTFormat","epochToMoment","addCommaToNumber","ContractHistory","history","length","map","item","key","display_name","order_date","Math","abs","order_amount","ContractAudit","contract_update_history","has_result","is_accumulator","is_multiplier","toggleHistoryTab","props","contract_id","React","update_history","setUpdateHistory","getSortedUpdateHistory","sort","a","b","Tabs","top","onTabItemClick","tab_index","WS","then","response","SwipeableContractAudit","children","onSwipedDown","swipe_handlers","SwipeableWrapper","target_el","document","getElementById","ReactDOM","classNames","SwipeableContractDrawer","onSwipedUp","MarketClosedContractOverlay","validation_error","as","symbol","ContractDrawerCard","contract_update","is_market_closed","is_mobile","is_sell_requested","is_collapsed","onClickCancel","onClickSell","result","server_time","status","toggleContractAuditDrawer","contract_trade","active_symbols","useTraderStore","addToast","current_focus","removeToast","should_show_cancellation_warning","setCurrentFocus","toggleCancellationWarning","getContractById","useHover","hover_ref","should_hide_closed_overlay","is_sold","getEndTime","getSymbolDisplayName","getMarketInformation","shortcode","underlying","is_crypto","isCryptoContract","has_progress_slider","card_header","ContractCard","getCardLabels","getContractTypeDisplay","isDesktop","card_body","card_footer","contract_el","contract_card","profit_loss","should_show_result_overlay","ref","has_swipeable_drawer","DesktopWrapper","MobileWrapper","Collapsible","onClick","ContractDrawer","is_dark_theme","common","exit_tick_display_value","contract_drawer_ref","contract_drawer_card_ref","should_show_contract_audit","setShouldShowContractAudit","fallback_result","is_expired","contract_audit","is_open","getDurationTime","getDurationUnitText","getDurationPeriod","body_content","getBodyContent","speed","contract_drawer","CSSTransition","in","timeout","style","transform","current","clientHeight","height","Div100vhContainer","height_offset","withRouter","InfoBoxLongcode","setIsCollapsed","longcode","href","c","ContractError","onClickClose","width","viewBox","fill","fillRule","cx","cy","r","d","InfoBox","error_message","removeError","is_ready","keyname","DigitsWidget","contract_store","contract_replay","digits_info","display_status","is_digit_contract","is_ended","Digits","InfoBoxWidget","removeErrorMessage","ChartTopWidgets","is_title_enabled","ChartBottomWidgets","Widget","ContractReplay","is_valid_to_cancel","onMount","onUnmount","indicative_status","is_chart_loading","is_forward_starting","routeBackInApp","is_dark_mode_on","NotificationMessages","notification_messages_ui","setIsVisible","useHistory","url_contract_id","exec","pathname","isVanillaContract","contract_drawer_el","FadeWrapper","goBack","statementws_url","urlFor","legacy","window","open","PageOverlay","isEmptyObject","state","from_table_row","is_disabled","fallback","is_dark","ReplayChart","is_accumulator_contract","chart_margin","trade","chart_state","chartStateChange","margin","contract_config","barriers_array","markers_array","getMarkersArray","audit_details","allow_scroll_to_epoch","app_routing_history","current_language","is_socket_opened","is_chart_layout_default","is_chart_countdown_visible","end_epoch","chart_type","start_epoch","granularity","should_force_light_theme","getPlatformRedirect","name","settings","language","toLowerCase","theme","position","countdown","assetInformation","isHighestLowestMarkerEnabled","scroll_to_epoch","all_ticks","wsForget","wsSubscribe","wsSendRequest","wsForgetStream","isBottomWidgetVisible","prev_start_epoch","usePrevious","has_ended","SmartChart","barriers","bottomWidgets","chartControlsWidgets","chartType","endEpoch","enabledNavigationWidget","enabledChartFooter","requestAPI","requestForget","requestForgetStream","crosshair","maxTick","requestSubscribe","startEpoch","scrollToEpoch","stateChangeListener","allTicks","topWidgets","isConnectionOpened","isStaticChart","shouldFetchTradingTimes","yAxisMargin","bottom","anchorChartToLeft","shouldFetchTickHistory","shouldDrawTicksFromContractInfo","contractInfo","isLive","startWithDataFitMode","content_config","marker_config","react_key","marker_content_props","is_bottom_widget_visible","dialog_errors","Contract","match","error_code","has_error","removeAccountSwitcherListener","setAccountSwitcherListener","params","Redirect","to","includes","push","enter","enterDone","exit","unmountOnExit"],"sourceRoot":""}