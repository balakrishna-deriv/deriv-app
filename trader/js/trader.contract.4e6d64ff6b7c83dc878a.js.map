{"version":3,"file":"trader/js/trader.contract.4e6d64ff6b7c83dc878a.js","mappings":"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","sources":["webpack://@deriv/trader/./src/App/Components/Elements/Errors/error-component.tsx","webpack://@deriv/trader/./src/App/Components/Elements/Errors/index.ts","webpack://@deriv/trader/./src/App/Components/Elements/Modals/UnsupportedContractModal/unsupported-contract-modal.tsx","webpack://@deriv/trader/./src/App/Components/Elements/Modals/UnsupportedContractModal/index.ts","webpack://@deriv/trader/../hooks/src/useFeatureFlags.ts","webpack://@deriv/trader/./src/App/Components/Elements/ContractAudit/contract-audit-item.tsx","webpack://@deriv/trader/./src/App/Components/Elements/ContractAudit/contract-details.tsx","webpack://@deriv/trader/./src/Stores/Modules/Trading/Helpers/logic.ts","webpack://@deriv/trader/./src/App/Components/Elements/ContractAudit/contract-history.tsx","webpack://@deriv/trader/./src/App/Components/Elements/ContractAudit/contract-audit.tsx","webpack://@deriv/trader/./src/App/Components/Elements/ContractAudit/index.js","webpack://@deriv/trader/./src/App/Components/Elements/ContractDrawer/swipeable-components.tsx","webpack://@deriv/trader/./src/App/Components/Elements/ContractDrawer/market-closed-contract-overlay.tsx","webpack://@deriv/trader/./src/App/Components/Elements/ContractDrawer/contract-drawer-card.tsx","webpack://@deriv/trader/./src/App/Components/Elements/ContractDrawer/contract-drawer.tsx","webpack://@deriv/trader/./src/App/Components/Elements/ContractDrawer/index.ts","webpack://@deriv/trader/./src/Modules/Contract/Components/InfoBox/info-box-longcode.tsx","webpack://@deriv/trader/./src/Modules/Contract/Components/contract-error.tsx","webpack://@deriv/trader/./src/Modules/Contract/Components/InfoBox/info-box.tsx","webpack://@deriv/trader/./src/Modules/Contract/Components/InfoBox/index.ts","webpack://@deriv/trader/./src/Modules/Contract/Containers/contract-replay-widget.jsx","webpack://@deriv/trader/./src/Modules/Contract/Containers/contract-replay.jsx","webpack://@deriv/trader/./src/Modules/Contract/Containers/contract.jsx","webpack://@deriv/trader/./src/Modules/Contract/index.js"],"sourcesContent":["import React from 'react';\nimport { Dialog, PageErrorContainer } from '@deriv/components';\nimport { routes } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\n\ntype TErrorComponent = {\n    header: string;\n    message: React.ReactNode;\n    is_dialog: boolean;\n    redirect_label: string;\n    redirectOnClick: () => void;\n    should_show_refresh: boolean;\n};\n\nconst ErrorComponent: React.FC<Partial<TErrorComponent>> = ({\n    header,\n    message,\n    is_dialog,\n    redirect_label,\n    redirectOnClick,\n    should_show_refresh = true,\n}) => {\n    const refresh_message: string = should_show_refresh ? localize('Please refresh this page to continue.') : '';\n\n    if (is_dialog) {\n        return (\n            <Dialog\n                title={header || localize('There was an error')}\n                is_visible={true}\n                confirm_button_text={redirect_label || localize('Ok')}\n                onConfirm={redirectOnClick || (() => location.reload())}\n            >\n                {message || localize('Sorry, an error occured while processing your request.')}\n            </Dialog>\n        );\n    }\n    return (\n        <PageErrorContainer\n            error_header={header ?? ''}\n            error_messages={message ? [message, refresh_message] : []}\n            redirect_urls={[routes.trade]}\n            redirect_labels={[redirect_label || localize('Refresh')]}\n            buttonOnClick={redirectOnClick || (() => location.reload())}\n        />\n    );\n};\n\nexport default ErrorComponent;\n","import ErrorComponent from './error-component';\n\nexport default ErrorComponent;\n","import React from 'react';\nimport { Dialog } from '@deriv/components';\nimport { localize, Localize } from '@deriv/translations';\nimport { website_name } from '@deriv/shared';\nimport { observer, useStore } from '@deriv/stores';\n\ntype TUnsupportedContractModalProps = {\n    is_loading?: boolean;\n    is_visible?: boolean;\n    onClose: () => void;\n    onConfirm: () => void;\n};\n\nconst UnsupportedContractModal = observer(\n    ({ is_loading, is_visible: is_modal_visible, onConfirm, onClose }: TUnsupportedContractModalProps) => {\n        const { ui } = useStore();\n        const { disableApp, enableApp, is_unsupported_contract_modal_visible } = ui;\n        const is_visible = !!(is_unsupported_contract_modal_visible || is_modal_visible);\n\n        return (\n            <Dialog\n                title={localize('We’re working on it')}\n                confirm_button_text={localize('Stay on {{website_domain}}', { website_domain: website_name })}\n                cancel_button_text={localize('Go to Binary.com')}\n                onConfirm={onConfirm}\n                onCancel={onClose}\n                disableApp={disableApp}\n                enableApp={enableApp}\n                is_loading={is_loading}\n                is_closed_on_cancel\n                is_visible={is_visible}\n            >\n                <Localize i18n_default_text='You’ve selected a trade type that is currently unsupported, but we’re working on it.' />\n            </Dialog>\n        );\n    }\n);\n\nexport default UnsupportedContractModal;\n","import UnsupportedContractModal from './unsupported-contract-modal';\n\nexport default UnsupportedContractModal;\n","import { useMemo } from 'react';\nimport { useStore } from '@deriv/stores';\n\nconst useFeatureFlags = () => {\n    const { feature_flags } = useStore();\n\n    const result = useMemo(() => {\n        // Safe to do null assertions here as we are setting default values in the store.\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n        const flags = feature_flags.data!;\n\n        return Object.keys(flags).reduce(\n            (previous, current) => ({\n                ...previous,\n                // @ts-expect-error current key is always present in the object, Hence can ignore the TS error.\n                [`is_${current}_enabled`]: Boolean(flags[current]),\n            }),\n            {} as Record<`is_${keyof typeof flags}_enabled`, boolean>\n        );\n    }, [feature_flags.data]);\n\n    return result;\n};\nexport default useFeatureFlags;\n","import React from 'react';\nimport { formatDate, formatTime } from '@deriv/shared';\nimport { Text } from '@deriv/components';\n\ntype TContractAuditItem = {\n    icon?: React.ReactNode;\n    id: string;\n    label?: string;\n    timestamp?: number;\n    value: React.ReactNode;\n    value2?: React.ReactNode;\n};\n\nconst ContractAuditItem = ({ icon, id, label, timestamp, value, value2 }: TContractAuditItem) => (\n    <div id={id} className='contract-audit__grid' data-testid={id}>\n        {icon && <div className='contract-audit__icon'>{icon}</div>}\n        <div className='contract-audit__item'>\n            <Text size='xxxs' styles={{ lineHeight: 'unset' }} className='contract-audit__label'>\n                {label}\n            </Text>\n            <div className='contract-audit__value-wrapper'>\n                <Text weight='bold' size='xxs' line_height='m' color='prominent' className='contract-audit__value'>\n                    {value}\n                </Text>\n                {value2 && (\n                    <Text weight='bold' size='xxs' line_height='m' color='prominent' className='contract-audit__value2'>\n                        {value2}\n                    </Text>\n                )}\n            </div>\n        </div>\n        {timestamp && (\n            <div className='contract-audit__timestamp'>\n                <Text size='xxxs' align='right' line_height='xs' className='contract-audit__timestamp-value'>\n                    {formatDate(timestamp)}\n                </Text>\n                <Text size='xxxs' align='right' line_height='xs' className='contract-audit__timestamp-value'>\n                    {formatTime(timestamp)}\n                </Text>\n            </div>\n        )}\n    </div>\n);\n\nexport default ContractAuditItem;\n","import React from 'react';\nimport { Money, Icon, ThemedScrollbars } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport {\n    epochToMoment,\n    getCancellationPrice,\n    getCurrencyDisplayCode,\n    hasTwoBarriers,\n    isAccumulatorContract,\n    isMobile,\n    isMultiplierContract,\n    isSmartTraderContract,\n    isAsiansContract,\n    isTurbosContract,\n    isUserSold,\n    isEndedBeforeCancellationExpired,\n    isUserCancelled,\n    toGMTFormat,\n    TContractInfo,\n} from '@deriv/shared';\nimport {\n    addCommaToNumber,\n    getBarrierLabel,\n    getBarrierValue,\n    isDigitType,\n} from 'App/Components/Elements/PositionsDrawer/helpers';\nimport ContractAuditItem from './contract-audit-item';\nimport { isCancellationExpired } from 'Stores/Modules/Trading/Helpers/logic';\n\ntype TContractDetails = {\n    contract_end_time?: number;\n    contract_info: TContractInfo;\n    duration: number | string;\n    duration_unit: string;\n    exit_spot?: string;\n    is_vanilla?: boolean;\n};\n\nconst ContractDetails = ({\n    contract_end_time,\n    contract_info,\n    duration,\n    duration_unit,\n    exit_spot,\n    is_vanilla,\n}: TContractDetails) => {\n    const {\n        commission,\n        contract_type,\n        currency,\n        entry_spot_display_value,\n        entry_tick_time,\n        exit_tick_time,\n        high_barrier,\n        profit,\n        date_start,\n        tick_count,\n        tick_passed,\n        transaction_ids: { buy, sell } = {},\n        low_barrier,\n        display_number_of_contracts,\n    } = contract_info;\n\n    const is_profit = Number(profit) >= 0;\n    const cancellation_price = getCancellationPrice(contract_info);\n    const show_barrier = !is_vanilla && !isAccumulatorContract(contract_type) && !isSmartTraderContract(contract_type);\n    const show_duration = !isAccumulatorContract(contract_type) || !isNaN(Number(contract_end_time));\n    const show_payout_per_point = isTurbosContract(contract_type) || is_vanilla;\n    const ticks_label = Number(tick_count) < 2 ? localize('tick') : localize('ticks');\n    const show_strike_barrier = is_vanilla || isAsiansContract(contract_type);\n    const ticks_duration_text = isAccumulatorContract(contract_type)\n        ? `${tick_passed}/${tick_count} ${localize('ticks')}`\n        : `${tick_count} ${ticks_label}`;\n\n    const getLabel = () => {\n        if (isUserSold(contract_info) && isEndedBeforeCancellationExpired(contract_info))\n            return localize('Deal cancellation');\n        if (isUserCancelled(contract_info)) return localize('Deal cancellation (executed)');\n        if (isCancellationExpired(contract_info)) return localize('Deal cancellation (expired)');\n        return localize('Deal cancellation (active)');\n    };\n    return (\n        <ThemedScrollbars is_bypassed={isMobile()}>\n            <div className='contract-audit__tabs-content'>\n                <ContractAuditItem\n                    id='dt_id_label'\n                    icon={<Icon icon='IcContractId' size={24} />}\n                    label={localize('Reference ID')}\n                    value={localize('{{buy_value}} (Buy)', { buy_value: buy })}\n                    value2={sell ? localize('{{sell_value}} (Sell)', { sell_value: sell }) : undefined}\n                />\n                {isMultiplierContract(contract_type) ? (\n                    <React.Fragment>\n                        <ContractAuditItem\n                            id='dt_commission_label'\n                            icon={<Icon icon='IcContractCommission' size={24} />}\n                            label={localize('Commission')}\n                            value={<Money amount={commission ?? ''} currency={currency} show_currency />}\n                        />\n                        {!!cancellation_price && (\n                            <ContractAuditItem\n                                id='dt_cancellation_label'\n                                icon={<Icon icon='IcContractSafeguard' size={24} />}\n                                label={getLabel()}\n                                value={<Money amount={cancellation_price} currency={currency} />}\n                            />\n                        )}\n                    </React.Fragment>\n                ) : (\n                    <React.Fragment>\n                        {show_duration && (\n                            <ContractAuditItem\n                                id='dt_duration_label'\n                                icon={<Icon icon='IcContractDuration' size={24} />}\n                                label={localize('Duration')}\n                                value={Number(tick_count) > 0 ? ticks_duration_text : `${duration} ${duration_unit}`}\n                            />\n                        )}\n                        {show_strike_barrier && (\n                            <ContractAuditItem\n                                id='dt_bt_label'\n                                icon={<Icon icon='IcContractStrike' size={24} />}\n                                label={getBarrierLabel(contract_info)}\n                                value={getBarrierValue(contract_info) || ' - '}\n                            />\n                        )}\n                        {show_barrier && (\n                            <ContractAuditItem\n                                id='dt_bt_label'\n                                icon={\n                                    isDigitType(contract_type) ? (\n                                        <Icon icon='IcContractTarget' size={24} />\n                                    ) : (\n                                        <Icon icon='IcContractBarrier' size={24} />\n                                    )\n                                }\n                                label={getBarrierLabel(contract_info)}\n                                value={getBarrierValue(contract_info) || ' - '}\n                            />\n                        )}\n                        {hasTwoBarriers(contract_type) && (\n                            <React.Fragment>\n                                {[high_barrier, low_barrier].map((barrier, index) => (\n                                    <ContractAuditItem\n                                        id={`dt_bt_label_${index + 1}`}\n                                        icon={<Icon icon='IcContractStrike' size={24} />}\n                                        key={barrier}\n                                        label={\n                                            high_barrier === barrier\n                                                ? localize('High barrier')\n                                                : localize('Low barrier')\n                                        }\n                                        value={barrier}\n                                    />\n                                ))}\n                            </React.Fragment>\n                        )}\n                        {show_payout_per_point && (\n                            <ContractAuditItem\n                                id='dt_bt_label'\n                                icon={<Icon icon='IcContractPayout' size={24} />}\n                                label={localize('Payout per point')}\n                                value={\n                                    display_number_of_contracts\n                                        ? `${display_number_of_contracts} ${getCurrencyDisplayCode(currency)}`\n                                        : ' - '\n                                }\n                            />\n                        )}\n                    </React.Fragment>\n                )}\n                <ContractAuditItem\n                    id='dt_start_time_label'\n                    icon={<Icon icon='IcContractStartTime' size={24} />}\n                    label={localize('Start time')}\n                    value={toGMTFormat(epochToMoment(Number(date_start))) || ' - '}\n                />\n                {!isDigitType(contract_type) && (\n                    <ContractAuditItem\n                        id='dt_entry_spot_label'\n                        icon={<Icon icon='IcContractEntrySpot' size={24} />}\n                        label={localize('Entry spot')}\n                        value={addCommaToNumber(Number(entry_spot_display_value)) || ' - '}\n                        value2={toGMTFormat(epochToMoment(Number(entry_tick_time))) || ' - '}\n                    />\n                )}\n                {!isNaN(Number(exit_spot)) && (\n                    <ContractAuditItem\n                        id='dt_exit_spot_label'\n                        icon={<Icon icon='IcContractExitSpot' size={24} />}\n                        label={localize('Exit spot')}\n                        value={addCommaToNumber(Number(exit_spot)) || ' - '}\n                        value2={toGMTFormat(epochToMoment(Number(exit_tick_time))) || ' - '}\n                    />\n                )}\n                {!isNaN(Number(contract_end_time)) && (\n                    <ContractAuditItem\n                        id='dt_exit_time_label'\n                        icon={<Icon icon='IcContractExitTime' color={is_profit ? 'green' : 'red'} size={24} />}\n                        label={localize('Exit time')}\n                        value={toGMTFormat(epochToMoment(Number(contract_end_time))) || ' - '}\n                    />\n                )}\n            </div>\n        </ThemedScrollbars>\n    );\n};\n\nexport default ContractDetails;\n","import { TContractInfo } from '@deriv/shared';\nimport ServerTime from '_common/base/server_time';\n\nexport const isCancellationExpired = (contract_info: TContractInfo) =>\n    !!contract_info.cancellation?.date_expiry && contract_info.cancellation.date_expiry < ServerTime.get().unix();\n","import React from 'react';\nimport { Icon, Money, ThemedScrollbars, Text } from '@deriv/components';\nimport { isMobile, TContractStore } from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport ContractAuditItem from './contract-audit-item';\n\ntype TContractHistory = {\n    currency?: string;\n    history: [] | TContractStore['contract_update_history'];\n};\nconst ContractHistory = ({ currency, history = [] }: TContractHistory) => {\n    if (!history.length) {\n        return (\n            <div className='contract-audit__empty'>\n                <Icon icon='IcBox' size={48} color='secondary' />\n                <h4 className='contract-audit__empty-header'>{localize('No history')}</h4>\n                <Text align='center' line_height='s' color='less-prominent' size='xxs'>\n                    {localize('You have yet to update either take profit or stop loss')}\n                </Text>\n            </div>\n        );\n    }\n    return (\n        <ThemedScrollbars is_bypassed={isMobile()}>\n            <div className='contract-audit__tabs-content'>\n                {history.map((item, key) => (\n                    <ContractAuditItem\n                        key={item.order_date}\n                        id={`dt_history_label_${key}`}\n                        label={item.display_name}\n                        timestamp={Number(item?.order_date)}\n                        value={\n                            Math.abs(Number(item.order_amount)) !== 0 ? (\n                                <React.Fragment>\n                                    {Number(item.order_amount) < 0 && <strong>-</strong>}\n                                    <Money amount={item.order_amount} currency={currency} />\n                                    {item.value && (\n                                        <React.Fragment>\n                                            <br />\n                                            <span>({item.value})</span>\n                                        </React.Fragment>\n                                    )}\n                                </React.Fragment>\n                            ) : (\n                                localize('Cancelled')\n                            )\n                        }\n                    />\n                ))}\n            </div>\n        </ThemedScrollbars>\n    );\n};\n\nexport default ContractHistory;\n","import React from 'react';\nimport { Tabs } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport { WS, TContractStore, TContractInfo } from '@deriv/shared';\nimport { useTraderStore } from 'Stores/useTraderStores';\nimport ContractDetails from './contract-details';\nimport ContractHistory from './contract-history';\n\ntype TContractUpdateHistory = TContractStore['contract_update_history'];\n\ntype TContractAudit = Partial<\n    Pick<ReturnType<typeof useTraderStore>, 'is_accumulator' | 'is_turbos' | 'is_multiplier' | 'is_vanilla'>\n> & {\n    contract_update_history: TContractUpdateHistory;\n    contract_end_time: number | undefined;\n    contract_info: TContractInfo;\n    duration: string | number;\n    duration_unit: string;\n    exit_spot: string | undefined;\n    has_result: boolean;\n    is_dark_theme: boolean;\n    is_open: boolean;\n    toggleHistoryTab: (state_change?: boolean) => void;\n};\n\ntype TResponse = {\n    contract_update_history: TContractUpdateHistory;\n};\n\nconst ContractAudit = ({\n    contract_update_history,\n    has_result,\n    is_accumulator,\n    is_multiplier,\n    is_turbos,\n    toggleHistoryTab,\n    ...props\n}: TContractAudit) => {\n    const { contract_id, currency } = props.contract_info;\n    const [update_history, setUpdateHistory] = React.useState<TContractUpdateHistory>([]);\n\n    const getSortedUpdateHistory = (history: TContractUpdateHistory) =>\n        history.sort((a, b) => Number(b?.order_date) - Number(a?.order_date));\n\n    React.useEffect(() => {\n        if (!!contract_update_history.length && contract_update_history.length > update_history.length)\n            setUpdateHistory(getSortedUpdateHistory(contract_update_history));\n    }, [contract_update_history, update_history]);\n\n    const onTabItemClick = (tab_index: number) => {\n        toggleHistoryTab(!!tab_index);\n        if (tab_index) {\n            WS.contractUpdateHistory(contract_id).then((response: TResponse) => {\n                setUpdateHistory(getSortedUpdateHistory(response.contract_update_history));\n            });\n        }\n    };\n\n    if (!has_result) return null;\n\n    if (!is_multiplier && !is_accumulator && !is_turbos) {\n        return (\n            <div className='contract-audit__wrapper'>\n                <ContractDetails {...props} />\n            </div>\n        );\n    }\n    return (\n        <div className='contract-audit__wrapper'>\n            <Tabs top className='contract-audit__tabs' onTabItemClick={onTabItemClick}>\n                <div label={localize('Details')}>\n                    <ContractDetails {...props} />\n                </div>\n                <div label={localize('History')}>\n                    <ContractHistory currency={currency} history={update_history} />\n                </div>\n            </Tabs>\n        </div>\n    );\n};\n\nexport default ContractAudit;\n","import ContractAudit from './contract-audit';\n\nexport default ContractAudit;\n","import classNames from 'classnames';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { SwipeableWrapper } from '@deriv/components';\n\ntype TSwipeableContractAuditProps = React.PropsWithChildren<{\n    is_multiplier?: boolean;\n    onSwipedDown?: () => void;\n}>;\ntype TSwipeableContractDrawerProps = React.PropsWithChildren<{\n    onSwipedDown?: () => void;\n    onSwipedUp?: () => void;\n}>;\n\n/**\n * Swipeable components\n */\nexport const SwipeableContractAudit = ({ is_multiplier, children, onSwipedDown }: TSwipeableContractAuditProps) => {\n    const swipe_handlers = SwipeableWrapper.useSwipeable({\n        onSwipedDown,\n    });\n\n    const target_el = document.getElementById('dt_contract_drawer_audit');\n\n    if (!target_el) return null;\n\n    return ReactDOM.createPortal(\n        <div className='contract-audit-card'>\n            <div\n                {...swipe_handlers}\n                className={classNames('contract-audit-card__container', {\n                    'contract-audit-card__container--is-multiplier': is_multiplier,\n                })}\n            >\n                {children}\n            </div>\n        </div>,\n        target_el\n    );\n};\n\nexport const SwipeableContractDrawer = ({ children, onSwipedDown, onSwipedUp }: TSwipeableContractDrawerProps) => {\n    const swipe_handlers = SwipeableWrapper.useSwipeable({\n        onSwipedDown,\n        onSwipedUp,\n    });\n\n    return <div {...swipe_handlers}>{children}</div>;\n};\n","import React from 'react';\nimport { Text } from '@deriv/components';\n\nconst MarketClosedContractOverlay = ({ validation_error }: { validation_error?: string }) => (\n    <div className='contract-card__market-closed'>\n        <Text align='center' as='p' className='contract-card__market-closed__title' weight='bold'>\n            {validation_error}\n        </Text>\n    </div>\n);\n\nexport default MarketClosedContractOverlay;\n","import classNames from 'classnames';\nimport React from 'react';\nimport { DesktopWrapper, MobileWrapper, Collapsible, ContractCard, useHover } from '@deriv/components';\nimport {\n    getEndTime,\n    getSymbolDisplayName,\n    getCardLabels,\n    getContractTypeDisplay,\n    isCryptoContract,\n    isDesktop,\n    toMoment,\n} from '@deriv/shared';\nimport { getMarketInformation } from 'Utils/Helpers/market-underlying';\nimport { SwipeableContractDrawer } from './swipeable-components';\nimport MarketClosedContractOverlay from './market-closed-contract-overlay';\nimport { useTraderStore } from 'Stores/useTraderStores';\nimport { observer, useStore } from '@deriv/stores';\n\ntype TContractCardBodyProps = React.ComponentProps<typeof ContractCard.Body>;\ntype TContractCardFooterProps = React.ComponentProps<typeof ContractCard.Footer>;\ntype TSwipeableContractDrawerProps = React.ComponentProps<typeof SwipeableContractDrawer>;\n\ntype TContractDrawerCardProps = {\n    currency?: string;\n    is_collapsed: boolean;\n    is_market_closed: boolean;\n    is_smarttrader_contract: boolean;\n    result?: string;\n    server_time?: moment.Moment;\n    toggleContractAuditDrawer: () => void;\n} & Pick<\n    TContractCardBodyProps,\n    | 'contract_info'\n    | 'contract_update'\n    | 'is_accumulator'\n    | 'is_mobile'\n    | 'is_multiplier'\n    | 'is_turbos'\n    | 'is_vanilla'\n    | 'status'\n> &\n    Pick<TContractCardFooterProps, 'is_sell_requested' | 'onClickCancel' | 'onClickSell'> &\n    Pick<TSwipeableContractDrawerProps, 'onSwipedDown' | 'onSwipedUp'>;\n\nconst ContractDrawerCard = observer(\n    ({\n        contract_info,\n        contract_update,\n        currency = '',\n        is_accumulator,\n        is_collapsed,\n        is_market_closed,\n        is_mobile,\n        is_multiplier,\n        is_vanilla,\n        is_smarttrader_contract,\n        is_sell_requested,\n        is_turbos,\n        onClickCancel,\n        onClickSell,\n        onSwipedUp,\n        onSwipedDown,\n        result,\n        server_time = toMoment(),\n        status,\n        toggleContractAuditDrawer,\n    }: TContractDrawerCardProps) => {\n        const { ui, contract_trade } = useStore();\n        const { active_symbols } = useTraderStore();\n        const {\n            addToast,\n            current_focus,\n            removeToast,\n            should_show_cancellation_warning,\n            setCurrentFocus,\n            toggleCancellationWarning,\n        } = ui;\n        const { getContractById } = contract_trade;\n        const [hover_ref, should_hide_closed_overlay] = useHover<HTMLDivElement>();\n\n        const { profit, validation_error } = contract_info;\n        const is_sold = !!getEndTime(contract_info);\n        const display_name = getSymbolDisplayName(\n            active_symbols,\n            getMarketInformation(contract_info.shortcode || '').underlying\n        );\n\n        const is_crypto = isCryptoContract(contract_info.underlying);\n        const has_progress_slider = !is_multiplier || (is_crypto && is_multiplier);\n\n        const card_header = (\n            <ContractCard.Header\n                contract_info={contract_info}\n                display_name={display_name}\n                getCardLabels={getCardLabels}\n                getContractTypeDisplay={getContractTypeDisplay}\n                has_progress_slider={isDesktop() && has_progress_slider}\n                is_mobile={is_mobile}\n                is_sell_requested={is_sell_requested}\n                is_sold={is_sold}\n                onClickSell={onClickSell}\n                server_time={server_time}\n            />\n        );\n\n        const card_body = (\n            <ContractCard.Body\n                addToast={addToast}\n                contract_info={contract_info}\n                contract_update={contract_update}\n                currency={currency}\n                current_focus={current_focus ?? ''}\n                getCardLabels={getCardLabels}\n                getContractById={getContractById}\n                is_accumulator={is_accumulator}\n                is_mobile={is_mobile}\n                is_multiplier={is_multiplier}\n                is_sold={is_sold}\n                is_turbos={is_turbos}\n                is_vanilla={is_vanilla}\n                has_progress_slider={has_progress_slider}\n                removeToast={removeToast}\n                server_time={server_time}\n                setCurrentFocus={setCurrentFocus}\n                should_show_cancellation_warning={should_show_cancellation_warning}\n                status={status ?? ''}\n                toggleCancellationWarning={toggleCancellationWarning}\n            />\n        );\n\n        const card_footer = (\n            <ContractCard.Footer\n                contract_info={contract_info}\n                getCardLabels={getCardLabels}\n                is_multiplier={is_multiplier}\n                is_sell_requested={is_sell_requested}\n                onClickCancel={onClickCancel}\n                onClickSell={onClickSell}\n                server_time={server_time}\n            />\n        );\n\n        const contract_el = (\n            <React.Fragment>\n                {card_header}\n                {card_body}\n            </React.Fragment>\n        );\n\n        const contract_card = (\n            <ContractCard\n                contract_info={contract_info}\n                getCardLabels={getCardLabels}\n                is_multiplier={is_multiplier}\n                profit_loss={Number(profit)}\n                should_show_result_overlay={false}\n            >\n                <div\n                    className={classNames('dc-contract-card', {\n                        'dc-contract-card--green': Number(profit) > 0 && !result,\n                        'dc-contract-card--red': Number(profit) < 0 && !result,\n                        'contract-card__market-closed--disabled': is_market_closed && should_hide_closed_overlay,\n                    })}\n                    ref={hover_ref}\n                >\n                    {is_market_closed && !getEndTime(contract_info) && (\n                        <div\n                            className={classNames({\n                                'contract-card__market-closed--hidden': isDesktop() && should_hide_closed_overlay,\n                            })}\n                        >\n                            <MarketClosedContractOverlay validation_error={validation_error} />\n                        </div>\n                    )}\n                    {contract_el}\n                    {card_footer}\n                </div>\n            </ContractCard>\n        );\n\n        const has_swipeable_drawer =\n            is_sold || is_multiplier || is_accumulator || is_vanilla || is_turbos || is_smarttrader_contract;\n\n        return (\n            <React.Fragment>\n                <DesktopWrapper>{contract_card}</DesktopWrapper>\n                <MobileWrapper>\n                    <SwipeableContractDrawer\n                        onSwipedUp={has_swipeable_drawer ? onSwipedUp : undefined}\n                        onSwipedDown={has_swipeable_drawer ? onSwipedDown : undefined}\n                    >\n                        {has_swipeable_drawer && (\n                            <Collapsible.ArrowButton onClick={toggleContractAuditDrawer} is_collapsed={is_collapsed} />\n                        )}\n                        {contract_card}\n                    </SwipeableContractDrawer>\n                </MobileWrapper>\n            </React.Fragment>\n        );\n    }\n);\n\nexport default ContractDrawerCard;\n","import classNames from 'classnames';\nimport React from 'react';\nimport { RouteComponentProps, withRouter } from 'react-router';\nimport { CSSTransition } from 'react-transition-group';\nimport { DesktopWrapper, MobileWrapper, Div100vhContainer } from '@deriv/components';\nimport {\n    isUserSold,\n    isMobile,\n    getDurationPeriod,\n    getDurationTime,\n    getDurationUnitText,\n    getEndTime,\n    TContractStore,\n} from '@deriv/shared';\nimport ContractAudit from 'App/Components/Elements/ContractAudit';\nimport { PositionsCardLoader } from 'App/Components/Elements/ContentLoader';\nimport ContractDrawerCard from './contract-drawer-card';\nimport { SwipeableContractAudit } from './swipeable-components';\nimport { observer, useStore } from '@deriv/stores';\n\ntype TContractDrawerCardProps = React.ComponentProps<typeof ContractDrawerCard>;\ntype TContractDrawerProps = RouteComponentProps & {\n    contract_update_history: TContractStore['contract_update_history'];\n    is_dark_theme: boolean;\n    toggleHistoryTab: (state_change?: boolean) => void;\n} & Pick<\n        TContractDrawerCardProps,\n        | 'contract_info'\n        | 'contract_update'\n        | 'is_accumulator'\n        | 'is_market_closed'\n        | 'is_multiplier'\n        | 'is_sell_requested'\n        | 'is_smarttrader_contract'\n        | 'is_turbos'\n        | 'is_vanilla'\n        | 'onClickCancel'\n        | 'onClickSell'\n        | 'status'\n    >;\n\nconst ContractDrawer = observer(\n    ({\n        contract_info,\n        contract_update,\n        contract_update_history,\n        is_accumulator,\n        is_sell_requested,\n        is_dark_theme,\n        is_market_closed,\n        is_multiplier,\n        is_turbos,\n        is_vanilla,\n        is_smarttrader_contract,\n        onClickCancel,\n        onClickSell,\n        status,\n        toggleHistoryTab,\n    }: TContractDrawerProps) => {\n        const { common, ui } = useStore();\n        const { server_time } = common;\n        const { is_mobile } = ui;\n        const { currency, exit_tick_display_value, is_sold } = contract_info;\n        const contract_drawer_ref = React.useRef<HTMLDivElement>(null);\n        const contract_drawer_card_ref = React.useRef<HTMLDivElement>(null);\n        const [should_show_contract_audit, setShouldShowContractAudit] = React.useState(false);\n        const exit_spot =\n            isUserSold(contract_info) && !is_accumulator && !is_multiplier && !is_turbos\n                ? '-'\n                : exit_tick_display_value;\n\n        const contract_audit = (\n            <ContractAudit\n                contract_info={contract_info}\n                contract_update_history={contract_update_history}\n                contract_end_time={getEndTime(contract_info)}\n                is_accumulator={is_accumulator}\n                is_dark_theme={is_dark_theme}\n                is_multiplier={is_multiplier}\n                is_open\n                is_turbos={is_turbos}\n                duration={getDurationTime(contract_info)}\n                duration_unit={getDurationUnitText(getDurationPeriod(contract_info))}\n                exit_spot={exit_spot}\n                has_result={\n                    !!is_sold || is_multiplier || is_vanilla || is_turbos || is_accumulator || is_smarttrader_contract\n                }\n                toggleHistoryTab={toggleHistoryTab}\n                is_vanilla={is_vanilla}\n            />\n        );\n\n        if (!contract_info) return null;\n\n        // For non-binary contract, the status is always null, so we check for is_expired in contract_info\n        const fallback_result = contract_info.status || contract_info.is_expired;\n\n        const body_content = fallback_result ? (\n            <React.Fragment>\n                <ContractDrawerCard\n                    contract_info={contract_info}\n                    contract_update={contract_update}\n                    currency={currency}\n                    is_accumulator={is_accumulator}\n                    is_mobile={is_mobile}\n                    is_market_closed={is_market_closed}\n                    is_multiplier={is_multiplier}\n                    is_turbos={is_turbos}\n                    is_vanilla={is_vanilla}\n                    is_sell_requested={is_sell_requested}\n                    is_smarttrader_contract={is_smarttrader_contract}\n                    is_collapsed={should_show_contract_audit}\n                    onClickCancel={onClickCancel}\n                    onClickSell={onClickSell}\n                    onSwipedUp={() => setShouldShowContractAudit(true)}\n                    onSwipedDown={() => setShouldShowContractAudit(false)}\n                    server_time={server_time}\n                    status={status}\n                    toggleContractAuditDrawer={() => setShouldShowContractAudit(!should_show_contract_audit)}\n                />\n                <DesktopWrapper>{contract_audit}</DesktopWrapper>\n            </React.Fragment>\n        ) : (\n            <div className='contract-card'>\n                <PositionsCardLoader speed={2} />\n            </div>\n        );\n\n        const contract_drawer = (\n            <CSSTransition in={should_show_contract_audit} timeout={250} classNames='contract-drawer__transition'>\n                <div\n                    id='dt_contract_drawer'\n                    className={classNames('contract-drawer', {\n                        'contract-drawer--with-collapsible-btn':\n                            !!getEndTime(contract_info) ||\n                            ((is_multiplier || is_vanilla || is_turbos || is_accumulator || is_smarttrader_contract) &&\n                                isMobile()),\n                        'contract-drawer--is-multiplier': is_multiplier && isMobile(),\n                        'contract-drawer--is-multiplier-sold': is_multiplier && isMobile() && getEndTime(contract_info),\n                    })}\n                    style={{\n                        transform: (should_show_contract_audit &&\n                            contract_drawer_ref.current &&\n                            contract_drawer_card_ref.current &&\n                            `translateY(calc(${contract_drawer_card_ref.current.clientHeight}px - ${contract_drawer_ref.current.clientHeight}px))`) as React.CSSProperties['transform'],\n                    }}\n                    ref={contract_drawer_ref}\n                >\n                    <div className='contract-drawer__body' ref={contract_drawer_card_ref}>\n                        {body_content}\n                    </div>\n                    {should_show_contract_audit && (\n                        <MobileWrapper>\n                            <div id='dt_contract_drawer_audit'>\n                                <SwipeableContractAudit is_multiplier={is_multiplier}>\n                                    {contract_audit}\n                                </SwipeableContractAudit>\n                            </div>\n                        </MobileWrapper>\n                    )}\n                </div>\n            </CSSTransition>\n        );\n\n        return (\n            <React.Fragment>\n                <DesktopWrapper>{contract_drawer}</DesktopWrapper>\n                <MobileWrapper>\n                    <div\n                        style={{\n                            height: contract_drawer_card_ref.current?.clientHeight,\n                        }}\n                    >\n                        <Div100vhContainer height_offset='40px' is_bypassed={!contract_drawer_card_ref.current}>\n                            {contract_drawer}\n                        </Div100vhContainer>\n                    </div>\n                </MobileWrapper>\n            </React.Fragment>\n        );\n    }\n);\n\nexport default withRouter(ContractDrawer);\n","import ContractDrawer from './contract-drawer';\n\nexport default ContractDrawer;\n","import classNames from 'classnames';\nimport React from 'react';\nimport { Icon, Text } from '@deriv/components';\nimport { localize } from '@deriv/translations';\nimport { isMobile, TContractInfo } from '@deriv/shared';\n\ntype TInfoBoxLongcode = { contract_info: TContractInfo };\n\nconst InfoBoxLongcode = ({ contract_info }: TInfoBoxLongcode) => {\n    const max_longcode_length = isMobile() ? 47 : 150;\n    const [is_collapsed, setIsCollapsed] = React.useState(true);\n\n    const handleToggle = (ev: React.MouseEvent<HTMLElement>) => {\n        ev.preventDefault();\n        setIsCollapsed(!is_collapsed);\n    };\n\n    return (\n        <div className='info-box-longcode'>\n            <Icon icon='IcContractFlag' className='info-box-longcode-icon' size={24} />\n            <div className='info-box-longcode-wrapper'>\n                <Text\n                    size='xs'\n                    className={classNames('info-box-longcode-text', {\n                        'info-box-longcode-text--collapsed': is_collapsed,\n                    })}\n                >\n                    {contract_info.longcode}\n                </Text>\n                {` `}\n                {contract_info?.longcode && contract_info.longcode.length > max_longcode_length && (\n                    <Text as='a' href='#' size='xs' onClick={handleToggle} className='info-box-longcode-text'>\n                        {is_collapsed ? localize('View more') : localize('View less')}\n                    </Text>\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default InfoBoxLongcode;\n","import React from 'react';\nimport { Icon } from '@deriv/components';\n\ntype TContractError = {\n    message?: string;\n    onClickClose: () => void;\n};\n\n// TODO: move to App/Components, Refactor svg, consider other types, more features;\n// when a general design and more icons for all messages is ready\nconst ContractError = ({ message = '', onClickClose }: TContractError) =>\n    !message ? null : (\n        <div className='message'>\n            <div className='message-icon'>\n                <svg width='16' height='16' viewBox='0 0 16 16'>\n                    <g fill='none' fillRule='evenodd'>\n                        <circle cx='8' cy='8' r='8' fill='#F44336' />\n                        <path\n                            fill='#FFF'\n                            fillRule='nonzero'\n                            d='M8 7.293l3.146-3.147a.5.5 0 0 1 .708.708L8.707 8l3.147 3.146a.5.5 0 0 1-.708.708L8 8.707l-3.146 3.147a.5.5 0 0 1-.708-.708L7.293 8 4.146 4.854a.5.5 0 1 1 .708-.708L8 7.293z'\n                        />\n                    </g>\n                </svg>\n            </div>\n            <div className='message-text'>{message}</div>\n            <div className='message-close' onClick={onClickClose}>\n                <Icon icon='IcCross' />\n            </div>\n        </div>\n    );\n\nexport default ContractError;\n","import React from 'react';\nimport { SlideIn } from 'App/Components/Animations';\nimport InfoBoxLongcode from './info-box-longcode';\nimport ContractError from '../contract-error';\nimport { TContractInfo } from '@deriv/shared';\n\ntype TInfoBox = {\n    contract_info: TContractInfo;\n    error_message?: string;\n    removeError: () => void;\n};\n\nconst InfoBox = ({ contract_info, error_message, removeError }: TInfoBox) => {\n    const is_ready = !!contract_info.longcode;\n    return (\n        <SlideIn is_visible={is_ready} className='info-box-container' keyname='info-box-container'>\n            {!!contract_info.contract_type && (\n                <div className='info-box'>\n                    <InfoBoxLongcode contract_info={contract_info} />\n                </div>\n            )}\n            <ContractError message={error_message} onClickClose={removeError} />\n        </SlideIn>\n    );\n};\n\nexport default InfoBox;\n","import InfoBox from './info-box';\n\nexport default InfoBox;\n","import React from 'react';\nimport Digits from 'Modules/Contract/Components/Digits';\nimport InfoBox from 'Modules/Contract/Components/InfoBox';\nimport BottomWidgets from '../../SmartChart/Components/bottom-widgets.jsx';\nimport TopWidgets from '../../SmartChart/Components/top-widgets.jsx';\nimport { observer, useStore } from '@deriv/stores';\nimport { useTraderStore } from 'Stores/useTraderStores';\n\nexport const DigitsWidget = observer(() => {\n    const { contract_replay } = useStore();\n    const { contract_store } = contract_replay;\n    const { contract_info, digits_info, display_status, is_digit_contract, is_ended } = contract_store;\n\n    return (\n        <Digits\n            is_digit_contract={is_digit_contract}\n            is_ended={is_ended}\n            contract_info={contract_info}\n            digits_info={digits_info}\n            display_status={display_status}\n        />\n    );\n});\n\nexport const InfoBoxWidget = observer(() => {\n    const { contract_replay } = useStore();\n    const { is_vanilla } = useTraderStore();\n    const { contract_store, removeErrorMessage: removeError, error_message } = contract_replay;\n    const { contract_info } = contract_store;\n\n    return (\n        <InfoBox\n            contract_info={contract_info}\n            error_message={error_message}\n            removeError={removeError}\n            is_vanilla={is_vanilla}\n        />\n    );\n});\n\n// Chart widgets passed into SmartCharts\nexport const ChartTopWidgets = () => <TopWidgets InfoBox={<InfoBoxWidget />} is_title_enabled={false} />;\nexport const ChartBottomWidgets = () => <BottomWidgets Widget={<DigitsWidget />} />;\n","import classNames from 'classnames';\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { useHistory } from 'react-router-dom';\nimport {\n    DesktopWrapper,\n    Div100vhContainer,\n    MobileWrapper,\n    PageOverlay,\n    SwipeableWrapper,\n    FadeWrapper,\n    usePrevious,\n} from '@deriv/components';\nimport {\n    getContractTypeFeatureFlag,\n    getDurationPeriod,\n    getDurationUnitText,\n    getEndTime,\n    getPlatformRedirect,\n    isAccumulatorContract,\n    isDesktop,\n    isEmptyObject,\n    isHighLow,\n    isMobile,\n    isMultiplierContract,\n    isTurbosContract,\n    isVanillaContract,\n    isSmartTraderContract,\n    urlFor,\n} from '@deriv/shared';\nimport { localize } from '@deriv/translations';\nimport { useFeatureFlags } from '@deriv/hooks';\nimport ChartLoader from 'App/Components/Elements/chart-loader';\nimport ContractDrawer from 'App/Components/Elements/ContractDrawer';\nimport UnsupportedContractModal from 'App/Components/Elements/Modals/UnsupportedContractModal';\nimport { SmartChart } from 'Modules/SmartChart';\nimport { ChartBottomWidgets, ChartTopWidgets, DigitsWidget, InfoBoxWidget } from './contract-replay-widget.jsx';\nimport ChartMarker from 'Modules/SmartChart/Components/Markers/marker.jsx';\nimport { observer, useStore } from '@deriv/stores';\nimport { useTraderStore } from 'Stores/useTraderStores';\n\nconst ContractReplay = observer(({ contract_id }) => {\n    const { common, contract_replay, ui } = useStore();\n    const [swipe_index, setSwipeIndex] = React.useState(0);\n    const { contract_store } = contract_replay;\n    const {\n        is_market_closed,\n        is_sell_requested,\n        is_valid_to_cancel,\n        onClickCancel,\n        onClickSell,\n        onMount,\n        onUnmount,\n        indicative_status,\n        is_chart_loading,\n        is_forward_starting,\n    } = contract_replay;\n    const { contract_info, contract_update, contract_update_history, is_digit_contract } = contract_store;\n    const { routeBackInApp } = common;\n    const { is_dark_mode_on: is_dark_theme, notification_messages_ui: NotificationMessages, toggleHistoryTab } = ui;\n    const trade_type_feature_flag =\n        contract_info.shortcode && getContractTypeFeatureFlag(contract_info.contract_type, isHighLow(contract_info));\n    const is_trade_type_disabled = useFeatureFlags()[`is_${trade_type_feature_flag}_enabled`] === false;\n    const [is_visible, setIsVisible] = React.useState(false);\n    const history = useHistory();\n\n    React.useEffect(() => {\n        const url_contract_id = +/[^/]*$/.exec(location.pathname)[0];\n        onMount(contract_id || url_contract_id);\n        setIsVisible(true);\n\n        return () => {\n            setIsVisible(false);\n            onUnmount();\n        };\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [contract_id, location, onMount, onUnmount]);\n\n    const onClickClose = React.useCallback(() => {\n        setIsVisible(false);\n        const is_from_table_row = !isEmptyObject(location.state) ? location.state.from_table_row : false;\n        return is_from_table_row ? history.goBack() : routeBackInApp(history);\n    }, [history, routeBackInApp]);\n\n    React.useEffect(() => {\n        // don't open Contract details page for trade types with disabled feature flag:\n        if (is_trade_type_disabled && is_visible) {\n            onClickClose();\n        }\n    }, [is_trade_type_disabled, is_visible, onClickClose]);\n\n    const onChangeSwipeableIndex = index => {\n        setSwipeIndex(index);\n    };\n\n    if (!contract_info.underlying) return null;\n\n    const is_accumulator = isAccumulatorContract(contract_info.contract_type);\n    const is_multiplier = isMultiplierContract(contract_info.contract_type);\n    const is_turbos = isTurbosContract(contract_info.contract_type);\n    const is_vanilla = isVanillaContract(contract_info.contract_type);\n    const is_smarttrader_contract = isSmartTraderContract(contract_info.contract_type);\n\n    const contract_drawer_el = (\n        <ContractDrawer\n            contract_info={contract_info}\n            contract_update={contract_update}\n            contract_update_history={contract_update_history}\n            is_accumulator={is_accumulator}\n            is_chart_loading={is_chart_loading}\n            is_dark_theme={is_dark_theme}\n            is_market_closed={is_market_closed}\n            is_multiplier={is_multiplier}\n            is_turbos={is_turbos}\n            is_sell_requested={is_sell_requested}\n            is_valid_to_cancel={is_valid_to_cancel}\n            is_vanilla={is_vanilla}\n            is_smarttrader_contract={is_smarttrader_contract}\n            onClickCancel={onClickCancel}\n            onClickSell={onClickSell}\n            status={indicative_status}\n            toggleHistoryTab={toggleHistoryTab}\n        />\n    );\n\n    const unsupportedContractOnConfirm = () => {\n        history.goBack();\n    };\n\n    const unsupportedContractOnClose = () => {\n        const statementws_url = urlFor('user/statementws', { legacy: true });\n        window.open(statementws_url, '_blank');\n    };\n\n    return (\n        <FadeWrapper is_visible={is_visible} className='contract-details-wrapper' keyname='contract-details-wrapper'>\n            <MobileWrapper>\n                <NotificationMessages />\n            </MobileWrapper>\n            <UnsupportedContractModal\n                onConfirm={unsupportedContractOnConfirm}\n                onClose={unsupportedContractOnClose}\n                is_visible={is_forward_starting}\n            />\n            <PageOverlay\n                id='dt_contract_replay_container'\n                header={localize('Contract details')}\n                onClickClose={onClickClose}\n            >\n                <Div100vhContainer\n                    className='trade-container__replay'\n                    is_disabled={isDesktop()}\n                    height_offset='80px' // * 80px = header + contract details header heights in mobile\n                >\n                    <DesktopWrapper>{contract_drawer_el}</DesktopWrapper>\n                    <MobileWrapper>\n                        <div\n                            className={classNames('contract-drawer__mobile-wrapper', {\n                                'contract-drawer__mobile-wrapper--is-multiplier': isMobile() && is_multiplier,\n                            })}\n                        >\n                            {contract_drawer_el}\n                        </div>\n                    </MobileWrapper>\n                    <React.Suspense fallback={<div />}>\n                        <div\n                            className={classNames('replay-chart__container', {\n                                'replay-chart__container--is-multiplier': isMobile() && is_multiplier,\n                                'vanilla-trade-chart': is_vanilla,\n                            })}\n                        >\n                            <DesktopWrapper>\n                                <NotificationMessages />\n                            </DesktopWrapper>\n                            <ChartLoader is_dark={is_dark_theme} is_visible={is_chart_loading} />\n                            <DesktopWrapper>\n                                <ReplayChart is_dark_theme={is_dark_theme} is_accumulator_contract={is_accumulator} />\n                            </DesktopWrapper>\n                            <MobileWrapper>\n                                {is_digit_contract ? (\n                                    <React.Fragment>\n                                        <InfoBoxWidget />\n                                        <SwipeableWrapper\n                                            className='replay-chart__container-swipeable-wrapper'\n                                            is_swipe_disabled={swipe_index === 1}\n                                            onChange={onChangeSwipeableIndex}\n                                        >\n                                            <DigitsWidget />\n                                            <ReplayChart />\n                                        </SwipeableWrapper>\n                                    </React.Fragment>\n                                ) : (\n                                    <ReplayChart\n                                        is_dark_theme={is_dark_theme}\n                                        is_accumulator_contract={is_accumulator}\n                                    />\n                                )}\n                            </MobileWrapper>\n                        </div>\n                    </React.Suspense>\n                </Div100vhContainer>\n            </PageOverlay>\n        </FadeWrapper>\n    );\n});\n\nContractReplay.propTypes = {\n    contract_id: PropTypes.number,\n};\n\nexport default ContractReplay;\n\n// CHART -----------------------------------------\n\nconst ReplayChart = observer(({ is_accumulator_contract }) => {\n    const trade = useTraderStore();\n    const { contract_replay, common, ui } = useStore();\n    const { contract_store, chart_state, chartStateChange, margin } = contract_replay;\n    const { contract_config, is_digit_contract, barriers_array, markers_array, contract_info, getContractsArray } =\n        contract_store;\n    const { underlying: symbol, audit_details } = contract_info;\n    const allow_scroll_to_epoch = chart_state === 'READY' || chart_state === 'SCROLL_TO_LEFT';\n    const { app_routing_history, current_language, is_socket_opened } = common;\n    const { is_dark_mode_on: is_dark_theme, is_chart_layout_default, is_chart_countdown_visible } = ui;\n    const { end_epoch, chart_type, start_epoch, granularity } = contract_config;\n    /**\n     * TODO: remove forcing light theme once DBot supports dark theme\n     * DBot does not support for dark theme since till now,\n     * as a result, if any user come to report detail pages\n     * from DBot, we should force it to have light theme\n     */\n    const from_platform = getPlatformRedirect(app_routing_history);\n    const should_force_light_theme = from_platform.name === 'DBot';\n    const settings = {\n        language: current_language.toLowerCase(),\n        theme: is_dark_theme && !should_force_light_theme ? 'dark' : 'light',\n        position: is_chart_layout_default ? 'bottom' : 'left',\n        countdown: is_chart_countdown_visible,\n        assetInformation: false, // ui.is_chart_asset_info_visible,\n        isHighestLowestMarkerEnabled: false, // TODO: Pending UI\n    };\n    const scroll_to_epoch = allow_scroll_to_epoch ? contract_config.scroll_to_epoch : undefined;\n    const all_ticks = audit_details ? audit_details.all_ticks : [];\n    const { wsForget, wsSubscribe, wsSendRequest, wsForgetStream } = trade;\n\n    const isBottomWidgetVisible = () => {\n        return isDesktop() && is_digit_contract;\n    };\n\n    const getChartYAxisMargin = () => {\n        const chart_margin = {\n            top: isMobile() ? 96 : 148,\n            bottom: isBottomWidgetVisible() ? 128 : 112,\n        };\n\n        if (isMobile()) {\n            chart_margin.bottom = 48;\n        }\n\n        return chart_margin;\n    };\n    const prev_start_epoch = usePrevious(start_epoch);\n\n    const has_ended = !!getEndTime(contract_info);\n\n    return (\n        <SmartChart\n            id={'replay'}\n            barriers={barriers_array}\n            bottomWidgets={isBottomWidgetVisible() ? ChartBottomWidgets : null}\n            chartControlsWidgets={null}\n            chartType={chart_type}\n            endEpoch={end_epoch}\n            margin={margin || null}\n            isMobile={isMobile()}\n            enabledNavigationWidget={isDesktop()}\n            enabledChartFooter={false}\n            granularity={granularity}\n            requestAPI={wsSendRequest}\n            requestForget={wsForget}\n            requestForgetStream={wsForgetStream}\n            crosshair={isMobile() ? 0 : undefined}\n            maxTick={isMobile() ? 8 : undefined}\n            requestSubscribe={wsSubscribe}\n            settings={settings}\n            startEpoch={start_epoch}\n            scrollToEpoch={scroll_to_epoch}\n            stateChangeListener={chartStateChange}\n            symbol={symbol}\n            allTicks={all_ticks}\n            topWidgets={ChartTopWidgets}\n            isConnectionOpened={is_socket_opened}\n            isStaticChart={\n                // forcing chart reload when start_epoch changes to an earlier epoch for ACCU closed contract:\n                is_accumulator_contract && end_epoch && start_epoch < prev_start_epoch\n            }\n            shouldFetchTradingTimes={false}\n            should_zoom_out_on_yaxis={is_accumulator_contract}\n            yAxisMargin={getChartYAxisMargin()}\n            anchorChartToLeft={isMobile()}\n            shouldFetchTickHistory={\n                getDurationUnitText(getDurationPeriod(contract_info)) !== 'seconds' || contract_info.status === 'open'\n            }\n            shouldDrawTicksFromContractInfo={is_accumulator_contract}\n            contractInfo={contract_info}\n            contracts_array={getContractsArray()}\n            isLive={!has_ended}\n            startWithDataFitMode={true}\n        >\n            {markers_array.map(({ content_config, marker_config, react_key }) => (\n                <ChartMarker\n                    key={react_key}\n                    marker_config={marker_config}\n                    marker_content_props={content_config}\n                    is_bottom_widget_visible={isBottomWidgetVisible()}\n                />\n            ))}\n        </SmartChart>\n    );\n});\n\nReplayChart.propTypes = {\n    is_accumulator_contract: PropTypes.bool,\n};\n","import PropTypes from 'prop-types';\nimport React from 'react';\nimport { Redirect, withRouter } from 'react-router';\nimport { CSSTransition } from 'react-transition-group';\nimport { routes } from '@deriv/shared';\nimport ErrorComponent from 'App/Components/Elements/Errors';\nimport { localize } from '@deriv/translations';\nimport ContractReplay from './contract-replay.jsx';\nimport { observer, useStore } from '@deriv/stores';\n\nconst dialog_errors = ['GetProposalFailure', 'ContractValidationError'];\n\nconst Contract = observer(({ match, history }) => {\n    const { contract_replay } = useStore();\n    const {\n        removeErrorMessage,\n        error_message,\n        error_code,\n        has_error,\n        removeAccountSwitcherListener: onUnmount,\n        setAccountSwitcherListener: onMount,\n    } = contract_replay;\n    React.useEffect(() => {\n        onMount(+match.params.contract_id, history);\n\n        return () => {\n            removeErrorMessage();\n            onUnmount();\n        };\n    }, [onMount, onUnmount, removeErrorMessage, history, match.params.contract_id]);\n\n    if (isNaN(match.params.contract_id)) {\n        return <Redirect to='/404' />;\n    }\n\n    return (\n        <React.Fragment>\n            {has_error ? (\n                <ErrorComponent\n                    message={error_message}\n                    is_dialog={dialog_errors.includes(error_code)}\n                    redirect_label={\n                        dialog_errors.includes(error_code) ? localize('Ok') : localize('Go back to trading')\n                    }\n                    redirectOnClick={() => history.push(routes.trade)}\n                    should_show_refresh={false}\n                />\n            ) : (\n                <CSSTransition\n                    in={!has_error}\n                    timeout={400}\n                    classNames={{\n                        enter: 'contract--enter',\n                        enterDone: 'contract--enter-done',\n                        exit: 'contract--exit',\n                    }}\n                    unmountOnExit\n                >\n                    <ContractReplay contract_id={+match.params.contract_id} key={+match.params.contract_id} />\n                </CSSTransition>\n            )}\n        </React.Fragment>\n    );\n});\n\nContract.propTypes = {\n    history: PropTypes.object,\n    match: PropTypes.object,\n};\n\nexport default withRouter(Contract);\n","import Contract from './Containers/contract.jsx';\n\nexport default Contract;\n"],"names":["header","message","is_dialog","redirect_label","redirectOnClick","should_show_refresh","refresh_message","localize","Dialog","title","is_visible","confirm_button_text","onConfirm","location","reload","PageErrorContainer","error_header","error_messages","redirect_urls","routes","redirect_labels","buttonOnClick","observer","is_loading","is_modal_visible","onClose","ui","useStore","disableApp","enableApp","is_unsupported_contract_modal_visible","website_domain","website_name","cancel_button_text","onCancel","is_closed_on_cancel","Localize","i18n_default_text","feature_flags","useMemo","flags","data","Object","keys","reduce","previous","current","Boolean","icon","id","label","timestamp","value","value2","className","Text","size","styles","lineHeight","weight","line_height","color","align","formatDate","formatTime","contract_end_time","contract_info","duration","duration_unit","exit_spot","is_vanilla","commission","contract_type","currency","entry_spot_display_value","entry_tick_time","exit_tick_time","high_barrier","profit","date_start","tick_count","tick_passed","transaction_ids","buy","sell","low_barrier","display_number_of_contracts","is_profit","Number","cancellation_price","getCancellationPrice","show_barrier","isAccumulatorContract","isSmartTraderContract","show_duration","isNaN","show_payout_per_point","isTurbosContract","ticks_label","show_strike_barrier","isAsiansContract","ticks_duration_text","ThemedScrollbars","is_bypassed","isMobile","Icon","buy_value","sell_value","undefined","isMultiplierContract","Money","amount","show_currency","isUserSold","isEndedBeforeCancellationExpired","isUserCancelled","cancellation","date_expiry","ServerTime","unix","isCancellationExpired","getBarrierLabel","getBarrierValue","isDigitType","hasTwoBarriers","map","barrier","index","key","getCurrencyDisplayCode","toGMTFormat","epochToMoment","addCommaToNumber","history","length","item","order_date","display_name","Math","abs","order_amount","contract_update_history","has_result","is_accumulator","is_multiplier","is_turbos","toggleHistoryTab","props","contract_id","React","update_history","setUpdateHistory","getSortedUpdateHistory","sort","a","b","Tabs","top","onTabItemClick","tab_index","WS","then","response","SwipeableContractAudit","children","onSwipedDown","swipe_handlers","SwipeableWrapper","target_el","document","getElementById","ReactDOM","classNames","SwipeableContractDrawer","onSwipedUp","validation_error","as","ContractDrawerCard","contract_update","is_collapsed","is_market_closed","is_mobile","is_smarttrader_contract","is_sell_requested","onClickCancel","onClickSell","result","server_time","toMoment","status","toggleContractAuditDrawer","contract_trade","active_symbols","useTraderStore","addToast","current_focus","removeToast","should_show_cancellation_warning","setCurrentFocus","toggleCancellationWarning","getContractById","useHover","hover_ref","should_hide_closed_overlay","is_sold","getEndTime","getSymbolDisplayName","getMarketInformation","shortcode","underlying","is_crypto","isCryptoContract","has_progress_slider","card_header","ContractCard","getCardLabels","getContractTypeDisplay","isDesktop","card_body","card_footer","contract_el","contract_card","profit_loss","should_show_result_overlay","ref","has_swipeable_drawer","DesktopWrapper","MobileWrapper","Collapsible","onClick","ContractDrawer","is_dark_theme","common","exit_tick_display_value","contract_drawer_ref","contract_drawer_card_ref","should_show_contract_audit","setShouldShowContractAudit","contract_audit","is_open","getDurationTime","getDurationUnitText","getDurationPeriod","body_content","is_expired","speed","contract_drawer","CSSTransition","in","timeout","style","transform","clientHeight","height","Div100vhContainer","height_offset","withRouter","max_longcode_length","setIsCollapsed","longcode","href","ev","preventDefault","onClickClose","width","viewBox","fill","fillRule","cx","cy","r","d","error_message","removeError","is_ready","keyname","DigitsWidget","contract_store","contract_replay","digits_info","display_status","is_digit_contract","is_ended","Digits","InfoBoxWidget","removeErrorMessage","ChartTopWidgets","InfoBox","is_title_enabled","ChartBottomWidgets","Widget","ContractReplay","swipe_index","setSwipeIndex","is_valid_to_cancel","onMount","onUnmount","indicative_status","is_chart_loading","is_forward_starting","routeBackInApp","is_dark_mode_on","NotificationMessages","notification_messages_ui","trade_type_feature_flag","getContractTypeFeatureFlag","isHighLow","is_trade_type_disabled","useFeatureFlags","setIsVisible","useHistory","url_contract_id","exec","pathname","isEmptyObject","state","from_table_row","goBack","isVanillaContract","contract_drawer_el","FadeWrapper","UnsupportedContractModal","statementws_url","urlFor","legacy","window","open","PageOverlay","is_disabled","fallback","is_dark","ReplayChart","is_accumulator_contract","is_swipe_disabled","onChange","propTypes","PropTypes","chart_margin","trade","chart_state","chartStateChange","margin","contract_config","barriers_array","markers_array","getContractsArray","symbol","audit_details","allow_scroll_to_epoch","app_routing_history","current_language","is_socket_opened","is_chart_layout_default","is_chart_countdown_visible","end_epoch","chart_type","start_epoch","granularity","should_force_light_theme","getPlatformRedirect","name","settings","language","toLowerCase","theme","position","countdown","assetInformation","isHighestLowestMarkerEnabled","scroll_to_epoch","all_ticks","wsForget","wsSubscribe","wsSendRequest","wsForgetStream","isBottomWidgetVisible","prev_start_epoch","usePrevious","has_ended","SmartChart","barriers","bottomWidgets","chartControlsWidgets","chartType","endEpoch","enabledNavigationWidget","enabledChartFooter","requestAPI","requestForget","requestForgetStream","crosshair","maxTick","requestSubscribe","startEpoch","scrollToEpoch","stateChangeListener","allTicks","topWidgets","isConnectionOpened","isStaticChart","shouldFetchTradingTimes","should_zoom_out_on_yaxis","yAxisMargin","bottom","anchorChartToLeft","shouldFetchTickHistory","shouldDrawTicksFromContractInfo","contractInfo","contracts_array","isLive","startWithDataFitMode","content_config","marker_config","react_key","marker_content_props","is_bottom_widget_visible","dialog_errors","Contract","match","error_code","has_error","removeAccountSwitcherListener","setAccountSwitcherListener","params","Redirect","to","includes","push","enter","enterDone","exit","unmountOnExit"],"sourceRoot":""}