"use strict";(self.webpackChunk_deriv_trader=self.webpackChunk_deriv_trader||[]).push([["screen-small"],{"./src/Modules/Trading/Components/Form/screen-small.tsx":(e,t,r)=>{r.r(t),r.d(t,{default:()=>et});var a=r("react"),n=r.n(a),o=r("@deriv/components"),i=r("./src/App/Components/Elements/ContentLoader/index.js"),l=r("../../node_modules/classnames/index.js"),u=r.n(l),c=r("./src/Stores/useTraderStores.tsx"),s=r("../stores/src/index.ts"),m=r("@deriv/translations"),d=function(e){var t=e.onChange,r=e.is_allow_equal,a=e.has_equals_only,i=e.className;return n().createElement("div",{className:u()("allow-equals","mobile-widget",i)},n().createElement(o.Checkbox,{label:(0,m.localize)("Equals"),value:r,name:"is_equal",onChange:function(e){if(e.persist(),"checked"in e.target){var r=e.target,a=r.name,n=r.checked;t({target:{name:a,value:Number(n)}})}},disabled:a}),n().createElement(o.Text,{as:"p",size:"xxxs"},n().createElement(m.Localize,{i18n_default_text:"Win payout if exit spot is also equal to entry spot."})))};const _=(0,s.Pi)((function(){var e=(0,c.b)(),t={is_allow_equal:!!e.is_equal,has_equals_only:e.has_equals_only,onChange:e.onChange};return n().createElement(d,t)}));var p=r("./src/Stores/Modules/Trading/Helpers/allow-equals.ts"),f=r("@deriv/shared"),b=r("../../node_modules/lodash.debounce/index.js"),v=r.n(b),g=r("./src/Stores/Modules/Trading/Helpers/proposal.ts");function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function h(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function E(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?h(Object(r),!0).forEach((function(t){x(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function x(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,"string");if("object"!==y(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===y(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var w=v()((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,a=E(E({},e),t),n=(0,g.RX)(a),o={},i=function(e){!e.error&&e.subscription&&(o[e.subscription.id]=!0,r(e))};if(!(0,f.isEmptyObject)(n)){var l=n;Object.keys(l).forEach((function(e){f.WS.subscribeProposal(l[e],i)}))}return function(){Object.keys(o).forEach((function(e){f.WS.forget(e),delete o[e]}))}}),700),k=r("./src/Modules/Trading/Components/Form/TradeParams/min-max-stake-info.tsx"),S=(0,s.Pi)((function(e){var t=e.basis,r=e.duration_unit,a=e.duration_value,i=e.toggleModal,l=e.has_duration_error,d=e.selected_basis,_=e.setSelectedAmount,p=e.setAmountError,b=(0,s.oR)(),v=b.ui,g=b.client,y=v.addToast,h=g.currency,E=(0,c.b)(),x=E.contract_type,w=E.is_turbos,S=E.is_vanilla,j=E.onChangeMultiple,M=E.stake_boundary,C=E.amount,O=E.basis,N=E.duration_unit,P=E.duration,A=M[x.toUpperCase()]||{},T=A.min_stake,z=A.max_stake,I=(0,f.getDecimalPlaces)(h),D=Number("0").toFixed((0,f.getDecimalPlaces)(h)),F=parseFloat(D.toString().replace(/.$/,"1")),Z=function(e){var t=n().createElement(m.Localize,{i18n_default_text:"Should not be 0 or empty"}),r=n().createElement(m.Localize,{i18n_default_text:"Stake must be between {{min_stake}} {{currency}} and {{max_stake}} {{currency}}",values:{min_stake:T,currency:h,max_stake:z}}),a=parseFloat(e.toString());return"0."===e.toString()||0===a?(y({key:"amount_error",content:t,type:"error",timeout:2e3}),p(!0),"error"):isNaN(a)||a<F||e.toString().length<1?(y({key:"amount_error",content:t,type:"error",timeout:2e3}),p(!0),!1):a<Number(T)?(y({key:"amount_error",content:r,type:"error",timeout:2e3}),p(!0),"error"):(p(!1),!0)};return n().createElement(n().Fragment,null,n().createElement("div",{className:"trade-params__stake-container"},(w||S)&&n().createElement(k.Z,{currency:h,max_stake:z,min_stake:T}),n().createElement("div",{className:u()("trade-params__amount-keypad",{strike__pos:S})},n().createElement(o.Numpad,{value:d,format:function(e){return isNaN(+e)||""===e?e:Number(e).toFixed(I)},onSubmit:function(e){var n={};r===N||l||(n.duration_unit=r),a===P||l||(n.duration=a),e===C&&t===O||(n.basis=t,n.amount=+e),(0,f.isEmptyObject)(n)||j(n),i()},currency:h,min:F,max:z,is_currency:!0,render:function(e){var t=e.value,r=e.className;return n().createElement("div",{className:r},parseFloat(t)>0?n().createElement(o.Money,{currency:h,amount:t,should_format:!1}):t)},reset_press_interval:450,reset_value:"",pip_size:I,onValidate:Z,submit_label:(0,m.localize)("OK"),onValueChange:function(e){_(t,e),Z(e)}}))))}));const j=(0,s.Pi)((function(e){var t=e.toggleModal,r=e.duration_value,a=e.duration_unit,i=e.has_duration_error,l=e.amount_tab_idx,u=e.setAmountError,s=e.setAmountTabIdx,m=e.setSelectedAmount,d=e.stake_value,_=e.payout_value,p=(0,c.b)(),f=p.basis,b=p.basis_list,v=void 0!==l?l:b.findIndex((function(e){return e.value===f}));return 1===b.length?n().createElement(S,{toggleModal:t,duration_value:r,duration_unit:a,has_duration_error:i,basis:b[0].value,setAmountError:u,selected_basis:"stake"===b[0].value?d:_,setSelectedAmount:m}):n().createElement("div",null,n().createElement(o.Tabs,{active_index:v,onTabItemClick:s,top:!0},b.map((function(e){switch(e.value){case"stake":return n().createElement("div",{label:e.text,key:e.value},n().createElement(S,{toggleModal:t,duration_value:r,duration_unit:a,has_duration_error:i,basis:e.value,setAmountError:u,selected_basis:d,setSelectedAmount:m}));case"payout":return n().createElement("div",{label:e.text,key:e.value},n().createElement(S,{toggleModal:t,duration_value:r,duration_unit:a,has_duration_error:i,basis:e.value,setAmountError:u,selected_basis:_,setSelectedAmount:m}));default:return null}}))))}));var M=r("./src/Modules/Trading/Components/Form/TradeParams/Multiplier/info.jsx");function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,o,i,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(a=o.call(r)).done)&&(l.push(a.value),l.length!==t);u=!0);}catch(e){c=!0,n=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?O(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}const N=(0,s.Pi)((function(e){var t=e.is_open,r=e.toggleModal;(0,o.usePreventIOSZoom)();var a=(0,s.oR)().ui,i=a.enableApp,l=a.disableApp;return n().createElement(n().Fragment,null,n().createElement(o.Modal,{id:"dt_trade_parameters_mobile",className:"trade-params",enableApp:i,is_open:t,is_title_centered:!0,should_header_stick_body:!1,disableApp:l,toggleModal:r,height:"auto",width:"calc(100vw - 32px)",title:(0,m.localize)("Stake")},n().createElement(o.Div100vhContainer,{className:"mobile-widget-dialog__wrapper",max_autoheight_offset:"48px"},n().createElement(P,{toggleModal:r}))))}));var P=(0,s.Pi)((function(e){var t=e.toggleModal,r=(0,c.b)(),a=r.amount,i=r.currency,l=r.trade_stop_out,u=C(n().useState(a),2),s=u[0],d=u[1],_=C(n().useState(null),2),p=_[0],b=_[1],v=C(n().useState(null),2),g=v[0],y=v[1],h=n().useRef(a),E=(0,f.useIsMounted)();return n().useEffect((function(){if(s!==a){var e=w(r,{amount:s},(function(e){var t,r,a=e.proposal,n=e.echo_req,o=e.subscription;E()&&a&&"MULTUP"===n.contract_type&&Number(n.amount)===Number(h.current)?(b(a.commission),y(null===(t=a.limit_order)||void 0===t||null===(r=t.stop_out)||void 0===r?void 0:r.order_amount)):null!=o&&o.id&&f.WS.forget(o.id)}));return function(){null==e||e()}}}),[s]),n().createElement(n().Fragment,null,n().createElement("div",{className:"trade-params__multiplier-ic-info-wrapper"},n().createElement(o.Popover,{alignment:"right",classNameBubble:"dc-popover__trade-params",icon:"info",id:"dt_multiplier-stake__tooltip",zIndex:9999,is_bubble_hover_enabled:!0,message:n().createElement(m.Localize,{i18n_default_text:"To ensure your loss does not exceed your stake, your contract will be closed automatically when your loss equals to <0/>.",components:[n().createElement(o.Money,{key:0,amount:g||l,currency:i,show_currency:!0})]})})),n().createElement(j,{toggleModal:t,amount_tab_idx:0,setSelectedAmount:function(e,t){d(t),h.current=t},setAmountError:function(){},stake_value:s}),n().createElement(M.Z,{className:"trade-params__multiplier-trade-info",should_show_tooltip:!0,commission:p,stop_out:g,amount:s}))}));const A=function(e){var t,r=e.items_list,a=e.contract_name,i=e.current_value_object,l=e.onChange,u=e.info,c=e.is_tooltip_disabled,s=void 0!==c&&c,m=e.popover_alignment,d=void 0===m?"right":m,_=e.toggleModal;return n().createElement(n().Fragment,null,n().createElement("div",{className:"trade-params__".concat(a,"-ic-info-wrapper")},n().createElement(o.Popover,{alignment:d,classNameBubble:"dc-popover__trade-params",disable_target_icon:s,icon:"info",id:"dt_".concat(a,"-stake__tooltip"),is_bubble_hover_enabled:!0,zIndex:"9999",message:u})),n().createElement(o.RadioGroup,{className:"trade-params__".concat(a,"-radio-group"),name:"trade-params__".concat(a,"-radio"),selected:Number.isNaN(i.value)?"":null===(t=i.value)||void 0===t?void 0:t.toString(),onToggle:function(e){l({target:{name:i.name,value:Number(e.target.value)}}),_()}},null==r?void 0:r.map((function(e){var t=e.text,r=e.value;return n().createElement(o.RadioGroup.Item,{key:r,id:t,label:t,value:null==r?void 0:r.toString(),disabled:!1})}))))};function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,o,i,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(a=o.call(r)).done)&&(l.push(a.value),l.length!==t);u=!0);}catch(e){c=!0,n=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return z(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?z(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function z(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var I=(0,s.Pi)((function(e){var t=e.toggleModal,r=(0,c.b)(),a=r.amount,o=r.multiplier,i=r.multiplier_range_list,l=r.onChange,u=T(n().useState(null),2),s=u[0],d=u[1],_=T(n().useState(null),2),p=_[0],b=_[1],v=(0,f.useIsMounted)();return n().useEffect((function(){if(a){var e=w(r,{amount:a},(function(e){var t,r,n=e.echo_req,o=e.proposal,i=e.subscription;v()&&o&&"MULTUP"===n.contract_type&&Number(n.amount)===a?(d(o.commission),b(null===(t=o.limit_order)||void 0===t||null===(r=t.stop_out)||void 0===r?void 0:r.order_amount)):null!=i&&i.id&&f.WS.forget(i.id)}));return function(){null==e||e()}}}),[a]),n().createElement(n().Fragment,null,n().createElement(A,{popover_alignment:"bottom",contract_name:"multiplier",current_value_object:{name:"multiplier",value:o},info:(0,m.localize)("Your gross profit is the percentage change in market price times your stake and the multiplier chosen here."),items_list:i,onChange:l,toggleModal:t}),n().createElement(M.Z,{className:"trade-params__multiplier-trade-info",should_show_tooltip:!0,commission:s,stop_out:p,amount:a}))}));const D=I,F=(0,s.Pi)((function(e){var t,r,a=e.is_open,i=e.modal_title,l=e.toggleModal,u=(0,c.b)(),s=u.accumulator_range_list,d=u.growth_rate,_=u.onChange,p=u.tick_size_barrier,b=u.proposal_info;(0,o.usePreventIOSZoom)();var v=(null==b||null===(t=b.ACCU)||void 0===t?void 0:t.has_error)||!(null!=b&&null!==(r=b.ACCU)&&void 0!==r&&r.id)||(0,f.isEmptyObject)(b);return n().createElement(n().Fragment,null,n().createElement(o.Modal,{id:"dt_trade_parameters_mobile",className:"trade-params",is_open:a,is_title_centered:!0,should_header_stick_body:!1,toggleModal:l,height:"auto",width:"calc(100vw - 32px)",title:i},n().createElement(o.Div100vhContainer,{className:"mobile-widget-dialog__wrapper",max_autoheight_offset:"48px"},i===(0,m.localize)("Multiplier")?n().createElement(D,{toggleModal:l}):n().createElement(A,{contract_name:"accumulator",current_value_object:{name:"growth_rate",value:d},info:(0,m.localize)("Your stake will grow at {{growth_rate}}% per tick as long as the current spot price remains within ±{{tick_size_barrier}} from the previous spot price.",{growth_rate:(0,f.getGrowthRatePercentage)(d),tick_size_barrier:(0,f.getTickSizeBarrierPercentage)(p)}),is_tooltip_disabled:v,items_list:null==s?void 0:s.map((function(e){return{text:"".concat((0,f.getGrowthRatePercentage)(e),"%"),value:e}})),onChange:_,popover_alignment:"bottom",toggleModal:l}))))}));var Z=r("./src/Modules/Trading/Components/Form/TradeParams/Multiplier/expiration.jsx"),L=r("../../node_modules/prop-types/index.js"),R=r.n(L),q=(0,s.Pi)((function(e){var t=e.is_open,r=e.toggleModal,a=(0,s.oR)().ui,i=a.enableApp,l=a.disableApp;return n().createElement(n().Fragment,null,n().createElement(o.Modal,{enableApp:i,is_open:t,disableApp:l,toggleModal:r,has_close_icon:!1,should_header_stick_body:!1,height:"auto",width:"calc(100vw - 3.2rem)",title:(0,m.localize)("Expiration")},n().createElement(o.Div100vhContainer,{className:"mobile-widget-dialog__wrapper",max_autoheight_offset:"48px"},n().createElement("div",{style:{minHeight:"120px",padding:"1.6rem"}},n().createElement(o.Text,{size:"xs",color:"general"},n().createElement(m.Localize,{i18n_default_text:"Your contract will be closed automatically at the next available asset price on <0></0>.",components:[n().createElement(Z.Z,{key:0,is_text_only:!0,text_size:"xs"})]}))),n().createElement(o.Modal.Footer,{has_separator:!0},n().createElement(o.Button,{style:{width:"100%",height:"4rem"},large:!0,primary:!0,has_effect:!0,text:(0,m.localize)("OK"),onClick:r})))))}));q.propTypes={is_open:R().bool,toggleModal:R().func};const U=q;function G(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,o,i,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(a=o.call(r)).done)&&(l.push(a.value),l.length!==t);u=!0);}catch(e){c=!0,n=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return $(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?$(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var V=function(e){var t=e.amount,r=e.currency,a=e.expiration,i=e.is_crypto_multiplier,l=G(n().useState(!1),2),u=l[0],c=l[1],s=G(n().useState(!1),2),d=s[0],_=s[1],p=function(){c(!u)},f=function(){_(!d)};return n().createElement(n().Fragment,null,n().createElement(N,{is_open:u,toggleModal:p}),n().createElement("div",{className:"mobile-widget mobile-widget__multiplier",onClick:p},n().createElement("div",{className:"mobile-widget__multiplier-amount"},n().createElement("div",{className:"mobile-widget__item"},n().createElement(o.Text,{weight:"bold",size:"xxs"},n().createElement(o.Money,{amount:t,currency:r,show_currency:!0})))),n().createElement(M.Z,{className:"mobile-widget__multiplier-trade-info",commission_text_size:"xxxxs",stop_out_text_size:"xxxxs"})),i&&n().createElement("div",{className:"mobile-widget",onClick:a?f:null},n().createElement("div",{className:"mobile-widget__multiplier-expiration"},n().createElement(o.Text,{size:"xxs"},(0,m.localize)("Expires on")),n().createElement(Z.Z,{is_text_only:!0,text_size:"xxs"})),n().createElement(U,{is_open:d,toggleModal:f})))},W=(0,s.Pi)((function(){var e=(0,c.b)(),t={amount:e.amount,expiration:e.expiration,currency:e.currency,is_crypto_multiplier:e.is_crypto_multiplier,multiplier:e.multiplier};return n().createElement(V,t)})),B=function(e){var t=e.displayed_trade_param,r=e.tooltip_message,a=e.is_disabled,i=e.modal_title,l=G(n().useState(!1),2),c=l[0],s=l[1],m=function(){a||s(!c)};return n().createElement(n().Fragment,null,n().createElement(F,{is_open:c,toggleModal:m,modal_title:i}),n().createElement("div",{className:"mobile-widget mobile-widget__multiplier-options",onClick:m},n().createElement("div",{className:u()("mobile-widget__item",{"mobile-widget__item-disabled":a})},n().createElement("span",{className:"mobile-widget__item-value"},t)),!!r&&n().createElement("span",{className:"mobile-widget__item-tooltip",onClick:function(e){return e.stopPropagation()}},n().createElement(o.Popover,{alignment:"left",classNameBubble:"mobile-widget__item-popover",icon:"info",is_bubble_hover_enabled:!0,zIndex:9999,message:r}))))},Y=(0,s.Pi)((function(){var e=(0,c.b)().multiplier,t="x".concat(e),r=(0,m.localize)("Multiplier");return n().createElement(B,{displayed_trade_param:t,modal_title:r})})),H=(0,s.Pi)((function(){var e=(0,c.b)(),t=e.growth_rate,r=e.has_open_accu_contract,a=e.tick_size_barrier,o="".concat((0,f.getGrowthRatePercentage)(t),"%"),i=(0,m.localize)("Growth rate"),l=n().createElement(m.Localize,{i18n_default_text:"Your stake will grow at {{growth_rate}}% per tick as long as the current spot price remains within ±{{tick_size_barrier}} from the previous spot price.",values:{growth_rate:(0,f.getGrowthRatePercentage)(t),tick_size_barrier:(0,f.getTickSizeBarrierPercentage)(a)}});return n().createElement(B,{displayed_trade_param:o,is_disabled:r,modal_title:i,tooltip_message:l})})),K=r("./src/Modules/Trading/Components/Form/LabeledQuantityInputMobile/index.js");const Q=(0,s.Pi)((function(e){var t=e.is_nativepicker,r=(0,s.oR)(),a=r.ui,i=r.client,l=a.current_focus,d=a.setCurrentFocus,_=i.is_single_currency,p=(0,c.b)(),b=p.amount,v=p.currency,g=p.onChange,y=p.has_open_accu_contract;return n().createElement(n().Fragment,null,n().createElement(o.MobileWrapper,null,n().createElement(K.Z,{input_label:(0,m.localize)("Stake"),className:u()("trade-container__amount","trade-container__amount--accumulator"),classNameInlinePrefix:"trade-container__currency",classNameInput:u()("trade-container__input","trade-container__input--accumulator"),currency:v,current_focus:l,fractional_digits:(0,f.getDecimalPlaces)(v),id:"dt_amount_input",inline_prefix:_?v:null,is_autocomplete_disabled:!0,is_disabled:y,is_float:!0,is_hj_whitelisted:!0,is_incrementable:!0,is_nativepicker:t,is_negative_disabled:!0,max_length:f.AMOUNT_MAX_LENGTH,name:"amount",onChange:g,type:"tel",value:b,ariaLabel:(0,m.localize)("Amount"),setCurrentFocus:d})))}));var X=r("./src/Modules/Trading/Components/Form/TradeParams/Accumulator/accumulators-info-display.tsx"),J=r("./src/Modules/Trading/Components/Form/TradeParams/barrier.tsx"),ee=r("../../node_modules/moment/moment.js"),te=r.n(ee);function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,o,i,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(a=o.call(r)).done)&&(l.push(a.value),l.length!==t);u=!0);}catch(e){c=!0,n=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ae(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?ae(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var ne=(0,m.localize)("OK"),oe=function(e,t,r,a,n,o){"stake"===a&&t!==o?(e.basis="stake",e.amount=t):"payout"===a&&r!==o?(e.basis="payout",e.amount=r):n!==a&&(e.basis=a,e.amount=o)},ie=(0,s.Pi)((function(e){var t=e.setDurationError,r=e.basis_option,a=e.toggleModal,i=e.has_amount_error,l=e.payout_value,u=e.stake_value,s=e.selected_duration,d=e.setSelectedDuration,_=(0,c.b)(),p=_.duration_min_max,b=_.duration,v=_.duration_unit,g=_.basis,y=_.amount,h=_.onChangeMultiple;n().useEffect((function(){t(!1)}),[]);var E=re((0,f.getDurationMinMaxValues)(p,"tick","t"),2),x=E[0],w=E[1],k=b<x&&s<x?x:s;return n().createElement("div",{className:"trade-params__duration-tickpicker"},n().createElement(o.TickPicker,{default_value:k,submit_label:ne,max_value:w,min_value:x,onSubmit:function(e){var t=e.target.value,n={};i||oe(n,u,l,r,g,y),b===t&&"t"===v||(n.duration_unit="t",n.duration=t),(0,f.isEmptyObject)(n)||h(n),a()},onValueChange:function(e){return d("t",e)},singular_label:(0,m.localize)("Tick"),plural_label:(0,m.localize)("Ticks")}))})),le=(0,s.Pi)((function(e){var t=e.basis_option,r=e.contract_expiry,a=void 0===r?"intraday":r,i=e.duration_unit_option,l=e.duration_values,u=e.expiry_epoch,d=e.has_amount_error,_=e.payout_value,p=e.selected_duration,b=e.setDurationError,v=e.setSelectedDuration,g=e.stake_value,y=e.show_expiry,h=void 0!==y&&y,E=e.toggleModal,x=(0,s.oR)().ui.addToast,w=(0,c.b)(),k=w.duration_min_max,S=w.duration,j=w.duration_unit,M=w.basis,C=w.amount,O=w.onChangeMultiple,N=i.value,P=re((0,f.getDurationMinMaxValues)(k,a,N),2),A=P[0],T=P[1],z=re(n().useState(!1),2),I=z[0],D=z[1],F=function(e){var t=n().createElement(m.Localize,{i18n_default_text:"Should be between {{min}} and {{max}}",values:{min:A,max:(0,f.addComma)(T,0,!1)}});return parseInt(e)<A||parseInt(p)>T?(x({key:"duration_error",content:t,type:"error",timeout:2e3}),b(!0),D(!0),"error"):parseInt(e)>T?(x({key:"duration_error",content:t,type:"error",timeout:2e3}),D(!0),"error"):e.toString().length<1?(x({key:"duration_error",content:t,type:"error",timeout:2e3}),b(!0),D(!0),!1):(b(!1),D(!1),!0)};return n().createElement("div",{className:"trade-params__amount-keypad"},h&&n().createElement(o.Text,{as:"div",size:"xxxs",line_height:"s",className:"expiry-text-container--mobile"},n().createElement(m.Localize,{i18n_default_text:"Expiry: {{date}}",values:{date:I?"":function(e,t){if("d"!==j)return te().utc().add(Number(t),"days").format("D MMM YYYY, [23]:[59]:[59] [GMT +0]");var r=new Date(1e3*(e-24*S*60*60));return t&&(r=new Date(r.getTime()+24*t*60*60*1e3)),r.toUTCString().replace("GMT","GMT +0").substring(5).replace(/(\d{2}) (\w{3} \d{4})/,"$1 $2,")}(u,null==l?void 0:l.d_duration)}})),n().createElement(o.Numpad,{value:p,onSubmit:function(e){var r={};d||oe(r,g,_,t,M,C),S===e&&j===N||(r.duration_unit=N,r.duration=e,r.expiry_type="duration"),(0,f.isEmptyObject)(r)||O(r),E()},render:function(e){var t=e.value,r=e.className;return n().createElement("div",{className:r},t)},pip_size:0,submit_label:ne,min:A,max:T,reset_press_interval:350,reset_value:"",onValidate:F,onValueChange:function(e){v(N,e),F(e)}}))}));const ue=(0,s.Pi)((function(e){var t=e.amount_tab_idx,r=e.d_duration,a=e.duration_tab_idx,i=e.expiry_epoch,l=e.h_duration,u=e.has_amount_error,s=e.m_duration,d=e.payout_value,_=e.s_duration,p=e.setDurationError,b=e.setDurationTabIdx,v=e.setSelectedDuration,g=e.stake_value,y=e.t_duration,h=e.toggleModal,E=(0,c.b)(),x=E.duration_units_list,w=E.duration_min_max,k=E.duration_unit,S=E.basis,j={t_duration:y,s_duration:_,m_duration:s,h_duration:l,d_duration:r},M=void 0!==a?a:x.findIndex((function(e){return e.value===k})),C=re((0,f.getDurationMinMaxValues)(w,"daily","d"),2),O=C[0],N=C[1],P=function(e){v("d",e)},A=function(){return 0===t?"stake":1===t?"payout":S};return n().createElement("div",null,n().createElement(o.Tabs,{active_index:M,onTabItemClick:function(e){return function(e){b(e);var t=x[e].value;v(t,j["".concat(t,"_duration")])}(e)},single_tab_has_no_label:!0,top:!0},x.map((function(e){switch(e.value){case"t":return n().createElement("div",{label:e.text,key:e.value},n().createElement(ie,{basis_option:A(),has_amount_error:u,toggleModal:h,selected_duration:y,setDurationError:p,setSelectedDuration:v,stake_value:g,payout_value:d}));case"s":return n().createElement("div",{label:e.text,key:e.value},n().createElement(le,{basis_option:A(),has_amount_error:u,toggleModal:h,duration_unit_option:e,selected_duration:_,setDurationError:p,setSelectedDuration:v,stake_value:g,payout_value:d}));case"m":return n().createElement("div",{label:e.text,key:e.value},n().createElement(le,{basis_option:A(),has_amount_error:u,toggleModal:h,duration_unit_option:e,selected_duration:s,setDurationError:p,setSelectedDuration:v,stake_value:g,payout_value:d}));case"h":return n().createElement("div",{label:e.text,key:e.value},n().createElement(le,{basis_option:A(),has_amount_error:u,toggleModal:h,duration_unit_option:e,selected_duration:l,setDurationError:p,setSelectedDuration:v,stake_value:g,payout_value:d}));case"d":return n().createElement("div",{label:e.text,key:e.value},n().createElement(le,{basis_option:A(),has_amount_error:u,toggleModal:h,duration_unit_option:e,contract_expiry:"daily",selected_duration:r,setDurationError:p,setSelectedDuration:v,stake_value:g,show_expiry:!0,payout_value:d,expiry_epoch:i,duration_values:j}),n().createElement(o.RelativeDatepicker,{onChange:P,min_date:O,max_date:N,title:(0,m.localize)("Pick an end date")}));default:return null}}))))}));var ce=r("./src/Modules/Trading/Components/Form/TradeParams/last-digit.tsx");function se(e){return se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},se(e)}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function de(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function _e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?de(Object(r),!0).forEach((function(t){pe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):de(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function pe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==se(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,"string");if("object"!==se(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===se(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var fe=Object.freeze({t:5,s:15,m:3,h:1,d:1}),be=function(e,t){return _e(_e({},e),t)};const ve=(0,s.Pi)((function(e){var t,r,a=e.is_open,i=e.toggleModal,l=e.tab_index,u=(0,s.oR)().client.currency,m=(0,c.b)(),d=m.amount,_=m.form_components,p=m.duration,f=m.duration_unit,b=m.duration_units_list,v=n().useCallback((t=p,r=f,function(e){return r===e?t:fe[e]}),[]),g=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,o,i,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(a=o.call(r)).done)&&(l.push(a.value),l.length!==t);u=!0);}catch(e){c=!0,n=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return me(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?me(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n().useReducer(be,{trade_param_tab_idx:l,duration_tab_idx:void 0,amount_tab_idx:void 0,has_amount_error:!1,has_duration_error:!1,curr_duration_unit:f,curr_duration_value:p,t_duration:v("t"),s_duration:v("s"),m_duration:v("m"),h_duration:v("h"),d_duration:v("d"),stake_value:d,payout_value:d}),2),y=g[0],h=g[1];(0,o.usePreventIOSZoom)(),n().useEffect((function(){x(f,p),E()}),[p,f]);var E=function(e){return h({duration_tab_idx:e})},x=function(e,t){var r;h((pe(r={},"".concat(e,"_duration"),t),pe(r,"curr_duration_unit",e),pe(r,"curr_duration_value",t),r))};return n().createElement(n().Fragment,null,n().createElement(o.Modal,{id:"dt_trade_parameters_mobile",className:"trade-params",is_open:a,header:n().createElement("div",null),toggleModal:i,height:"auto",width:"calc(100vw - 32px)"},n().createElement(o.ThemedScrollbars,null,n().createElement(o.Div100vhContainer,{className:"mobile-widget-dialog__wrapper",max_autoheight_offset:"120px"},n().createElement(ge,{currency:u,toggleModal:i,isVisible:function(e){return _.includes(e)},setTradeParamTabIdx:function(e){return h({trade_param_tab_idx:e})},trade_param_tab_idx:l,setDurationTabIdx:E,duration_tab_idx:y.duration_tab_idx,setAmountTabIdx:function(e){return h({amount_tab_idx:e})},amount_tab_idx:y.amount_tab_idx,setSelectedAmount:function(e,t){return h(pe({},"".concat(e,"_value"),t))},stake_value:y.stake_value,payout_value:y.payout_value,duration_unit:y.curr_duration_unit,duration_value:y.curr_duration_value,duration_units_list:b,has_amount_error:y.has_amount_error,setAmountError:function(e){h({has_amount_error:e})},setSelectedDuration:x,has_duration_error:y.has_duration_error,setDurationError:function(e){h({has_duration_error:e})},t_duration:y.t_duration,s_duration:y.s_duration,m_duration:y.m_duration,h_duration:y.h_duration,d_duration:y.d_duration})))))}));var ge=(0,s.Pi)((function(e){var t=e.currency,r=e.toggleModal,a=e.isVisible,i=e.setAmountTabIdx,l=e.amount_tab_idx,s=e.setTradeParamTabIdx,d=e.trade_param_tab_idx,_=e.setDurationTabIdx,p=e.duration_unit,f=e.duration_units_list,b=e.duration_value,v=e.duration_tab_idx,g=e.has_amount_error,y=e.has_duration_error,h=e.setAmountError,E=e.setSelectedAmount,x=e.stake_value,w=e.payout_value,k=e.setDurationError,S=e.setSelectedDuration,M=e.t_duration,C=e.s_duration,O=e.m_duration,N=e.h_duration,P=e.d_duration,A=(0,c.b)(),T=A.basis_list,z=A.basis,I=A.expiry_epoch,D=A.is_turbos,F=A.is_vanilla,Z=function(e){switch(e){case"duration":return n().createElement("div",{className:"trade-params__header"},n().createElement("div",{className:"trade-params__header-label"},(0,m.localize)("Duration")),n().createElement("div",{className:u()("trade-params__header-value",{"trade-params__header-value--has-error":y})},y?(0,m.localize)("Error"):(a=f.find((function(e){return e.value===p})),"".concat(b," ").concat(a&&(b>1?(0,m.localize)(a.text):(0,m.localize)(a.text.slice(0,-1)))))));case"amount":return n().createElement("div",{className:"trade-params__header"},n().createElement("div",{className:"trade-params__header-label"},D||F?(0,m.localize)("Stake"):(0,m.localize)("Amount")),n().createElement("div",{className:u()("trade-params__header-value",{"trade-params__header-value--has-error":g})},g?(0,m.localize)("Error"):(r=void 0!==l?l:T.findIndex((function(e){return e.value===z})),n().createElement(o.Money,{currency:t,show_currency:!0,amount:1===r?w:x}))));default:return null}var r,a};return n().createElement(o.Tabs,{active_index:d,className:"trade-params-duration-amount",onTabItemClick:s,top:!0},a("duration")?n().createElement("div",{"data-header-content":Z("duration")},n().createElement(ue,{toggleModal:r,amount_tab_idx:l,duration_tab_idx:v,setDurationTabIdx:_,setSelectedDuration:S,setDurationError:k,has_amount_error:g,t_duration:M,s_duration:C,m_duration:O,h_duration:N,d_duration:P,stake_value:x,payout_value:w,expiry_epoch:I})):null,a("amount")?n().createElement("div",{"data-header-content":Z("amount")},n().createElement(j,{duration_unit:p,duration_value:b,toggleModal:r,amount_tab_idx:l,setAmountTabIdx:i,has_duration_error:y,setSelectedAmount:E,setAmountError:h,stake_value:x,payout_value:w,basis:"",selected_basis:""})):null)})),ye=(0,s.Pi)((function(){return(0,c.b)().form_components.includes("last_digit")?n().createElement(ce.Z,null):null})),he=(0,s.Pi)((function(){return(0,c.b)().form_components.includes("barrier")?n().createElement(J.Z,null):null})),Ee=r("./src/Modules/Trading/Containers/contract-type.tsx");function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,o,i,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(a=o.call(r)).done)&&(l.push(a.value),l.length!==t);u=!0);}catch(e){c=!0,n=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return we(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?we(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var ke=(0,s.Pi)((function(e){var t=e.toggleDigitsWidget,r=e.is_collapsed,a=(0,s.oR)().ui.onChangeUiStore,i=(0,c.b)(),l=i.amount,u=i.basis,d=i.currency,_=i.duration,p=i.duration_min_max,b=i.duration_unit,v=i.form_components,g=i.is_multiplier,y=i.last_digit,h=i.onChange,E=xe(n().useState(!1),2),x=E[0],w=E[1],k=xe(n().useState(0),2),S=k[0],j=k[1];n().useEffect((function(){M()}));var M=function(){var e=(0,f.getExpiryType)(i),t=xe((0,f.getDurationMinMaxValues)(p,e,b),2),r=t[0],n=t[1];"tick"===e&&_<r&&(a({name:"duration_".concat(b),value:r}),h({target:{name:"duration",value:r}})),!(_<r)&&_>n&&(a({name:"duration_".concat(b),value:n}),h({target:{name:"duration",value:n}}))},C=function(e){j(e),w(!x)},O=(0,f.getLocalizedBasis)();return n().createElement("div",{className:"mobile-widget__wrapper"},g?n().createElement(W,null):n().createElement("div",{id:"duration_amount_selector",className:"mobile-widget duration_amount_selector"},n().createElement("div",{className:"mobile-widget__duration",onClick:function(){return C(0)}},function(){if(!b)return"";var e={t:[(0,m.localize)("tick"),(0,m.localize)("ticks")],s:[(0,m.localize)("second"),(0,m.localize)("seconds")],m:[(0,m.localize)("min"),(0,m.localize)("mins")],h:[(0,m.localize)("hour"),(0,m.localize)("hours")],d:[(0,m.localize)("day"),(0,m.localize)("days")]};try{if(!b)return"";var t=1==+_?e[b][0]:e[b][1];return"".concat(_," ").concat(t)}catch(e){return""}}()),n().createElement("div",{className:"mobile-widget__amount--container",onClick:function(){return C(1)}},n().createElement("div",{className:"mobile-widget__amount"},n().createElement(o.Money,{amount:l,currency:d,show_currency:!0})),n().createElement("div",{className:"mobile-widget__type"},function(){switch(u){case"stake":return O.stake;case"payout":return O.payout;default:return u}}()))),n().createElement(ve,{is_open:x,toggleModal:function(){return C(S)},tab_index:S}),("last_digit",v.includes("last_digit")&&r&&n().createElement("div",{className:"mobile-widget",onClick:t},n().createElement("div",{className:"mobile-widget__amount"},n().createElement(m.Localize,{i18n_default_text:"Digit: {{last_digit}} ",values:{last_digit:y}})))))}));const Se=ke;var je=r("./src/Modules/Trading/Containers/purchase.tsx"),Me=r("./src/Modules/Trading/Components/Form/TradeParams/Multiplier/stop-loss.jsx"),Ce=r("./src/Modules/Trading/Components/Form/TradeParams/Multiplier/take-profit.jsx"),Oe=r("./src/Stores/Modules/Trading/Helpers/multiplier.ts"),Ne=r("./src/App/Components/Form/fieldset.tsx");function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}var Ae=(0,s.Pi)((function(e){var t=e.is_visible,r=e.onConfirm,a=e.onCancel,i=(0,s.oR)().ui,l=i.disableApp,u=i.enableApp,c=i.should_show_cancellation_warning,d=i.toggleCancellationWarning;return n().createElement(o.Dialog,{className:"trade-params__multiplier-deal-cancellation-dialog",title:(0,m.localize)("About deal cancellation"),confirm_button_text:(0,m.localize)("Got it"),cancel_button_text:(0,m.localize)("Cancel"),onConfirm:r,onCancel:a,is_mobile_full_width:!1,is_visible:t,disableApp:l,enableApp:u,portal_element_id:"modal_root"},n().createElement(o.Text,{size:"xxxs",color:"general"},n().createElement(m.Localize,{i18n_default_text:"Take profit and/or stop loss are not available while deal cancellation is active."})),n().createElement(o.Checkbox,{defaultChecked:!c,onChange:function(){return d()},name:"should_show_cancellation_warning",label:(0,m.localize)("Don't show this again")}))}));const Te=(0,s.Pi)((function(e){var t=e.has_cancellation,r=e.has_take_profit,a=e.has_stop_loss,i=e.onChangeMultiple,l=e.cancellation_duration,u=(0,s.oR)().ui.should_show_cancellation_warning,d=(0,c.b)().cancellation_range_list,_=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,o,i,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(a=o.call(r)).done)&&(l.push(a.value),l.length!==t);u=!0);}catch(e){c=!0,n=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Pe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Pe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n().useState(!1),2),p=_[0],f=_[1];return n().createElement(n().Fragment,null,n().createElement(Ae,{is_visible:p,onCancel:function(){return f(!1)},onConfirm:function(){f(!1),(0,Oe.L)({has_cancellation:t,onChangeMultiple:i})}}),n().createElement(Ne.Z,{className:"trade-container__fieldset"},n().createElement("div",{className:"dc-input-wrapper--inline"},n().createElement(o.Checkbox,{id:"dt_cancellation-checkbox_input",onChange:function(){var e;(e=(r||a)&&u)&&f(e),e||(0,Oe.L)({has_cancellation:t,onChangeMultiple:i})},name:"has_cancellation",label:(0,m.localize)("Deal cancellation"),defaultChecked:t}),n().createElement(o.Popover,{alignment:"left",icon:"info",id:"dt_multiplier-stake__tooltip",is_bubble_hover_enabled:!0,classNameBubble:"trade-container__deal-cancellation-popover",zIndex:9999,message:(0,m.localize)("Cancel your trade anytime within a chosen time-frame. Triggered automatically if your trade reaches the stop out level within the chosen time-frame.")})),t&&n().createElement(n().Fragment,null,n().createElement(o.RadioGroup,{className:"trade-params__multiplier-radio-group",name:"trade-params__multiplier-radio",selected:l,onToggle:function(e){return(0,Oe.Q)({event:e,onChangeMultiple:i})}},d.map((function(e){var t=e.text,r=e.value;return n().createElement(o.RadioGroup.Item,{key:r,id:t,label:t,value:r.toString()})}))))))}));function ze(e){return ze="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ze(e)}function Ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function De(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ie(Object(r),!0).forEach((function(t){Fe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Fe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==ze(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,"string");if("object"!==ze(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===ze(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ze(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,o,i,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(a=o.call(r)).done)&&(l.push(a.value),l.length!==t);u=!0);}catch(e){c=!0,n=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return Le(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?Le(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Le(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}const Re=(0,s.Pi)((function(e){var t,r,a=e.is_open,i=e.onClose,l=e.toggleDialog,s=(0,c.b)(),d=s.is_turbos,_=s.take_profit,p=s.has_take_profit,b=s.has_stop_loss,v=s.stop_loss,g=s.has_cancellation,y=s.cancellation_range_list,h=s.cancellation_duration,E=s.onChangeMultiple,x={take_profit:_,stop_loss:v,has_take_profit:p,has_stop_loss:b,has_cancellation:g,cancellation_duration:h},w=Ze(n().useState(x),2),k=w[0],S=w[1],j=Ze(n().useState({}),2),M=j[0],C=j[1],O=(null==y?void 0:y.length)>0,N=function(e){var t=["has_take_profit","has_stop_loss","has_cancellation",e.has_take_profit&&"take_profit",e.has_stop_loss&&"stop_loss",e.has_cancellation&&"cancellation_duration"];return(0,f.pick)(e,t)},P=function(e){C({take_profit:e.has_take_profit&&!e.take_profit?[(0,m.localize)("Please enter a take profit amount.")]:[],stop_loss:e.has_stop_loss&&!e.stop_loss?[(0,m.localize)("Please enter a stop loss amount.")]:[]})},A=function(e){var t=e.target,r=t.name,a=t.value,n=De({},k);n[r]=a,S(n),P(n)},T=function(e){var t=De({},k);Object.assign(t,e),S(t),P(t)};return n().createElement(n().Fragment,null,n().createElement(o.MobileDialog,{portal_element_id:"modal_root",visible:a,has_content_scroll:!0,onClose:function(){S(x),i.apply(void 0,arguments)}},n().createElement(o.Div100vhContainer,{className:u()("trade-params__multiplier-risk-management-dialog",{"trade-params__multiplier-risk-management-dialog--no-cancel":!O}),height_offset:"54px"},n().createElement(Ce.Z,{take_profit:k.take_profit,has_take_profit:k.has_take_profit,onChange:A,onChangeMultiple:T,validation_errors:M}),!d&&n().createElement(Me.Z,{stop_loss:k.stop_loss,has_stop_loss:k.has_stop_loss,onChange:A,onChangeMultiple:T,validation_errors:M}),O&&n().createElement(Te,{has_take_profit:k.has_take_profit,has_stop_loss:k.has_stop_loss,has_cancellation:k.has_cancellation,cancellation_duration:k.cancellation_duration,onChangeMultiple:T}),n().createElement("div",{className:"trade-params__multiplier-risk-management-dialog-bottom-separator"}),n().createElement("div",{className:"trade-params__multiplier-risk-management-dialog-apply-button"},n().createElement(o.Button,{text:(0,m.localize)("Apply"),onClick:function(){E(k),l()},primary:!0,is_disabled:(null===(t=M.take_profit)||void 0===t?void 0:t.length)>0||(null===(r=M.stop_loss)||void 0===r?void 0:r.length)>0||(0,f.isDeepEqual)(N(k),N(x))})))))}));function qe(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}const Ue=(0,s.Pi)((function(){var e,t=(0,c.b)(),r=t.currency,a=t.stop_loss,i=t.take_profit,l=t.has_take_profit,u=t.has_stop_loss,s=t.cancellation_duration,d=t.cancellation_range_list,_=t.has_cancellation,p=function(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var a,n,o,i,l=[],u=!0,c=!1;try{if(o=(r=r.call(e)).next,0===t){if(Object(r)!==r)return;u=!1}else for(;!(u=(a=o.call(r)).done)&&(l.push(a.value),l.length!==t);u=!0);}catch(e){c=!0,n=e}finally{try{if(!u&&null!=r.return&&(i=r.return(),Object(i)!==i))return}finally{if(c)throw n}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return qe(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?qe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(n().useState(!1),2),f=p[0],b=p[1],v=l||u||_,g=null===(e=d.find((function(e){return e.value===s})))||void 0===e?void 0:e.text;return n().createElement(n().Fragment,null,n().createElement(Re,{is_open:f,toggleDialog:function(){b(!f)},onClose:function(){return b(!1)}}),n().createElement("div",{className:"mobile-widget mobile-widget__multiplier-risk-management",onClick:function(){return b(!f)}},!v&&n().createElement("div",{className:"mobile-widget__item"},n().createElement("div",{className:"mobile-widget__item-label"},(0,m.localize)("Risk management")),n().createElement("div",{className:"mobile-widget__item-value"},(0,m.localize)("Not set"))),l&&n().createElement("div",{className:"mobile-widget__item"},n().createElement("div",{className:"mobile-widget__item-label"},(0,m.localize)("Take profit")),n().createElement("div",{className:"mobile-widget__item-value"},n().createElement(o.Money,{amount:i,currency:r,show_currency:!0}))),u&&n().createElement("div",{className:"mobile-widget__item"},n().createElement("div",{className:"mobile-widget__item-label"},(0,m.localize)("Stop loss")),n().createElement("div",{className:"mobile-widget__item-value"},n().createElement(o.Money,{amount:a,currency:r,show_currency:!0}))),_&&n().createElement("div",{className:"mobile-widget__item"},n().createElement("div",{className:"mobile-widget__item-label"},(0,m.localize)("Deal Cancellation")),n().createElement("div",{className:"mobile-widget__item-value"},g))))}));var Ge=r("./src/Modules/Contract/Components/AccumulatorsStats/index.js"),$e=r("./src/Modules/Trading/Components/Form/TradeParams/strike.jsx"),Ve=r("./src/Modules/Trading/Components/Form/TradeParams/Turbos/barrier-selector.tsx"),We=(0,s.Pi)((function(){var e=(0,c.b)(),t=e.currency,r=e.proposal_info,a=e.contract_type,i=null==a?void 0:a.toUpperCase(),l=(null==r?void 0:r[i])||{},u=l.has_error,s=l.has_increased,d=l.id,_=l.message,p=l.obj_contract_basis||{},b=p.text,v=p.value,g=u||!d,y={Long:(0,m.localize)("For Long:"),Short:(0,m.localize)("For Short:")},h=(0,f.isVanillaContract)(a)?n().createElement(m.Localize,{i18n_default_text:"The payout at expiry is equal to the payout per point multiplied by the difference between the final price and the strike price."}):n().createElement(m.Localize,{i18n_default_text:"<0>{{title}}</0> {{message}}",components:[n().createElement(o.Text,{key:0,weight:"bold",size:"xxs"})],values:{title:y[(0,f.getContractSubtype)(i)],message:_}});return v?n().createElement(Ne.Z,{className:"payout-per-point"},n().createElement("div",{className:"payout-per-point__label-wrapper"},n().createElement(o.Text,{size:"xs",color:"less-prominent",className:"payout-per-point__label"},b),n().createElement(o.Popover,{alignment:"top",icon:"info",is_bubble_hover_enabled:!0,margin:0,zIndex:"9999",message:_?h:""})),n().createElement(o.Text,{size:"xs",weight:"bold",className:"payout-per-point__value"},n().createElement(o.Money,{amount:v,currency:t,show_currency:!0,should_format:!1}),n().createElement("span",{className:"trade-container__price-info-movement"},!g&&null!==s&&s?n().createElement(o.Icon,{icon:"IcProfit"}):n().createElement(o.Icon,{icon:"IcLoss"})))):n().createElement(Ne.Z,{className:"payout-per-point"})}));const Be=We;var Ye=r("./src/Modules/Trading/Components/Form/TradeParams/trade-type-tabs.tsx");function He(e){return He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},He(e)}function Ke(){return Ke=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Ke.apply(this,arguments)}function Qe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==He(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var a=r.call(e,"string");if("object"!==He(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===He(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Xe=function(e){var t=e.form_components,r=e.has_allow_equals,a=e.has_take_profit,i=e.previous_symbol,l=e.is_allow_equal,c=e.is_accumulator,s=e.is_multiplier,m=e.is_trade_params_expanded,d=e.is_turbos,p=e.is_vanilla,f=e.onChange,b=e.take_profit,v=e.setIsTradeParamsExpanded;n().useEffect((function(){i&&l&&r&&v(!0)}),[i]);var g=!m,y=function(e){return t.includes(e)};return n().createElement(o.Collapsible,{position:"top",is_collapsed:g,onClick:function(e){v(e)}},c&&g&&n().createElement(Ge.Z,null),n().createElement("div",{className:"trade-params__contract-type-container"},n().createElement(Ee.Z,null),s&&n().createElement(Y,null),y("trade_type_tabs")&&n().createElement(Ye.Z,null),c&&n().createElement(H,null)),y("last_digit")&&n().createElement("div",{"data-collapsible":"true"},n().createElement(ye,null)),y("barrier")&&n().createElement("div",{"data-collapsible":"true"},n().createElement(he,null)),y("barrier_selector")&&n().createElement("div",{"data-collapsible":"true"},n().createElement(Ve.Z,null)),y("strike")&&n().createElement("div",{"data-collapsible":"true"},n().createElement($e.Z,null)),!c&&n().createElement(Se,{is_collapsed:g,toggleDigitsWidget:function(){v(!0)}}),r&&n().createElement("div",{"data-collapsible":"true"},n().createElement(_,null)),(s||d)&&n().createElement("div",{"data-collapsible":"true"},n().createElement(Ue,null)),c&&[n().createElement(Q,{key:"accu_amount"}),n().createElement("div",{"data-collapsible":"true",key:"accu_take_profit",className:u()("take-profit","mobile-widget")},n().createElement(Ce.Z,{take_profit:b,has_take_profit:a,onChange:f,has_info:!1})),n().createElement("div",{"data-collapsible":"true",key:"accu_info"},n().createElement(X.Z,null))],(d||p)&&n().createElement(Be,null),n().createElement("div",{className:u()(Qe({"purchase-container":!p},"purchase-container__".concat(c?"accumulator":"turbos"),c||d))},n().createElement(je.Z,null)))},Je=(0,s.Pi)((function(e){var t=e.is_trade_enabled,r=(0,c.b)(),a=r.is_accumulator,o=r.is_multiplier,l=r.is_turbos,u=r.is_vanilla,s=r.duration_unit,m=r.contract_types_list,d=r.contract_type,_=r.expiry_type,f=r.contract_start_type,b={is_accumulator:a,is_multiplier:o,is_turbos:l,is_vanilla:u,form_components:r.form_components,has_take_profit:r.has_take_profit,onChange:r.onChange,previous_symbol:r.previous_symbol,is_trade_params_expanded:r.is_trade_params_expanded,setIsTradeParamsExpanded:r.setIsTradeParamsExpanded,take_profit:r.take_profit,is_allow_equal:!!r.is_equal},v=(0,p.OW)(m,s,f),g=(0,p.vy)(m),y=(0,p.i$)(d)&&(v||"endtime"===_)&&g;return t?n().createElement(Xe,Ke({has_allow_equals:y},b)):n().createElement("div",{className:"mobile-wrapper__content-loader"},n().createElement(i.G,{speed:2}))}));const et=Je}}]);