"use strict";(self.webpackChunk_deriv_trader=self.webpackChunk_deriv_trader||[]).push([["trade-modals"],{"./src/App/Components/Elements/Modals/UnsupportedContractModal/index.ts":(e,t,r)=>{r.d(t,{Z:()=>c});var o=r("react"),a=r.n(o),n=r("@deriv/components"),i=r("@deriv/translations"),l=r("@deriv/shared"),s=r("../stores/src/index.ts");const c=(0,s.Pi)((function(e){var t=e.is_loading,r=e.is_visible,o=e.onConfirm,c=e.onClose,d=(0,s.oR)().ui,u=d.disableApp,m=d.enableApp,_=!(!d.is_unsupported_contract_modal_visible&&!r);return a().createElement(n.Dialog,{title:(0,i.localize)("We’re working on it"),confirm_button_text:(0,i.localize)("Stay on {{website_domain}}",{website_domain:l.website_name}),cancel_button_text:(0,i.localize)("Go to Binary.com"),onConfirm:o,onCancel:c,disableApp:u,enableApp:m,is_loading:t,is_closed_on_cancel:!0,is_visible:_},a().createElement(i.Localize,{i18n_default_text:"You’ve selected a trade type that is currently unsupported, but we’re working on it."}))}))},"./src/App/Containers/Modals/index.ts":(e,t,r)=>{r.r(t),r.d(t,{default:()=>C});var o=r("react"),a=r.n(o),n=r("@deriv/shared"),i=r("./src/App/Components/Elements/Modals/UnsupportedContractModal/index.ts"),l=r("@deriv/components"),s=r("@deriv/translations"),c=r("../stores/src/index.ts");const d=(0,c.Pi)((function(e){var t=e.is_loading,r=e.onCancel,o=e.onConfirm,i=(0,c.oR)().ui,d=i.disableApp,u=i.enableApp,m=i.has_only_forward_starting_contracts;return a().createElement(l.Dialog,{className:"market-unavailable-modal",title:(0,s.localize)("We’re working on it"),confirm_button_text:(0,s.localize)("Stay on {{platform_name_trader}}",{platform_name_trader:(0,n.getPlatformSettings)("trader").name}),cancel_button_text:(0,s.localize)("Go to {{platform_name_smarttrader}}",{platform_name_smarttrader:(0,n.getPlatformSettings)("smarttrader").name}),onConfirm:o,onCancel:r,is_mobile_full_width:!1,is_visible:m,disableApp:d,enableApp:u,is_loading:t},a().createElement(s.Localize,{i18n_default_text:"This market is not yet available on {{platform_name_trader}}, but it is on {{platform_name_smarttrader}}.",values:{platform_name_trader:(0,n.getPlatformSettings)("trader").name,platform_name_smarttrader:(0,n.getPlatformSettings)("smarttrader").name}}))}));var u=function(e){switch(e){case"buy":return(0,s.localize)("Purchase Error");case"cancel":return(0,s.localize)("Deal Cancellation Error");case"contract_update":return(0,s.localize)("Contract Update Error");case"sell":return(0,s.localize)("Sell Error");default:return"Error"}};const m=function(e){var t=e.is_visible,r=e.toggleModal,o=e.is_appstore,i=e.is_logged_in;return a().createElement(l.Modal,{id:"dt_authorization_required_modal",is_open:t,small:!0,toggleModal:r,title:(0,s.localize)("Start trading with us")},a().createElement(l.Modal.Body,null,(0,s.localize)("Log in or create a free account to place a trade.")),a().createElement(l.Modal.Footer,null,a().createElement(l.Button,{has_effect:!0,text:(0,s.localize)("Log in"),onClick:function(){return(0,n.redirectToLogin)(i,(0,s.getLanguage)())},secondary:!0}),a().createElement(l.Button,{has_effect:!0,text:(0,s.localize)("Create free account"),onClick:function(){return(0,n.redirectToSignUp)({is_appstore:o})},primary:!0})))};var _=r("react-router-dom"),f=(0,c.Pi)((function(e){var t=e.history,r=e.is_virtual,o=e.is_visible,i=e.message,d=e.toggleModal,u=(0,c.oR)().ui.is_mobile;return a().createElement(l.Modal,{id:"dt_insufficient_balance_modal",is_open:o,small:!0,is_vertical_centered:u,toggleModal:d,title:(0,s.localize)("Insufficient balance")},a().createElement(l.Modal.Body,null,i),a().createElement(l.Modal.Footer,null,a().createElement(l.Button,{has_effect:!0,text:r?(0,s.localize)("OK"):(0,s.localize)("Deposit now"),onClick:function(){var e;r?d():null==t||null===(e=t.push)||void 0===e||e.call(t,n.routes.cashier_deposit)},primary:!0})))}));const p=(0,_.withRouter)(f),g=(0,c.Pi)((function(e){var t=e.is_visible,r=e.onConfirm,o=(0,c.oR)().ui.is_mobile;return a().createElement(l.Modal,{is_open:t,small:!0,is_vertical_centered:o,toggleModal:r,title:(0,s.localize)("Purchase Error")},a().createElement(l.Modal.Body,null,a().createElement(s.Localize,{i18n_default_text:"No further trading is allowed on this contract type for the current trading session. For more info, refer to our <0>terms and conditions</0>.",components:[a().createElement(l.StaticUrl,{key:0,className:"link",href:"tnc/trading-terms.pdf",is_document:!0})]})),a().createElement(l.Modal.Footer,null,a().createElement(l.Button,{has_effect:!0,text:(0,s.localize)("OK"),onClick:r,primary:!0})))})),v=(0,c.Pi)((function(e){var t=e.is_visible,r=e.onConfirm,o=(0,_.useHistory)(),i=(0,c.oR)().ui.is_mobile;return a().createElement(l.Modal,{is_open:t,is_vertical_centered:i,className:"account-verification-required-modal",toggleModal:r,title:(0,s.localize)("Account verification required"),width:"440px",height:i?"auto":"220px"},a().createElement(l.Modal.Body,{className:"account-verification-required-modal-text"},a().createElement(s.Localize,{i18n_default_text:"Please submit your proof of identity and proof of address to verify your account and continue trading."})),a().createElement("div",{className:"account-verification-required-modal-button"},a().createElement(l.Modal.Footer,null,a().createElement(l.Button,{has_effect:!0,text:(0,s.localize)("Submit Proof"),onClick:function(){return o.push(n.routes.proof_of_identity)},primary:!0}))))})),b=function(e){var t=e.is_virtual,r=e.is_visible,o=e.is_logged_in,n=e.onConfirm,i=e.services_error,c=i.code,d=i.message,_=i.type;if(!c||!d)return a().createElement(a().Fragment,null);switch(c){case"AuthorizationRequired":return a().createElement(m,{is_logged_in:o,is_visible:r,toggleModal:n});case"InsufficientBalance":return a().createElement(p,{is_virtual:t,is_visible:r,message:d,toggleModal:n});case"CompanyWideLimitExceeded":return a().createElement(g,{is_visible:r,onConfirm:n});case"PleaseAuthenticate":return a().createElement(v,{is_visible:r,onConfirm:n});default:return a().createElement(l.Modal,{is_open:r,small:!0,title:u(_),toggleModal:n},a().createElement(l.Modal.Body,null,d),a().createElement(l.Modal.Footer,null,a().createElement(l.Button,{has_effect:!0,text:(0,s.localize)("OK"),onClick:n,primary:!0})))}};var E=r("./src/Stores/useTraderStores.tsx");const C=(0,c.Pi)((function(){var e=(0,c.oR)(),t=e.ui,r=e.client,o=e.common,l=(0,E.b)(),s=l.resetPreviousSymbol,u=l.clearPurchaseInfo,m=l.requestProposal,_=r.is_virtual,f=r.is_logged_in,p=o.services_error,g=t.is_services_error_visible,v=t.setHasOnlyForwardingContracts,C=t.toggleServicesErrorModal,h=t.toggleUnsupportedContractModal,y=function(){v(!1),s()},M=function(){h(!1)};return a().createElement(a().Fragment,null,a().createElement(i.Z,{onConfirm:M,onClose:function(){var e=(0,n.urlFor)("user/portfoliows",{legacy:!0});window.open(e,"_blank"),M()}}),a().createElement(d,{onConfirm:function(){y()},onCancel:function(){window.open((0,n.getUrlSmartTrader)()),y()}}),a().createElement(b,{onConfirm:function(){C(!1),"buy"===p.type&&(u(),m())},services_error:p,is_visible:g,is_virtual:_,is_logged_in:f}))}))}}]);