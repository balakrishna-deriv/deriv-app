!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@deriv/components"),require("@deriv/shared"),require("@deriv/translations"),require("mobx-react"),require("react")):"function"==typeof define&&define.amd?define(["@deriv/components","@deriv/shared","@deriv/translations","mobx-react","react"],t):"object"==typeof exports?exports["@deriv/cfd"]=t(require("@deriv/components"),require("@deriv/shared"),require("@deriv/translations"),require("mobx-react"),require("react")):e["@deriv/cfd"]=t(e["@deriv/components"],e["@deriv/shared"],e["@deriv/translations"],e["mobx-react"],e.react)}(self,(function(e,t,a,r,o){return(()=>{"use strict";var n={"./src/Components/cfd-account-copy.tsx":(e,t,a)=>{a.d(t,{O:()=>d});var r=a("react"),o=a.n(r),n=a("@deriv/components"),c=a("@deriv/translations"),l=a("@deriv/shared"),d=function(e){var t=e.text,a=e.className;return o().createElement("div",{className:a,"data-testid":"cfd_account_copy_main_div"},o().createElement(n.Clipboard,{text_copy:t,info_message:(0,l.isMobile)()?"":(0,c.localize)("copy"),success_message:(0,c.localize)("copied!"),popoverAlignment:(0,l.isMobile)()?"left":"bottom"}))}},"./src/Helpers/constants.ts":(e,t,a)=>{a.d(t,{gG:()=>o,FJ:()=>n});var r=a("@deriv/shared"),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;switch(e||(0,r.OSDetect)()){case"windows":return"https://download.mql5.com/cdn/web/deriv.limited/mt5/derivmt5setup.exe";case"linux":return"https://www.metatrader5.com/en/terminal/help/start_advanced/install_linux";case"macos":return"https://download.mql5.com/cdn/web/metaquotes.software.corp/mt5/MetaTrader5.dmg";case"huawei":return"https://appgallery.huawei.com/#/app/C102015329";case"android":return"https://download.mql5.com/cdn/mobile/mt5/android?server=Deriv-Demo,Deriv-Server";default:return n({category:"real"})}},n=function(e){var t=e.category,a=e.loginid,r=e.server_name,o="demo"===t?"Deriv-Demo":void 0===r?"Deriv-Server":r,n=null!=a?a:"";return"https://trade.mql5.com/trade?servers=".concat(o,"&trade_server=").concat(o).concat(n&&"&login=".concat(n))}},"./src/Stores/connect.js":(e,t,a)=>{a.d(t,{$j:()=>s});var r=a("mobx-react"),o=a("react"),n=a.n(o);function c(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,r)}return a}function l(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?c(Object(a),!0).forEach((function(t){d(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):c(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function d(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var i=n().createContext(null);var s=function(e){return function(t){return function(e,t){var a=function(a){var o=n().useContext(i),c=t;(function(e){return!("function"!=typeof e||!e.prototype||!e.prototype.isReactComponent)})(t)&&(c=function(e){return n().createElement(t,e)});var d=a.context||o;return(0,r.useObserver)((function(){return c(l(l({},a),e(d,a)))}))};return a.displayName=t.name,a}(e,t)}}},"@deriv/components":t=>{t.exports=e},"@deriv/shared":e=>{e.exports=t},"@deriv/translations":e=>{e.exports=a},"mobx-react":e=>{e.exports=r},react:e=>{e.exports=o}},c={};function l(e){var t=c[e];if(void 0!==t)return t.exports;var a=c[e]={exports:{}};return n[e](a,a.exports,l),a.exports}l.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return l.d(t,{a:t}),t},l.d=(e,t)=>{for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},l.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var d={};return(()=>{l.d(d,{default:()=>u});var e=l("react"),t=l.n(e),a=l("@deriv/components"),r=l("./src/Stores/connect.js"),o=l("@deriv/translations"),n=l("./src/Components/cfd-account-copy.tsx"),c=l("@deriv/shared"),i=l("./src/Helpers/constants.ts"),s=function(e){var r=e.platform,n=e.onClick;return t().createElement("div",{className:"cfd-trade-modal__password-box"},t().createElement("div",{className:"cfd-trade-modal__password-text"},t().createElement(a.Popover,{alignment:"right",message:(0,o.localize)("Use these credentials to log in to your {{platform}} account on the website and mobile apps.",{platform:(0,c.getCFDPlatformLabel)(r)}),classNameBubble:"cfd-trade-modal__password-tooltip",zIndex:9999},t().createElement(a.Text,{size:"xs"},"***************"))),t().createElement(a.Popover,{className:"cfd-trade-modal__password-popover",alignment:"left",message:(0,o.localize)("Change Password"),relative_render:!0,zIndex:9999},t().createElement(a.Button,{className:"cfd-trade-modal__password-action",transparent:!0,onClick:n,icon:t().createElement(a.Icon,{icon:"IcEdit",className:"da-article__learn-more-icon",custom_color:"var(--text-less-prominent)"})})))},m=function(e){var r=e.value,o=e.is_bold;return t().createElement("div",{className:"cfd-trade-modal__spec-box"},t().createElement(a.Text,{size:"xs",weight:o?"bold":"",className:"cfd-trade-modal__spec-text"},r),t().createElement(n.O,{text:r,className:"cfd-trade-modal__spec-copy"}))},p={mt5:{synthetic:"IcMt5SyntheticPlatform",financial:"IcMt5FinancialPlatform",cfd:"IcMt5CfdPlatform"}};const u=(0,r.$j)((function(e){var t=e.modules,a=e.ui;return{disableApp:a.disableApp,enableApp:a.enableApp,mt5_trade_account:t.cfd.mt5_trade_account}}))((function(e){var r=e.mt5_trade_account,n=e.disableApp,l=e.enableApp,d=e.is_eu_user,u=e.is_open,_=(e.context,e.onPasswordManager),f=e.toggleModal,v=function(){if("demo"===r.account_type&&"financial"===r.market_type&&"labuan"===r.landing_company_short||"real"===r.account_type)return r.landing_company_short},g=function(){var e,n;return t().createElement("div",{className:"cfd-trade-modal-container"},t().createElement("div",{className:"cfd-trade-modal"},t().createElement(a.Icon,{icon:p.mt5[d?"cfd":r.market_type],size:24}),t().createElement("div",{className:"cfd-trade-modal__desc"},t().createElement(a.Text,{size:"xs",line_height:"l",className:"cfd-trade-modal__desc-heading"},(0,c.getCFDAccountDisplay)({market_type:r.market_type,sub_account_type:r.sub_account_type,platform:c.CFD_PLATFORMS.MT5,is_eu:d,shortcode:v(),is_mt5_trade_modal:!0})),(null==r?void 0:r.display_login)&&t().createElement(a.Text,{color:"less-prominent",size:"xxxs",line_height:"xxxs"},null==r?void 0:r.display_login)),(null==r?void 0:r.display_balance)&&t().createElement(a.Text,{size:"xs",color:"profit-success",className:"cfd-trade-modal__desc-balance",weight:"bold"},t().createElement(a.Money,{amount:r.display_balance,currency:r.currency,has_sign:!!r.balance&&r.balance<0,show_currency:!0}))),t().createElement("div",{className:"cfd-trade-modal__login-specs"},t().createElement("div",{className:"cfd-trade-modal__login-specs-item"},t().createElement(a.Text,{className:"cfd-trade-modal--paragraph"},(0,o.localize)("Broker")),t().createElement(m,{value:"Deriv Limited"})),t().createElement("div",{className:"cfd-trade-modal__login-specs-item"},t().createElement(a.Text,{className:"cfd-trade-modal--paragraph"},(0,o.localize)("Server")),t().createElement(m,{value:null==r||null===(e=r.server_info)||void 0===e?void 0:e.environment})),t().createElement("div",{className:"cfd-trade-modal__login-specs-item"},t().createElement(a.Text,{className:"cfd-trade-modal--paragraph"},(0,o.localize)("Login ID")),t().createElement(m,{value:null==r?void 0:r.display_login})),t().createElement("div",{className:"cfd-trade-modal__login-specs-item"},t().createElement(a.Text,{className:"cfd-trade-modal--paragraph"},(0,o.localize)("Password")),t().createElement("div",{className:"cfd-trade-modal--paragraph"},t().createElement(s,{platform:"mt5",onClick:function(){var e=(0,c.getCFDAccountKey)({market_type:r.market_type,sub_account_type:r.sub_account_type,platform:c.CFD_PLATFORMS.DMT5,shortcode:r.landing_company_short});_(null==r?void 0:r.login,function(e,t){return t&&(0,o.localize)("MT5 CFDs"),e}(r.market_type,d),r.account_type,e,null==r?void 0:r.server),f()}})))),t().createElement("div",{className:"cfd-trade-modal__download-center-app"},t().createElement("div",{className:"cfd-trade-modal__download-center-app--option"},t().createElement(a.Icon,{icon:"IcMt5Logo",size:32}),t().createElement(a.Text,{className:"cfd-trade-modal__download-center-app--option-item",size:"xs"},(0,o.localize)("MetaTrader 5 web")),t().createElement("a",{className:"dc-btn cfd-trade-modal__download-center-app--option-link",type:"button",href:(0,i.FJ)({category:r.account_type,loginid:r.display_login,server_name:null==r||null===(n=r.server_info)||void 0===n?void 0:n.environment}),target:"_blank",rel:"noopener noreferrer"},t().createElement(a.Text,{size:"xxs",weight:"bold"},(0,o.localize)("Open")))),t().createElement("div",{className:"cfd-trade-modal__download-center-app--option"},t().createElement(a.Icon,{icon:"IcWindowsLogo",size:32}),t().createElement(a.Text,{className:"cfd-trade-modal__download-center-app--option-item",size:"xs"},(0,o.localize)("MetaTrader 5 Windows app")),t().createElement("a",{className:"dc-btn cfd-trade-modal__download-center-app--option-link",type:"button",href:(0,i.gG)("windows"),target:"_blank",rel:"noopener noreferrer"},t().createElement(a.Text,{size:"xxs",weight:"bold"},(0,o.localize)("Download")))),t().createElement("div",{className:"cfd-trade-modal__download-center-app--option"},t().createElement(a.Icon,{icon:"IcMacosLogo",size:32}),t().createElement(a.Text,{className:"cfd-trade-modal__download-center-app--option-item",size:"xs"},(0,o.localize)("MetaTrader 5 MacOS app")),t().createElement("a",{className:"dc-btn cfd-trade-modal__download-center-app--option-link",type:"button",href:(0,i.gG)("macos"),target:"_blank",rel:"noopener noreferrer"},t().createElement(a.Text,{size:"xxs",weight:"bold"},(0,o.localize)("Download")))),t().createElement("div",{className:"cfd-trade-modal__download-center-app--option"},t().createElement(a.Icon,{icon:"IcLinuxLogo",size:32}),t().createElement(a.Text,{className:"cfd-trade-modal__download-center-app--option-item",size:"xs"},(0,o.localize)("MetaTrader 5 Linux app")),t().createElement("a",{className:"dc-btn cfd-trade-modal__download-center-app--option-link",type:"button",href:(0,i.gG)("linux"),target:"_blank",rel:"noopener noreferrer"},t().createElement(a.Text,{size:"xxs",weight:"bold"},(0,o.localize)("Learn more"))))),t().createElement("div",{className:"cfd-trade-modal__download-center-options"},t().createElement("div",{className:"cfd-trade-modal__download-center-options--mobile-links"},t().createElement("a",{href:(0,i.gG)("android"),target:"_blank",rel:"noopener noreferrer"},t().createElement(a.Icon,{icon:"IcInstallationGoogle",width:135,height:40})),t().createElement("a",{href:(0,i.gG)("huawei"),target:"_blank",rel:"noopener noreferrer"},t().createElement(a.Icon,{icon:"IcInstallationHuawei",width:135,height:40}))),t().createElement("div",{className:"cfd-trade-modal__download-center-options--qrcode"},t().createElement("img",{src:(0,c.getUrlBase)("/public/images/common/mt5_download.png"),width:80,height:80}),t().createElement(a.Text,{align:"center",size:"xxs"},(0,o.localize)("Scan the QR code to download Deriv MT5.")))))};return t().createElement(t().Suspense,{fallback:t().createElement(a.UILoader,null)},t().createElement(a.DesktopWrapper,null,t().createElement(a.Modal,{disableApp:n,enableApp:l,is_open:u,title:(0,o.localize)("Trade"),toggleModal:f,should_header_stick_body:!1,width:"600px",height:"709px",exit_classname:"cfd-modal--custom-exit"},g())),t().createElement(a.MobileWrapper,null,t().createElement(a.PageOverlay,{is_open:u,portal_id:"deriv_app",header:"Trade",onClickClose:f,header_classname:"cfd-trade-modal__mobile-title"},t().createElement(a.Div100vhContainer,{className:"cfd-trade-modal__mobile-view-wrapper",height_offset:"80px"},g()))))}))})(),d=d.default})()}));