/*! For license information please see JurisdictionModal.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("@deriv/components"),require("@deriv/shared"),require("@deriv/translations"),require("mobx-react"),require("react")):"function"==typeof define&&define.amd?define(["@deriv/components","@deriv/shared","@deriv/translations","mobx-react","react"],t):"object"==typeof exports?exports["@deriv/cfd"]=t(require("@deriv/components"),require("@deriv/shared"),require("@deriv/translations"),require("mobx-react"),require("react")):e["@deriv/cfd"]=t(e["@deriv/components"],e["@deriv/shared"],e["@deriv/translations"],e["mobx-react"],e.react)}(self,((e,t,n,a,c)=>(()=>{var i={"../../node_modules/classnames/index.js":(e,t)=>{var n;!function(){"use strict";var a={}.hasOwnProperty;function c(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var i=typeof n;if("string"===i||"number"===i)e.push(n);else if(Array.isArray(n)){if(n.length){var o=c.apply(null,n);o&&e.push(o)}}else if("object"===i){if(n.toString!==Object.prototype.toString&&!n.toString.toString().includes("[native code]")){e.push(n.toString());continue}for(var r in n)a.call(n,r)&&n[r]&&e.push(r)}}}return e.join(" ")}e.exports?(c.default=c,e.exports=c):void 0===(n=function(){return c}.apply(t,[]))||(e.exports=n)}()},"./src/Stores/connect.js":(e,t,n)=>{"use strict";n.d(t,{$j:()=>d});var a=n("mobx-react"),c=n("react"),i=n.n(c);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!==o(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u=i().createContext(null),d=function(e){return function(t){return function(e,t){var n=function(n){var c=i().useContext(u),o=t;(function(e){return!("function"!=typeof e||!e.prototype||!e.prototype.isReactComponent)})(t)&&(o=function(e){return i().createElement(t,e)});var r=n.context||c;return(0,a.useObserver)((function(){return o(s(s({},n),e(r,n)))}))};return n.displayName=t.name,n}(e,t)}}},"@deriv/components":t=>{"use strict";t.exports=e},"@deriv/shared":e=>{"use strict";e.exports=t},"@deriv/translations":e=>{"use strict";e.exports=n},"mobx-react":e=>{"use strict";e.exports=a},react:e=>{"use strict";e.exports=c}},o={};function r(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={exports:{}};return i[e](n,n.exports,r),n.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var s={};return(()=>{"use strict";r.d(s,{default:()=>z});var e=r("react"),t=r.n(e),n=r("@deriv/components"),a=r("@deriv/translations"),c=r("./src/Stores/connect.js"),i=r("@deriv/shared");const o=function(e){var c=e.class_name,o=e.is_checked,r=e.jurisdiction_selected_shortcode,s=e.onCheck,l=e.context,u=e.should_restrict_bvi_account_creation,d={bvi:{name:"Deriv (BVI) Ltd",tnc_url:"tnc/deriv-(bvi)-ltd.pdf"},labuan:{name:"Deriv (FX) Ltd",tnc_url:"tnc/deriv-(fx)-ltd.pdf"},maltainvest:{name:"Deriv Investments (Europe) Limited",tnc_url:"tnc/deriv-investments-(europe)-limited.pdf"},vanuatu:{name:"Deriv (V) Ltd",tnc_url:"tnc/general-terms.pdf"}};return t().createElement(t().Fragment,null,!!r&&!("svg"===r||"bvi"===r&&u)&&t().createElement("div",{className:c},t().createElement(n.Checkbox,{context:l,value:o,onChange:s,label:t().createElement(n.Text,{as:"p",align:"center",size:(0,i.isMobile)()?"xxs":"xs",line_height:"xs"},t().createElement(a.Localize,{i18n_default_text:"I confirm and accept {{company}} 's <0>Terms and Conditions</0>",values:{company:d[r].name},components:[t().createElement(n.StaticUrl,{key:0,className:"link--no-bold",href:d[r].tnc_url})]})),defaultChecked:!!o})))};var l=r("../../node_modules/classnames/index.js"),u=r.n(l),d={svg:{is_over_header_available:!1,header:(0,a.localize)("St. Vincent & Grenadines"),synthetic_contents:["".concat((0,a.localize)("Selecting this will onboard you through Deriv (SVG) LLC (company no. 273 LLC 2020)")),"".concat((0,a.localize)("30+ assets: synthetics, basket indices and derived FX")),"".concat((0,a.localize)("Leverage up to 1:1000"))],financial_contents:["".concat((0,a.localize)("Selecting this will onboard you through Deriv (SVG) LLC (company no. 273 LLC 2020)")),"".concat((0,a.localize)("Registered with the Financial Commission")),"".concat((0,a.localize)("165+ assets: forex (standard/micro), stocks, stock indices, commodities, and cryptocurrencies")),"".concat((0,a.localize)("Leverage up to 1:1000"))]},vanuatu:{is_over_header_available:!1,header:(0,a.localize)("Vanuatu"),synthetic_contents:["".concat((0,a.localize)("Regulated by the Vanuatu Financial Services Commission")),"".concat((0,a.localize)("Registered with the Financial Commission")),"".concat((0,a.localize)("90+ assets: forex, stock indices, commodities and cryptocurrencies")),"".concat((0,a.localize)("Leverage up to 1:1000"))],financial_contents:["".concat((0,a.localize)("Regulated by the Vanuatu Financial Services Commission")),"".concat((0,a.localize)("Registered with the Financial Commission")),"".concat((0,a.localize)("90+ assets: forex, stock indices, commodities and cryptocurrencies")),"".concat((0,a.localize)("Leverage up to 1:1000"))]},labuan:{over_header:(0,a.localize)("Straight-through processing"),is_over_header_available:!0,header:(0,a.localize)("Labuan"),synthetic_contents:["".concat((0,a.localize)("Regulated by the Labuan Financial Services Authority (Licence no. MB/18/0024)")),"".concat((0,a.localize)("Registered with the Financial Commission")),"".concat((0,a.localize)("80+ assets: forex and cryptocurrencies")),"".concat((0,a.localize)("Leverage up to 1:100"))],financial_contents:["".concat((0,a.localize)("Regulated by the Labuan Financial Services Authority (Licence no. MB/18/0024)")),"".concat((0,a.localize)("Registered with the Financial Commission")),"".concat((0,a.localize)("80+ assets: forex and cryptocurrencies")),"".concat((0,a.localize)("Leverage up to 1:100")),"".concat((0,a.localize)("Straight-through processing"))]},maltainvest:{is_over_header_available:!1,header:(0,a.localize)("Malta"),synthetic_contents:["".concat((0,a.localize)("Regulated by the Malta Financial Services Authority (MFSA) (licence no. IS/70156)")),"".concat((0,a.localize)("Registered with the Financial Commission")),"".concat((0,a.localize)("150+ assets: forex, stocks, stock indices, synthetics, commodities and cryptocurrencies")),"".concat((0,a.localize)("Leverage up to 1:30"))],financial_contents:["".concat((0,a.localize)("Regulated by the Malta Financial Services Authority (MFSA) (licence no. IS/70156)")),"".concat((0,a.localize)("Registered with the Financial Commission")),"".concat((0,a.localize)("150+ assets: forex, stocks, stock indices, synthetics, commodities and cryptocurrencies")),"".concat((0,a.localize)("Leverage up to 1:30"))]},bvi:{is_over_header_available:!1,header:(0,a.localize)("British Virgin Islands"),synthetic_contents:["".concat((0,a.localize)("Regulated by the British Virgin Islands Financial Services Commission (License no. SIBA/L/18/1114)")),"".concat((0,a.localize)("30+ assets: synthetics, basket indices and derived FX")),"".concat((0,a.localize)("Leverage up to 1:1000"))],financial_contents:["".concat((0,a.localize)("Regulated by the British Virgin Islands Financial Services Commission (License no. SIBA/L/18/1114)")),"".concat((0,a.localize)("Registered with the Financial Commission")),"".concat((0,a.localize)("165+ assets: forex (standard/micro), stocks, stock indices, commodities, and cryptocurrencies")),"".concat((0,a.localize)("Leverage up to 1:1000"))]}},_=function(e){var c=e.account_status,o=e.account_type,r=e.card_classname,s=e.disabled,l=(e.context,e.is_virtual),u=e.type_of_card,d=e.should_restrict_bvi_account_creation,_=e.real_synthetic_accounts_existing_data,m=e.real_financial_accounts_existing_data,f=(0,i.getAuthenticationStatusInfo)(c),v=f.poi_not_submitted_for_vanuatu_maltainvest,p=f.poi_or_poa_not_submitted,h=f.poi_resubmit_for_vanuatu_maltainvest,y=f.poi_resubmit_for_bvi_labuan,b=f.need_poa_resubmission,g=f.need_poi_for_bvi_labuan,x=f.poa_pending,S="svg"===u,E="vanuatu"===u,z="bvi"===u,L="labuan"===u,j="maltainvest"===u;return s&&("synthetic"===o?null==_?void 0:_.some((function(e){return e.landing_company_short===u})):null==m?void 0:m.some((function(e){return e.landing_company_short===u})))?t().createElement("div",{className:"".concat(r,"__verification-status--account_added")},t().createElement(n.Text,{size:"xxs",weight:"bold",color:"colored-background"},t().createElement(a.Localize,{i18n_default_text:"Account added"}))):l&&!S?t().createElement("div",{className:"".concat(r,"__verification-status--not_submitted")},t().createElement(n.Text,{as:"p",size:"xxxs",align:"center",color:"prominent"},t().createElement(a.Localize,{i18n_default_text:"Switch to your real account to create a Deriv MT5 {{account_title}} {{type_title}} account.",values:{account_title:function(){switch(o){case"synthetic":return"Derived";case"financial":return"Financial";default:return""}}(),type_title:function(){switch(u){case"bvi":return"BVI";case"vanuatu":return"Vanuatu";case"labuan":return"STP";default:return""}}()}}))):S?t().createElement("div",{className:"".concat(r,"__verification-status--hint")},t().createElement(n.Text,{size:"xxxs",align:"center","line-height":"s",color:"less-prominent"},t().createElement(a.Localize,{i18n_default_text:"You will need to submit proof of identity and address once you reach certain thresholds"}))):p?t().createElement("div",{className:"".concat(r,"__verification-status--not_submitted")},t().createElement(n.Text,{as:"p",size:"xxs",align:"center",color:"prominent"},t().createElement(a.Localize,{i18n_default_text:"Proof of identity and address are required"}))):z&&d?x?t().createElement("div",{className:"".concat(r,"__verification-status--pending")},t().createElement(n.Text,{size:"xxs",color:"prominent"},t().createElement(a.Localize,{i18n_default_text:"Pending proof of address review"}))):t().createElement("div",{className:"".concat(r,"__verification-status--failed")},t().createElement(n.Text,{size:"xxs",color:"colored-background"},t().createElement(a.Localize,{i18n_default_text:"Resubmit proof of address"}))):E&&v?t().createElement("div",{className:"".concat(r,"__verification-status--not_submitted")},t().createElement(n.Text,{as:"p",size:"xxs",align:"center",color:"prominent"},t().createElement(a.Localize,{i18n_default_text:"You will need to submit proof of identity"}))):(z||L)&&g&&b||(E||j)&&h&&b?t().createElement("div",{className:"".concat(r,"__verification-status--failed")},t().createElement(n.Text,{size:"xxs",color:"colored-background"},t().createElement(a.Localize,{i18n_default_text:"Resubmit your proof of identity and address"}))):(z||L)&&y||(E||j)&&h?t().createElement("div",{className:"".concat(r,"__verification-status--failed")},t().createElement(n.Text,{size:"xxs",color:"colored-background"},t().createElement(a.Localize,{i18n_default_text:"Resubmit proof of identity"}))):!S&&b?t().createElement("div",{className:"".concat(r,"__verification-status--failed")},t().createElement(n.Text,{size:"xxs",color:"colored-background"},t().createElement(a.Localize,{i18n_default_text:"Resubmit proof of address"}))):null};const m=(0,c.$j)((function(e){var t=e.modules.cfd,n=e.client;return{account_status:n.account_status,is_virtual:n.is_virtual,should_restrict_bvi_account_creation:n.should_restrict_bvi_account_creation,real_financial_accounts_existing_data:t.real_financial_accounts_existing_data,real_synthetic_accounts_existing_data:t.real_synthetic_accounts_existing_data}}))((function(e){return t().createElement("div",{className:"".concat(e.card_classname,"__verification-status")},t().createElement(_,e))}));function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function v(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t);if("object"!==f(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e,"string");return"symbol"===f(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,c,i,o,r=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(a=i.call(n)).done)&&(r.push(a.value),r.length!==t);s=!0);}catch(e){l=!0,c=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw c}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}const y=function(e){var c=e.account_type,i=e.disabled,o=e.context,r=e.jurisdiction_selected_shortcode,s=e.financial_available_accounts,l=e.setJurisdictionSelectedShortcode,_=e.synthetic_available_accounts,f=e.type_of_card,h="cfd-jurisdiction-card--".concat(c),y=null==_?void 0:_.length,b=null==s?void 0:s.length,g="synthetic"===c,x=p(t().useState(g?y:b),1)[0],S=[1,2].includes(x),E=d[f],z=g?E.synthetic_contents:E.financial_contents,L=function(){return t().createElement(n.Icon,{icon:"IcCheckmark",className:"".concat(h,"__bullet-wrapper--checkmark"),color:"green",size:18})};return t().createElement(t().Fragment,null,t().createElement("div",{className:u()(h,v({},"".concat(h,"--selected"),r===f)),onClick:i?function(){}:function(){var e;l(r===(e=f)?"":e)},style:S?{width:"32em"}:{width:"27.6em"}},E.is_over_header_available&&t().createElement("div",{className:u()("".concat(h,"__over-header"))},t().createElement(n.Text,{as:"p",color:"info-blue",line_height:"xxl",weight:"bold"},t().createElement(a.Localize,{i18n_default_text:E.over_header}))),t().createElement("div",{className:"".concat(h,"__info-container")},t().createElement(n.Text,{as:"p",color:"prominent",weight:"bold",size:"sm",className:"".concat(h,"__h2-header")},t().createElement(a.Localize,{i18n_default_text:E.header})),z.map((function(e,c){return t().createElement("div",{className:"".concat(h,"__bullet-wrapper"),key:c},t().createElement("div",null,t().createElement(L,null)),t().createElement(n.Text,{as:"p",size:"xs",color:"prominent"},t().createElement(a.Localize,{i18n_default_text:e})),/Straight-through processing/.test(e)&&t().createElement(n.Popover,{alignment:"left",className:"cfd-compare-accounts-tooltip",classNameBubble:"cfd-compare-accounts-tooltip--msg",icon:"info",disable_message_icon:!0,is_bubble_hover_enabled:!0,message:(0,a.localize)("Choosing this jurisdiction will give you a Financial STP account. Your trades will go directly to the market and have tighter spreads."),zIndex:9999}))}))),t().createElement(m,{type_of_card:f,card_classname:h,disabled:i,context:o,account_type:c})))};var b=function(e){var n=e.account_status,c=e.account_type,o=(e.context,e.card_classname),r=e.jurisdiction_selected_shortcode,s=e.should_restrict_bvi_account_creation,l="synthetic"===c?"Derived":"Financial",u=(0,i.getAuthenticationStatusInfo)(n).poa_pending;return"svg"===r?t().createElement(a.Localize,{i18n_default_text:"Add your Deriv MT5 <0>{{account_type_name}}</0> account under Deriv (SVG) LLC (company no. 273 LLC 2020).",values:{account_type_name:l}}):"bvi"===r?s?u?t().createElement(a.Localize,{i18n_default_text:"<0>You can open this account once your submitted documents have been verified.</0>",components:[t().createElement("span",{key:0,className:"".concat(o,"__footnote--pending")})]}):t().createElement(a.Localize,{i18n_default_text:"To create this account first we need you to resubmit your proof of address."}):t().createElement(a.Localize,{i18n_default_text:"Add your Deriv MT5 <0>{{account_type_name}}</0>  account under Deriv (BVI) Ltd, regulated by the British Virgin Islands Financial Services Commission (License no. SIBA/L/18/1114).",values:{account_type_name:l}}):"vanuatu"===r?t().createElement(a.Localize,{i18n_default_text:"Add Your Deriv MT5 <0>{{account_type_name}}</0>  account under Deriv (V) Ltd, regulated by the Vanuatu Financial Services Commission.",values:{account_type_name:l}}):"labuan"===r?t().createElement(a.Localize,{i18n_default_text:"Add your Deriv MT5 <0>{{account_type_name}}</0>  STP account under Deriv (FX) Ltd regulated by Labuan Financial Services Authority (Licence no. MB/18/0024).",values:{account_type_name:l}}):"maltainvest"===r?t().createElement(a.Localize,{i18n_default_text:"Add your Deriv MT5 CFDs account under Deriv Investments (Europe) Limited, regulated by the Malta Financial Services Authority (MFSA) (licence no. IS/70156)."}):null};const g=function(e){return t().createElement("div",{className:"".concat(e.card_classname,"__footnote")},t().createElement(n.Text,{as:"p",color:"prominent",align:"center",size:(0,i.isMobile)()?"xxs":"xs",weight:"bold",line_height:"xs"},t().createElement(b,e)))},x=function(e){var n=e.account_status,a=e.account_type,c=e.is_virtual,i=e.jurisdiction_selected_shortcode,r=e.setJurisdictionSelectedShortcode,s=e.synthetic_available_accounts,l=e.financial_available_accounts,u=e.checked,d=e.context,_=e.setChecked,m=e.real_synthetic_accounts_existing_data,f=e.real_financial_accounts_existing_data,v=e.should_restrict_bvi_account_creation,p="cfd-jurisdiction-card--".concat(a),h=function(e){return!(!c||"svg"===e)||("synthetic"===a?null==m?void 0:m.some((function(t){return t.landing_company_short===e})):null==f?void 0:f.some((function(t){return t.landing_company_short===e})))};return t().createElement(t().Fragment,null,t().createElement("div",{className:"".concat(p,"__wrapper")},["svg","bvi","vanuatu","labuan","maltainvest"].map((function(e){return n=e,("synthetic"===a?null==s?void 0:s.some((function(e){return e.shortcode===n})):null==l?void 0:l.some((function(e){return e.shortcode===n})))&&t().createElement(y,{key:"".concat(a,"_").concat(e),type_of_card:e,context:d,disabled:h(e),jurisdiction_selected_shortcode:i,synthetic_available_accounts:s,financial_available_accounts:l,account_type:a,setJurisdictionSelectedShortcode:r});var n}))),t().createElement(g,{account_status:n,account_type:a,card_classname:p,context:d,jurisdiction_selected_shortcode:i,should_restrict_bvi_account_creation:v}),t().createElement(o,{is_checked:u,context:d,onCheck:function(){return _(!u)},class_name:"".concat(p,"__jurisdiction-checkbox"),jurisdiction_selected_shortcode:i,should_restrict_bvi_account_creation:v}))};function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,c,i,o,r=[],s=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(a=i.call(n)).done)&&(r.push(a.value),r.length!==t);s=!0);}catch(e){l=!0,c=e}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw c}}return r}}(e,t)||function(e,t){if(e){if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?E(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}const z=(0,c.$j)((function(e){var t=e.modules.cfd,n=e.ui,a=e.client,c=e.traders_hub;return{account_type:t.account_type,account_settings:a.account_settings,account_status:a.account_status,content_flag:c.content_flag,disableApp:n.disableApp,enableApp:n.enableApp,is_jurisdiction_modal_visible:t.is_jurisdiction_modal_visible,is_virtual:a.is_virtual,jurisdiction_selected_shortcode:t.jurisdiction_selected_shortcode,real_financial_accounts_existing_data:t.real_financial_accounts_existing_data,real_synthetic_accounts_existing_data:t.real_synthetic_accounts_existing_data,setAccountSettings:a.setAccountSettings,setJurisdictionSelectedShortcode:t.setJurisdictionSelectedShortcode,should_restrict_bvi_account_creation:a.should_restrict_bvi_account_creation,show_eu_related_content:c.show_eu_related_content,trading_platform_available_accounts:a.trading_platform_available_accounts,toggleCFDVerificationModal:t.toggleCFDVerificationModal,toggleJurisdictionModal:t.toggleJurisdictionModal,updateMT5Status:a.updateMT5Status,fetchAccountSettings:a.fetchAccountSettings,has_submitted_cfd_personal_details:t.has_submitted_cfd_personal_details}}))((function(e){var c=e.account_status,o=e.account_type,r=e.disableApp,s=e.enableApp,l=e.is_jurisdiction_modal_visible,u=e.context,d=e.is_virtual,_=e.jurisdiction_selected_shortcode,m=e.openPasswordModal,f=e.real_synthetic_accounts_existing_data,v=e.real_financial_accounts_existing_data,p=e.trading_platform_available_accounts,h=e.toggleJurisdictionModal,y=e.setJurisdictionSelectedShortcode,b=e.should_restrict_bvi_account_creation,g=e.show_eu_related_content,E=e.toggleCFDVerificationModal,z=e.updateMT5Status,L=e.fetchAccountSettings,j=e.has_submitted_cfd_personal_details,w=S(t().useState(!1),2),k=w[0],A=w[1],C=(0,i.getAuthenticationStatusInfo)(c),F=C.poi_or_poa_not_submitted,M=C.poi_acknowledged_for_bvi_labuan,T=C.poi_acknowledged_for_vanuatu_maltainvest,D=C.poa_acknowledged;t().useEffect((function(){l&&!d&&(z(),y(""),L())}),[l]),t().useEffect((function(){_&&A(!1)}),[_,l]);var O=p.filter((function(e){return"financial"===e.market_type&&(g?"maltainvest"===e.shortcode:"maltainvest"!==e.shortcode)})),I=p.filter((function(e){return"gaming"===e.market_type&&(g?"maltainvest"===e.shortcode:"maltainvest"!==e.shortcode)})),N=g?(0,a.localize)("Jurisdiction for your Deriv MT5 CFDs account"):(0,a.localize)("Choose a jurisdiction for your Deriv MT5 {{account_type}} account",{account_type:"synthetic"===o.type?"Derived":"Financial"}),P="svg"===_,R="bvi"===_,V="vanuatu"===_,B="labuan"===_,q="maltainvest"===_,J=function(){return t().createElement(t().Fragment,null,t().createElement(x,{account_status:c,account_type:o.type,checked:k,financial_available_accounts:O,is_virtual:d,real_financial_accounts_existing_data:v,real_synthetic_accounts_existing_data:f,jurisdiction_selected_shortcode:_,setChecked:A,context:u,setJurisdictionSelectedShortcode:y,synthetic_available_accounts:I,should_restrict_bvi_account_creation:b}),t().createElement(n.Modal.Footer,{has_separator:!0},t().createElement(n.Button,{disabled:!_||!!("synthetic"===o.type?null==f?void 0:f.some((function(e){return e.landing_company_short===_})):null==v?void 0:v.some((function(e){return e.landing_company_short===_})))||!P&&!k,primary:!0,style:{width:(0,i.isMobile)()?"100%":"unset"},onClick:function(){var e;h(),e={category:o.category,type:o.type},P?m(e):V?T&&!F&&D&&j?m(e):E():R?M&&!F&&!b&&D&&j?m(e):E():B?M&&D&&j?m(e):E():q&&(T&&D?m(e):E())}},(0,a.localize)("Next"))))};return t().createElement("div",null,t().createElement(t().Suspense,{fallback:t().createElement(n.UILoader,null)},t().createElement(n.DesktopWrapper,null,t().createElement(n.Modal,{className:"jurisdiction-modal",disableApp:r,enableApp:s,exit_classname:"cfd-modal--custom-exit",is_open:l,title:N,toggleModal:h,type:"button",context:u,width:"synthetic"===o.type?"1040px":"1200px"},t().createElement(J,null))),t().createElement(n.MobileWrapper,null,t().createElement(n.MobileDialog,{portal_element_id:"deriv_app",title:N,context:u,visible:l,onClose:h},t().createElement(J,null)))))}))})(),s.default})()));